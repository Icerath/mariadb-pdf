<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>MariaDB-Document</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" href="https://mariadb.com/kb/static/css/main.9a0d7dcebefd.css" type="text/css">
    </head>
    <body class = "mpkb">
<section class="limited_width col-md-8 clearfix" id="content">
<h1 id="polygon-properties-area">AREA</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_area">ST_AREA</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="centroid">CENTROID</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_centroid">ST_CENTROID</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="polygon-properties-exteriorring">ExteriorRing</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_exteriorring">ST_ExteriorRing</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="polygon-properties-interiorringn">InteriorRingN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_interiorringn">ST_InteriorRingN</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="polygon-properties-numinteriorrings">NumInteriorRings</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_numinteriorrings">ST_NumInteriorRings</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_area">ST_AREA</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_Area(poly)
Area(poly)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns as a double-precision number the area of the Polygon value <code>poly</code>, as measured in its spatial reference system.</p>
<p><code>ST_Area()</code> and <code>Area()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">poly</span> <span class="o">=</span> <span class="s1">'Polygon((0 0,0 3,3 0,0 0),(1 1,1 2,2 1,1 1))'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">Area</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">poly</span><span class="p">));</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="n">Area</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">poly</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span>                         <span class="mi">4</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_centroid">ST_CENTROID</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_Centroid(mpoly)
Centroid(mpoly)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a point reflecting the mathematical centroid (geometric center) for the <a href="#multipolygon">MultiPolygon</a> <em>mpoly</em>. The resulting point will not necessarily be on the MultiPolygon. </p>
<p><code>ST_Centroid()</code> and <code>Centroid()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">poly</span> <span class="o">=</span> <span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">'POLYGON((0 0,20 0,20 20,0 20,0 0))'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_Centroid</span><span class="p">(</span><span class="o">@</span><span class="n">poly</span><span class="p">))</span> <span class="k">AS</span> <span class="n">center</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">center</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">10</span> <span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_exteriorring">ST_ExteriorRing</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_ExteriorRing(poly)
ExteriorRing(poly)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the exterior ring of the Polygon value <code>poly</code> as a LineString.</p>
<p><code>ST_ExteriorRing()</code> and <code>ExteriorRing()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">poly</span> <span class="o">=</span> <span class="s1">'Polygon((0 0,0 3,3 3,3 0,0 0),(1 1,1 2,2 2,2 1,1 1))'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">AsText</span><span class="p">(</span><span class="n">ExteriorRing</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">poly</span><span class="p">)));</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="n">AsText</span><span class="p">(</span><span class="n">ExteriorRing</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">poly</span><span class="p">)))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mi">0</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="mi">3</span><span class="p">,</span><span class="mi">3</span> <span class="mi">3</span><span class="p">,</span><span class="mi">3</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_interiorringn">ST_InteriorRingN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_InteriorRingN(poly,N)
InteriorRingN(poly,N)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the N-th interior ring for the Polygon value <code>poly</code> as a LineString. Rings are numbered beginning with 1.</p>
<p><code>ST_InteriorRingN()</code> and <code>InteriorRingN()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">poly</span> <span class="o">=</span> <span class="s1">'Polygon((0 0,0 3,3 3,3 0,0 0),(1 1,1 2,2 2,2 1,1 1))'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">AsText</span><span class="p">(</span><span class="n">InteriorRingN</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">poly</span><span class="p">),</span><span class="mi">1</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span> <span class="n">AsText</span><span class="p">(</span><span class="n">InteriorRingN</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">poly</span><span class="p">),</span><span class="mi">1</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mi">1</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span> <span class="mi">2</span><span class="p">,</span><span class="mi">2</span> <span class="mi">2</span><span class="p">,</span><span class="mi">2</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>              <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_numinteriorrings">ST_NumInteriorRings</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_NumInteriorRings(poly)
NumInteriorRings(poly)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns an integer containing the number of interior rings in the Polygon value <code>poly</code>.</p>
<p>Note that according the the OpenGIS standard, a <a href="#polygon">POLYGON</a> should have exactly one ExteriorRing and all other rings should lie within that ExteriorRing and thus be the InteriorRings. Practically, however, some systems, including MariaDB's, permit polygons to have several 'ExteriorRings'. In the case of there being multiple, non-overlapping exterior rings ST_NumInteriorRings() will return <code>1</code>.</p>
<p><code>ST_NumInteriorRings()</code> and <code>NumInteriorRings()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">poly</span> <span class="o">=</span> <span class="s1">'Polygon((0 0,0 3,3 3,3 0,0 0),(1 1,1 2,2 2,2 1,1 1))'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">NumInteriorRings</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">poly</span><span class="p">));</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
<span class="o">|</span> <span class="n">NumInteriorRings</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">poly</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
<span class="o">|</span>                                     <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
</pre><p>Non-overlapping 'polygon':</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">ST_NumInteriorRings</span><span class="p">(</span><span class="n">ST_PolyFromText</span><span class="p">(</span><span class="s1">'POLYGON((0 0,10 0,10 10,0 10,0 0),</span>
<span class="s1">  (-1 -1,-5 -1,-5 -5,-1 -5,-1 -1))'</span><span class="p">))</span> <span class="k">AS</span> <span class="n">NumInteriorRings</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">NumInteriorRings</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="wkt-definition">WKT Definition</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="description">Description</h2>
<p>The Well-Known Text (WKT) representation of Geometry is designed to exchange geometry data in ASCII form. Examples of the basic geometry types include:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Geometry Types</th></tr>
<tr><td><a href="#point">POINT</a></td></tr>
<tr><td><a href="#linestring">LINESTRING</a></td></tr>
<tr><td><a href="#polygon">POLYGON</a></td></tr>
<tr><td><a href="#multipoint">MULTIPOINT</a></td></tr>
<tr><td><a href="#multilinestring">MULTILINESTRING</a></td></tr>
<tr><td><a href="#multipolygon">MULTIPOLYGON</a></td></tr>
<tr><td><a href="#geometrycollection">GEOMETRYCOLLECTION</a></td></tr>
<tr><td><a href="https://mariadb.com/kb/en/geometry/">GEOMETRY</a></td></tr>
</table>
</div><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#geometry-types">Geometry Types</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="wkt-astext">AsText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_astext">ST_AsText()</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="wkt-aswkt">AsWKT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_astext">ST_AsText()</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="wkt-geomcollfromtext">GeomCollFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_geomcollfromtext">ST_GeomCollFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="geometrycollectionfromtext">GeometryCollectionFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_geomcollfromtext">ST_GeomCollFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="geometryfromtext">GeometryFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_geomfromtext">ST_GeomFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="wkt-geomfromtext">GeomFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_geomfromtext">ST_GeomFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="wkt-linefromtext">LineFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_linefromtext">ST_LineFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="linestringfromtext">LineStringFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_linefromtext">ST_LineFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mlinefromtext">MLineFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MLineFromText(wkt[,srid])
MultiLineStringFromText(wkt[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="#multilinestring">MULTILINESTRING</a> value using its <a href="#wkt-definition">WKT</a> representation and <a href="https://mariadb.com/kb/en/srid/">SRID</a>.</p>
<p><code>MLineFromText()</code> and <code>MultiLineStringFromText()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_multi_line</span> <span class="p">(</span><span class="k">g</span> <span class="n">MULTILINESTRING</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="n">FIELDS</span> <span class="k">FROM</span> <span class="n">gis_multi_line</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_multi_line</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">MultiLineStringFromText</span><span class="p">(</span><span class="s1">'MULTILINESTRING((10 48,10 21,10 0),(16 0,16 23,16 48))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MLineFromText</span><span class="p">(</span><span class="s1">'MULTILINESTRING((10 48,10 21,10 0))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MLineFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">MultiLineString</span><span class="p">(</span><span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)),</span> <span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="mi">7</span><span class="p">))))));</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mpointfromtext">MPointFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MPointFromText(wkt[,srid])
MultiPointFromText(wkt[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="#multipoint">MULTIPOINT</a> value using its <a href="#wkt-definition">WKT</a> representation and <a href="https://mariadb.com/kb/en/srid/">SRID</a>.</p>
<p><code>MPointFromText()</code> and <code>MultiPointFromText()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_multi_point</span> <span class="p">(</span><span class="k">g</span> <span class="n">MULTIPOINT</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="n">FIELDS</span> <span class="k">FROM</span> <span class="n">gis_multi_point</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_multi_point</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">MultiPointFromText</span><span class="p">(</span><span class="s1">'MULTIPOINT(0 0,10 10,10 20,20 20)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MPointFromText</span><span class="p">(</span><span class="s1">'MULTIPOINT(1 1,11 11,11 21,21 21)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MPointFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">MultiPoint</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">)))));</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mpolyfromtext">MPolyFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MPolyFromText(wkt[,srid])
MultiPolygonFromText(wkt[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="#multipolygon">MULTIPOLYGON</a> value using its <a href="#wkt-definition">WKT</a> representation and <a href="https://mariadb.com/kb/en/srid/">SRID</a>.</p>
<p><code>MPolyFromText()</code> and <code>MultiPolygonFromText()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_multi_polygon</span>  <span class="p">(</span><span class="k">g</span> <span class="n">MULTIPOLYGON</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="n">FIELDS</span> <span class="k">FROM</span> <span class="n">gis_multi_polygon</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_multi_polygon</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">MultiPolygonFromText</span><span class="p">(</span><span class="s1">'MULTIPOLYGON(((28 26,28 0,84 0,84 42,28 26),(52 18,66 23,73 9,48 6,52 18)),((59 18,67 18,67 13,59 13,59 18)))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MPolyFromText</span><span class="p">(</span><span class="s1">'MULTIPOLYGON(((28 26,28 0,84 0,84 42,28 26),(52 18,66 23,73 9,48 6,52 18)),((59 18,67 18,67 13,59 13,59 18)))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MPolyFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">MultiPolygon</span><span class="p">(</span><span class="n">Polygon</span><span class="p">(</span><span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))))));</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="multilinestringfromtext">MultiLineStringFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#mlinefromtext">MLineFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="multipointfromtext">MultiPointFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#mpointfromtext">MPointFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="multipolygonfromtext">MultiPolygonFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#mpolyfromtext">MPolyFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="wkt-pointfromtext">PointFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_pointfromtext">ST_PointFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="wkt-polyfromtext">PolyFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_polyfromtext">ST_PolyFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="polygonfromtext">PolygonFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_polyfromtext">ST_PolyFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_astext">ST_AsText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_AsText(g)
AsText(g)
ST_AsWKT(g)
AsWKT(g)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Converts a value in internal geometry format to its <a href="#wkt-definition">WKT</a> representation and returns the string result.</p>
<p><code>ST_AsText()</code>, <code>AsText()</code>, <code>ST_AsWKT()</code> and <code>AsWKT()</code> are all synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="s1">'LineString(1 1,4 4,6 6)'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">));</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mi">1</span> <span class="mi">1</span><span class="p">,</span><span class="mi">4</span> <span class="mi">4</span><span class="p">,</span><span class="mi">6</span> <span class="mi">6</span><span class="p">)</span>        <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_aswkt">ST_ASWKT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_astext">ST_ASTEXT()</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_geomcollfromtext">ST_GeomCollFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_GeomCollFromText(wkt[,srid])
ST_GeometryCollectionFromText(wkt[,srid])
GeomCollFromText(wkt[,srid])
GeometryCollectionFromText(wkt[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="#geometrycollection">GEOMETRYCOLLECTION</a> value using its <a href="#wkt-definition">WKT</a> 
representation and <a href="https://mariadb.com/kb/en/srid/">SRID</a>.</p>
<p><code>ST_GeomCollFromText()</code>, <code>ST_GeometryCollectionFromText()</code>, <code>GeomCollFromText()</code> and <code>GeometryCollectionFromText()</code> are all synonyms.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_geometrycollection</span>  <span class="p">(</span><span class="k">g</span> <span class="n">GEOMETRYCOLLECTION</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="n">FIELDS</span> <span class="k">FROM</span> <span class="n">gis_geometrycollection</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_geometrycollection</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">GeomCollFromText</span><span class="p">(</span><span class="s1">'GEOMETRYCOLLECTION(POINT(0 0), LINESTRING(0 0,10 10))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">GeometryFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">GeometryCollection</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">44</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">)))))),</span>
    <span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'GeometryCollection()'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'GeometryCollection EMPTY'</span><span class="p">));</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_geometrycollectionfromtext">ST_GeometryCollectionFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_geomcollfromtext">ST_GeomCollFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_geometryfromtext">ST_GeometryFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_geomfromtext">ST_GeomFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_geomfromtext">ST_GeomFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_GeomFromText(wkt[,srid])
ST_GeometryFromText(wkt[,srid])
GeomFromText(wkt[,srid])
GeometryFromText(wkt[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a geometry value of any type using its <a href="#wkt-definition">WKT</a> representation and <a href="https://mariadb.com/kb/en/srid/">SRID</a>.</p>
<p><code>GeomFromText()</code>, <code>GeometryFromText()</code>, <code>ST_GeomFromText()</code> and <code>ST_GeometryFromText()</code> are all synonyms.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POLYGON((1 1,1 5,4 9,6 9,9 3,7 2,1 1))'</span><span class="p">);</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_linefromtext">ST_LineFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_LineFromText(wkt[,srid])
ST_LineStringFromText(wkt[,srid])
LineFromText(wkt[,srid])
LineStringFromText(wkt[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="#linestring">LINESTRING</a> value using its <a href="#wkt-definition">WKT</a> representation and <a href="https://mariadb.com/kb/en/srid/">SRID</a>.</p>
<p><code>ST_LineFromText()</code>, <code>ST_LineStringFromText()</code>, <code>ST_LineFromText()</code> and <code>ST_LineStringFromText()</code> are all synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_line</span>  <span class="p">(</span><span class="k">g</span> <span class="n">LINESTRING</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="n">FIELDS</span> <span class="k">FROM</span> <span class="n">gis_line</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_line</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">LineFromText</span><span class="p">(</span><span class="s1">'LINESTRING(0 0,0 10,10 0)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">LineStringFromText</span><span class="p">(</span><span class="s1">'LINESTRING(10 10,20 10,20 20,10 20,10 10)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">LineStringFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">10</span><span class="p">)))));</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_linestringfromtext">ST_LineStringFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_linefromtext">ST_LineFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_pointfromtext">ST_PointFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_PointFromText(wkt[,srid])
PointFromText(wkt[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="#point">POINT</a> value using its <a href="#wkt-definition">WKT</a> representation and <a href="https://mariadb.com/kb/en/srid/">SRID</a>.</p>
<p><code>ST_PointFromText()</code> and <code>PointFromText()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_point</span>  <span class="p">(</span><span class="k">g</span> <span class="n">POINT</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="n">FIELDS</span> <span class="k">FROM</span> <span class="n">gis_point</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_point</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">PointFromText</span><span class="p">(</span><span class="s1">'POINT(10 10)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">PointFromText</span><span class="p">(</span><span class="s1">'POINT(20 10)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">PointFromText</span><span class="p">(</span><span class="s1">'POINT(20 20)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">PointFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">PointFromText</span><span class="p">(</span><span class="s1">'POINT(10 20)'</span><span class="p">))));</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_polyfromtext">ST_PolyFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_PolyFromText(wkt[,srid])
ST_PolygonFromText(wkt[,srid])
PolyFromText(wkt[,srid])
PolygonFromText(wkt[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="#polygon">POLYGON</a> value using its <a href="#wkt-definition">WKT</a> representation and <a href="https://mariadb.com/kb/en/srid/">SRID</a>.</p>
<p><code>ST_PolyFromText()</code>, <code>ST_PolygonFromText()</code>, <code>PolyFromText()</code> and <code>ST_PolygonFromText()</code> are all synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_polygon</span>   <span class="p">(</span><span class="k">g</span> <span class="n">POLYGON</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_polygon</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">PolygonFromText</span><span class="p">(</span><span class="s1">'POLYGON((10 10,20 10,20 20,10 20,10 10))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">PolyFromText</span><span class="p">(</span><span class="s1">'POLYGON((0 0,50 0,50 50,0 50,0 0), (10 10,20 10,20 20,10 20,10 10))'</span><span class="p">));</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_polygonfromtext">ST_PolygonFromText</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_polyfromtext">ST_PolyFromText</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="addition-operator">Addition Operator (+)</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="addition-operatorsyntax">Syntax</h2>
<pre class="fixed">+
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#addition-operatorsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#addition-operatordescription" title="Description">Description</a></li>
<li class=""><a href="#addition-operatorexamples" title="Examples">Examples</a></li>
<li class=""><a href="#addition-operatorsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="addition-operatordescription">Description</h2>
<p>Addition.</p>
<p>If both operands are integers, the result is calculated with <a href="#bigint">BIGINT</a> precision. If either integer is unsigned, the result is also an unsigned integer.</p>
<p>For real or string operands, the operand with the highest precision determines the result precision.</p>
<h2 class="anchored_heading" id="addition-operatorexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">3</span><span class="o">+</span><span class="mi">5</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----+</span>
<span class="o">|</span> <span class="mi">3</span><span class="o">+</span><span class="mi">5</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----+</span>
<span class="o">|</span>   <span class="mi">8</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----+</span>
</pre><h2 class="anchored_heading" id="addition-operatorsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/type-conversion/">Type Conversion</a>
</li><li><a href="#subtraction-operator-">Subtraction Operator (-)</a>
</li><li><a href="#multiplication-operator">Multiplication Operator (*)</a>
</li><li><a href="#division-operator">Division Operator (/)</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="subtraction-operator-">Subtraction Operator (-)</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">-
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Subtraction. The operator is also used as the unary minus for changing sign.</p>
<p>If both operands are integers, the result is calculated with <a href="#bigint">BIGINT</a> precision. If either integer is unsigned, the result is also an unsigned integer, unless the NO_UNSIGNED_SUBTRACTION <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is enabled, in which case the result is always signed.</p>
<p>For real or string operands, the operand with the highest precision determines the result precision.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">96</span><span class="o">-</span><span class="mi">9</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="mi">96</span><span class="o">-</span><span class="mi">9</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>   <span class="mi">87</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="mi">15</span><span class="o">-</span><span class="mi">17</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span> <span class="mi">15</span><span class="o">-</span><span class="mi">17</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span>    <span class="o">-</span><span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>

<span class="k">SELECT</span> <span class="mi">3</span><span class="p">.</span><span class="mi">66</span> <span class="o">+</span> <span class="mi">1</span><span class="p">.</span><span class="mi">333</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="mi">3</span><span class="p">.</span><span class="mi">66</span> <span class="o">+</span> <span class="mi">1</span><span class="p">.</span><span class="mi">333</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span>        <span class="mi">4</span><span class="p">.</span><span class="mi">993</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
</pre><p>Unary minus:</p>
<pre class="fixed"> <span class="k">SELECT</span> <span class="o">-</span> <span class="p">(</span><span class="mi">3</span><span class="o">+</span><span class="mi">5</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="o">-</span> <span class="p">(</span><span class="mi">3</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>      <span class="o">-</span><span class="mi">8</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/type-conversion/">Type Conversion</a>
</li><li><a href="#addition-operator">Addition Operator (+)</a>
</li><li><a href="#multiplication-operator">Multiplication Operator (*)</a>
</li><li><a href="#division-operator">Division Operator (/)</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="division-operator">Division Operator (/)</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="division-operatorsyntax">Syntax</h2>
<pre class="fixed">/
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#division-operatorsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#division-operatordescription" title="Description">Description</a></li>
<li class=""><a href="#division-operatorexamples" title="Examples">Examples</a></li>
<li class=""><a href="#division-operatorsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="division-operatordescription">Description</h2>
<p>Division operator. Dividing by zero will return NULL. By default, returns four digits after the decimal. This is determined by the server system variable <a href="https://mariadb.com/kb/en/server-system-variables/#div_precision_increment">div_precision_increment</a> which by default is four. It can be set from 0 to 30.</p>
<p>Dividing by zero returns <code>NULL</code>. If the <code>ERROR_ON_DIVISION_BY_ZERO</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is used (the default since <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">MariaDB 10.2.4</a>), a division by zero also produces a warning.</p>
<h2 class="anchored_heading" id="division-operatorexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">4</span><span class="o">/</span><span class="mi">5</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="mi">4</span><span class="o">/</span><span class="mi">5</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>

<span class="k">SELECT</span> <span class="mi">300</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">300</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>      <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="mi">300</span><span class="o">/</span><span class="mi">7</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="mi">300</span><span class="o">/</span><span class="mi">7</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="mi">42</span><span class="p">.</span><span class="mi">8571</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
</pre><p>Changing <a href="https://mariadb.com/kb/en/server-system-variables/#div_precision_increment">div_precision_increment</a> for the session from the default of four to six:</p>
<pre class="fixed"><span class="k">SET</span> <span class="n">div_precision_increment</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="mi">300</span><span class="o">/</span><span class="mi">7</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">300</span><span class="o">/</span><span class="mi">7</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">42</span><span class="p">.</span><span class="mi">857143</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="mi">300</span><span class="o">/</span><span class="mi">7</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">300</span><span class="o">/</span><span class="mi">7</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">42</span><span class="p">.</span><span class="mi">857143</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
</pre><h2 class="anchored_heading" id="division-operatorsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/type-conversion/">Type Conversion</a>
</li><li><a href="#addition-operator">Addition Operator (+)</a>
</li><li><a href="#subtraction-operator-">Subtraction Operator (-)</a>
</li><li><a href="#multiplication-operator">Multiplication Operator (*)</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="multiplication-operator">Multiplication Operator (*)</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="multiplication-operatorsyntax">Syntax</h2>
<pre class="fixed">*
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#multiplication-operatorsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#multiplication-operatordescription" title="Description">Description</a></li>
<li class=""><a href="#multiplication-operatorexamples" title="Examples">Examples</a></li>
<li class=""><a href="#multiplication-operatorsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="multiplication-operatordescription">Description</h2>
<p>Multiplication operator.</p>
<h2 class="anchored_heading" id="multiplication-operatorexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">7</span><span class="o">*</span><span class="mi">6</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----+</span>
<span class="o">|</span> <span class="mi">7</span><span class="o">*</span><span class="mi">6</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----+</span>
<span class="o">|</span>  <span class="mi">42</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----+</span>

<span class="k">SELECT</span> <span class="mi">1234567890</span><span class="o">*</span><span class="mi">9876543210</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="mi">1234567890</span><span class="o">*</span><span class="mi">9876543210</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>  <span class="o">-</span><span class="mi">6253480962446024716</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>

<span class="k">SELECT</span> <span class="mi">18014398509481984</span><span class="o">*</span><span class="mi">18014398509481984</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
<span class="o">|</span> <span class="mi">18014398509481984</span><span class="o">*</span><span class="mi">18014398509481984</span><span class="p">.</span><span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
<span class="o">|</span>   <span class="mi">324518553658426726783156020576256</span><span class="p">.</span><span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>

<span class="k">SELECT</span> <span class="mi">18014398509481984</span><span class="o">*</span><span class="mi">18014398509481984</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="mi">18014398509481984</span><span class="o">*</span><span class="mi">18014398509481984</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span>                                   <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
</pre><h2 class="anchored_heading" id="multiplication-operatorsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/type-conversion/">Type Conversion</a>
</li><li><a href="#addition-operator">Addition Operator (+)</a>
</li><li><a href="#subtraction-operator-">Subtraction Operator (-)</a>
</li><li><a href="#division-operator">Division Operator (/)</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="modulo-operator">Modulo Operator (%)</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">N % M
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Modulo operator. Returns the remainder of <code>N</code> divided by <code>M</code>. See also <a href="#mod">MOD</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">1042</span> <span class="o">%</span> <span class="mi">50</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">1042</span> <span class="o">%</span> <span class="mi">50</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>        <span class="mi">42</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="div">DIV</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DIV
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Integer division. Similar to <a href="#floor">FLOOR()</a>, but is safe with <a href="#bigint">BIGINT</a> values.
Incorrect results may occur for non-integer operands that exceed BIGINT range.</p>
<p>If the <code>ERROR_ON_DIVISION_BY_ZERO</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is used, a division by zero produces an error. Otherwise, it returns NULL.</p>
<p>The remainder of a division can be obtained using the <a href="#mod">MOD</a> operator.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">300</span> <span class="n">DIV</span> <span class="mi">7</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">300</span> <span class="n">DIV</span> <span class="mi">7</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>        <span class="mi">42</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="mi">300</span> <span class="n">DIV</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">300</span> <span class="n">DIV</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>      <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="abs">ABS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="abssyntax">Syntax</h2>
<pre class="fixed">ABS(X)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#abssyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#absdescription" title="Description">Description</a></li>
<li class=""><a href="#absexamples" title="Examples">Examples</a></li>
<li class=""><a href="#abssee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="absdescription">Description</h2>
<p>Returns the absolute (non-negative) value of <code>X</code>. If <code>X</code> is not a number, it is converted to a numeric type.</p>
<h2 class="anchored_heading" id="absexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">ABS</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="k">ABS</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>      <span class="mi">42</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">SELECT</span> <span class="k">ABS</span><span class="p">(</span><span class="o">-</span><span class="mi">42</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="k">ABS</span><span class="p">(</span><span class="o">-</span><span class="mi">42</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span>       <span class="mi">42</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>

<span class="k">SELECT</span> <span class="k">ABS</span><span class="p">(</span><span class="nb">DATE</span> <span class="s1">'1994-01-01'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="k">ABS</span><span class="p">(</span><span class="nb">DATE</span> <span class="s1">'1994-01-01'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span>               <span class="mi">19940101</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
</pre><h2 class="anchored_heading" id="abssee-also">See Also</h2>
<ul start="1"><li><a href="#sign">SIGN()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="acos">ACOS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="acossyntax">Syntax</h2>
<pre class="fixed">ACOS(X)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#acossyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#acosdescription" title="Description">Description</a></li>
<li class=""><a href="#acosexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="acosdescription">Description</h2>
<p>Returns the arc cosine of <code>X</code>, that is, the value whose cosine is <code>X</code>.
Returns <code>NULL</code> if <code>X</code> is not in the range <code>-1</code> to <code>1</code>.</p>
<h2 class="anchored_heading" id="acosexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">ACOS</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="n">ACOS</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>       <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">SELECT</span> <span class="n">ACOS</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0001</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">ACOS</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0001</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span>         <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>

<span class="k">SELECT</span> <span class="n">ACOS</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">ACOS</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">5707963267949</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>

<span class="k">SELECT</span> <span class="n">ACOS</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">234</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">ACOS</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">234</span><span class="p">)</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">33460644244679</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="asin">ASIN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="asinsyntax">Syntax</h2>
<pre class="fixed">ASIN(X)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#asinsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#asindescription" title="Description">Description</a></li>
<li class=""><a href="#asinexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="asindescription">Description</h2>
<p>Returns the arc sine of X, that is, the value whose sine is X. Returns
NULL if X is not in the range -1 to 1.</p>
<h2 class="anchored_heading" id="asinexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">ASIN</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">ASIN</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="p">)</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2013579207903308</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SELECT</span> <span class="n">ASIN</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="n">ASIN</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>           <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------+-----------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span>   <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                 <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+-----------------------------------------+</span>
<span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1292</span> <span class="o">|</span> <span class="n">Truncated</span> <span class="n">incorrect</span> <span class="n">DOUBLE</span> <span class="n">value</span><span class="p">:</span> <span class="s1">'foo'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+-----------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="atan">ATAN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="atansyntax">Syntax</h2>
<pre class="fixed">ATAN(X)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#atansyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#atandescription" title="Description">Description</a></li>
<li class=""><a href="#atanexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="atandescription">Description</h2>
<p>Returns the arc tangent of X, that is, the value whose tangent is X.</p>
<h2 class="anchored_heading" id="atanexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">ATAN</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">ATAN</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">1071487177940904</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SELECT</span> <span class="n">ATAN</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">ATAN</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">1071487177940904</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="atan2">ATAN2</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ATAN(Y,X), ATAN2(Y,X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the arc tangent of the two variables X and Y. It is similar to
calculating the arc tangent of Y / X, except that the signs of both
arguments are used to determine the quadrant of the result.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">ATAN</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">ATAN</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">7853981633974483</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>

<span class="k">SELECT</span> <span class="n">ATAN2</span><span class="p">(</span><span class="n">PI</span><span class="p">(),</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">ATAN2</span><span class="p">(</span><span class="n">PI</span><span class="p">(),</span><span class="mi">0</span><span class="p">)</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">5707963267948966</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="ceil">CEIL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CEIL(X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>CEIL() is a synonym for <a href="#ceiling">CEILING()</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="ceiling">CEILING</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CEILING(X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the smallest integer value not less than X.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CEILING</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">23</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="n">CEILING</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">23</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>

<span class="k">SELECT</span> <span class="n">CEILING</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">23</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">CEILING</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">23</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span>             <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="conv">CONV</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CONV(N,from_base,to_base)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Converts numbers between different number bases. Returns a string
representation of the number <em><code>N</code></em>, converted from base <em><code>from_base</code></em>
to base <em><code>to_base</code></em>.</p>
<p>Returns <code>NULL</code> if any argument is <code>NULL</code>, or if the second or third argument are not in the allowed range.</p>
<p>The argument <em><code>N</code></em> is interpreted as an integer, but may be specified as an
integer or a string. The minimum base is 2 and the maximum base is 36. If
<em><code>to_base</code></em> is a negative number, <em><code>N</code></em> is regarded as a signed number.
Otherwise, <em><code>N</code></em> is treated as unsigned. <code>CONV()</code> works with 64-bit
precision.</p>
<p>Some shortcuts for this function are also available: <code><a href="#bin">BIN()</a></code>, <code><a href="#oct">OCT()</a></code>, <code><a href="#hex">HEX()</a></code>, <code><a href="#unhex">UNHEX()</a></code>. Also, MariaDB allows <a href="https://mariadb.com/kb/en/binary-literals/">binary</a> literal values and <a href="https://mariadb.com/kb/en/hexadecimal-literals/">hexadecimal</a> literal values.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CONV</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">CONV</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="mi">1010</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>

<span class="k">SELECT</span> <span class="n">CONV</span><span class="p">(</span><span class="s1">'6E'</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">8</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">CONV</span><span class="p">(</span><span class="s1">'6E'</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="mi">172</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>

<span class="k">SELECT</span> <span class="n">CONV</span><span class="p">(</span><span class="o">-</span><span class="mi">17</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">18</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">CONV</span><span class="p">(</span><span class="o">-</span><span class="mi">17</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">18</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="o">-</span><span class="n">H</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">SELECT</span> <span class="n">CONV</span><span class="p">(</span><span class="mi">12</span><span class="o">+</span><span class="s1">'10'</span><span class="o">+</span><span class="s1">'10'</span><span class="o">+</span><span class="mi">0</span><span class="n">xa</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="n">CONV</span><span class="p">(</span><span class="mi">12</span><span class="o">+</span><span class="s1">'10'</span><span class="o">+</span><span class="s1">'10'</span><span class="o">+</span><span class="mi">0</span><span class="n">xa</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="mi">42</span>                           <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="cos">COS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">COS(X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the cosine of X, where X is given in radians.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">COS</span><span class="p">(</span><span class="n">PI</span><span class="p">());</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="n">COS</span><span class="p">(</span><span class="n">PI</span><span class="p">())</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>        <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="cot">COT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">COT(X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the cotangent of X.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">COT</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">COT</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4364167060752729</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SELECT</span> <span class="n">COT</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">COT</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">5726734063976893</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>

<span class="k">SELECT</span> <span class="n">COT</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1690</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="n">DOUBLE</span> <span class="n">value</span> <span class="k">is</span> <span class="k">out</span> <span class="k">of</span> <span class="n">range</span> <span class="k">in</span> <span class="s1">'cot(0)'</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="crc32">CRC32</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<p>&lt;= <a href="https://mariadb.com/kb/en/what-is-mariadb-107/">MariaDB 10.7</a></p>
<pre class="fixed">CRC32(expr)
</pre><p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-108/">MariaDB 10.8</a></p>
<pre class="fixed">CRC32([par,]expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Computes a cyclic redundancy check (CRC) value and returns a 32-bit unsigned
value. The result is NULL if the argument is NULL. The argument is
expected to be a string and (if possible) is treated as one if it is
not.</p>
<p>Uses the ISO 3309 polynomial that used by zlib and many others. <a href="https://mariadb.com/kb/en/what-is-mariadb-108/">MariaDB 10.8</a> introduced the <a href="https://mariadb.com/kb/en/crc32c/">CRC32C()</a> function, which uses the alternate Castagnoli polynomia.
<br/><br/></p>
<div class="mariadb_from_10_8 mariadb from_10_8 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-108/">10.8</a></h5><p>Often, CRC is computed in pieces. To facilitate this, <a href="https://mariadb.com/kb/en/mariadb-1080-release-notes/">MariaDB 10.8.0</a> introduced an
optional parameter: CRC32('MariaDB')=CRC32(CRC32('Maria'),'DB'). </p>
</div><h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CRC32</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">CRC32</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>       <span class="mi">4227209140</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">SELECT</span> <span class="n">CRC32</span><span class="p">(</span><span class="s1">'mariadb'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">CRC32</span><span class="p">(</span><span class="s1">'mariadb'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>       <span class="mi">2594253378</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1080-release-notes/">MariaDB 10.8.0</a></p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CRC32</span><span class="p">(</span><span class="n">CRC32</span><span class="p">(</span><span class="s1">'Maria'</span><span class="p">),</span><span class="s1">'DB'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span> <span class="n">CRC32</span><span class="p">(</span><span class="n">CRC32</span><span class="p">(</span><span class="s1">'Maria'</span><span class="p">),</span><span class="s1">'DB'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span>                 <span class="mi">4227209140</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/crc32c/">CRC32C()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="degrees">DEGREES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DEGREES(X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the argument <em><code>X</code></em>, converted from radians to degrees.</p>
<p>This is the converse of the <a href="#radians">RADIANS()</a> function.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">DEGREES</span><span class="p">(</span><span class="n">PI</span><span class="p">());</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="n">DEGREES</span><span class="p">(</span><span class="n">PI</span><span class="p">())</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span>           <span class="mi">180</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>

<span class="k">SELECT</span> <span class="n">DEGREES</span><span class="p">(</span><span class="n">PI</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">DEGREES</span><span class="p">(</span><span class="n">PI</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span>                <span class="mi">90</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">SELECT</span> <span class="n">DEGREES</span><span class="p">(</span><span class="mi">45</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">DEGREES</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="mi">2578</span><span class="p">.</span><span class="mi">3100780887</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="exp">EXP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">EXP(X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the value of e (the base of natural logarithms) raised to the
power of X. The inverse of this function is <a href="#log">LOG()</a> (using a single
argument only) or <a href="#ln">LN()</a>.</p>
<p>If <code>X</code> is <code>NULL</code>, this function returns <code>NULL</code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">EXP</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">EXP</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="mi">7</span><span class="p">.</span><span class="mi">38905609893065</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">SELECT</span> <span class="n">EXP</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">EXP</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1353352832366127</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SELECT</span> <span class="n">EXP</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="n">EXP</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>

<span class="k">SELECT</span> <span class="n">EXP</span><span class="p">(</span><span class="k">NULL</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="n">EXP</span><span class="p">(</span><span class="k">NULL</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>      <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="floor">FLOOR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">FLOOR(X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the largest integer value not greater than X.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">FLOOR</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">23</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="n">FLOOR</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">23</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>

<span class="k">SELECT</span> <span class="n">FLOOR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">23</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">FLOOR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">23</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span>           <span class="o">-</span><span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="ln">LN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LN(X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the natural logarithm of X; that is, the base-e logarithm of X.
If X is less than or equal to 0, or <code>NULL</code>, then NULL is returned.</p>
<p>The inverse of this function is <code><a href="#exp">EXP()</a></code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">LN</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">LN</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">693147180559945</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">SELECT</span> <span class="n">LN</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="n">LN</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span>   <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="log">LOG</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LOG(X), LOG(B,X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>If called with one parameter, this function returns the natural
logarithm of X. If X is less than or equal to 0, then NULL is
returned.</p>
<p>If called with two parameters, it returns the logarithm of X to the base B. If  B is &lt;= 1 or X &lt;= 0, the function returns NULL.</p>
<p>If any argument is <code>NULL</code>, the function returns <code>NULL</code>.</p>
<p>The inverse of this function (when called with a single argument) is
the <a href="#exp">EXP()</a> function.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<p>LOG(X):</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">LOG</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">LOG</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">693147180559945</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">SELECT</span> <span class="n">LOG</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="n">LOG</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>    <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
</pre><p>LOG(B,X)</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">LOG</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">16</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="n">LOG</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>         <span class="mi">4</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="n">LOG</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">27</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="n">LOG</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">27</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>         <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="n">LOG</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="n">LOG</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span>        <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>

<span class="k">SELECT</span> <span class="n">LOG</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="n">LOG</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="log10">LOG10</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LOG10(X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the base-10 logarithm of X.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">LOG10</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">LOG10</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">301029995663981</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">SELECT</span> <span class="n">LOG10</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">LOG10</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>          <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SELECT</span> <span class="n">LOG10</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="n">LOG10</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>        <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="log2">LOG2</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LOG2(X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the base-2 logarithm of X.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">LOG2</span><span class="p">(</span><span class="mi">4398046511104</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">LOG2</span><span class="p">(</span><span class="mi">4398046511104</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span>                  <span class="mi">42</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>

<span class="k">SELECT</span> <span class="n">LOG2</span><span class="p">(</span><span class="mi">65536</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="n">LOG2</span><span class="p">(</span><span class="mi">65536</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>          <span class="mi">16</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>

<span class="k">SELECT</span> <span class="n">LOG2</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">LOG2</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>       <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mod">MOD</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MOD(N,M), N % M, N MOD M
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Modulo operation. Returns the remainder of N divided by M. See also <a href="#modulo-operator">Modulo Operator</a>.</p>
<p>If the <code>ERROR_ON_DIVISION_BY_ZERO</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is used, any number modulus zero produces an error. Otherwise, it returns NULL.</p>
<p>The integer part of a division can be obtained using <a href="#div">DIV</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">1042</span> <span class="o">%</span> <span class="mi">50</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">1042</span> <span class="o">%</span> <span class="mi">50</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>        <span class="mi">42</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="k">MOD</span><span class="p">(</span><span class="mi">234</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="k">MOD</span><span class="p">(</span><span class="mi">234</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span>            <span class="mi">4</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>

<span class="k">SELECT</span> <span class="mi">253</span> <span class="o">%</span> <span class="mi">7</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="mi">253</span> <span class="o">%</span> <span class="mi">7</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>       <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">SELECT</span> <span class="k">MOD</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span><span class="mi">9</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="k">MOD</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>         <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="mi">29</span> <span class="k">MOD</span> <span class="mi">9</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="mi">29</span> <span class="k">MOD</span> <span class="mi">9</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="oct">OCT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="octsyntax">Syntax</h2>
<pre class="fixed">OCT(N)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#octsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#octdescription" title="Description">Description</a></li>
<li class=""><a href="#octexamples" title="Examples">Examples</a></li>
<li class=""><a href="#octsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="octdescription">Description</h2>
<p>Returns a string representation of the octal value of N, where N is a longlong (<a href="#bigint">BIGINT</a>) number. This is equivalent to <a href="#conv">CONV(N,10,8)</a>. Returns NULL if N is NULL.</p>
<h2 class="anchored_heading" id="octexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">OCT</span><span class="p">(</span><span class="mi">34</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="n">OCT</span><span class="p">(</span><span class="mi">34</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="mi">42</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">SELECT</span> <span class="n">OCT</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="n">OCT</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="mi">14</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
</pre><h2 class="anchored_heading" id="octsee-also">See Also</h2>
<ul start="1"><li><a href="#conv">CONV()</a>
</li><li><a href="#bin">BIN()</a>
</li><li><a href="#hex">HEX()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="pi">PI</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">PI()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the value of π (pi). The default number of decimal places
displayed is six, but MariaDB uses the full double-precision value
internally.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">PI</span><span class="p">();</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="n">PI</span><span class="p">()</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="mi">3</span><span class="p">.</span><span class="mi">141593</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>

<span class="k">SELECT</span> <span class="n">PI</span><span class="p">()</span><span class="o">+</span><span class="mi">0</span><span class="p">.</span><span class="mi">0000000000000000000000</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="n">PI</span><span class="p">()</span><span class="o">+</span><span class="mi">0</span><span class="p">.</span><span class="mi">0000000000000000000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span>      <span class="mi">3</span><span class="p">.</span><span class="mi">1415926535897931159980</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="pow">POW</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">POW(X,Y)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the value of X raised to the power of Y.</p>
<p>POWER() is a synonym.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">POW</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="n">POW</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span>        <span class="mi">8</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>

<span class="k">SELECT</span> <span class="n">POW</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="n">POW</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>      <span class="mi">0</span><span class="p">.</span><span class="mi">25</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="power">POWER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">POWER(X,Y)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This is a synonym for <a href="#pow">POW()</a>, which returns the value of X raised to the power of Y.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="radians">RADIANS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">RADIANS(X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the argument <em><code>X</code></em>, converted from degrees to radians. Note that
π radians equals 180 degrees. </p>
<p>This is the converse of the <a href="#degrees">DEGREES()</a> function.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">RADIANS</span><span class="p">(</span><span class="mi">45</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">RADIANS</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">785398163397448</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">SELECT</span> <span class="n">RADIANS</span><span class="p">(</span><span class="mi">90</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">RADIANS</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">5707963267949</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>

<span class="k">SELECT</span> <span class="n">RADIANS</span><span class="p">(</span><span class="n">PI</span><span class="p">());</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">RADIANS</span><span class="p">(</span><span class="n">PI</span><span class="p">())</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0548311355616075</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SELECT</span> <span class="n">RADIANS</span><span class="p">(</span><span class="mi">180</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">RADIANS</span><span class="p">(</span><span class="mi">180</span><span class="p">)</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="mi">3</span><span class="p">.</span><span class="mi">14159265358979</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="rand">RAND</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#randsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#randdescription" title="Description">Description</a></li>
<li class=""><a href="#randpractical-uses" title="Practical uses">Practical uses</a></li>
<li class=""><a href="#randexamples" title="Examples">Examples</a></li>
<li class=""><a href="#randsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="randsyntax">Syntax</h2>
<pre class="fixed">RAND(), RAND(N)
</pre><h2 class="anchored_heading" id="randdescription">Description</h2>
<p>Returns a random <code><a href="#double">DOUBLE</a></code> precision floating point value v in the range 0 &lt;= v &lt; 1.0. If
a constant integer argument N is specified, it is used as the seed
value, which produces a repeatable sequence of column values. In the example below, note that the sequences of values produced by
RAND(3) is the same both places where it occurs.</p>
<p>In a WHERE clause, RAND() is evaluated each time the WHERE is executed.</p>
<p>Statements using the RAND() function are not <a href="https://mariadb.com/kb/en/unsafe-statements-for-replication/">safe for statement-based replication</a>.</p>
<h2 class="anchored_heading" id="randpractical-uses">Practical uses</h2>
<p>The expression to get a random integer from a given range is the following:</p>
<pre class="fixed">FLOOR(min_value + RAND() * (max_value - min_value +1))
</pre><p>RAND() is often used to read random rows from a table, as follows:</p>
<pre class="fixed">SELECT * FROM my_table ORDER BY RAND() LIMIT 10;
</pre><p>Note, however, that this technique should never be used on a large table as it will be extremely slow. MariaDB will read all rows in the table, generate a random value for each of them, order them, and finally will apply the LIMIT clause.</p>
<h2 class="anchored_heading" id="randexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span><span class="n">i</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">i</span><span class="p">,</span> <span class="n">RAND</span><span class="p">()</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+-------------------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span> <span class="n">RAND</span><span class="p">()</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">255651095188829</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">833920199269355</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">40264774151393</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------------+</span>

<span class="k">SELECT</span> <span class="n">i</span><span class="p">,</span> <span class="n">RAND</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+-------------------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span> <span class="n">RAND</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">90576975597606</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">373079058130345</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">148086053457191</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------------+</span>

<span class="k">SELECT</span> <span class="n">i</span><span class="p">,</span> <span class="n">RAND</span><span class="p">()</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+-------------------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span> <span class="n">RAND</span><span class="p">()</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">511478140495232</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">349447508668012</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">212803152588013</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------------+</span>
</pre><p>Using the same seed, the same sequence will be returned:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">i</span><span class="p">,</span> <span class="n">RAND</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+-------------------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span> <span class="n">RAND</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">90576975597606</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">373079058130345</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">148086053457191</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------------+</span>
</pre><p>Generating a random number from 5 to 15:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">FLOOR</span><span class="p">(</span><span class="mi">5</span> <span class="o">+</span> <span class="p">(</span><span class="n">RAND</span><span class="p">()</span> <span class="o">*</span> <span class="mi">11</span><span class="p">));</span>
</pre><h2 class="anchored_heading" id="randsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/techniques-for-efficiently-finding-a-random-row/">Techniques for Efficiently Finding a Random Row</a>
</li><li><a href="https://mariadb.com/kb/en/server-system-variables/#rand_seed1">rand_seed1 and rand_seed2 system variables</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="round">ROUND</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ROUND(X), ROUND(X,D)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Rounds the argument <code>X</code> to <code>D</code> decimal places. The rounding algorithm
depends on the data type of <code>X</code>. <code>D</code> defaults to <code>0</code> if not specified.
<code>D</code> can be negative to cause <code>D</code> digits left of the decimal point of the
value <code>X</code> to become zero.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">ROUND</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">23</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">ROUND</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">23</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span>           <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>

<span class="k">SELECT</span> <span class="n">ROUND</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">58</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">ROUND</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">58</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span>           <span class="o">-</span><span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>

<span class="k">SELECT</span> <span class="n">ROUND</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">58</span><span class="p">);</span> 
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="n">ROUND</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">58</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>           <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>

<span class="k">SELECT</span> <span class="n">ROUND</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">298</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">ROUND</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">298</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span>             <span class="mi">1</span><span class="p">.</span><span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>

<span class="k">SELECT</span> <span class="n">ROUND</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">298</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">ROUND</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">298</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span>               <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>

<span class="k">SELECT</span> <span class="n">ROUND</span><span class="p">(</span><span class="mi">23</span><span class="p">.</span><span class="mi">298</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">ROUND</span><span class="p">(</span><span class="mi">23</span><span class="p">.</span><span class="mi">298</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span>                <span class="mi">20</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="sign">SIGN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SIGN(X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the sign of the argument as -1, 0, or 1, depending on whether
X is negative, zero, or positive.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SIGN</span><span class="p">(</span><span class="o">-</span><span class="mi">32</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="n">SIGN</span><span class="p">(</span><span class="o">-</span><span class="mi">32</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>        <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="n">SIGN</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="n">SIGN</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>       <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">SELECT</span> <span class="n">SIGN</span><span class="p">(</span><span class="mi">234</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="n">SIGN</span><span class="p">(</span><span class="mi">234</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#abs">ABS()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="sin">SIN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SIN(X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the sine of X, where X is given in radians.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SIN</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">5707963267948966</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">SIN</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">5707963267948966</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span>                       <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>

<span class="k">SELECT</span> <span class="n">SIN</span><span class="p">(</span><span class="n">PI</span><span class="p">());</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">SIN</span><span class="p">(</span><span class="n">PI</span><span class="p">())</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">22460635382238</span><span class="n">e</span><span class="o">-</span><span class="mi">16</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">ROUND</span><span class="p">(</span><span class="n">SIN</span><span class="p">(</span><span class="n">PI</span><span class="p">()));</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">ROUND</span><span class="p">(</span><span class="n">SIN</span><span class="p">(</span><span class="n">PI</span><span class="p">()))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>                <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="sqrt">SQRT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SQRT(X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the square root of X. If X is negative, NULL is returned.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SQRT</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="n">SQRT</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>       <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">SELECT</span> <span class="n">SQRT</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">SQRT</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="mi">4</span><span class="p">.</span><span class="mi">47213595499958</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">SELECT</span> <span class="n">SQRT</span><span class="p">(</span><span class="o">-</span><span class="mi">16</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="n">SQRT</span><span class="p">(</span><span class="o">-</span><span class="mi">16</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>      <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="n">SQRT</span><span class="p">(</span><span class="mi">1764</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">SQRT</span><span class="p">(</span><span class="mi">1764</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>         <span class="mi">42</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="tan">TAN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">TAN(X)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the tangent of X, where X is given in radians.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">
<span class="k">SELECT</span> <span class="n">TAN</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">7853981633974483</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">TAN</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">7853981633974483</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span>      <span class="mi">0</span><span class="p">.</span><span class="mi">9999999999999999</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>

<span class="k">SELECT</span> <span class="n">TAN</span><span class="p">(</span><span class="n">PI</span><span class="p">());</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">TAN</span><span class="p">(</span><span class="n">PI</span><span class="p">())</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">22460635382238</span><span class="n">e</span><span class="o">-</span><span class="mi">16</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>

<span class="k">SELECT</span> <span class="n">TAN</span><span class="p">(</span><span class="n">PI</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">TAN</span><span class="p">(</span><span class="n">PI</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">5574077246549</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>

<span class="k">SELECT</span> <span class="n">TAN</span><span class="p">(</span><span class="n">RADIANS</span><span class="p">(</span><span class="n">PI</span><span class="p">()));</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">TAN</span><span class="p">(</span><span class="n">RADIANS</span><span class="p">(</span><span class="n">PI</span><span class="p">()))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0548861508080033</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="truncate">TRUNCATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="cstm-style bluebox"><p>This page documents the TRUNCATE function. See <a href="#truncate-table">TRUNCATE TABLE</a> for the DDL statement.</p>
</div><h2 class="anchored_heading" id="truncatesyntax">Syntax</h2>
<pre class="fixed">TRUNCATE(X,D)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#truncatesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#truncatedescription" title="Description">Description</a></li>
<li class=""><a href="#truncateexamples" title="Examples">Examples</a></li>
<li class=""><a href="#truncatesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="truncatedescription">Description</h2>
<p>Returns the number X, truncated to D decimal places. If D is 0, the
result has no decimal point or fractional part. D can be negative to
cause D digits left of the decimal point of the value X to become
zero.</p>
<h2 class="anchored_heading" id="truncateexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">TRUNCATE</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">223</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="k">TRUNCATE</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">223</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span>               <span class="mi">1</span><span class="p">.</span><span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">SELECT</span> <span class="k">TRUNCATE</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">999</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="k">TRUNCATE</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">999</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span>               <span class="mi">1</span><span class="p">.</span><span class="mi">9</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">SELECT</span> <span class="k">TRUNCATE</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">999</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span> 
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="k">TRUNCATE</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">999</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span>                 <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">SELECT</span> <span class="k">TRUNCATE</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">999</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="k">TRUNCATE</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">999</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span>               <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">9</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SELECT</span> <span class="k">TRUNCATE</span><span class="p">(</span><span class="mi">122</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="k">TRUNCATE</span><span class="p">(</span><span class="mi">122</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>              <span class="mi">100</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">SELECT</span> <span class="k">TRUNCATE</span><span class="p">(</span><span class="mi">10</span><span class="p">.</span><span class="mi">28</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="k">TRUNCATE</span><span class="p">(</span><span class="mi">10</span><span class="p">.</span><span class="mi">28</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                  <span class="mi">1028</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
</pre><h2 class="anchored_heading" id="truncatesee-also">See Also</h2>
<ul start="1"><li><a href="#truncate-table">TRUNCATE TABLE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="plugin-overview">Plugin Overview</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#plugin-overviewquerying-plugin-information" title="Querying Plugin Information">Querying Plugin Information</a> <ol class="toc">
<li class=""><a href="#plugin-overviewquerying-plugin-information-with-show-plugins" title="Querying Plugin Information with SHOW PLUGINS">Querying Plugin Information with SHOW PLUGINS</a></li>
<li class=""><a href="#plugin-overviewquerying-plugin-information-with-information_schemaplugins" title="Querying Plugin Information with information_schema.PLUGINS">Querying Plugin Information with information_schema.PLUGINS</a></li>
<li class=""><a href="#plugin-overviewquerying-plugin-information-with-mysqlplugin" title="Querying Plugin Information with mysql.plugin">Querying Plugin Information with mysql.plugin</a> </li></ol>
</li>
<li class=""><a href="#plugin-overviewinstalling-a-plugin" title="Installing a Plugin">Installing a Plugin</a> <ol class="toc">
<li class=""><a href="#plugin-overviewinstalling-a-plugin-dynamically" title="Installing a Plugin Dynamically">Installing a Plugin Dynamically</a> <ol class="toc">
<li class=""><a href="#plugin-overviewinstalling-a-plugin-with-install-soname" title="Installing a Plugin with INSTALL SONAME">Installing a Plugin with INSTALL SONAME</a></li>
<li class=""><a href="#plugin-overviewinstalling-a-plugin-with-install-plugin" title="Installing a Plugin with INSTALL PLUGIN">Installing a Plugin with INSTALL PLUGIN</a> </li></ol>
</li>
<li class=""><a href="#plugin-overviewinstalling-a-plugin-with-plugin-load-options" title="Installing a Plugin with Plugin Load Options">Installing a Plugin with Plugin Load Options</a> <ol class="toc">
<li class=""><a href="#plugin-overviewinstalling-a-plugin-with-plugin-load-add" title="Installing a Plugin with --plugin-load-add">Installing a Plugin with --plugin-load-add</a></li>
<li class=""><a href="#plugin-overviewinstalling-a-plugin-with-plugin-load" title="Installing a Plugin with --plugin-load">Installing a Plugin with --plugin-load</a></li>
<li class=""><a href="#plugin-overviewspecifying-multiple-plugin-load-options" title="Specifying Multiple Plugin Load Options">Specifying Multiple Plugin Load Options</a> </li></ol>
</li>
<li class=""><a href="#plugin-overviewinstalling-a-plugin-with-mysql_plugin" title="Installing a Plugin with mysql_plugin">Installing a Plugin with mysql_plugin</a></li>
<li class=""><a href="#plugin-overviewconfiguring-the-plugin-directory" title="Configuring the Plugin Directory">Configuring the Plugin Directory</a></li>
<li class=""><a href="#plugin-overviewconfiguring-the-minimum-plugin-maturity" title="Configuring the Minimum Plugin Maturity">Configuring the Minimum Plugin Maturity</a></li>
<li class=""><a href="#plugin-overviewconfiguring-plugin-activation-at-server-startup" title="Configuring Plugin Activation at Server Startup">Configuring Plugin Activation at Server Startup</a> </li></ol>
</li>
<li class=""><a href="#plugin-overviewuninstalling-plugins" title="Uninstalling Plugins">Uninstalling Plugins</a></li>
<li class=""><a href="#plugin-overviewsee-also" title="See Also">See Also</a> </li></ol>

</div>
<p>Plugins are server components that enhance MariaDB in some way. These can be anything from new storage engines, plugins for enhancing full-text parsing, or even small enhancements, such as a plugin to get a timestamp as an integer.</p>
<h2 class="anchored_heading" id="plugin-overviewquerying-plugin-information">Querying Plugin Information</h2>
<p>There are a number of ways to see which plugins are currently active.</p>
<p>A server almost always has a large number of active plugins, because the server contains a large number of built-in plugins, which are active by default and cannot be uninstalled.</p>
<h3 class="anchored_heading" id="plugin-overviewquerying-plugin-information-with-show-plugins">Querying Plugin Information with <code>SHOW PLUGINS</code></h3>
<p>The <a href="#show-plugins">SHOW PLUGINS</a> statement can be used to query information about all active plugins.</p>
<p>For example:</p>
<pre class="fixed">SHOW PLUGINS\G;
********************** 1. row **********************
   Name: binlog
 Status: ACTIVE
   Type: STORAGE ENGINE
Library: NULL
License: GPL
********************** 2. row **********************
   Name: mysql_native_password
 Status: ACTIVE
   Type: AUTHENTICATION
Library: NULL
License: GPL
********************** 3. row **********************
   Name: mysql_old_password
 Status: ACTIVE
   Type: AUTHENTICATION
Library: NULL
License: GPL
...
</pre><p>If a plugin's <code>Library</code> column has a <code>NULL</code> value, then the plugin is built-in, and it cannot be uninstalled.</p>
<h3 class="anchored_heading" id="plugin-overviewquerying-plugin-information-with-information_schemaplugins">Querying Plugin Information with information_schema.PLUGINS</h3>
<p>The <a href="https://mariadb.com/kb/en/information_schemaplugins-table/">information_schema.PLUGINS</a> table can be queried to get more detailed information about plugins.</p>
<p>For example:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">information_schema</span><span class="p">.</span><span class="n">PLUGINS</span><span class="err">\</span><span class="k">G</span>
<span class="p">...</span>
<span class="o">***************************</span> <span class="mi">6</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
           <span class="n">PLUGIN_NAME</span><span class="p">:</span> <span class="n">CSV</span>
        <span class="n">PLUGIN_VERSION</span><span class="p">:</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span>
         <span class="n">PLUGIN_STATUS</span><span class="p">:</span> <span class="n">ACTIVE</span>
           <span class="n">PLUGIN_TYPE</span><span class="p">:</span> <span class="k">STORAGE</span> <span class="n">ENGINE</span>
   <span class="n">PLUGIN_TYPE_VERSION</span><span class="p">:</span> <span class="mi">100003</span><span class="p">.</span><span class="mi">0</span>
        <span class="n">PLUGIN_LIBRARY</span><span class="p">:</span> <span class="k">NULL</span>
<span class="n">PLUGIN_LIBRARY_VERSION</span><span class="p">:</span> <span class="k">NULL</span>
         <span class="n">PLUGIN_AUTHOR</span><span class="p">:</span> <span class="n">Brian</span> <span class="n">Aker</span><span class="p">,</span> <span class="n">MySQL</span> <span class="n">AB</span>
    <span class="n">PLUGIN_DESCRIPTION</span><span class="p">:</span> <span class="n">CSV</span> <span class="k">storage</span> <span class="n">engine</span>
        <span class="n">PLUGIN_LICENSE</span><span class="p">:</span> <span class="n">GPL</span>
           <span class="n">LOAD_OPTION</span><span class="p">:</span> <span class="k">FORCE</span>
       <span class="n">PLUGIN_MATURITY</span><span class="p">:</span> <span class="k">Stable</span>
   <span class="n">PLUGIN_AUTH_VERSION</span><span class="p">:</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span>
<span class="o">***************************</span> <span class="mi">7</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
           <span class="n">PLUGIN_NAME</span><span class="p">:</span> <span class="n">MEMORY</span>
        <span class="n">PLUGIN_VERSION</span><span class="p">:</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span>
         <span class="n">PLUGIN_STATUS</span><span class="p">:</span> <span class="n">ACTIVE</span>
           <span class="n">PLUGIN_TYPE</span><span class="p">:</span> <span class="k">STORAGE</span> <span class="n">ENGINE</span>
   <span class="n">PLUGIN_TYPE_VERSION</span><span class="p">:</span> <span class="mi">100003</span><span class="p">.</span><span class="mi">0</span>
        <span class="n">PLUGIN_LIBRARY</span><span class="p">:</span> <span class="k">NULL</span>
<span class="n">PLUGIN_LIBRARY_VERSION</span><span class="p">:</span> <span class="k">NULL</span>
         <span class="n">PLUGIN_AUTHOR</span><span class="p">:</span> <span class="n">MySQL</span> <span class="n">AB</span>
    <span class="n">PLUGIN_DESCRIPTION</span><span class="p">:</span> <span class="n">Hash</span> <span class="n">based</span><span class="p">,</span> <span class="n">stored</span> <span class="k">in</span> <span class="n">memory</span><span class="p">,</span> <span class="n">useful</span> <span class="k">for</span> <span class="k">temporary</span> <span class="n">tables</span>
        <span class="n">PLUGIN_LICENSE</span><span class="p">:</span> <span class="n">GPL</span>
           <span class="n">LOAD_OPTION</span><span class="p">:</span> <span class="k">FORCE</span>
       <span class="n">PLUGIN_MATURITY</span><span class="p">:</span> <span class="k">Stable</span>
   <span class="n">PLUGIN_AUTH_VERSION</span><span class="p">:</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span>
<span class="p">...</span>
</pre><p>If a plugin's <code>PLUGIN_LIBRARY</code> column has the <code>NULL</code> value, then the plugin is built-in, and it cannot be uninstalled.</p>
<h3 class="anchored_heading" id="plugin-overviewquerying-plugin-information-with-mysqlplugin">Querying Plugin Information with <code>mysql.plugin</code></h3>
<p>The <a href="https://mariadb.com/kb/en/mysqlplugin-table/">mysql.plugin</a> table can be queried to get information about installed plugins.</p>
<p>This table only contains information about plugins that have been installed via the following methods:</p>
<ul start="1"><li>The <a href="#install-soname">INSTALL SONAME</a> statement.
</li><li>The <a href="#install-plugin">INSTALL PLUGIN</a> statement.
</li><li>The <a href="https://mariadb.com/kb/en/mysql_plugin/">mysql_plugin</a> utility.
</li></ul>
<p>This table does not contain information about:</p>
<ul start="1"><li>Built-in plugins.
</li><li>Plugins loaded with the <a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load-add">--plugin-load-add</a> option.
</li><li>Plugins loaded with the <a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a> option.
</li></ul>
<p>This table only contains enough information to reload the plugin when the server is restarted, which means it only contains the plugin name and the plugin library.</p>
<p>For example:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">mysql</span><span class="p">.</span><span class="n">plugin</span><span class="p">;</span>

<span class="o">+</span><span class="c1">------+------------+</span>
<span class="o">|</span> <span class="n">name</span> <span class="o">|</span> <span class="n">dl</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------+</span>
<span class="o">|</span> <span class="n">PBXT</span> <span class="o">|</span> <span class="n">libpbxt</span><span class="p">.</span><span class="n">so</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------+</span>
</pre><h2 class="anchored_heading" id="plugin-overviewinstalling-a-plugin">Installing a Plugin</h2>
<p>There are three primary ways to install a plugin:</p>
<ul start="1"><li>A plugin can be installed dynamically with an SQL statement.
</li><li>A plugin can be installed with a <a href="https://mariadb.com/kb/en/mysqld-options/">mysqld</a> option, but it requires a server restart.
</li><li>A plugin can be installed with the <a href="https://mariadb.com/kb/en/mysql_plugin/">mysql_plugin</a> utility, while the server is completely offline.
</li></ul>
<p>When you are installing a plugin, you also have to ensure that:</p>
<ul start="1"><li>The server's plugin directory is properly configured, and the plugin's library is in the plugin directory.
</li><li>The server's minimum plugin maturity is properly configured, and the plugin is mature enough to be installed.
</li></ul>
<h3 class="anchored_heading" id="plugin-overviewinstalling-a-plugin-dynamically">Installing a Plugin Dynamically</h3>
<p>A plugin can be installed dynamically by executing either the <a href="#install-soname">INSTALL SONAME</a> or the <a href="#install-plugin">INSTALL PLUGIN</a> statement.</p>
<p>If a plugin is installed with one of these statements, then a record will be added to the <a href="https://mariadb.com/kb/en/mysqlplugin-table/">mysql.plugins</a> table for the plugin. This means that the plugin will automatically be loaded every time the server restarts, unless specifically uninstalled or deactivated.</p>
<h4 class="anchored_heading" id="plugin-overviewinstalling-a-plugin-with-install-soname">Installing a Plugin with <code>INSTALL SONAME</code></h4>
<p>You can install a plugin dynamically by executing the <a href="#install-soname">INSTALL SONAME</a> statement. <a href="#install-soname">INSTALL SONAME</a> installs all plugins from the given plugin library. This could be required for some plugin libraries.</p>
<p>For example, to install all plugins in the <code>server_audit</code> plugin library (which is currently only the <a href="https://mariadb.com/kb/en/mariadb-audit-plugin/">server_audit</a> audit plugin), you could execute the following:</p>
<pre class="fixed"><span class="n">INSTALL</span> <span class="n">SONAME</span> <span class="s1">'server_audit'</span><span class="p">;</span>
</pre><h4 class="anchored_heading" id="plugin-overviewinstalling-a-plugin-with-install-plugin">Installing a Plugin with <code>INSTALL PLUGIN</code></h4>
<p>You can install a plugin dynamically by executing the <a href="#install-plugin">INSTALL PLUGIN</a> statement. <a href="#install-plugin">INSTALL PLUGIN</a> installs a single plugin from the given plugin library.</p>
<p>For example, to install the <a href="https://mariadb.com/kb/en/mariadb-audit-plugin/">server_audit</a> audit plugin from the <code>server_audit</code> plugin library, you could execute the following:</p>
<pre class="fixed"><span class="n">INSTALL</span> <span class="n">PLUGIN</span> <span class="n">server_audit</span> <span class="n">SONAME</span> <span class="s1">'server_audit'</span><span class="p">;</span>
</pre><h3 class="anchored_heading" id="plugin-overviewinstalling-a-plugin-with-plugin-load-options">Installing a Plugin with Plugin Load Options</h3>
<p>A plugin can be installed with a <a href="https://mariadb.com/kb/en/mysqld-options/">mysqld</a> option by providing either the <a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load-add">--plugin-load-add</a> or the <a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a> option.</p>
<p>If a plugin is installed with one of these options, then a record will <strong>not</strong> be added to the <a href="https://mariadb.com/kb/en/mysqlplugin-table/">mysql.plugins</a> table for the plugin. This means that if the server is restarted without the same option set, then the plugin will <strong>not</strong> automatically be loaded.</p>
<h4 class="anchored_heading" id="plugin-overviewinstalling-a-plugin-with-plugin-load-add">Installing a Plugin with <code>--plugin-load-add</code></h4>
<p>You can install a plugin with the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load-add">--plugin-load-add</a></code> option by specifying the option as a command-line argument to <code><a href="https://mariadb.com/kb/en/mysqld-options/">mysqld</a></code> or by specifying the option in a relevant server <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/">option file</a>.</p>
<p>The <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load-add">--plugin-load-add</a></code> option uses the following format:</p>
<ul start="1"><li>Plugins can be specified in the format <code>name=library</code>, where <code>name</code> is the plugin name and <code>library</code> is the plugin library. This format installs a single plugin from the given plugin library.
</li><li>Plugins can also be specified in the format <code>library</code>, where <code>library</code> is the plugin library. This format installs all plugins from the given plugin library.
</li><li>Multiple plugins can be specified by separating them with semicolons.
</li></ul>
<p>For example, to install all plugins in the <code>server_audit</code> plugin library (which is currently only the <code><a href="https://mariadb.com/kb/en/mariadb-audit-plugin/">server_audit</a></code> audit plugin) and also the <code><a href="https://mariadb.com/kb/en/authentication-plugin-ed25519/">ed25519</a></code> authentication plugin from the <code>auth_ed25519</code> plugin library, you could set the option to the following values on the command-line:</p>
<pre class="fixed">$ mysqld --user=mysql --plugin-load-add='server_audit' --plugin-load-add='ed25519=auth_ed25519'
</pre><p>You could also set the option to the same values in an <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/">option file</a>:</p>
<pre class="fixed">[mariadb]
...
plugin_load_add = server_audit
plugin_load_add = ed25519=auth_ed25519
</pre><div class="cstm-style greenbox"><p>Special care must be taken when specifying both the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a></code> option and the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load-add">--plugin-load-add</a></code> option together. The <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a></code> option resets the plugin load list, and this can cause unexpected problems if you are not aware. The <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load-add">--plugin-load-add</a></code> option does <strong>not</strong> reset the plugin load list, so it is much safer to use. See <a href="#plugin-overviewspecifying-multiple-plugin-load-options">Specifying Multiple Plugin Load Options</a> for more information.</p>
</div><h4 class="anchored_heading" id="plugin-overviewinstalling-a-plugin-with-plugin-load">Installing a Plugin with <code>--plugin-load</code></h4>
<p>You can install a plugin with the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a></code> option by specifying the option as a command-line argument to <code><a href="https://mariadb.com/kb/en/mysqld-options/">mysqld</a></code> or by specifying the option in a relevant server <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/">option file</a>.</p>
<p>The <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a></code> option uses the following format:</p>
<ul start="1"><li>Plugins can be specified in the format <code>name=library</code>, where <code>name</code> is the plugin name and <code>library</code> is the plugin library. This format installs a single plugin from the given plugin library.
</li><li>Plugins can also be specified in the format <code>library</code>, where <code>library</code> is the plugin library. This format installs all plugins from the given plugin library.
</li><li>Multiple plugins can be specified by separating them with semicolons.
</li></ul>
<p>For example, to install all plugins in the <code>server_audit</code> plugin library (which is currently only the <code><a href="https://mariadb.com/kb/en/mariadb-audit-plugin/">server_audit</a></code> audit plugin) and also the <code><a href="https://mariadb.com/kb/en/authentication-plugin-ed25519/">ed25519</a></code> authentication plugin from the <code>auth_ed25519</code> plugin library, you could set the option to the following values on the command-line:</p>
<pre class="fixed">$ mysqld --user=mysql --plugin-load='server_audit;ed25519=auth_ed25519'
</pre><p>You could also set the option to the same values in an <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/">option file</a>:</p>
<pre class="fixed">[mariadb]
...
plugin_load = server_audit;ed25519=auth_ed25519
</pre><div class="cstm-style greenbox"><p>Special care must be taken when specifying the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a></code> option multiple times, or when specifying both the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a></code> option and the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load-add">--plugin-load-add</a></code> option together. The <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a></code> option resets the plugin load list, and this can cause unexpected problems if you are not aware. The <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load-add">--plugin-load-add</a></code> option does <strong>not</strong> reset the plugin load list, so it is much safer to use. See <a href="#plugin-overviewspecifying-multiple-plugin-load-options">Specifying Multiple Plugin Load Options</a> for more information.</p>
</div><h4 class="anchored_heading" id="plugin-overviewspecifying-multiple-plugin-load-options">Specifying Multiple Plugin Load Options</h4>
<p>Special care must be taken when specifying the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a></code> option multiple times, or when specifying both the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a></code> option and the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load-add">--plugin-load-add</a></code> option. The <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a></code> option resets the plugin load list, and this can cause unexpected problems if you are not aware. The <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load-add">--plugin-load-add</a></code> option does <strong>not</strong> reset the plugin load list, so it is much safer to use.</p>
<p>This can have the following consequences:</p>
<ul start="1"><li>If the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a></code> option is specified <strong>multiple times</strong>, then only the last instance will have any effect. For example, in the following case, the first instance of the option is reset:
</li></ul>
<pre class="fixed">[mariadb]
...
plugin_load = server_audit
plugin_load = ed25519=auth_ed25519
</pre><ul start="1"><li>If the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a></code> option is specified <strong>after</strong> the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load-add">--plugin-load-add</a></code> option, then it will also reset the changes made by that option. For example, in the following case, the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load-add">--plugin-load-add</a></code> option does not do anything, because the subsequent <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a></code> option resets the plugin load list:
</li></ul>
<pre class="fixed">[mariadb]
...
plugin_load_add = server_audit
plugin_load = ed25519=auth_ed25519
</pre><ul start="1"><li>In contrast, if the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a></code> option is specified <strong>before</strong> the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load-add">--plugin-load-add</a></code> option, then it will work fine, because the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load-add">--plugin-load-add</a></code> option does not reset the plugin load list. For example, in the following case, both plugins are properly loaded:
</li></ul>
<pre class="fixed">[mariadb]
...
plugin_load = server_audit
plugin_load_add = ed25519=auth_ed25519
</pre><h3 class="anchored_heading" id="plugin-overviewinstalling-a-plugin-with-mysql_plugin">Installing a Plugin with <code>mysql_plugin</code></h3>
<p>A plugin can be installed with the <code><a href="https://mariadb.com/kb/en/mysql_plugin/">mysql_plugin</a></code> utility if the server is completely offline. </p>
<p>The syntax is:</p>
<pre class="fixed">mysql_plugin [options] &lt;plugin&gt; ENABLE|DISABLE
</pre><p>For example, to install the <code><a href="https://mariadb.com/kb/en/mariadb-audit-plugin/">server_audit</a></code> audit plugin, you could execute the following:</p>
<pre class="fixed">mysql_plugin server_audit ENABLE
</pre><p>If a plugin is installed with this utility, then a record will be added to the <code><a href="https://mariadb.com/kb/en/mysqlplugin-table/">mysql.plugins</a></code> table for the plugin. This means that the plugin will automatically be loaded every time the server restarts, unless specifically uninstalled or deactivated.</p>
<h3 class="anchored_heading" id="plugin-overviewconfiguring-the-plugin-directory">Configuring the Plugin Directory</h3>
<p>When a plugin is being installed, the server looks for the plugin's library in the server's plugin directory. This directory is configured by the <code><a href="https://mariadb.com/kb/en/server-system-variables/#plugin_dir">plugin_dir</a></code> system variable. This can be specified as a command-line argument to <code><a href="https://mariadb.com/kb/en/mysqld-options/">mysqld</a></code> or it can be specified in a relevant server <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/">option file</a>. For example:</p>
<pre class="fixed">[mariadb]
...
plugin_dir = /usr/lib64/mysql/plugin
</pre><h3 class="anchored_heading" id="plugin-overviewconfiguring-the-minimum-plugin-maturity">Configuring the Minimum Plugin Maturity</h3>
<p>When a plugin is being installed, the server compares the plugin's maturity level against the server's minimum allowed plugin maturity. This can help prevent users from using unstable plugins on production servers. This minimum plugin maturity is configured by the <code><a href="https://mariadb.com/kb/en/server-system-variables/#plugin_maturity">plugin_maturity</a></code> system variable. This can be specified as a command-line argument to <code><a href="https://mariadb.com/kb/en/mysqld-options/">mysqld</a></code> or it can be specified in a relevant server <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/">option file</a>. For example:</p>
<pre class="fixed">[mariadb]
...
plugin_maturity = stable
</pre><h3 class="anchored_heading" id="plugin-overviewconfiguring-plugin-activation-at-server-startup">Configuring Plugin Activation at Server Startup</h3>
<p>A plugin will be loaded by default when the server starts if:</p>
<ul start="1"><li>The plugin was installed with the <code><a href="#install-soname">INSTALL SONAME</a></code> statement.
</li><li>The plugin was installed with the <code><a href="#install-plugin">INSTALL PLUGIN</a></code> statement.
</li><li>The plugin was installed with the <code><a href="https://mariadb.com/kb/en/mysql_plugin/">mysql_plugin</a></code> utility.
</li><li>The server is configured to load the plugin with the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load-add">--plugin-load-add</a></code> option.
</li><li>The server is configured to load the plugin with the <code><a href="https://mariadb.com/kb/en/mysqld-options/#-plugin-load">--plugin-load</a></code> option.
</li></ul>
<p>This behavior can be changed with special options that take the form <code>--plugin-name</code>. For example, for the <code><a href="https://mariadb.com/kb/en/mariadb-audit-plugin/">server_audit</a></code> audit plugin, the special option is called <code><a href="https://mariadb.com/kb/en/mariadb-audit-plugin-system-variables/#server_audit">--server-audit</a></code>.</p>
<p>The possible values for these special options are:</p>
<div class="cstm-style darkheader-nospace-borders centered"><table><tr><th>Option Value</th><th>Description</th></tr>
<tr><td><code>OFF</code></td><td>Disables the plugin without removing it from the <code><a href="https://mariadb.com/kb/en/mysqlplugin-table/">mysql.plugins</a></code> table.</td></tr>
<tr><td><code>ON</code></td><td>Enables the plugin. If the plugin cannot be initialized, then the server will still continue starting up, but the plugin will be disabled.</td></tr>
<tr><td><code>FORCE</code></td><td>Enables the plugin. If the plugin cannot be initialized, then the server will fail to start with an error.</td></tr>
<tr><td><code>FORCE_PLUS_PERMANENT</code></td><td>Enables the plugin. If the plugin cannot be initialized, then the server will fail to start with an error. In addition, the plugin cannot be uninstalled with <code><a href="#uninstall-soname">UNINSTALL SONAME</a></code> or <code><a href="#uninstall-plugin">UNINSTALL PLUGIN</a></code> while the server is running.</td></tr>
</table>
</div><p>A plugin's status can be found by looking at the <code>PLUGIN_STATUS</code> column of the <code><a href="https://mariadb.com/kb/en/information_schemaplugins-table/">information_schema.PLUGINS</a></code> table.</p>
<h2 class="anchored_heading" id="plugin-overviewuninstalling-plugins">Uninstalling Plugins</h2>
<p>Plugins that are found in the mysql.plugin table, that is those that were installed with <a href="#install-soname">INSTALL SONAME</a>, <a href="#install-plugin">INSTALL PLUGIN</a> or <a href="https://mariadb.com/kb/en/mysql_plugin/">mysql_plugin</a> can be uninstalled in one of two ways:</p>
<ul><li>The <a href="#uninstall-soname">UNINSTALL SONAME</a> or the <a href="#uninstall-plugin">UNINSTALL PLUGIN</a> statement while the server is running
</li><li>With <a href="https://mariadb.com/kb/en/mysql_plugin/">mysql_plugin</a> while the server is offline.
</li></ul>
<p>Plugins that were enabled as a <code>--plugin-load</code> option do not need to be uninstalled. If <code>--plugin-load</code> is omitted the next time the server starts, or the plugin is not listed as one of the <code>--plugin-load</code> entries, the plugin will not be loaded.</p>
<p><a href="#uninstall-plugin">UNINSTALL PLUGIN</a> uninstalls a single installed plugin, while <a href="#uninstall-soname">UNINSTALL SONAME</a> uninstalls all plugins belonging to a given library.</p>
<h2 class="anchored_heading" id="plugin-overviewsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/list-of-plugins/">List of Plugins</a>
</li><li><a href="#install-plugin">INSTALL PLUGIN</a>
</li><li><a href="#install-soname">INSTALL SONAME</a>
</li><li><a href="#uninstall-plugin">UNINSTALL PLUGIN</a>
</li><li><a href="#uninstall-soname">UNINSTALL SONAME</a>
</li><li><a href="#show-plugins">SHOW PLUGINS</a>
</li><li><a href="https://mariadb.com/kb/en/plugins-table-information-schema/">INFORMATION_SCHEMA.PLUGINS Table</a>
</li><li><a href="https://mariadb.com/kb/en/mysql_plugin/">mysql_plugin</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="install-plugin">INSTALL PLUGIN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="install-pluginsyntax">Syntax</h2>
<pre class="highlight fixed"><p>INSTALL PLUGIN [IF NOT EXISTS] plugin_name SONAME 'plugin_library'</p></pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#install-pluginsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#install-plugindescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#install-pluginif-not-exists" title="IF NOT EXISTS">IF NOT EXISTS</a> </li></ol>
</li>
<li class=""><a href="#install-pluginexamples" title="Examples">Examples</a></li>
<li class=""><a href="#install-pluginsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="install-plugindescription">Description</h2>
<p>This statement installs an individual <a href="https://mariadb.com/kb/en/mariadb-plugins/">plugin</a> from the specified library. To install the whole library (which could be required), use <a href="#install-soname">INSTALL SONAME</a>. See also <a ">Installing a Plugin</a>.</p>
<p><code>plugin_name</code> is the name of the plugin as defined in the
plugin declaration structure contained in the library file. Plugin names are
not case sensitive. For maximal compatibility, plugin names should be limited
to ASCII letters, digits, and underscore, because they are used in C source
files, shell command lines, M4 and Bourne shell scripts, and SQL environments.</p>
<p><code>plugin_library</code> is the name of the shared library that
contains the plugin code. The file name extension can be omitted (which makes the statement look the same on all architectures).</p>
<p>The shared library must be located in the plugin directory (that is,
the directory named by the <a href="https://mariadb.com/kb/en/server-system-variables/#plugin_dir">plugin_dir</a> system variable). The library must be in the plugin directory itself, not in a subdirectory. By
default, <code>plugin_dir</code> is plugin directory under the directory named by
the <code>pkglibdir</code> configuration variable, but it can be changed by setting
the value of <code class="highlight fixed" style="white-space:pre-wrap">plugin_dir</code> at server startup. For example, set
its value in a <code>my.cnf</code> file:</p>
<pre class="highlight fixed"><p>[mysqld]
plugin_dir=/path/to/plugin/directory</p></pre><p>If the value of <a href="https://mariadb.com/kb/en/server-system-variables/#plugin_dir">plugin_dir</a> is a relative path name, it is
taken to be relative to the MySQL base directory (the value of the basedir
system variable).</p>
<p><code>INSTALL PLUGIN</code> adds a line to the <code>mysql.plugin</code> table that
describes the plugin. This table contains the plugin name and library file
name.</p>
<p><code>INSTALL PLUGIN</code> causes the server to read
option (<code>my.cnf</code>) files just as during server startup. This enables the plugin to
pick up any relevant options from those files. It is possible to add plugin
options to an option file even before loading a plugin (if the loose prefix is
used). It is also possible to uninstall a plugin, edit <code>my.cnf</code>, and install the
plugin again. Restarting the plugin this way enables it to the new option
values without a server restart.</p>
<p><code>INSTALL PLUGIN</code> also loads and initializes the plugin code to
make the plugin available for use. A plugin is initialized by executing its
initialization function, which handles any setup that the plugin must perform
before it can be used.</p>
<p>To use <code>INSTALL PLUGIN</code>, you must have the
<a href="#grant">INSERT privilege</a> for the <code>mysql.plugin</code> table.</p>
<p>At server startup, the server loads and initializes any plugin that is
listed in the <code>mysql.plugin</code> table. This means that a plugin is installed
with <code>INSTALL PLUGIN</code> only once, not every time the server
starts. Plugin loading at startup does not occur if the server is started with
the <code class="fixed" style="white-space:pre-wrap">--skip-grant-tables</code> option.</p>
<p>When the server shuts down, it executes the de-initialization function
for each plugin that is loaded so that the plugin has a chance to
perform any final cleanup.</p>
<p>If you need to load plugins for a single server startup when the
<code class="highlight fixed" style="white-space:pre-wrap">--skip-grant-tables</code> option is given (which tells the server
not to read system tables), use the 
<code class="highlight fixed" style="white-space:pre-wrap">--plugin-load</code> <a href="https://mariadb.com/kb/en/mysqld-options-full-list/">mysqld option</a>.</p>
<div class="mariadb_from_10_4_0 mariadb from_10_4_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">10.4.0</a></h5><h4 class="anchored_heading" id="install-pluginif-not-exists">IF NOT EXISTS</h4>
<p>When the <code>IF NOT EXISTS</code> clause is used, MariaDB will return a note instead of an error if the specified plugin already exists. See <a href="#show-warnings">SHOW WARNINGS</a>.</p>
</div><h2 class="anchored_heading" id="install-pluginexamples">Examples</h2>
<pre class="fixed"><span class="n">INSTALL</span> <span class="n">PLUGIN</span> <span class="n">sphinx</span> <span class="n">SONAME</span> <span class="s1">'ha_sphinx.so'</span><span class="p">;</span>
</pre><p>The extension can also be omitted:</p>
<pre class="fixed"><span class="n">INSTALL</span> <span class="n">PLUGIN</span> <span class="n">innodb</span> <span class="n">SONAME</span> <span class="s1">'ha_xtradb'</span><span class="p">;</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">MariaDB 10.4.0</a>:</p>
<pre class="fixed"><span class="n">INSTALL</span> <span class="n">PLUGIN</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">example</span> <span class="n">SONAME</span> <span class="s1">'ha_example'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">104</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">INSTALL</span> <span class="n">PLUGIN</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">example</span> <span class="n">SONAME</span> <span class="s1">'ha_example'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                            <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------------------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1968</span> <span class="o">|</span> <span class="n">Plugin</span> <span class="s1">'example'</span> <span class="n">already</span> <span class="n">installed</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------------------------------------+</span>
</pre><h2 class="anchored_heading" id="install-pluginsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/list-of-plugins/">List of Plugins</a>
</li><li><a href="#plugin-overview">Plugin Overview</a>
</li><li><a href="https://mariadb.com/kb/en/plugins-table-information-schema/">INFORMATION_SCHEMA.PLUGINS Table</a>
</li><li><a href="https://mariadb.com/kb/en/mysql_plugin/">mysql_plugin</a>
</li><li><a href="#show-plugins">SHOW PLUGINS</a>
</li><li><a href="#install-soname">INSTALL SONAME</a>
</li><li><a href="#uninstall-plugin">UNINSTALL PLUGIN</a>
</li><li><a href="#uninstall-soname">UNINSTALL SONAME</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mbr-definition">MBR Definition</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="description">Description</h2>
<p>The MBR (Minimum Bounding Rectangle), or Envelope is the bounding
geometry, formed by the minimum and maximum (X,Y) coordinates:</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">((MINX MINY, MAXX MINY, MAXX MAXY, MINX MAXY, MINX MINY))
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mbrcontains">MBRContains</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MBRContains(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns 1 or 0 to indicate whether the Minimum Bounding Rectangle of
g1 contains the Minimum Bounding Rectangle of g2. This tests the
opposite relationship as <a href="#mbrwithin">MBRWithin()</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((0 0,0 3,3 3,3 0,0 0))'</span><span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Point(1 1)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">MBRContains</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">),</span> <span class="n">MBRContains</span><span class="p">(</span><span class="o">@</span><span class="n">g2</span><span class="p">,</span><span class="o">@</span><span class="n">g1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+----------------------+</span>
<span class="o">|</span> <span class="n">MBRContains</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span> <span class="n">MBRContains</span><span class="p">(</span><span class="o">@</span><span class="n">g2</span><span class="p">,</span><span class="o">@</span><span class="n">g1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>                    <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+----------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mbrequal">MBREqual</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MBREqual(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns 1 or 0 to indicate whether the Minimum Bounding Rectangles of
the two geometries g1 and g2 are the same.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span><span class="o">=</span><span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'LINESTRING(0 0, 1 2)'</span><span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span><span class="o">=</span><span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POLYGON((0 0, 0 2, 1 2, 1 0, 0 0))'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">MbrEqual</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">MbrEqual</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span>                 <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g1</span><span class="o">=</span><span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'LINESTRING(0 0, 1 3)'</span><span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span><span class="o">=</span><span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POLYGON((0 0, 0 2, 1 4, 1 0, 0 0))'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">MbrEqual</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">MbrEqual</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="uninstall-plugin">UNINSTALL PLUGIN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="uninstall-pluginsyntax">Syntax</h2>
<pre class="highlight fixed"><p>UNINSTALL PLUGIN [IF EXISTS] plugin_name</p></pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_4_0"><a href="#uninstall-pluginsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_4_0"><a href="#uninstall-plugindescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_4_0"><a href="#uninstall-pluginif-exists" title="IF EXISTS">IF EXISTS</a> </li></ol>
</li>
<li class="mariadb_from_10_4_0"><a href="#uninstall-pluginexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_4_0"><a href="#uninstall-pluginsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="uninstall-plugindescription">Description</h2>
<p>This statement removes a single installed <a href="https://mariadb.com/kb/en/mariadb-plugins/">plugin</a>. To uninstall the whole library which contains the plugin, use <a href="#uninstall-soname">UNINSTALL SONAME</a>. You cannot uninstall a plugin if any table that uses it is open.</p>
<p><code class="highlight fixed" style="white-space:pre-wrap">plugin_name</code> must be the name of some plugin that is listed
in the <a href="https://mariadb.com/kb/en/mysqlplugin-table/">mysql.plugin</a> table. The server executes the plugin's deinitialization
function and removes the row for the plugin from the <code>mysql.plugin</code>
table, so that subsequent server restarts will not load and initialize
the plugin. <code class="highlight fixed" style="white-space:pre-wrap">UNINSTALL PLUGIN</code> does not remove the plugin's
shared library file.</p>
<p>To use <code class="highlight fixed" style="white-space:pre-wrap">UNINSTALL PLUGIN</code>, you must have the
<a href="#grant">DELETE</a> privilege for the <a href="https://mariadb.com/kb/en/mysqlplugin-table/">mysql.plugin</a> table.</p>
<div class="mariadb_from_10_4_0 mariadb from_10_4_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">10.4.0</a></h5><h4 class="anchored_heading" id="uninstall-pluginif-exists">IF EXISTS</h4>
<p>If the <code>IF EXISTS</code> clause is used, MariaDB will return a note instead of an error if the plugin does not exist. See <a href="#show-warnings">SHOW WARNINGS</a>.</p>
</div><h2 class="anchored_heading" id="uninstall-pluginexamples">Examples</h2>
<pre class="fixed"><span class="n">UNINSTALL</span> <span class="n">PLUGIN</span> <span class="n">example</span><span class="p">;</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">MariaDB 10.4.0</a>:</p>
<pre class="fixed"><span class="n">UNINSTALL</span> <span class="n">PLUGIN</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">example</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">099</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">UNINSTALL</span> <span class="n">PLUGIN</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">example</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+-------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+-------------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1305</span> <span class="o">|</span> <span class="n">PLUGIN</span> <span class="n">example</span> <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+-------------------------------+</span>
</pre><h2 class="anchored_heading" id="uninstall-pluginsee-also">See Also</h2>
<ul start="1"><li><a href="#plugin-overview">Plugin Overview</a>
</li><li><a href="https://mariadb.com/kb/en/mysql_plugin/">mysql_plugin</a>
</li><li><a href="#install-plugin">INSTALL PLUGIN</a>
</li><li><a href="https://mariadb.com/kb/en/list-of-plugins/">List of Plugins</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="install-soname">INSTALL SONAME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="install-sonamesyntax">Syntax</h2>
<pre class="highlight fixed"><p>INSTALL SONAME 'plugin_library'</p></pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#install-sonamesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#install-sonamedescription" title="Description">Description</a></li>
<li class=""><a href="#install-sonameexamples" title="Examples">Examples</a></li>
<li class=""><a href="#install-sonamesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="install-sonamedescription">Description</h2>
<p>This statement is a variant of <a href="#install-plugin">INSTALL PLUGIN</a>. It installs <strong>all</strong> <a href="https://mariadb.com/kb/en/mariadb-plugins/">plugins</a> from a given <code>plugin_library</code>. See <a href="#install-plugin">INSTALL PLUGIN</a> for details.</p>
<p><code class="highlight fixed" style="white-space:pre-wrap">plugin_library</code> is the name of the shared library that
contains the plugin code. The file name extension (for
example, <code>libmyplugin.so</code> or <code>libmyplugin.dll</code>) can be omitted (which makes the statement look the same on all architectures).</p>
<p>The shared library must be located in the plugin directory (that is,
the directory named by the <code><a href="https://mariadb.com/kb/en/server-system-variables/#plugin_dir">plugin_dir</a></code> system variable). The library must be in the plugin directory itself, not in a subdirectory. By
default, <code>plugin_dir</code> is plugin directory under the directory named by
the <code>pkglibdir</code> configuration variable, but it can be changed by setting
the value of <code class="highlight fixed" style="white-space:pre-wrap">plugin_dir</code> at server startup. For example, set
its value in a <code>my.cnf</code> file:</p>
<pre class="highlight fixed"><p>[mysqld]
plugin_dir=/path/to/plugin/directory</p></pre><p>If the value of <a href="https://mariadb.com/kb/en/server-system-variables/#plugin_dir">plugin_dir</a> is a relative path name, it is
taken to be relative to the MySQL base directory (the value of the <code>basedir</code>
system variable).</p>
<p><code class="highlight fixed" style="white-space:pre-wrap">INSTALL SONAME</code> adds one or more lines to the <code>mysql.plugin</code> table that
describes the plugin. This table contains the plugin name and library file
name.</p>
<p><code class="highlight fixed" style="white-space:pre-wrap">INSTALL SONAME</code> causes the server to read
option (<code>my.cnf</code>) files just as during server startup. This enables the plugin to
pick up any relevant options from those files. It is possible to add plugin
options to an option file even before loading a plugin (if the loose prefix is
used). It is also possible to uninstall a plugin, edit <code>my.cnf</code>, and install the
plugin again. Restarting the plugin this way enables it to the new option
values without a server restart.</p>
<p><code class="highlight fixed" style="white-space:pre-wrap">INSTALL SONAME</code> also loads and initializes the plugin code to
make the plugin available for use. A plugin is initialized by executing its
initialization function, which handles any setup that the plugin must perform
before it can be used.</p>
<p>To use <code class="highlight fixed" style="white-space:pre-wrap">INSTALL SONAME</code>, you must have the
<a href="#grant">INSERT privilege</a> for the <code>mysql.plugin</code> table.</p>
<p>At server startup, the server loads and initializes any plugin that is
listed in the <code>mysql.plugin</code> table. This means that a plugin is installed
with <code class="fixed" style="white-space:pre-wrap">INSTALL SONAME</code> only once, not every time the server
starts. Plugin loading at startup does not occur if the server is started with
the <code class="fixed" style="white-space:pre-wrap">--skip-grant-tables</code> option.</p>
<p>When the server shuts down, it executes the de-initialization function
for each plugin that is loaded so that the plugin has a chance to
perform any final cleanup.</p>
<p>If you need to load plugins for a single server startup when the
<code class="highlight fixed" style="white-space:pre-wrap">--skip-grant-tables</code> option is given (which tells the server
not to read system tables), use the 
<code class="highlight fixed" style="white-space:pre-wrap">--plugin-load</code> <a href="https://mariadb.com/kb/en/mysqld-options-full-list/">mysqld option</a>.</p>
<p>If you need to install only one plugin from a library, use the <a href="#install-plugin">INSTALL PLUGIN</a> statement.</p>
<h2 class="anchored_heading" id="install-sonameexamples">Examples</h2>
<p>To load the XtraDB storage engine and all of its <code>information_schema</code> tables with one statement, use</p>
<pre class="fixed"><span class="n">INSTALL</span> <span class="n">SONAME</span> <span class="s1">'ha_xtradb'</span><span class="p">;</span>
</pre><p>This statement can be used instead of <code>INSTALL PLUGIN</code> even when the library contains only one plugin:</p>
<pre class="fixed"><span class="n">INSTALL</span> <span class="n">SONAME</span> <span class="s1">'ha_sequence'</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="install-sonamesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/list-of-plugins/">List of Plugins</a>
</li><li><a href="#plugin-overview">Plugin Overview</a>
</li><li><a href="#show-plugins">SHOW PLUGINS</a>
</li><li><a href="#install-plugin">INSTALL PLUGIN</a>
</li><li><a href="#uninstall-plugin">UNINSTALL PLUGIN</a>
</li><li><a href="#uninstall-soname">UNINSTALL SONAME</a>
</li><li><a href="#show-plugins">SHOW PLUGINS</a>
</li><li><a href="https://mariadb.com/kb/en/plugins-table-information-schema/">INFORMATION_SCHEMA.PLUGINS Table</a>
</li><li><a href="https://mariadb.com/kb/en/mysql_plugin/">mysql_plugin</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="uninstall-soname">UNINSTALL SONAME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="uninstall-sonamesyntax">Syntax</h2>
<pre class="highlight fixed"><p>UNINSTALL SONAME  [IF EXISTS] 'plugin_library'</p></pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_4_0"><a href="#uninstall-sonamesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_4_0"><a href="#uninstall-sonamedescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_4_0"><a href="#uninstall-sonameif-exists" title="IF EXISTS">IF EXISTS</a> </li></ol>
</li>
<li class="mariadb_from_10_4_0"><a href="#uninstall-sonameexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_4_0"><a href="#uninstall-sonamesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="uninstall-sonamedescription">Description</h2>
<p>This statement is a variant of <a href="#uninstall-plugin">UNINSTALL PLUGIN</a> statement, that removes all <a href="https://mariadb.com/kb/en/mariadb-plugins/">plugins</a> belonging to a specified <code>plugin_library</code>. See <a href="#uninstall-plugin">UNINSTALL PLUGIN</a> for details.</p>
<p><code class="highlight fixed" style="white-space:pre-wrap">plugin_library</code> is the name of the shared library that
contains the plugin code. The file name extension (for
example, <code>libmyplugin.so</code> or <code>libmyplugin.dll</code>) can be omitted (which makes the statement look the same on all architectures).</p>
<p>To use <code class="highlight fixed" style="white-space:pre-wrap">UNINSTALL SONAME</code>, you must have the
<a href="#grant">DELETE privilege</a> for the <code>mysql.plugin</code> table.</p>
<div class="mariadb_from_10_4_0 mariadb from_10_4_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">10.4.0</a></h5><h4 class="anchored_heading" id="uninstall-sonameif-exists">IF EXISTS</h4>
<p>If the <code>IF EXISTS</code> clause is used, MariaDB will return a note instead of an error if the plugin library does not exist. See <a href="#show-warnings">SHOW WARNINGS</a>.</p>
</div><h2 class="anchored_heading" id="uninstall-sonameexamples">Examples</h2>
<p>To uninstall the XtraDB plugin and all of its <code>information_schema</code> tables with one statement, use</p>
<pre class="fixed"><span class="n">UNINSTALL</span> <span class="n">SONAME</span> <span class="s1">'ha_xtradb'</span><span class="p">;</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">MariaDB 10.4.0</a>:</p>
<pre class="fixed"><span class="n">UNINSTALL</span> <span class="n">SONAME</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="s1">'ha_example'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">099</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">UNINSTALL</span> <span class="n">SONAME</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="s1">'ha_example'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+-------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                             <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+-------------------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1305</span> <span class="o">|</span> <span class="n">SONAME</span> <span class="n">ha_example</span><span class="p">.</span><span class="n">so</span> <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+-------------------------------------+</span>
</pre><h2 class="anchored_heading" id="uninstall-sonamesee-also">See Also</h2>
<ul start="1"><li><a href="#install-soname">INSTALL SONAME</a>
</li><li><a href="#show-plugins">SHOW PLUGINS</a>
</li><li><a href="#install-plugin">INSTALL PLUGIN</a>
</li><li><a href="#uninstall-plugin">UNINSTALL PLUGIN</a>
</li><li><a href="#show-plugins">SHOW PLUGINS</a>
</li><li><a href="https://mariadb.com/kb/en/plugins-table-information-schema/">INFORMATION_SCHEMA.PLUGINS Table</a>
</li><li><a href="https://mariadb.com/kb/en/mysql_plugin/">mysql_plugin</a>
</li><li><a href="https://mariadb.com/kb/en/list-of-plugins/">List of Plugins</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mbrwithin">MBRWithin</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MBRWithin(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns 1 or 0 to indicate whether the Minimum Bounding Rectangle of
g1 is within the Minimum Bounding Rectangle of g2. This tests the
opposite relationship as <a href="#mbrcontains">MBRContains()</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((0 0,0 3,3 3,3 0,0 0))'</span><span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((0 0,0 5,5 5,5 0,0 0))'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">MBRWithin</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">),</span> <span class="n">MBRWithin</span><span class="p">(</span><span class="o">@</span><span class="n">g2</span><span class="p">,</span><span class="o">@</span><span class="n">g1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+--------------------+</span>
<span class="o">|</span> <span class="n">MBRWithin</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span> <span class="n">MBRWithin</span><span class="p">(</span><span class="o">@</span><span class="n">g2</span><span class="p">,</span><span class="o">@</span><span class="n">g1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+--------------------+</span>
<span class="o">|</span>                  <span class="mi">1</span> <span class="o">|</span>                  <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+--------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="if-function">IF Function</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="if-functionsyntax">Syntax</h2>
<pre class="fixed">IF(expr1,expr2,expr3)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#if-functionsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#if-functiondescription" title="Description">Description</a></li>
<li class=""><a href="#if-functionexamples" title="Examples">Examples</a></li>
<li class=""><a href="#if-functionsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="if-functiondescription">Description</h2>
<p>If <code>expr1</code> is <code>TRUE</code> (<code>expr1 &lt;&gt; 0</code> and <code>expr1 &lt;&gt; NULL</code>) then <code>IF()</code>
returns <code>expr2</code>; otherwise it returns <code>expr3</code>. <code>IF()</code> returns a numeric
or string value, depending on the context in which it is used.</p>
<p><strong>Note:</strong> There is also an <a href="https://mariadb.com/kb/en/if-statement/">IF statement</a> which differs from the
<code>IF()</code> function described here.</p>
<h2 class="anchored_heading" id="if-functionexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">IF</span><span class="p">(</span><span class="mi">1</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="k">IF</span><span class="p">(</span><span class="mi">1</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>           <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="k">IF</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">,</span><span class="s1">'yes'</span><span class="p">,</span><span class="s1">'no'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="k">IF</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">,</span><span class="s1">'yes'</span><span class="p">,</span><span class="s1">'no'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">yes</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="k">IF</span><span class="p">(</span><span class="n">STRCMP</span><span class="p">(</span><span class="s1">'test'</span><span class="p">,</span><span class="s1">'test1'</span><span class="p">),</span><span class="s1">'no'</span><span class="p">,</span><span class="s1">'yes'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
<span class="o">|</span> <span class="k">IF</span><span class="p">(</span><span class="n">STRCMP</span><span class="p">(</span><span class="s1">'test'</span><span class="p">,</span><span class="s1">'test1'</span><span class="p">),</span><span class="s1">'no'</span><span class="p">,</span><span class="s1">'yes'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
<span class="o">|</span> <span class="k">no</span>                                    <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
</pre><h2 class="anchored_heading" id="if-functionsee-also">See Also</h2>
<p>There is also an <a href="https://mariadb.com/kb/en/if-statement/">IF statement</a>, which differs from the <code>IF()</code> function described above.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mbrdisjoint">MBRDisjoint</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MBRDisjoint(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns 1 or 0 to indicate whether the Minimum Bounding Rectangles of the two geometries g1 and g2 are disjoint. Two geometries are disjoint if they do not intersect, that is touch or overlap.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((0 0,0 3,3 3,3 0,0 0))'</span><span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((4 4,4 7,7 7,7 4,4 4))'</span><span class="p">);</span>
<span class="n">SELECTmbrdisjoint</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">mbrdisjoint</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((0 0,0 3,3 3,3 0,0 0))'</span><span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((3 3,3 6,6 6,6 3,3 3))'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">mbrdisjoint</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">mbrdisjoint</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mbrintersects">MBRIntersects</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MBRIntersects(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns 1 or 0 to indicate whether the Minimum Bounding Rectangles of the two geometries g1 and g2 intersect.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((0 0,0 3,3 3,3 0,0 0))'</span><span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((3 3,3 6,6 6,6 3,3 3))'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">mbrintersects</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="n">mbrintersects</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span>                      <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((0 0,0 3,3 3,3 0,0 0))'</span><span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((4 4,4 7,7 7,7 4,4 4))'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">mbrintersects</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="n">mbrintersects</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span>                      <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mbroverlaps">MBROverlaps</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MBROverlaps(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns 1 or 0 to indicate whether the Minimum Bounding Rectangles of
the two geometries <code>g1</code> and <code>g2</code> overlap. The term spatially overlaps is
used if two geometries intersect and their intersection results in a
geometry of the same dimension but not equal to either of the given
geometries.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((0 0,0 3,3 3,3 0,0 0))'</span><span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((4 4,4 7,7 7,7 4,4 4))'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">mbroverlaps</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">mbroverlaps</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((0 0,0 3,3 3,3 0,0 0))'</span><span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((3 3,3 6,6 6,6 3,3 3))'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">mbroverlaps</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">mbroverlaps</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((0 0,0 4,4 4,4 0,0 0))'</span><span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((3 3,3 6,6 6,6 3,3 3))'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">mbroverlaps</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">mbroverlaps</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mbrtouches">MBRTouches</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MBRTouches(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns 1 or 0 to indicate whether the Minimum Bounding Rectangles of
the two geometries <code>g1</code> and <code>g2</code> touch. Two geometries spatially touch if
the interiors of the geometries do not intersect, but the boundary of
one of the geometries intersects either the boundary or the interior
of the other.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((0 0,0 3,3 3,3 0,0 0))'</span><span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((4 4,4 7,7 7,7 4,4 4))'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">mbrtouches</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">mbrtouches</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span>                   <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((0 0,0 3,3 3,3 0,0 0))'</span><span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((3 3,3 6,6 6,6 3,3 3))'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">mbrtouches</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">mbrtouches</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span>                   <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((0 0,0 4,4 4,4 0,0 0))'</span><span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'Polygon((3 3,3 6,6 6,6 3,3 3))'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">mbrtouches</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">mbrtouches</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span>                   <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="case-operator">CASE OPERATOR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="case-operatorsyntax">Syntax</h2>
<pre class="fixed">CASE value WHEN [compare_value] THEN result [WHEN [compare_value] THEN
result ...] [ELSE result] END

CASE WHEN [condition] THEN result [WHEN [condition] THEN result ...]
[ELSE result] END
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#case-operatorsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#case-operatordescription" title="Description">Description</a></li>
<li class=""><a href="#case-operatorexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="case-operatordescription">Description</h2>
<p>The first version returns the result where value=compare_value. The
second version returns the result for the first condition that is
true.  If there was no matching result value, the result after ELSE is
returned, or NULL if there is no ELSE part.</p>
<p>There is also a <a href="#case-statement">CASE statement</a>, which differs from the CASE operator described here.</p>
<h2 class="anchored_heading" id="case-operatorexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CASE</span> <span class="mi">1</span> <span class="k">WHEN</span> <span class="mi">1</span> <span class="k">THEN</span> <span class="s1">'one'</span> <span class="k">WHEN</span> <span class="mi">2</span> <span class="k">THEN</span> <span class="s1">'two'</span> <span class="k">ELSE</span> <span class="s1">'more'</span> <span class="k">END</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">CASE</span> <span class="mi">1</span> <span class="k">WHEN</span> <span class="mi">1</span> <span class="k">THEN</span> <span class="s1">'one'</span> <span class="k">WHEN</span> <span class="mi">2</span> <span class="k">THEN</span> <span class="s1">'two'</span> <span class="k">ELSE</span> <span class="s1">'more'</span> <span class="k">END</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">one</span>                                                        <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="k">CASE</span> <span class="k">WHEN</span> <span class="mi">1</span><span class="o">&gt;</span><span class="mi">0</span> <span class="k">THEN</span> <span class="s1">'true'</span> <span class="k">ELSE</span> <span class="s1">'false'</span> <span class="k">END</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
<span class="o">|</span> <span class="k">CASE</span> <span class="k">WHEN</span> <span class="mi">1</span><span class="o">&gt;</span><span class="mi">0</span> <span class="k">THEN</span> <span class="s1">'true'</span> <span class="k">ELSE</span> <span class="s1">'false'</span> <span class="k">END</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
<span class="o">|</span> <span class="k">true</span>                                       <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>


<span class="k">SELECT</span> <span class="k">CASE</span> <span class="nb">BINARY</span> <span class="s1">'B'</span> <span class="k">WHEN</span> <span class="s1">'a'</span> <span class="k">THEN</span> <span class="mi">1</span> <span class="k">WHEN</span> <span class="s1">'b'</span> <span class="k">THEN</span> <span class="mi">2</span> <span class="k">END</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
<span class="o">|</span> <span class="k">CASE</span> <span class="nb">BINARY</span> <span class="s1">'B'</span> <span class="k">WHEN</span> <span class="s1">'a'</span> <span class="k">THEN</span> <span class="mi">1</span> <span class="k">WHEN</span> <span class="s1">'b'</span> <span class="k">THEN</span> <span class="mi">2</span> <span class="k">END</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
<span class="o">|</span>                                                <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="ifnull">IFNULL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="ifnullsyntax">Syntax</h2>
<pre class="fixed">IFNULL(expr1,expr2)
NVL(expr1,expr2)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#ifnullsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#ifnulldescription" title="Description">Description</a></li>
<li class=""><a href="#ifnullexamples" title="Examples">Examples</a></li>
<li class=""><a href="#ifnullsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="ifnulldescription">Description</h2>
<p>If <em><code>expr1</code></em> is not NULL, IFNULL() returns <em><code>expr1</code></em>; otherwise it returns
<em><code>expr2</code></em>. IFNULL() returns a numeric or string value, depending on the
context in which it is used. </p>
<p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>, NVL() is an alias for IFNULL().</p>
<h2 class="anchored_heading" id="ifnullexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">IFNULL</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span> 
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="n">IFNULL</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>

<span class="k">SELECT</span> <span class="n">IFNULL</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">IFNULL</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span>              <span class="mi">10</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>

<span class="k">SELECT</span> <span class="n">IFNULL</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">IFNULL</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span>        <span class="mi">10</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>

<span class="k">SELECT</span> <span class="n">IFNULL</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span><span class="s1">'yes'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">IFNULL</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span><span class="s1">'yes'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">yes</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
</pre><h2 class="anchored_heading" id="ifnullsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/null-values/">NULL values</a>
</li><li><a href="#is-null">IS NULL operator</a>
</li><li><a href="#is-not-null">IS NOT NULL operator</a>
</li><li><a href="#coalesce">COALESCE function</a>
</li><li><a href="#nullif">NULLIF function</a>
</li><li><a href="https://mariadb.com/kb/en/connect-data-types/#null-handling">CONNECT data types</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="nullif">NULLIF</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="nullifsyntax">Syntax</h2>
<pre class="fixed">NULLIF(expr1,expr2)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#nullifsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#nullifdescription" title="Description">Description</a></li>
<li class=""><a href="#nullifexamples" title="Examples">Examples</a></li>
<li class=""><a href="#nullifsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="nullifdescription">Description</h2>
<p>Returns NULL if expr1 = expr2 is true, otherwise returns expr1. This is
the same as <a href="#case-operator">CASE</a> WHEN expr1 = expr2 THEN NULL ELSE expr1 END.</p>
<h2 class="anchored_heading" id="nullifexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">NULLIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="k">NULLIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>        <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>

<span class="k">SELECT</span> <span class="k">NULLIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="k">NULLIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
</pre><h2 class="anchored_heading" id="nullifsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/null-values/">NULL values</a>
</li><li><a href="#is-null">IS NULL operator</a>
</li><li><a href="#is-not-null">IS NOT NULL operator</a>
</li><li><a href="#coalesce">COALESCE function</a>
</li><li><a href="#ifnull">IFNULL function</a>
</li><li><a href="https://mariadb.com/kb/en/connect-data-types/#null-handling">CONNECT data types</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="change-master-to">CHANGE MASTER TO</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="cstm-style bluebox text"><p>The terms <em>master</em> and <em>slave</em> have historically been used in replication, but the terms terms <em>primary</em> and <em>replica</em> are now preferred. The old terms are used still used in parts of the documentation, and in MariaDB commands, although <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a> has begun the process of renaming. The documentation process is ongoing. See <a href="https://jira.mariadb.org/browse/MDEV-18777">MDEV-18777</a> to follow progress on this effort.</p>
</div>
<h2 class="anchored_heading" id="change-master-tosyntax">Syntax</h2>
<pre class="fixed">CHANGE MASTER ['connection_name'] TO master_def [, master_def] ... [FOR CHANNEL 'channel_name']

master_def:
    MASTER_BIND = 'interface_name'
  | MASTER_HOST = 'host_name'
  | MASTER_USER = 'user_name'
  | MASTER_PASSWORD = 'password'
  | MASTER_PORT = port_num
  | MASTER_CONNECT_RETRY = interval
  | MASTER_HEARTBEAT_PERIOD = interval
  | MASTER_LOG_FILE = 'master_log_name'
  | MASTER_LOG_POS = master_log_pos
  | RELAY_LOG_FILE = 'relay_log_name'
  | RELAY_LOG_POS = relay_log_pos
  | MASTER_DELAY = interval
  | MASTER_SSL = {0|1}
  | MASTER_SSL_CA = 'ca_file_name'
  | MASTER_SSL_CAPATH = 'ca_directory_name'
  | MASTER_SSL_CERT = 'cert_file_name'
  | MASTER_SSL_CRL = 'crl_file_name'
  | MASTER_SSL_CRLPATH = 'crl_directory_name'
  | MASTER_SSL_KEY = 'key_file_name'
  | MASTER_SSL_CIPHER = 'cipher_list'
  | MASTER_SSL_VERIFY_SERVER_CERT = {0|1}
  | MASTER_USE_GTID = {current_pos|slave_pos|no}
  | IGNORE_SERVER_IDS = (server_id_list)
  | DO_DOMAIN_IDS = ([N,..])
  | IGNORE_DOMAIN_IDS = ([N,..])
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#change-master-tosyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-todescription" title="Description">Description</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomulti-source-replication" title="Multi-Source Replication">Multi-Source Replication</a> <ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#change-master-todefault_master_connection" title="change-master-todefault_master_connection">default_master_connection</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-toconnection_name" title="change-master-toconnection_name">connection_name</a> </li></ol>
</li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tooptions" title="Options">Options</a> <ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#change-master-toconnection-options" title="Connection Options">Connection Options</a> <ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_user" title="MASTER_USER">MASTER_USER</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_password" title="MASTER_PASSWORD">MASTER_PASSWORD</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_host" title="MASTER_HOST">MASTER_HOST</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_port" title="MASTER_PORT">MASTER_PORT</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_connect_retry" title="MASTER_CONNECT_RETRY">MASTER_CONNECT_RETRY</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_bind" title="MASTER_BIND">MASTER_BIND</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_heartbeat_period" title="MASTER_HEARTBEAT_PERIOD">MASTER_HEARTBEAT_PERIOD</a> </li></ol>
</li>
<li class="mariadb_from_10_7_0"><a href="#change-master-totls-options" title="TLS Options">TLS Options</a> <ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_ssl" title="MASTER_SSL">MASTER_SSL</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_ssl_ca" title="MASTER_SSL_CA">MASTER_SSL_CA</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_ssl_capath" title="MASTER_SSL_CAPATH">MASTER_SSL_CAPATH</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_ssl_cert" title="MASTER_SSL_CERT">MASTER_SSL_CERT</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_ssl_crl" title="MASTER_SSL_CRL">MASTER_SSL_CRL</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_ssl_crlpath" title="MASTER_SSL_CRLPATH">MASTER_SSL_CRLPATH</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_ssl_key" title="MASTER_SSL_KEY">MASTER_SSL_KEY</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_ssl_cipher" title="MASTER_SSL_CIPHER">MASTER_SSL_CIPHER</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_ssl_verify_server_cert" title="MASTER_SSL_VERIFY_SERVER_CERT">MASTER_SSL_VERIFY_SERVER_CERT</a> </li></ol>
</li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tobinary-log-options" title="Binary Log Options">Binary Log Options</a> <ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_log_file" title="MASTER_LOG_FILE">MASTER_LOG_FILE</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_log_pos" title="MASTER_LOG_POS">MASTER_LOG_POS</a> </li></ol>
</li>
<li class="mariadb_from_10_7_0"><a href="#change-master-torelay-log-options" title="Relay Log Options">Relay Log Options</a> <ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#change-master-torelay_log_file" title="RELAY_LOG_FILE">RELAY_LOG_FILE</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-torelay_log_pos" title="RELAY_LOG_POS">RELAY_LOG_POS</a> </li></ol>
</li>
<li class="mariadb_from_10_7_0"><a href="#change-master-togtid-options" title="GTID Options">GTID Options</a> <ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_use_gtid" title="MASTER_USE_GTID">MASTER_USE_GTID</a> </li></ol>
</li>
<li class="mariadb_from_10_7_0"><a href="#change-master-toreplication-filter-options" title="Replication Filter Options">Replication Filter Options</a> <ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#change-master-toignore_server_ids" title="IGNORE_SERVER_IDS">IGNORE_SERVER_IDS</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-todo_domain_ids" title="DO_DOMAIN_IDS">DO_DOMAIN_IDS</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-toignore_domain_ids" title="IGNORE_DOMAIN_IDS">IGNORE_DOMAIN_IDS</a> </li></ol>
</li>
<li class="mariadb_from_10_7_0"><a href="#change-master-todelayed-replication-options" title="Delayed Replication Options">Delayed Replication Options</a> <ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#change-master-tomaster_delay" title="MASTER_DELAY">MASTER_DELAY</a> </li></ol>
</li></ol>
</li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tochanging-option-values" title="Changing Option Values">Changing Option Values</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tooption-persistence" title="Option Persistence">Option Persistence</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-togtid-persistence" title="GTID Persistence">GTID Persistence</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tocreating-a-slave-from-a-backup" title="Creating a Slave from a Backup">Creating a Slave from a Backup</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-toexample" title="Example">Example</a></li>
<li class="mariadb_from_10_7_0"><a href="#change-master-tosee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="change-master-todescription">Description</h2>
<p>The <code>CHANGE MASTER</code> statement sets the options that a <a href="https://mariadb.com/kb/en/replication/">replica</a> uses to connect to and replicate from a <a href="https://mariadb.com/kb/en/replication/">primary</a>. </p>
<div class="mariadb_from_10_7_0 mariadb from_10_7_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1070-release-notes/">10.7.0</a></h5><p>The <code>FOR CHANNEL</code> keyword was added for MySQL compatibility. This is identical to
using the channel_name directly after <code>CHANGE MASTER</code>.</p>
</div><h2 class="anchored_heading" id="change-master-tomulti-source-replication">Multi-Source Replication</h2>
<p>If you are using <a href="https://mariadb.com/kb/en/multi-source-replication/">multi-source replication</a>, then you need to specify a connection name when you execute <code>CHANGE MASTER</code>. There are two ways to do this:</p>
<ul start="1"><li>Setting the <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#default_master_connection">default_master_connection</a> system variable prior to executing <code>CHANGE MASTER</code>.
</li><li>Setting the <code>connection_name</code> parameter when executing <code>CHANGE MASTER</code>.
</li></ul>
<h3 class="anchored_heading" id="change-master-todefault_master_connection"><code>default_master_connection</code></h3>
<pre class="fixed"><span class="kt">SET</span> <span class="n">default_master_connection</span> <span class="o">=</span> <span class="s1">'gandalf'</span><span class="p">;</span>
<span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">'new3cret'</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><h3 class="anchored_heading" id="change-master-toconnection_name"><code>connection_name</code></h3>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span> <span class="s1">'gandalf'</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="s1">'gandalf'</span> <span class="k">TO</span> 
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">'new3cret'</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span> <span class="s1">'gandalf'</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="change-master-tooptions">Options</h2>
<h3 class="anchored_heading" id="change-master-toconnection-options">Connection Options</h3>
<h4 class="anchored_heading" id="change-master-tomaster_user"><code>MASTER_USER</code></h4>
<p>The <code>MASTER_USER</code> option for <code>CHANGE MASTER</code> defines the user account that the <a href="https://mariadb.com/kb/en/replication/">replica</a> will use to connect to the <a href="https://mariadb.com/kb/en/replication/">primary</a>.</p>
<p>This user account will need the <a ">REPLICATION SLAVE</a> privilege (or, from <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>, the <a ">REPLICATION REPLICA</a> on the primary.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_USER</span><span class="o">=</span><span class="s1">'repl'</span><span class="p">,</span>
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">'new3cret'</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>The maximum length of the <code>MASTER_USER</code> string is 96 characters until <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a>, and 128 characters from <a href="https://mariadb.com/kb/en/what-is-mariadb-106/">MariaDB 10.6</a>.</p>
<h4 class="anchored_heading" id="change-master-tomaster_password"><code>MASTER_PASSWORD</code></h4>
<p>The <code>MASTER_USER</code> option for <code>CHANGE MASTER</code> defines the password that the <a href="https://mariadb.com/kb/en/replication/">replica</a> will use to connect to the <a href="https://mariadb.com/kb/en/replication/">primary</a> as the user account defined by the <a href="#change-master-tomaster_user">MASTER_USER</a> option.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">'new3cret'</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>The maximum length of the <code>MASTER_PASSWORD</code> string is 32 characters.</p>
<h4 class="anchored_heading" id="change-master-tomaster_host"><code>MASTER_HOST</code></h4>
<p>The <code>MASTER_HOST</code> option for <code>CHANGE MASTER</code> defines the hostname or IP address of the <a href="https://mariadb.com/kb/en/replication/">primary</a>.</p>
<p>If you set the value of the <code>MASTER_HOST</code> option to the empty string, then that is not the same as not setting the option's value at all. If you set the value of the <code>MASTER_HOST</code> option to the empty string, then the <code>CHANGE MASTER</code> command will fail with an error. In <a href="https://mariadb.com/kb/en/what-is-mariadb-53/">MariaDB 5.3</a> and before, if you set the value of the <code>MASTER_HOST</code> option to the empty string, then the <code>CHANGE MASTER</code> command would succeed, but the subsequent <a href="#start-slave">START SLAVE</a> command would fail.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_HOST</span><span class="o">=</span><span class="s1">'dbserver1.example.com'</span><span class="p">,</span>
   <span class="n">MASTER_USER</span><span class="o">=</span><span class="s1">'repl'</span><span class="p">,</span>
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">'new3cret'</span><span class="p">,</span>
   <span class="n">MASTER_USE_GTID</span><span class="o">=</span><span class="n">slave_pos</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><div class="cstm-style greenbox"><p>If you set the value of the <code>MASTER_HOST</code> option in a <code>CHANGE MASTER</code> command, then the replica assumes that the primary is different from before, even if you set the value of this option to the same value it had previously. In this scenario, the replica will consider the old values for the primary's <a href="https://mariadb.com/kb/en/binary-log/">binary
log</a> file name and position to be invalid for the new primary. As a side effect, if you do not explicitly set the values of the <a href="#change-master-tomaster_log_file">MASTER_LOG_FILE</a> and <a href="#change-master-tomaster_log_pos">MASTER_LOG_POS</a> options in the statement, then the statement will be implicitly appended with <code>MASTER_LOG_FILE=''</code> and <code>MASTER_LOG_POS=4</code>. However, if you enable <a href="https://mariadb.com/kb/en/gtid/">GTID</a> mode for replication by setting the <a href="#change-master-tomaster_use_gtid">MASTER_USE_GTID</a> option to some value other than <code>no</code> in the statement, then these values will effectively be ignored anyway.</p>
</div><div class="cstm-style greenbox"><p>Replicas cannot connect to primaries using Unix socket files or Windows named pipes. The replica must connect to the primary using TCP/IP.</p>
</div><p>The maximum length of the <code>MASTER_HOST</code> string is 60 characters until <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a>, and 255 characters from <a href="https://mariadb.com/kb/en/what-is-mariadb-106/">MariaDB 10.6</a>.</p>
<h4 class="anchored_heading" id="change-master-tomaster_port"><code>MASTER_PORT</code></h4>
<p>The <code>MASTER_PORT</code> option for <code>CHANGE MASTER</code> defines the TCP/IP port of the <a href="https://mariadb.com/kb/en/replication/">primary</a>.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_HOST</span><span class="o">=</span><span class="s1">'dbserver1.example.com'</span><span class="p">,</span>
   <span class="n">MASTER_PORT</span><span class="o">=</span><span class="mi">3307</span><span class="p">,</span>
   <span class="n">MASTER_USER</span><span class="o">=</span><span class="s1">'repl'</span><span class="p">,</span>
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">'new3cret'</span><span class="p">,</span>
   <span class="n">MASTER_USE_GTID</span><span class="o">=</span><span class="n">slave_pos</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><div class="cstm-style greenbox"><p>If you set the value of the <code>MASTER_PORT</code> option in a <code>CHANGE MASTER</code> command, then the replica assumes that the primary is different from before, even if you set the value of this option to the same value it had previously. In this scenario, the replica will consider the old values for the primary's <a href="https://mariadb.com/kb/en/binary-log/">binary
log</a> file name and position to be invalid for the new primary. As a side effect, if you do not explicitly set the values of the <a href="#change-master-tomaster_log_file">MASTER_LOG_FILE</a> and <a href="#change-master-tomaster_log_pos">MASTER_LOG_POS</a> options in the statement, then the statement will be implicitly appended with <code>MASTER_LOG_FILE=''</code> and <code>MASTER_LOG_POS=4</code>. However, if you enable <a href="https://mariadb.com/kb/en/gtid/">GTID</a> mode for replication by setting the <a href="#change-master-tomaster_use_gtid">MASTER_USE_GTID</a> option to some value other than <code>no</code> in the statement, then these values will effectively be ignored anyway.</p>
</div><div class="cstm-style greenbox"><p>Replicas cannot connect to primaries using Unix socket files or Windows named pipes. The replica must connect to the primary using TCP/IP.</p>
</div><h4 class="anchored_heading" id="change-master-tomaster_connect_retry"><code>MASTER_CONNECT_RETRY</code></h4>
<p>The <code>MASTER_CONNECT_RETRY</code> option for <code>CHANGE MASTER</code> defines how many seconds that the replica will wait between connection retries. The default is <code>60</code>.</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">MASTER_CONNECT_RETRY</span><span class="o">=</span><span class="mi">20</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>The number of connection attempts is limited by the <a href="https://mariadb.com/kb/en/mysqld-options/#-master-retry-count">master_retry_count</a> option. It can be set either on the command-line or in a server <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/">option file</a> prior to starting up the server. For example:</p>
<pre class="fixed">[mariadb]
...
master_retry_count=4294967295
</pre><h4 class="anchored_heading" id="change-master-tomaster_bind"><code>MASTER_BIND</code></h4>
<div class="cstm-style redbox"><p>The <code>MASTER_BIND</code> option for <code>CHANGE MASTER</code> is only supported by MySQL 5.6.2 and later and by MySQL NDB Cluster 7.3.1 and later. This option is not supported by MariaDB. See <a href="https://jira.mariadb.org/browse/MDEV-19248">MDEV-19248</a> for more information.</p>
</div><p>The <code>MASTER_BIND</code> option for <code>CHANGE MASTER</code> can be used on replicas that have multiple network interfaces to choose which network interface the replica will use to connect to the primary.</p>
<h4 class="anchored_heading" id="change-master-tomaster_heartbeat_period"><code>MASTER_HEARTBEAT_PERIOD</code></h4>
<p>The <code>MASTER_HEARTBEAT_PERIOD</code> option for <code>CHANGE MASTER</code> can be used to set the interval in seconds between replication heartbeats. Whenever the primary's <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> is updated with an event, the waiting period for the next heartbeat is reset.</p>
<p>This option's <em>interval</em> argument has the following characteristics:</p>
<ul start="1"><li>It is a decimal value with a range of <code>0</code> to <code>4294967</code> seconds.
</li><li>It has a resolution of hundredths of a second.
</li><li>Its smallest valid non-zero value is <code>0.001</code>.
</li><li>Its default value is the value of the <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#slave_net_timeout">slave_net_timeout</a> system variable divided by 2.
</li><li>If it's set to <code>0</code>, then heartbeats are disabled.
</li></ul>
<p>Heartbeats are sent by the primary only if there are no unsent events in the binary log file for a period longer than the interval.</p>
<p>If the <a href="#reset-slave-connection_name">RESET SLAVE</a> statement is executed, then the heartbeat interval is reset to the default.</p>
<div class="cstm-style greenbox"><p>If the <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#slave_net_timeout">slave_net_timeout</a> system variable is set to a value that is lower than the current heartbeat interval, then a warning will be issued.</p>
</div><h3 class="anchored_heading" id="change-master-totls-options">TLS Options</h3>
<p>The TLS options are used for providing information about <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. The options can be set even on replicas that are compiled without TLS support. The TLS options are saved to either the default <code>master.info</code> file or the file that is configured by the <a href="https://mariadb.com/kb/en/mysqld-options/#-master-info-file">master_info_file</a> option, but these TLS options are ignored unless the replica supports TLS.</p>
<p>See <a href="https://mariadb.com/kb/en/replication-with-secure-connections/">Replication with Secure Connections</a> for more information.</p>
<h4 class="anchored_heading" id="change-master-tomaster_ssl"><code>MASTER_SSL</code></h4>
<p>The <code>MASTER_SSL</code> option for <code>CHANGE MASTER</code> tells the replica whether to force <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a> for the connection. The valid values are <code>0</code> or <code>1</code>.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><h4 class="anchored_heading" id="change-master-tomaster_ssl_ca"><code>MASTER_SSL_CA</code></h4>
<p>The <code>MASTER_SSL_CA</code> option for <code>CHANGE MASTER</code> defines a path to a PEM file that should contain one or more X509 certificates for trusted Certificate Authorities (CAs) to use for <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path. This option implies the <a href="#change-master-tomaster_ssl">MASTER_SSL</a> option.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-cert.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-key.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CA</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/ca.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>See <a href="https://mariadb.com/kb/en/secure-connections-overview/#certificate-authorities-cas">Secure Connections Overview: Certificate Authorities (CAs)</a> for more information.</p>
<p>The maximum length of <code>MASTER_SSL_CA</code> string is 511 characters.</p>
<h4 class="anchored_heading" id="change-master-tomaster_ssl_capath"><code>MASTER_SSL_CAPATH</code></h4>
<p>The <code>MASTER_SSL_CAPATH</code> option for <code>CHANGE MASTER</code> defines a path to a directory that contains one or more PEM files that should each contain one X509 certificate for a trusted Certificate Authority (CA) to use for <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path. The directory specified by this option needs to be run through the <a href="https://www.openssl.org/docs/man1.1.1/man1/rehash.html">openssl rehash</a> command. This option implies the <a href="#change-master-tomaster_ssl">MASTER_SSL</a> option.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-cert.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-key.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CAPATH</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/ca/'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>See <a href="https://mariadb.com/kb/en/secure-connections-overview/#certificate-authorities-cas">Secure Connections Overview: Certificate Authorities (CAs)</a> for more information.</p>
<p>The maximum length of <code>MASTER_SSL_CA_PATH</code> string is 511 characters.</p>
<h4 class="anchored_heading" id="change-master-tomaster_ssl_cert"><code>MASTER_SSL_CERT</code></h4>
<p>The <code>MASTER_SSL_CERT</code> option for <code>CHANGE MASTER</code> defines a path to the X509 certificate file to use for <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path. This option implies the <a href="#change-master-tomaster_ssl">MASTER_SSL</a> option.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-cert.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-key.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CA</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/ca.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>The maximum length of <code>MASTER_SSL_CERT</code> string is 511 characters.</p>
<h4 class="anchored_heading" id="change-master-tomaster_ssl_crl"><code>MASTER_SSL_CRL</code></h4>
<p>The <code>MASTER_SSL_CRL</code> option for <code>CHANGE MASTER</code> defines a path to a PEM file that should contain one or more revoked X509 certificates to use for <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path.</p>
<p>This option is only supported if the server was built with OpenSSL. If the server was built with yaSSL, then this option is not supported. See <a href="https://mariadb.com/kb/en/tls-and-cryptography-libraries-used-by-mariadb/">TLS and Cryptography Libraries Used by MariaDB</a> for more information about which libraries are used on which platforms.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-cert.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-key.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CA</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/ca.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CRL</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/crl.pem'</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>See <a href="https://mariadb.com/kb/en/secure-connections-overview/#certificate-revocation-lists-crls">Secure Connections Overview: Certificate Revocation Lists (CRLs)</a> for more information.</p>
<p>The maximum length of <code>MASTER_SSL_CRL</code> string is 511 characters.</p>
<h4 class="anchored_heading" id="change-master-tomaster_ssl_crlpath"><code>MASTER_SSL_CRLPATH</code></h4>
<p>The <code>MASTER_SSL_CRLPATH</code> option for <code>CHANGE MASTER</code> defines a path to a directory that contains one or more PEM files that should each contain one revoked X509 certificate to use for <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path. The directory specified by this variable needs to be run through the <a href="https://www.openssl.org/docs/man1.1.1/man1/rehash.html">openssl rehash</a> command.</p>
<p>This option is only supported if the server was built with OpenSSL. If the server was built with yaSSL, then this option is not supported. See <a href="https://mariadb.com/kb/en/tls-and-cryptography-libraries-used-by-mariadb/">TLS and Cryptography Libraries Used by MariaDB</a> for more information about which libraries are used on which platforms.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-cert.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-key.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CA</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/ca.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CRLPATH</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/crl/'</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>See <a href="https://mariadb.com/kb/en/secure-connections-overview/#certificate-revocation-lists-crls">Secure Connections Overview: Certificate Revocation Lists (CRLs)</a> for more information.</p>
<p>The maximum length of <code>MASTER_SSL_CRL_PATH</code> string is 511 characters.</p>
<h4 class="anchored_heading" id="change-master-tomaster_ssl_key"><code>MASTER_SSL_KEY</code></h4>
<p>The <code>MASTER_SSL_KEY</code> option for <code>CHANGE MASTER</code> defines a path to a private key file to use for <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path. This option implies the <a href="#change-master-tomaster_ssl">MASTER_SSL</a> option.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-cert.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-key.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CA</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/ca.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>The maximum length of <code>MASTER_SSL_KEY</code> string is 511 characters.</p>
<h4 class="anchored_heading" id="change-master-tomaster_ssl_cipher"><code>MASTER_SSL_CIPHER</code></h4>
<p>The <code>MASTER_SSL_CIPHER</code> option for <code>CHANGE MASTER</code> defines the list of permitted ciphers or cipher suites to use for <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. Besides cipher names, if MariaDB was compiled with OpenSSL, this option could be set to "SSLv3" or "TLSv1.2" to allow all SSLv3 or all TLSv1.2 ciphers. Note that the TLSv1.3 ciphers cannot be excluded when using OpenSSL, even by using this option. See <a href="https://mariadb.com/kb/en/using-tlsv13/">Using TLSv1.3</a> for details. This option implies the <a href="#change-master-tomaster_ssl">MASTER_SSL</a> option.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-cert.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-key.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CA</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/ca.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CIPHER</span><span class="o">=</span><span class="s1">'TLSv1.2'</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>The maximum length of <code>MASTER_SSL_CIPHER</code> string is 511 characters.</p>
<h4 class="anchored_heading" id="change-master-tomaster_ssl_verify_server_cert"><code>MASTER_SSL_VERIFY_SERVER_CERT</code></h4>
<p>The <code>MASTER_SSL_VERIFY_SERVER_CERT</code> option for <code>CHANGE MASTER</code> enables <a href="https://mariadb.com/kb/en/secure-connections-overview/#server-certificate-verification">server certificate verification</a>. This option is disabled by default.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-cert.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/server-key.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CA</span><span class="o">=</span><span class="s1">'/etc/my.cnf.d/certificates/ca.pem'</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>See <a href="https://mariadb.com/kb/en/secure-connections-overview/#server-certificate-verification">Secure Connections Overview: Server Certificate Verification</a> for more information.</p>
<h3 class="anchored_heading" id="change-master-tobinary-log-options">Binary Log Options</h3>
<p>These options are related to the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> position on the primary.</p>
<h4 class="anchored_heading" id="change-master-tomaster_log_file"><code>MASTER_LOG_FILE</code></h4>
<p>The <code>MASTER_LOG_FILE</code> option for <code>CHANGE MASTER</code> can be used along with <code>MASTER_LOG_POS</code> to specify the coordinates at which the <a href="https://mariadb.com/kb/en/replication-threads/#slave-io-thread">replica's I/O thread</a> should begin reading from the primary's <a href="https://mariadb.com/kb/en/binary-log/">binary logs</a> the next time the thread starts.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_LOG_FILE</span><span class="o">=</span><span class="s1">'master2-bin.001'</span><span class="p">,</span>
   <span class="n">MASTER_LOG_POS</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><div class="cstm-style greenbox"><p>The <a href="#change-master-tomaster_log_file">MASTER_LOG_FILE</a> and <a href="#change-master-tomaster_log_pos">MASTER_LOG_POS</a> options cannot be specified if the <a href="#change-master-torelay_log_file">RELAY_LOG_FILE</a> and <a href="#change-master-torelay_log_pos">RELAY_LOG_POS</a> options were also specified.</p>
</div><div class="cstm-style greenbox"><p>The <a href="#change-master-tomaster_log_file">MASTER_LOG_FILE</a> and <a href="#change-master-tomaster_log_pos">MASTER_LOG_POS</a> options are effectively ignored if you enable <a href="https://mariadb.com/kb/en/gtid/">GTID</a> mode for replication by setting the <a href="#change-master-tomaster_use_gtid">MASTER_USE_GTID</a> option to some value other than <code>no</code> in the statement.</p>
</div><h4 class="anchored_heading" id="change-master-tomaster_log_pos"><code>MASTER_LOG_POS</code></h4>
<p>The <code>MASTER_LOG_POS</code> option for <code>CHANGE MASTER</code> can be used along with <code>MASTER_LOG_FILE</code> to specify the coordinates at which the <a href="https://mariadb.com/kb/en/replication-threads/#slave-io-thread">replica's I/O thread</a> should begin reading from the primary's <a href="https://mariadb.com/kb/en/binary-log/">binary logs</a> the next time the thread starts.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_LOG_FILE</span><span class="o">=</span><span class="s1">'master2-bin.001'</span><span class="p">,</span>
   <span class="n">MASTER_LOG_POS</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><div class="cstm-style greenbox"><p>The <a href="#change-master-tomaster_log_file">MASTER_LOG_FILE</a> and <a href="#change-master-tomaster_log_pos">MASTER_LOG_POS</a> options cannot be specified if the <a href="#change-master-torelay_log_file">RELAY_LOG_FILE</a> and <a href="#change-master-torelay_log_pos">RELAY_LOG_POS</a> options were also specified.</p>
</div><div class="cstm-style greenbox"><p>The <a href="#change-master-tomaster_log_file">MASTER_LOG_FILE</a> and <a href="#change-master-tomaster_log_pos">MASTER_LOG_POS</a> options are effectively ignored if you enable <a href="https://mariadb.com/kb/en/gtid/">GTID</a> mode for replication by setting the <a href="#change-master-tomaster_use_gtid">MASTER_USE_GTID</a> option to some value other than <code>no</code> in the statement.</p>
</div><h3 class="anchored_heading" id="change-master-torelay-log-options">Relay Log Options</h3>
<p>These options are related to the <a href="https://mariadb.com/kb/en/relay-log/">relay log</a> position on the replica.</p>
<h4 class="anchored_heading" id="change-master-torelay_log_file"><code>RELAY_LOG_FILE</code></h4>
<p>The <code>RELAY_LOG_FILE</code> option for <code>CHANGE MASTER</code> can be used along with the <a href="#change-master-torelay_log_pos">RELAY_LOG_POS</a> option to specify the coordinates at which the <a href="https://mariadb.com/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread</a> should begin reading from the <a href="https://mariadb.com/kb/en/relay-log/">relay log</a> the next time the thread starts.</p>
<p>The <code>CHANGE MASTER</code> statement usually deletes all <a href="https://mariadb.com/kb/en/relay-log/">relay log</a> files. However, if the <code>RELAY_LOG_FILE</code> and/or <code>RELAY_LOG_POS</code> options are specified, then existing <a href="https://mariadb.com/kb/en/relay-log/">relay log</a> files are kept.</p>
<p>When you want to change the <a href="https://mariadb.com/kb/en/relay-log/">relay log</a> position, you only need to stop the <a href="https://mariadb.com/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread</a>. The <a href="https://mariadb.com/kb/en/replication-threads/#slave-io-thread">replica's I/O thread</a> can continue running. The <a href="#stop-slave">STOP SLAVE</a> and <a href="#start-slave">START SLAVE</a> statements support the <code>SQL_THREAD</code> option for this scenario. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span> <span class="n">SQL_THREAD</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">RELAY_LOG_FILE</span><span class="o">=</span><span class="s1">'slave-relay-bin.006'</span><span class="p">,</span>
   <span class="n">RELAY_LOG_POS</span><span class="o">=</span><span class="mi">4025</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span> <span class="n">SQL_THREAD</span><span class="p">;</span>
</pre><p>When the value of this option is changed, the metadata about the <a href="https://mariadb.com/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread's</a> position in the <a href="https://mariadb.com/kb/en/relay-log/">relay logs</a> will also be changed in the <code>relay-log.info</code> file or the file that is configured by the <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#relay_log_info_file">relay_log_info_file</a> system variable.</p>
<div class="cstm-style greenbox"><p>The <a href="#change-master-torelay_log_file">RELAY_LOG_FILE</a> and <a href="#change-master-torelay_log_pos">RELAY_LOG_POS</a> options cannot be specified if the <a href="#change-master-tomaster_log_file">MASTER_LOG_FILE</a> and <a href="#change-master-tomaster_log_pos">MASTER_LOG_POS</a> options were also specified.</p>
</div><h4 class="anchored_heading" id="change-master-torelay_log_pos"><code>RELAY_LOG_POS</code></h4>
<p>The <code>RELAY_LOG_POS</code> option for <code>CHANGE MASTER</code> can be used along with the <a href="#change-master-torelay_log_file">RELAY_LOG_FILE</a> option to specify the coordinates at which the <a href="https://mariadb.com/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread</a> should begin reading from the <a href="https://mariadb.com/kb/en/relay-log/">relay log</a> the next time the thread starts.</p>
<p>The <code>CHANGE MASTER</code> statement usually deletes all <a href="https://mariadb.com/kb/en/relay-log/">relay log</a> files. However, if the <code>RELAY_LOG_FILE</code> and/or <code>RELAY_LOG_POS</code> options are specified, then existing <a href="https://mariadb.com/kb/en/relay-log/">relay log</a> files are kept.</p>
<p>When you want to change the <a href="https://mariadb.com/kb/en/relay-log/">relay log</a> position, you only need to stop the <a href="https://mariadb.com/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread</a>. The <a href="https://mariadb.com/kb/en/replication-threads/#slave-io-thread">replica's I/O thread</a> can continue running. The <a href="#stop-slave">STOP SLAVE</a> and <a href="#start-slave">START SLAVE</a> statements support the <code>SQL_THREAD</code> option for this scenario. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span> <span class="n">SQL_THREAD</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">RELAY_LOG_FILE</span><span class="o">=</span><span class="s1">'slave-relay-bin.006'</span><span class="p">,</span>
   <span class="n">RELAY_LOG_POS</span><span class="o">=</span><span class="mi">4025</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span> <span class="n">SQL_THREAD</span><span class="p">;</span>
</pre><p>When the value of this option is changed, the metadata about the <a href="https://mariadb.com/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread's</a> position in the <a href="https://mariadb.com/kb/en/relay-log/">relay logs</a> will also be changed in the <code>relay-log.info</code> file or the file that is configured by the <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#relay_log_info_file">relay_log_info_file</a> system variable.</p>
<div class="cstm-style greenbox"><p>The <a href="#change-master-torelay_log_file">RELAY_LOG_FILE</a> and <a href="#change-master-torelay_log_pos">RELAY_LOG_POS</a> options cannot be specified if the <a href="#change-master-tomaster_log_file">MASTER_LOG_FILE</a> and <a href="#change-master-tomaster_log_pos">MASTER_LOG_POS</a> options were also specified.</p>
</div><h3 class="anchored_heading" id="change-master-togtid-options">GTID Options</h3>
<h4 class="anchored_heading" id="change-master-tomaster_use_gtid"><code>MASTER_USE_GTID</code></h4>
<p>The <code>MASTER_USE_GTID</code> option for <code>CHANGE MASTER</code> can be used to configure the replica to use the <a href="https://mariadb.com/kb/en/global-transaction-id/">global transaction ID (GTID)</a> when connecting to a primary. The possible values are:</p>
<ul start="1"><li><code>current_pos</code> - Replicate in <a href="https://mariadb.com/kb/en/gtid/">GTID</a> mode and use <a href="https://mariadb.com/kb/en/gtid/#gtid_current_pos">gtid_current_pos</a> as the position to start downloading transactions from the primary.
</li><li><code>slave_pos</code> - Replicate in <a href="https://mariadb.com/kb/en/gtid/">GTID</a> mode and use <a href="https://mariadb.com/kb/en/gtid/#gtid_slave_pos">gtid_slave_pos</a> as the position to start downloading transactions from the primary. From <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>, <code>replica_pos</code> is an alias for <code>slave_pos</code>.
</li><li><code>no</code> - Don't replicate in <a href="https://mariadb.com/kb/en/gtid/">GTID</a> mode.
</li></ul>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_USE_GTID</span> <span class="o">=</span> <span class="n">current_pos</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>Or:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="kt">SET</span> <span class="n">GLOBAL</span> <span class="n">gtid_slave_pos</span><span class="o">=</span><span class="s1">'0-1-153'</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_USE_GTID</span> <span class="o">=</span> <span class="n">slave_pos</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><h3 class="anchored_heading" id="change-master-toreplication-filter-options">Replication Filter Options</h3>
<p>Also see <a href="https://mariadb.com/kb/en/replication-filters/">Replication filters</a>.</p>
<h4 class="anchored_heading" id="change-master-toignore_server_ids"><code>IGNORE_SERVER_IDS</code></h4>
<p>The <code>IGNORE_SERVER_IDS</code> option for <code>CHANGE MASTER</code> can be used to configure a <a href="https://mariadb.com/kb/en/replication/">replica</a> to ignore <a href="binary_log">binary log</a> events that originated from certain servers. Filtered <a href="binary_log">binary log</a> events will not get logged to the replica’s <a href="https://mariadb.com/kb/en/relay-log/">relay log</a>, and they will not be applied by the replica.</p>
<p>The option's value can be specified by providing a comma-separated list of <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#server_id">server_id</a> values. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">IGNORE_SERVER_IDS</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>If you would like to clear a previously set list, then you can set the value to an empty list. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">IGNORE_SERVER_IDS</span> <span class="o">=</span> <span class="p">();</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><h4 class="anchored_heading" id="change-master-todo_domain_ids"><code>DO_DOMAIN_IDS</code></h4>
<div class="mariadb_from_10_1_2 mariadb from_10_1_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">10.1.2</a></h5><p>The <code>DO_DOMAIN_IDS</code> option for <code>CHANGE MASTER</code> was first added in <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a>.</p>
</div><p>The <code>DO_DOMAIN_IDS</code> option for <code>CHANGE MASTER</code> can be used to configure a <a href="https://mariadb.com/kb/en/replication/">replica</a> to only apply <a href="binary_log">binary log</a> events if the transaction's <a href="https://mariadb.com/kb/en/global-transaction-id/">GTID</a> is in a specific <a href="https://mariadb.com/kb/en/gtid/#gtid_domain_id">gtid_domain_id</a> value. Filtered <a href="binary_log">binary log</a> events will not get logged to the replica’s <a href="https://mariadb.com/kb/en/relay-log/">relay log</a>, and they will not be applied by the replica.</p>
<p>The option's value can be specified by providing a comma-separated list of <a href="https://mariadb.com/kb/en/gtid/#gtid_domain_id">gtid_domain_id</a> values. Duplicate values are automatically ignored. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">DO_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>If you would like to clear a previously set list, then you can set the value to an empty list. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">DO_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">();</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><div class="cstm-style greenbox"><p>The <a href="#change-master-todo_domain_ids">DO_DOMAIN_IDS</a> option and the <a href="#change-master-toignore_domain_ids">IGNORE_DOMAIN_IDS</a> option cannot both be set to non-empty values at the same time. If you want to set the <a href="#change-master-todo_domain_ids">DO_DOMAIN_IDS</a> option, and the <a href="#change-master-toignore_domain_ids">IGNORE_DOMAIN_IDS</a> option was previously set, then you need to clear the value of the <a href="#change-master-toignore_domain_ids">IGNORE_DOMAIN_IDS</a> option. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">IGNORE_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">(),</span> 
   <span class="n">DO_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre></div><div class="cstm-style greenbox"><p>The <code>DO_DOMAIN_IDS</code> option can only be specified if the replica is replicating in <a href="https://mariadb.com/kb/en/gtid/">GTID</a> mode. Therefore, the <a href="#change-master-tomaster_use_gtid">MASTER_USE_GTID</a> option must also be set to some value other than <code>no</code> in order to use this option.</p>
</div><h4 class="anchored_heading" id="change-master-toignore_domain_ids"><code>IGNORE_DOMAIN_IDS</code></h4>
<div class="mariadb_from_10_1_2 mariadb from_10_1_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">10.1.2</a></h5><p>The <code>IGNORE_DOMAIN_IDS</code> option for <code>CHANGE MASTER</code> was first added in <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a>.</p>
</div><p>The <code>IGNORE_DOMAIN_IDS</code> option for <code>CHANGE MASTER</code> can be used to configure a <a href="https://mariadb.com/kb/en/replication/">replica</a> to ignore <a href="binary_log">binary log</a> events if the transaction's <a href="https://mariadb.com/kb/en/global-transaction-id/">GTID</a> is in a specific <a href="https://mariadb.com/kb/en/gtid/#gtid_domain_id">gtid_domain_id</a> value. Filtered <a href="binary_log">binary log</a> events will not get logged to the replica’s <a href="https://mariadb.com/kb/en/relay-log/">relay log</a>, and they will not be applied by the replica.</p>
<p>The option's value can be specified by providing a comma-separated list of <a href="https://mariadb.com/kb/en/gtid/#gtid_domain_id">gtid_domain_id</a> values. Duplicate values are automatically ignored. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">IGNORE_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>If you would like to clear a previously set list, then you can set the value to an empty list. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">IGNORE_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">();</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><div class="cstm-style greenbox"><p>The <a href="#change-master-todo_domain_ids">DO_DOMAIN_IDS</a> option and the <a href="#change-master-toignore_domain_ids">IGNORE_DOMAIN_IDS</a> option cannot both be set to non-empty values at the same time. If you want to set the <a href="#change-master-toignore_domain_ids">IGNORE_DOMAIN_IDS</a> option, and the <a href="#change-master-todo_domain_ids">DO_DOMAIN_IDS</a> option was previously set, then you need to clear the value of the <a href="#change-master-todo_domain_ids">DO_DOMAIN_IDS</a> option. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">DO_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">(),</span> 
   <span class="n">IGNORE_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre></div><div class="cstm-style greenbox"><p>The <code>IGNORE_DOMAIN_IDS</code> option can only be specified if the replica is replicating in <a href="https://mariadb.com/kb/en/gtid/">GTID</a> mode. Therefore, the <a href="#change-master-tomaster_use_gtid">MASTER_USE_GTID</a> option must also be set to some value other than <code>no</code> in order to use this option.</p>
</div><h3 class="anchored_heading" id="change-master-todelayed-replication-options">Delayed Replication Options</h3>
<h4 class="anchored_heading" id="change-master-tomaster_delay"><code>MASTER_DELAY</code></h4>
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>The <code>MASTER_DELAY</code> option for <code>CHANGE MASTER</code> was first added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a> to enable <a href="https://mariadb.com/kb/en/delayed-replication/">delayed replication</a>.</p>
</div><p>The <code>MASTER_DELAY</code> option for <code>CHANGE MASTER</code> can be used to enable <a href="https://mariadb.com/kb/en/delayed-replication/">delayed replication</a>. This option specifies the time in seconds (at least) that a replica should lag behind the primary up to a maximum value of 2147483647, or about 68 years. Before executing an event, the replica will first wait, if necessary, until the given time has passed since the event was created on the primary. The result is that the replica will reflect the state of the primary some time back in the past. The default is zero, no delay.</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">MASTER_DELAY</span><span class="o">=</span><span class="mi">3600</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="change-master-tochanging-option-values">Changing Option Values</h2>
<p>If you don't specify a given option when executing the <code>CHANGE MASTER</code> statement, then the option keeps its old value in most cases. Most of the time, there is no need to specify the options that do not need to change. For example, if the password for the user account that the replica uses to connect to its primary has changed, but no other options need to change, then you can just change the <a href="#change-master-tomaster_password">MASTER_PASSWORD</a> option by executing the following commands:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">'new3cret'</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>There are some cases where options are implicitly reset, such as when the <a href="#change-master-tomaster_host">MASTER_HOST</a> and <a href="#change-master-tomaster_port">MASTER_PORT</a> options are changed.</p>
<h2 class="anchored_heading" id="change-master-tooption-persistence">Option Persistence</h2>
<p>The values of the <a href="#change-master-tomaster_log_file">MASTER_LOG_FILE</a> and <a href="#change-master-tomaster_log_pos">MASTER_LOG_POS</a> options (i.e. the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> position on the primary) and most other options are written to either the default <code>master.info</code> file or the file that is configured by the <a href="https://mariadb.com/kb/en/mysqld-options/#-master-info-file">master_info_file</a> option. The <a href="https://mariadb.com/kb/en/replication-threads/#slave-io-thread">replica's I/O thread</a> keeps this <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> position updated as it downloads events only when <a href="#change-master-tomaster_use_gtid">MASTER_USE_GTID</a> option
 is set to <code>NO</code>.  Otherwise the file is not updated on a per event basis.</p>
<p>The <a href="https://mariadb.com/kb/en/mysqld-options/#-master-info-file">master_info_file</a> option can be set either on the command-line or in a server <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/">option file</a> prior to starting up the server. For example:</p>
<pre class="fixed">[mariadb]
...
master_info_file=/mariadb/myserver1-master.info
</pre><p>The values of the <a href="#change-master-torelay_log_file">RELAY_LOG_FILE</a> and <a href="#change-master-torelay_log_pos">RELAY_LOG_POS</a> options (i.e. the <a href="https://mariadb.com/kb/en/relay-log/">relay log</a> position) are written to either the default <code>relay-log.info</code> file or the file that is configured by the <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#relay_log_info_file">relay_log_info_file</a> system variable. The <a href="https://mariadb.com/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread</a> keeps this <a href="https://mariadb.com/kb/en/relay-log/">relay log</a> position updated as it applies events.</p>
<p>The <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#relay_log_info_file">relay_log_info_file</a> system variable can be set either on the command-line or in a server <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/">option file</a> prior to starting up the server. For example:</p>
<pre class="fixed">[mariadb]
...
relay_log_info_file=/mariadb/myserver1-relay-log.info
</pre><h2 class="anchored_heading" id="change-master-togtid-persistence">GTID Persistence</h2>
<p>If the replica is replicating <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> events that contain <a href="https://mariadb.com/kb/en/gtid/">GTIDs</a>, then the <a href="https://mariadb.com/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread</a> will write every GTID that it applies to the <a href="https://mariadb.com/kb/en/mysqlgtid_slave_pos-table/">mysql.gtid_slave_pos</a> table. This GTID can be inspected and modified through the <a href="https://mariadb.com/kb/en/gtid/#gtid_slave_pos">gtid_slave_pos</a> system variable.</p>
<p>If the replica has the <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#log_slave_updates">log_slave_updates</a> system variable enabled and if the replica has the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> enabled, then every write by the <a href="https://mariadb.com/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread</a> will also go into the replica's <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>. This means that <a href="https://mariadb.com/kb/en/gtid/">GTIDs</a> of replicated transactions would be reflected in the value of the <a href="https://mariadb.com/kb/en/gtid/#gtid_binlog_pos">gtid_binlog_pos</a> system variable.</p>
<h2 class="anchored_heading" id="change-master-tocreating-a-slave-from-a-backup">Creating a Slave from a Backup</h2>
<p>The <code>CHANGE MASTER</code> statement is useful for setting up a replica when you have a backup of the primary and you also have the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> position or <a href="https://mariadb.com/kb/en/gtid/">GTID</a> position corresponding to the backup.</p>
<p>After restoring the backup on the replica, you could execute something like this to use the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> position:</p>
<pre class="fixed"><span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_LOG_FILE</span><span class="o">=</span><span class="s1">'master2-bin.001'</span><span class="p">,</span>
   <span class="n">MASTER_LOG_POS</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>Or you could execute something like this to use the <a href="https://mariadb.com/kb/en/gtid/">GTID</a> position:</p>
<pre class="fixed"><span class="kt">SET</span> <span class="n">GLOBAL</span> <span class="n">gtid_slave_pos</span><span class="o">=</span><span class="s1">'0-1-153'</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_USE_GTID</span><span class="o">=</span><span class="n">slave_pos</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>See <a href="https://mariadb.com/kb/en/setting-up-a-replication-slave-with-mariabackup/">Setting up a Replication Slave with Mariabackup</a> for more information on how to do this with <a href="https://mariadb.com/kb/en/mariabackup/">Mariabackup</a>.</p>
<h2 class="anchored_heading" id="change-master-toexample">Example</h2>
<p>The following example changes the primary and primary's binary log coordinates.
This is used when you want to set up the replica to replicate the primary:</p>
<pre class="fixed"><span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_HOST</span><span class="o">=</span><span class="s1">'master2.mycompany.com'</span><span class="p">,</span>
   <span class="n">MASTER_USER</span><span class="o">=</span><span class="s1">'replication'</span><span class="p">,</span>
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">'bigs3cret'</span><span class="p">,</span>
   <span class="n">MASTER_PORT</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span>
   <span class="n">MASTER_LOG_FILE</span><span class="o">=</span><span class="s1">'master2-bin.001'</span><span class="p">,</span>
   <span class="n">MASTER_LOG_POS</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
   <span class="n">MASTER_CONNECT_RETRY</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="change-master-tosee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/setting-up-replication/">Setting up replication</a>
</li><li><a href="#start-slave">START SLAVE</a>
</li><li><a href="https://mariadb.com/kb/en/multi-source-replication/">Multi-source replication</a>
</li><li><a href="#reset-slave-connection_name">RESET SLAVE</a>. Removes a connection created  with <code>CHANGE MASTER TO</code>.
</li><li><a href="https://mariadb.com/kb/en/global-transaction-id/">Global Transaction ID</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="reset-master">RESET MASTER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<pre class="fixed">RESET MASTER [TO #]
</pre><p>Deletes all <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> files listed in the index file, resets the
binary log index file to be empty, and creates a new binary log file with a suffix of .000001.</p>
<p>If <code class="fixed" style="white-space:pre-wrap">TO #</code> is given, then the first new binary log file will start from number #.</p>
<div class="cstm-style graybox"><p>This statement is for use only when the master is started for the first time, and should never be used if any slaves are actively <a href="https://mariadb.com/kb/en/replication/">replicating</a> from the binary log.</p>
</div><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li>The <a href="https://mariadb.com/kb/en/sql-commands-purge-logs/">PURGE BINARY LOGS</a> statement is intended for use in active replication.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="commit">COMMIT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>The <code>COMMIT</code>  statement ends a transaction, saving any changes to the data so that they become visible to subsequent transactions. Also, <a href="#metadata-locking">unlocks metadata</a> changed by current transaction. If <a href="https://mariadb.com/kb/en/server-system-variables/#autocommit">autocommit</a> is set to 1, an implicit commit is performed after each statement. Otherwise, all transactions which don't end with an explicit <code>COMMIT</code> are implicitly rollbacked and the changes are lost. The <code><a href="#rollback">ROLLBACK</a></code> statement can be used to do this explicitly.</p>
<p>The required syntax for the <code>COMMIT</code>  statement is as follows:</p>
<pre class="fixed">COMMIT [WORK] [AND [NO] CHAIN] [[NO] RELEASE]
</pre><p><code>COMMIT</code> is the more important transaction terminator, as well as the more interesting one. The basic form of the <code>COMMIT</code> statement is simply the keyword <code>COMMIT</code>  (the keyword <code>WORK</code> is simply noise and can be omitted without changing the effect).</p>
<p>The optional <code>AND CHAIN</code> clause is a convenience for initiating a new transaction as soon as the old transaction terminates. If <code>AND CHAIN</code> is specified, then there is effectively nothing between the old and new transactions, although they remain separate. The characteristics of the new transaction will be the same as the characteristics of the old one — that is, the new transaction will have the same access mode, isolation level and diagnostics area size (we'll discuss all of these shortly) as the transaction just terminated.  </p>
<p><code>RELEASE</code> tells the server to disconnect the client immediately after the current transaction.</p>
<p>There are <code>NO RELEASE</code> and <code>AND NO CHAIN</code> options. By default, commits do not <code>RELEASE</code> or <code>CHAIN</code>, but it's possible to change this default behavior with the <a href="https://mariadb.com/kb/en/server-system-variables/#completion_type">completion_type</a> server system variable. In this case, the <code>AND NO CHAIN</code> and <code>NO RELEASE</code> options override the server default.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul><li><a href="https://mariadb.com/kb/en/server-system-variables/#autocommit">autocommit</a> - server system variable that determines whether statements are automatically committed.
</li><li><a href="https://mariadb.com/kb/en/server-system-variables/#completion_type">completion_type</a> - server system variable that determines whether COMMIT's are standard, COMMIT AND CHAIN or COMMIT RELEASE.
</li><li><a href="https://mariadb.com/kb/en/sql-statements-that-cause-an-implicit-commit/">SQL statements that cause an implicit commit</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="deallocate-drop-prepared-statement">DEALLOCATE / DROP PREPARE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">{DEALLOCATE | DROP} PREPARE stmt_name
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>To deallocate a prepared statement produced with <code><a href="#prepare-statement">PREPARE</a></code>, use a
<code class="fixed" style="white-space:pre-wrap">DEALLOCATE PREPARE</code> statement that refers to the prepared statement
name.</p>
<p>A prepared statement is implicitly deallocated when a new <code>PREPARE</code> command is issued. In that case, there is no need to use <code>DEALLOCATE</code>.</p>
<p>Attempting to execute a prepared statement after deallocating it
results in an error, as if it was not prepared at all:</p>
<pre class="fixed">ERROR 1243 (HY000): Unknown prepared statement handler (stmt_name) given to EXECUTE
</pre><p>If the specified statement has not been PREPAREd, an error similar to the following will be produced:</p>
<pre class="fixed">ERROR 1243 (HY000): Unknown prepared statement handler (stmt_name) given to DEALLOCATE PREPARE
</pre><h2 class="anchored_heading" id="deallocate-drop-prepared-statementexample">Example</h2>
<p>See <a ">example in PREPARE</a>.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#prepare-statement">PREPARE Statement</a>
</li><li><a href="#execute-statement">EXECUTE Statement</a>
</li><li><a href="#execute-immediate">EXECUTE IMMEDIATE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="execute-statement">EXECUTE Statement</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="execute-statementsyntax">Syntax</h2>
<pre class="fixed">EXECUTE stmt_name
    [USING expression[, expression] ...]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_3"><a href="#execute-statementsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2_3"><a href="#execute-statementdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2_3"><a href="#execute-statementexample" title="Example">Example</a></li>
<li class="mariadb_from_10_2_3"><a href="#execute-statementsee-also" title="See Also">See Also</a> </li></ol>

</div>
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p><code>EXECUTE</code> with expression as parameters was introduced in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>. Before that one could only use variables (@var_name) as parameters.</p>
</div><h2 class="anchored_heading" id="execute-statementdescription">Description</h2>
<p>After preparing a statement with <code><a href="#prepare-statement">PREPARE</a></code>, you execute it with an
<code class="fixed" style="white-space:pre-wrap">EXECUTE</code> statement that refers to the prepared statement name. If the
prepared statement contains any parameter markers, you must supply a
<code class="fixed" style="white-space:pre-wrap">USING</code> clause that lists user variables containing the values to be
bound to the parameters. Parameter values can be supplied only by user
variables, and the <code class="fixed" style="white-space:pre-wrap">USING</code> clause must name exactly as many variables as
the number of parameter markers in the statement.</p>
<p>You can execute a given prepared statement multiple times, passing
different variables to it or setting the variables to different values
before each execution.</p>
<p>If the specified statement has not been PREPAREd, an error similar to the following is produced:</p>
<pre class="fixed">ERROR 1243 (HY000): Unknown prepared statement handler (stmt_name) given to EXECUTE
</pre><h2 class="anchored_heading" id="execute-statementexample">Example</h2>
<p>See <a ">example in PREPARE</a>.</p>
<h2 class="anchored_heading" id="execute-statementsee-also">See Also</h2>
<ul start="1"><li><a href="#execute-immediate">EXECUTE IMMEDIATE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="savepoint">SAVEPOINT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="savepointsyntax">Syntax</h2>
<pre class="fixed">SAVEPOINT identifier
ROLLBACK [WORK] TO [SAVEPOINT] identifier
RELEASE SAVEPOINT identifier
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#savepointsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#savepointdescription" title="Description">Description</a></li>
<li class=""><a href="#savepointerrors" title="Errors">Errors</a> </li></ol>

</div>
<h2 class="anchored_heading" id="savepointdescription">Description</h2>
<p>InnoDB supports the SQL statements <code class="highlight fixed" style="white-space:pre-wrap">SAVEPOINT</code>,
<code class="highlight fixed" style="white-space:pre-wrap">ROLLBACK TO SAVEPOINT</code>, <code class="highlight fixed" style="white-space:pre-wrap">RELEASE SAVEPOINT</code>
and the optional <code class="highlight fixed" style="white-space:pre-wrap">WORK</code> keyword for
<code class="highlight fixed" style="white-space:pre-wrap">ROLLBACK</code>.</p>
<p>Each savepoint must have a legal <a href="https://mariadb.com/kb/en/identifier-names/">MariaDB identifier</a>. A savepoint is a named sub-transaction.</p>
<p>Normally <a href="#rollback">ROLLBACK</a> undoes the changes performed by the whole transaction. When used with the TO clause, it undoes the changes performed after the specified savepoint, and erases all subsequent savepoints. However, all locks that have been acquired after the save point will survive. RELEASE SAVEPOINT does not rollback or commit any changes, but removes the specified savepoint.</p>
<p>When the execution of a trigger or a stored function begins, it is not possible to use statements which reference a savepoint which was defined from out of that stored program.</p>
<p>When a <a href="#commit">COMMIT</a> (including implicit commits) or a ROLLBACK statement (with no TO clause) is performed, they act on the whole transaction, and all savepoints are removed.</p>
<h2 class="anchored_heading" id="savepointerrors">Errors</h2>
<p>If COMMIT or ROLLBACK is issued and no transaction was started, no error is reported.</p>
<p>If SAVEPOINT is issued and no transaction was started, no error is reported but no savepoint is created. When ROLLBACK TO SAVEPOINT or RELEASE SAVEPOINT is called for a savepoint that does not exist, an error like this is issued:</p>
<pre class="fixed">ERROR 1305 (42000): SAVEPOINT svp_name does not exist
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="transactions-unlock-tables">UNLOCK TABLES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="transactions-unlock-tablessyntax">Syntax</h2>
<pre class="fixed">UNLOCK TABLES
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#transactions-unlock-tablessyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#transactions-unlock-tablesdescription" title="Description">Description</a> </li></ol>

</div>
<h2 class="anchored_heading" id="transactions-unlock-tablesdescription">Description</h2>
<p><code>UNLOCK TABLES</code> explicitly releases any table locks held by the
current session. See <code><a href="#lock-tables">LOCK TABLES</a></code> for more information.</p>
<p>In addition to releasing table locks acquired by the <code><a href="#lock-tables">LOCK TABLES</a></code> statement, the <code>UNLOCK TABLES</code> statement also releases the global read lock acquired by the <code>FLUSH TABLES WITH READ LOCK</code> statement.  The <code>FLUSH TABLES WITH READ LOCK</code> statement is very useful for performing backups. See <code><a href="#flush">FLUSH</a></code> for more information about <code>FLUSH TABLES WITH READ LOCK</code>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="xa-transactions">XA Transactions</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#xa-transactionsoverview" title="Overview">Overview</a></li>
<li class=""><a href="#xa-transactionsinternal-xa-vs-external-xa" title="Internal XA vs External XA">Internal XA vs External XA</a></li>
<li class=""><a href="#xa-transactionstransaction-coordinator-log" title="Transaction Coordinator Log">Transaction Coordinator Log</a></li>
<li class=""><a href="#xa-transactionssyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#xa-transactionsxa-recover" title="XA RECOVER">XA RECOVER</a></li>
<li class=""><a href="#xa-transactionsexamples" title="Examples">Examples</a></li>
<li class=""><a href="#xa-transactionsknown-issues" title="Known Issues">Known Issues</a> <ol class="toc">
<li class=""><a href="#xa-transactionsmariadb-galera-cluster" title="MariaDB Galera Cluster">MariaDB Galera Cluster</a> </li></ol>
</li></ol>

</div>
<h2 class="anchored_heading" id="xa-transactionsoverview">Overview</h2>
<p>The MariaDB XA implementation is based on the X/Open CAE document Distributed Transaction Processing: The XA Specification. This document is published by The Open Group and available at <a href="http://www.opengroup.org/public/pubs/catalog/c193.htm">http://www.opengroup.org/public/pubs/catalog/c193.htm</a>.</p>
<p>XA transactions are designed to allow distributed transactions, where a transaction manager (the application) controls a transaction which involves multiple resources. Such resources are usually DBMSs, but could be resources of any type. The whole set of required transactional operations is called a global transaction. Each subset of operations which involve a single resource is called a local transaction. XA used a 2-phases commit (2PC). With the first commit, the transaction manager tells each resource to prepare an effective commit, and waits for a confirm message. The changes are not still made effective at this point. If any of the resources encountered an error, the transaction manager will rollback the global transaction. If all resources communicate that the first commit is successful, the transaction manager can require a second commit, which makes the changes effective.</p>
<p>In MariaDB, XA transactions can only be used with storage engines that support them. At least <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>, <a href="https://mariadb.com/kb/en/tokudb/">TokuDB</a>, <a href="https://mariadb.com/kb/en/spider/">SPIDER</a> and <a href="https://mariadb.com/kb/en/myrocks/">MyRocks</a> support them. For InnoDB, until <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">MariaDB 10.2</a>, XA transactions can be disabled by setting the <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_support_xa">innodb_support_xa</a> server system variable to 0. From <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>, XA transactions are always supported.</p>
<p>Like regular transactions, XA transactions create <a href="#metadata-locking">metadata locks</a> on accessed tables.</p>
<p>XA transactions require <a ">REPEATABLE READ</a> as a minimum isolation level. However, distributed transactions should always use <a ">SERIALIZABLE</a>.</p>
<p>Trying to start more than one XA transaction at the same time produces a 1400 error (<a href="https://mariadb.com/kb/en/sqlstate/">SQLSTATE</a> 'XAE09'). The same error is produced when attempting to start an XA transaction while a regular transaction is in effect. Trying to start a regular transaction while an XA transaction is in effect produces a 1399 error (<a href="https://mariadb.com/kb/en/sqlstate/">SQLSTATE</a> 'XAE07').</p>
<p>The <a href="https://mariadb.com/kb/en/sql-statements-that-cause-an-implicit-commit/">statements that cause an implicit COMMIT</a> for regular transactions produce a 1400 error (<a href="https://mariadb.com/kb/en/sqlstate/">SQLSTATE</a> 'XAE09') if a XA transaction is in effect.</p>
<h2 class="anchored_heading" id="xa-transactionsinternal-xa-vs-external-xa">Internal XA vs External XA</h2>
<p>XA transactions are an overloaded term in MariaDB. If a <a href="https://mariadb.com/kb/en/storage-engines/">storage engine</a> is XA-capable, it can mean one or both of these:</p>
<ul start="1"><li>It supports MariaDB's internal two-phase commit API. This is transparent to the user. Sometimes this is called "internal XA", since MariaDB's internal <a href="https://mariadb.com/kb/en/transaction-coordinator-log/">transaction coordinator log</a> can handle coordinating these transactions.
</li></ul>
<ul start="1"><li>It supports XA transactions, with the <code>XA START</code>, <code>XA PREPARE</code>, <code>XA COMMIT</code>, etc. statements. Sometimes this is called "external XA", since it requires the use of an external transaction coordinator to use this feature properly.
</li></ul>
<h2 class="anchored_heading" id="xa-transactionstransaction-coordinator-log">Transaction Coordinator Log</h2>
<p>If you have two or more XA-capable storage engines enabled, then a transaction coordinator log must be available.</p>
<p>There are currently two implementations of the transaction coordinator log:</p>
<ul start="1"><li>Binary log-based transaction coordinator log
</li><li>Memory-mapped file-based transaction coordinator log
</li></ul>
<p>If the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> is enabled on a server, then the server will use the binary log-based transaction coordinator log. Otherwise, it will use the memory-mapped file-based transaction coordinator log.</p>
<p>See <a href="https://mariadb.com/kb/en/transaction-coordinator-log/">Transaction Coordinator Log</a> for more information.</p>
<h2 class="anchored_heading" id="xa-transactionssyntax">Syntax</h2>
<pre class="fixed">XA {START|BEGIN} xid [JOIN|RESUME]

XA END xid [SUSPEND [FOR MIGRATE]]

XA PREPARE xid

XA COMMIT xid [ONE PHASE]

XA ROLLBACK xid

XA RECOVER [FORMAT=['RAW'|'SQL']]

xid: gtrid [, bqual [, formatID ]]
</pre><p>The interface to XA transactions is a set of SQL statements starting with <code>XA</code>. Each statement changes a transaction's state, determining which actions it can perform. A transaction which does not exist is in the <code>NON-EXISTING</code> state.</p>
<p><code>XA START</code> (or <code>BEGIN</code>) starts a transaction and defines its <code>xid</code> (a transaction identifier). The <code>JOIN</code> or <code>RESUME</code> keywords have no effect. The new transaction will be in <code>ACTIVE</code> state.</p>
<p>The <code>xid</code> can have 3 components, though only the first one is mandatory. <code>gtrid</code> is a quoted string representing a global transaction identifier. <code>bqual</code> is a quoted string representing a local transaction identifier. <code>formatID</code> is an unsigned integer indicating the format used for the first two components; if not specified, defaults to 1. MariaDB does not interpret in any way these components, and only uses them to identify a transaction. <code>xid</code>s of transactions in effect must be unique.</p>
<p><code>XA END</code> declares that the specified <code>ACTIVE</code> transaction is finished and it changes its state to <code>IDLE</code>. <code>SUSPEND [FOR MIGRATE]</code> has no effect.</p>
<p><code>XA PREPARE</code> prepares an <code>IDLE</code> transaction for commit, changing its state to <code>PREPARED</code>. This is the first commit.</p>
<p><code>XA COMMIT</code> definitely commits and terminates a transaction which has already been <code>PREPARED</code>. If the <code>ONE PHASE</code> clause is specified, this statements performs a 1-phase commit on an <code>IDLE</code> transaction.</p>
<p><code>XA ROLLBACK</code> rolls back and terminates an <code>IDLE</code> or <code>PREPARED</code> transaction.</p>
<p><code>XA RECOVER</code> shows information about all <code>PREPARED</code> transactions.</p>
<p>When trying to execute an operation which is not allowed for the transaction's current state, an error is produced:</p>
<pre class="fixed"><span class="n">XA</span> <span class="k">COMMIT</span> <span class="s1">'test'</span> <span class="n">ONE</span> <span class="n">PHASE</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1399</span> <span class="p">(</span><span class="n">XAE07</span><span class="p">):</span> <span class="n">XAER_RMFAIL</span><span class="p">:</span> <span class="n">The</span> <span class="n">command</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">executed</span> <span class="k">when</span> <span class="k">global</span> <span class="n">transaction</span> <span class="k">is</span> <span class="k">in</span> <span class="n">the</span>  <span class="n">ACTIVE</span> <span class="k">state</span>

<span class="n">XA</span> <span class="k">COMMIT</span> <span class="s1">'test2'</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1399</span> <span class="p">(</span><span class="n">XAE07</span><span class="p">):</span> <span class="n">XAER_RMFAIL</span><span class="p">:</span> <span class="n">The</span> <span class="n">command</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">executed</span> <span class="k">when</span> <span class="k">global</span> <span class="n">transaction</span> <span class="k">is</span> <span class="k">in</span> <span class="n">the</span>  <span class="n">NON</span><span class="o">-</span><span class="k">EXISTING</span> <span class="k">state</span>
</pre><h2 class="anchored_heading" id="xa-transactionsxa-recover"><code>XA RECOVER</code></h2>
<p>The <code>XA RECOVER</code> statement shows information about all transactions which are in the <code>PREPARED</code> state. It does not matter which connection created the transaction: if it has been <code>PREPARED</code>, it appears. But this does not mean that a connection can commit or rollback a transaction which was started by another connection. Note that transactions using a 1-phase commit are never in the <code>PREPARED</code> state, so they cannot be shown by <code>XA RECOVER</code>.</p>
<p><code>XA RECOVER</code> produces four columns:</p>
<pre class="fixed"><span class="n">XA</span> <span class="n">RECOVER</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+--------------+--------------+------+</span>
<span class="o">|</span> <span class="n">formatID</span> <span class="o">|</span> <span class="n">gtrid_length</span> <span class="o">|</span> <span class="n">bqual_length</span> <span class="o">|</span> <span class="k">data</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+--------------+--------------+------+</span>
<span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>            <span class="mi">4</span> <span class="o">|</span>            <span class="mi">0</span> <span class="o">|</span> <span class="n">test</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+--------------+--------------+------+</span>
</pre><div class="mariadb_from_10_3_3 mariadb from_10_3_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">10.3.3</a></h5><p>You can use <code>XA RECOVER FORMAT='SQL'</code> to get the data in a human readable
form that can be directly copy-pasted into <code>XA COMMIT</code> or <code>XA ROLLBACK</code>. This is particularly useful for binary <code>xid</code> generated by some transaction coordinators.</p>
</div><p><code>formatID</code> is the <code>formatID</code> part of <code>xid</code>.</p>
<p><code>data</code> are the <code>gtrid</code> and <code>bqual</code> parts of <code>xid</code>, concatenated.</p>
<p><code>gtrid_length</code> and <code>bqual_length</code> are the lengths of <code>gtrid</code> and <code>bqual</code>, respectevely.</p>
<h2 class="anchored_heading" id="xa-transactionsexamples">Examples</h2>
<p>2-phases commit:</p>
<pre class="fixed"><span class="n">XA</span> <span class="k">START</span> <span class="s1">'test'</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>

<span class="n">XA</span> <span class="k">END</span> <span class="s1">'test'</span><span class="p">;</span>

<span class="n">XA</span> <span class="k">PREPARE</span> <span class="s1">'test'</span><span class="p">;</span>

<span class="n">XA</span> <span class="k">COMMIT</span> <span class="s1">'test'</span><span class="p">;</span>
</pre><p>1-phase commit:</p>
<pre class="fixed"><span class="n">XA</span> <span class="k">START</span> <span class="s1">'test'</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>

<span class="n">XA</span> <span class="k">END</span> <span class="s1">'test'</span><span class="p">;</span>

<span class="n">XA</span> <span class="k">COMMIT</span> <span class="s1">'test'</span> <span class="n">ONE</span> <span class="n">PHASE</span><span class="p">;</span>
</pre><p>Human-readable:</p>
<pre class="fixed"><span class="n">xa</span> <span class="k">start</span> <span class="s1">'12\r34\t67\v78'</span><span class="p">,</span> <span class="s1">'abc\ndef'</span><span class="p">,</span> <span class="mi">3</span><span class="p">;</span>

<span class="k">insert</span> <span class="n">t1</span> <span class="k">values</span> <span class="p">(</span><span class="mi">40</span><span class="p">);</span>

<span class="n">xa</span> <span class="k">end</span> <span class="s1">'12\r34\t67\v78'</span><span class="p">,</span> <span class="s1">'abc\ndef'</span><span class="p">,</span> <span class="mi">3</span><span class="p">;</span>

<span class="n">xa</span> <span class="k">prepare</span> <span class="s1">'12\r34\t67\v78'</span><span class="p">,</span> <span class="s1">'abc\ndef'</span><span class="p">,</span> <span class="mi">3</span><span class="p">;</span>

<span class="n">xa</span> <span class="n">recover</span> <span class="n">format</span><span class="o">=</span><span class="s1">'RAW'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+--------------+--------------+--------------------+</span>
<span class="o">|</span> <span class="n">formatID</span> <span class="o">|</span> <span class="n">gtrid_length</span> <span class="o">|</span> <span class="n">bqual_length</span> <span class="o">|</span> <span class="k">data</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+--------------+--------------+--------------------+</span>
<span class="mi">34</span>      <span class="mi">67</span><span class="n">v78abc</span>       <span class="mi">11</span> <span class="o">|</span>            <span class="mi">7</span> <span class="o">|</span> <span class="mi">12</span>
<span class="n">def</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+--------------+--------------+--------------------+</span>

<span class="n">xa</span> <span class="n">recover</span> <span class="n">format</span><span class="o">=</span><span class="s1">'SQL'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+--------------+--------------+-----------------------------------------------+</span>
<span class="o">|</span> <span class="n">formatID</span> <span class="o">|</span> <span class="n">gtrid_length</span> <span class="o">|</span> <span class="n">bqual_length</span> <span class="o">|</span> <span class="k">data</span>                                          <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+--------------+--------------+-----------------------------------------------+</span>
<span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>           <span class="mi">11</span> <span class="o">|</span>            <span class="mi">7</span> <span class="o">|</span> <span class="n">X</span><span class="s1">'31320d3334093637763738'</span><span class="p">,</span><span class="n">X</span><span class="s1">'6162630a646566'</span><span class="p">,</span><span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+--------------+--------------+-----------------------------------------------+</span>

<span class="n">xa</span> <span class="k">rollback</span> <span class="n">X</span><span class="s1">'31320d3334093637763738'</span><span class="p">,</span><span class="n">X</span><span class="s1">'6162630a646566'</span><span class="p">,</span><span class="mi">3</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="xa-transactionsknown-issues">Known Issues</h2>
<h3 class="anchored_heading" id="xa-transactionsmariadb-galera-cluster">MariaDB Galera Cluster</h3>
<p><a href="https://mariadb.com/kb/en/galera-cluster/">MariaDB Galera Cluster</a> does not support XA transactions.</p>
<p>However, <a href="https://mariadb.com/kb/en/galera-cluster/">MariaDB Galera Cluster</a> builds include a built-in plugin called <code>wsrep</code>. Prior to <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">MariaDB 10.4.3</a>, this plugin was internally considered an <a href="#xa-transactions">XA-capable</a> <a href="https://mariadb.com/kb/en/storage-engines/">storage engine</a>. Consequently, these <a href="https://mariadb.com/kb/en/galera-cluster/">MariaDB Galera Cluster</a> builds have multiple XA-capable storage engines by default, even if the only "real" storage engine that supports external <a href="#xa-transactions">XA transactions</a> enabled on these builds by default is <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>. Therefore, when using one these builds MariaDB would be forced to use a <a href="https://mariadb.com/kb/en/transaction-coordinator-log/">transaction coordinator log</a> by default, which could have performance implications.</p>
<p>See <a href="https://mariadb.com/kb/en/transaction-coordinator-log-overview/#mariadb-galera-cluster">Transaction Coordinator Log Overview: MariaDB Galera Cluster</a> for more information.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="authentication-from-mariadb-104">Authentication from MariaDB 10.4</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_4 mariadb from_10_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">10.4</a></h5><p><a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> introduces a number of changes to the authentication process, intended to make things easier and more intuitive.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_4"><a href="#authentication-from-mariadb-104overview" title="Overview">Overview</a></li>
<li class="mariadb_from_10_4"><a href="#authentication-from-mariadb-104description" title="Description">Description</a></li>
<li class="mariadb_from_10_4"><a href="#authentication-from-mariadb-104cookbook" title="Cookbook">Cookbook</a></li>
<li class="mariadb_from_10_4"><a href="#authentication-from-mariadb-104reverting-to-the-previous-authentication-method-for-rootlocalhost" title="Reverting to the Previous Authentication Method for root@localhost">Reverting to the Previous Authentication Method for root@localhost</a> <ol class="toc">
<li class="mariadb_from_10_4"><a href="#authentication-from-mariadb-104configuring-mysql_install_db-to-revert-to-the-previous-authentication-method" title="Configuring mysql_install_db to Revert to the Previous Authentication Method">Configuring mysql_install_db to Revert to the Previous Authentication Method</a></li>
<li class="mariadb_from_10_4"><a href="#authentication-from-mariadb-104altering-the-user-account-to-revert-to-the-previous-authentication-method" title="Altering the User Account to Revert to the Previous Authentication Method">Altering the User Account to Revert to the Previous Authentication Method</a> </li></ol>
</li>
<li class="mariadb_from_10_4"><a href="#authentication-from-mariadb-104see-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="authentication-from-mariadb-104overview">Overview</h2>
<p>There are four <strong>new main features in 10.4</strong> relating to authentication:</p>
<ul start="1"><li>It is possible to use more than one <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugin</a> for each user account. For example, this can be useful to slowly migrate users to the more secure <a href="https://mariadb.com/kb/en/authentication-plugin-ed25519/">ed25519</a> authentication plugin over time, while allowing the old <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> authentication plugin as an alternative for the transitional period.
</li><li>The <code>root@localhost</code> user account created by <a href="https://mariadb.com/kb/en/mysql_install_db/">mysql_install_db</a> is created with the ability to use two <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a>.
<ul start="1"><li>First, it is configured to try to use the <a href="https://mariadb.com/kb/en/authentication-plugin-unix-socket/">unix_socket</a> authentication plugin. This allows the <code>root@localhost</code> user to login without a password via the local Unix socket file defined by the <a href="https://mariadb.com/kb/en/server-system-variables/#socket">socket</a> system variable, as long as the login is attempted from a process owned by the operating system <code>root</code> user account.
</li><li>Second, if authentication fails with the <a href="https://mariadb.com/kb/en/authentication-plugin-unix-socket/">unix_socket</a> authentication plugin, then it is configured to try to use the <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> authentication plugin. However, an invalid password is initially set, so in order to authenticate this way, a password must be set with <a href="#set-password">SET PASSWORD</a>.
</li><li>However, just using the <a href="https://mariadb.com/kb/en/authentication-plugin-unix-socket/">unix_socket</a> authentication plugin may be fine for many users, and it is very secure. You may want to try going without password authentication to see how well it works for you. Remember, the best way to keep your password safe is not to have one!
</li></ul>
</li><li>All user accounts, passwords, and global privileges are now stored in the <a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv</a> table. The <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table still exists and has exactly the same set of columns as before, but it’s now a view that references the <a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv</a> table. Tools that analyze the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table should continue to work as before. From <a href="https://mariadb.com/kb/en/mariadb-10413-release-notes/">MariaDB 10.4.13</a>, the dedicated <code>mariadb.sys</code> user is created as the definer of this view. Previously <code>root</code> was the definer, which resulted in privilege problems when this username was changed.
</li><li><a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> adds supports for <a href="#user-password-expiry">User Password Expiry</a>, which is not active by default.
</li></ul>
<h2 class="anchored_heading" id="authentication-from-mariadb-104description">Description</h2>
<p>As a result of the above changes, the open-for-everyone all-powerful root account is finally gone. And installation scripts will no longer demand that you “PLEASE REMEMBER TO SET A PASSWORD FOR THE MariaDB root USER !”, because the root account is securely created automatically.</p>
<p>Two all-powerful accounts are created by default — root and the OS user that owns the data directory, typically mysql. They are created as:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">root</span><span class="o">@</span><span class="n">localhost</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">unix_socket</span> <span class="k">OR</span> <span class="n">mysql_native_password</span> <span class="k">USING</span> <span class="s1">'invalid'</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="n">mysql</span><span class="o">@</span><span class="n">localhost</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">unix_socket</span> <span class="k">OR</span> <span class="n">mysql_native_password</span> <span class="k">USING</span> <span class="s1">'invalid'</span>
</pre><p>Using unix_socket means that if you are the system root user, you can login as root@locahost without a password. This technique was pioneered by Otto Kekäläinen in Debian MariaDB packages and has been successfully <a href="https://mariadb.com/kb/en/differences-in-mariadb-in-debian-and-ubuntu/">used in Debian</a> since as early as <a href="https://mariadb.com/kb/en/what-is-mariadb-100/">MariaDB 10.0</a>. </p>
<p>It is based on a simple fact that asking the system root for a password adds no extra security — root has full access to all the data files and all process memory anyway. But not asking for a password means, there is no root password to forget (no need for the numerous tutorials on “how to reset MariaDB root password”). And if you want to script some tedious database work, there is no need to store the root password in plain text for the script to use (no need for debian-sys-maint user).</p>
<p>Still, some users may wish to log in as MariaDB root without using sudo. Hence the old authentication method — conventional MariaDB password — is still available. By default it is disabled (“invalid” is not a valid password hash), but one can set the password with a usual <a href="#set-password">SET PASSWORD</a> statement. And still retain the password-less access via sudo.</p>
<p>If you install MariaDB locally (say from a tarball), you would not want to use sudo to be able to login. This is why MariaDB creates a second all-powerful user with the same name as a system user that owns the data directory. In local (not system-wide) installations, this will be the user who installed MariaDB — they automatically get convenient password-less root-like access, because they can access all the data files anyway.</p>
<p>Even if MariaDB is installed system-wide, you may not want to run your database maintenance scripts as system root — now you can run them as system mysql user. And you will know that they will never destroy your entire system, even if you make a typo in a shell script.</p>
<p>However, seasoned MariaDB DBAs who are used to the old ways do need to makes some changes. See the examples below for common tasks. </p>
<h2 class="anchored_heading" id="authentication-from-mariadb-104cookbook">Cookbook</h2>
<p>After installing MariaDB system-wide the first thing you’ve got used to doing is logging in into the unprotected root account and protecting it, that is, setting the root password:</p>
<pre class="fixed">$ sudo dnf install MariaDB-server
$ mysql -uroot
...
MariaDB&gt; set password = password("XH4VmT3_jt");
</pre><p>This is not only unnecessary now, it will simply not work — there is no unprotected root account. To login as root use</p>
<pre class="fixed">$ sudo dnf install MariaDB-server
$ sudo mysql
</pre><p>Note that it implies you are connecting via the unix socket, not tcp. If you happen to have <code>protocol=tcp</code> in a system-wide <code>/etc/my.cnf</code> file, use <code>sudo mysql --protocol=socket</code>.</p>
<p>After installing MariaDB locally you’ve also used to connect to the unprotected root account using <code>mysql -uroot</code>. This will not work either, simply use <code>mysql</code> without specifying a username.</p>
<p>If you've forgotten your root password, no problem — you can still connect using sudo and change the password. And if you've also removed unix_socket authentication, to restore access do as follows:</p>
<ul start="1"><li>restart MariaDB with <a href="https://mariadb.com/kb/en/mysqld-options/#-skip-grant-tables">--skip-grant-tables</a>
</li><li>login into the unprotected server
</li><li>run <a href="#flush">FLUSH PRIVILEGES</a> (note, before 10.4 this would’ve been the last step, not anymore). This disables <code>--skip-grant-tables</code> and allows you to change the stored authentication method
</li><li>run <a href="#set-password">SET PASSWORD</a> FOR root@localhost to change the root password.
</li></ul>
<p>To view inside privilege tables, the old mysql.user table still exists. You can select from it as before, although you cannot update it anymore. It doesn’t show alternative authentication plugins and this was one of the reasons for switching to the mysql.global_priv table — complex authentication rules did not fit into rigid structure of a relational table. You can select from the new table, for example: </p>
<pre class="fixed"><span class="k">select</span> <span class="n">concat</span><span class="p">(</span><span class="k">user</span><span class="p">,</span> <span class="s1">'@'</span><span class="p">,</span> <span class="k">host</span><span class="p">,</span> <span class="s1">' =&gt; '</span><span class="p">,</span> <span class="n">json_detailed</span><span class="p">(</span><span class="n">priv</span><span class="p">))</span> <span class="k">from</span> <span class="n">mysql</span><span class="p">.</span><span class="n">global_priv</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="authentication-from-mariadb-104reverting-to-the-previous-authentication-method-for-rootlocalhost">Reverting to the Previous Authentication Method for root@localhost</h2>
<p>If you don't want the <code>root@localhost</code> user account created by <a href="https://mariadb.com/kb/en/mysql_install_db/">mysql_install_db</a> to use <a href="https://mariadb.com/kb/en/authentication-plugin-unix-socket/">unix_socket</a> authentication by default, then there are a few ways to revert to the previous <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> authentication method for this user account.</p>
<h3 class="anchored_heading" id="authentication-from-mariadb-104configuring-mysql_install_db-to-revert-to-the-previous-authentication-method">Configuring <code>mysql_install_db</code> to Revert to the Previous Authentication Method</h3>
<p>One way to revert to the previous <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> authentication method for the <code>root@localhost</code> user account is to execute <a href="https://mariadb.com/kb/en/mysql_install_db/">mysql_install_db</a> with a special option. If <a href="https://mariadb.com/kb/en/mysql_install_db/">mysql_install_db</a> is executed while <code>--auth-root-authentication-method=normal</code> is specified, then it will create the default user accounts using the default behavior of <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> and before.</p>
<p>This means that the <code>root@localhost</code> user account will use <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> authentication by default. There are some other differences as well. See <a href="https://mariadb.com/kb/en/mysql_install_db/#user-accounts-created-by-default">mysql_install_db: User Accounts Created by Default</a> for more information.</p>
<p>For example, the option can be set on the command-line while running <a href="https://mariadb.com/kb/en/mysql_install_db/">mysql_install_db</a>:</p>
<pre class="fixed">mysql_install_db --user=mysql --datadir=/var/lib/mysql --auth-root-authentication-method=normal
</pre><p>The option can also be set in an <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/">option file</a> in an <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> supported by <a href="https://mariadb.com/kb/en/mysql_install_db/">mysql_install_db</a>. For example:</p>
<pre class="fixed">[mysql_install_db]
auth_root_authentication_method=normal
</pre><p>If the option is set in an <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/">option file</a> and if <a href="https://mariadb.com/kb/en/mysql_install_db/">mysql_install_db</a> is executed, then <a href="https://mariadb.com/kb/en/mysql_install_db/">mysql_install_db</a> will read this option from the <a href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/">option file</a>, and it will automatically set this option.</p>
<h3 class="anchored_heading" id="authentication-from-mariadb-104altering-the-user-account-to-revert-to-the-previous-authentication-method">Altering the User Account to Revert to the Previous Authentication Method</h3>
<p>If you have already installed MariaDB, and if the <code>root@localhost</code> user account is already using <a href="https://mariadb.com/kb/en/authentication-plugin-unix-socket/">unix_socket</a> authentication, then you can revert to the old <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> authentication method for the user account by executing the following:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="n">root</span><span class="o">@</span><span class="n">localhost</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">mysql_native_password</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="ss">"verysecret"</span><span class="p">)</span>
</pre><h2 class="anchored_heading" id="authentication-from-mariadb-104see-also">See Also</h2>
<ul start="1"><li><a href="https://www.youtube.com/watch?v=aWFG4uLbimM">Authentication from MariaDB 10 4 video tutorial</a>
</li><li><a href="https://mariadb.org/authentication-in-mariadb-10-4/">Authentication in MariaDB 10.4 — understanding the changes (mariadb.org)</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-usercreate-user">CREATE USER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="create-usersyntax">Syntax</h2>
<pre class="fixed">CREATE [OR REPLACE] USER [IF NOT EXISTS] 
 <em>user_specification</em> [,<em>user_specification</em> ...] 
  [REQUIRE {NONE | <em>tls_option</em> [[AND] <em>tls_option</em> ...] }]
  [WITH <em>resource_option</em> [<em>resource_option</em> ...] ]
  [<em>lock_option</em>] [<em>password_option</em>] 

<em>user_specification</em>:
  username [<em>authentication_option</em>]

<em>authentication_option</em>:
  IDENTIFIED BY 'password' 
  | IDENTIFIED BY PASSWORD 'password_hash'
  | IDENTIFIED {VIA|WITH} <em>authentication_rule</em> [OR <em>authentication_rule</em>  ...]

<em>authentication_rule</em>:
    authentication_plugin
  | authentication_plugin {USING|AS} 'authentication_string'
  | authentication_plugin {USING|AS} PASSWORD('password')

<em>tls_option</em>:
  SSL 
  | X509
  | CIPHER 'cipher'
  | ISSUER 'issuer'
  | SUBJECT 'subject'

<em>resource_option</em>:
  MAX_QUERIES_PER_HOUR count
  | MAX_UPDATES_PER_HOUR count
  | MAX_CONNECTIONS_PER_HOUR count
  | MAX_USER_CONNECTIONS count
  | MAX_STATEMENT_TIME time

<em>password_option</em>:
  PASSWORD EXPIRE
  | PASSWORD EXPIRE DEFAULT
  | PASSWORD EXPIRE NEVER
  | PASSWORD EXPIRE INTERVAL N DAY

<em>lock_option</em>:
    ACCOUNT LOCK
  | ACCOUNT UNLOCK
}
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#create-usersyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#create-userdescription" title="Description">Description</a></li>
<li class=""><a href="#create-useror-replace" title="OR REPLACE">OR REPLACE</a></li>
<li class=""><a href="#create-userif-not-exists" title="IF NOT EXISTS">IF NOT EXISTS</a></li>
<li class=""><a href="#create-userauthentication-options" title="Authentication Options">Authentication Options</a> <ol class="toc">
<li class=""><a href="#create-useridentified-by-password" title="IDENTIFIED BY 'password'">IDENTIFIED BY 'password'</a></li>
<li class=""><a href="#create-useridentified-by-password-password_hash" title="IDENTIFIED BY PASSWORD 'password_hash'">IDENTIFIED BY PASSWORD 'password_hash'</a></li>
<li class=""><a href="#create-useridentified-viawith-authentication_plugin" title="IDENTIFIED {VIA|WITH} authentication_plugin">IDENTIFIED {VIA|WITH} authentication_plugin</a> </li></ol>
</li>
<li class=""><a href="#create-usertls-options" title="TLS Options">TLS Options</a></li>
<li class=""><a href="#create-userresource-limit-options" title="Resource Limit Options">Resource Limit Options</a></li>
<li class=""><a href="#create-useraccount-names" title="Account Names">Account Names</a> <ol class="toc">
<li class=""><a href="#create-userhost-name-component" title="Host Name Component">Host Name Component</a></li>
<li class=""><a href="#create-useruser-name-component" title="User Name Component">User Name Component</a></li>
<li class=""><a href="#create-useranonymous-accounts" title="Anonymous Accounts">Anonymous Accounts</a> <ol class="toc">
<li class=""><a href="#create-userfixing-a-legacy-default-anonymous-account" title="Fixing a Legacy Default Anonymous Account">Fixing a Legacy Default Anonymous Account</a> </li></ol>
</li></ol>
</li>
<li class=""><a href="#create-userpassword-expiry" title="Password Expiry">Password Expiry</a></li>
<li class=""><a href="#create-useraccount-locking" title="Account Locking">Account Locking</a></li>
<li class=""><a href="#create-usersee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-userdescription">Description</h2>
<p>The <code>CREATE USER</code> statement creates new MariaDB accounts. To use it, you must have the global <a ">CREATE USER</a> privilege or the <a ">INSERT</a> privilege for the <a href="https://mariadb.com/kb/en/the-mysql-database-tables/">mysql</a> database. For each account, <code>CREATE USER</code> creates a new row in <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> (until <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> this is a table, from <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> it's a view) or <a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv_table</a> (from <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>) that has no privileges.</p>
<p>If any of the specified accounts, or any permissions for the specified accounts, already exist, then the server returns <code>ERROR 1396 (HY000)</code>. If an error occurs, <code>CREATE USER</code> will still create the accounts that do not result in an error. Only one error is produced for all users which have not been created:</p>
<pre class="fixed">ERROR 1396 (HY000): 
  Operation CREATE USER failed for 'u1'@'%','u2'@'%'
</pre><p><code>CREATE USER</code>, <a href="#drop-user">DROP USER</a>, <a href="#create-role">CREATE ROLE</a>, and <a href="#drop-role">DROP ROLE</a>  all produce the same error code when they fail.</p>
<p>See <a href="#create-useraccount-names">Account Names</a> below for details on how account names are specified. </p>
<h2 class="anchored_heading" id="create-useror-replace">OR REPLACE</h2>
<p>If the optional <code>OR REPLACE</code> clause is used, it is basically a shortcut for:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="n">USER</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">name</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="n">USER</span> <span class="n">name</span> <span class="p">...;</span>
</pre><p>For example:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'password'</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1396</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="n">Operation</span> <span class="k">CREATE</span> <span class="n">USER</span> <span class="n">failed</span> <span class="k">for</span> <span class="s1">'foo2'</span><span class="o">@</span><span class="s1">'test'</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="n">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'password'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><h2 class="anchored_heading" id="create-userif-not-exists">IF NOT EXISTS</h2>
<p>When the <code>IF NOT EXISTS</code> clause is used, MariaDB will return a warning instead of an error if the specified user already exists.</p>
<p>For example:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'password'</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1396</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="n">Operation</span> <span class="k">CREATE</span> <span class="n">USER</span> <span class="n">failed</span> <span class="k">for</span> <span class="s1">'foo2'</span><span class="o">@</span><span class="s1">'test'</span>

<span class="k">CREATE</span> <span class="n">USER</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'password'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="nf">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+-------+------+----------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                            <span class="o">|</span>
<span class="o">+-------+------+----------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1973</span> <span class="o">|</span> <span class="n">Can</span><span class="s1">'t create user '</span><span class="n">foo2</span><span class="s1">'@'</span><span class="n">test</span><span class="err">'</span><span class="p">;</span> <span class="n">it</span> <span class="n">already</span> <span class="k">exists</span> <span class="o">|</span>
<span class="o">+-------+------+----------------------------------------------------+</span>
<span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span>
</pre><h2 class="anchored_heading" id="create-userauthentication-options">Authentication Options</h2>
<h3 class="anchored_heading" id="create-useridentified-by-password">IDENTIFIED BY 'password'</h3>
<p>The optional <code>IDENTIFIED BY</code> clause can be used to provide an account with a password. The password should be specified in plain text. It will be hashed by the <a href="#password">PASSWORD</a> function prior to being stored in the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a>/<a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv_table</a> table.</p>
<p>For example, if our password is <code>mariadb</code>, then we can create the user with:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'mariadb'</span><span class="p">;</span>
</pre><p>If you do not specify a password with the <code>IDENTIFIED BY</code> clause, the user
will be able to connect without a password. A blank password is not a wildcard
to match any password. The user must connect without providing a password if no
password is set.</p>
<p>The only <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that this clause supports are <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> and <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a>.</p>
<h3 class="anchored_heading" id="create-useridentified-by-password-password_hash">IDENTIFIED BY PASSWORD 'password_hash'</h3>
<p>The optional <code>IDENTIFIED BY PASSWORD</code> clause can be used to provide an account with a password that has already been hashed. The password should be specified as a hash that was provided by the <a href="#password">PASSWORD</a> function. It will be stored in the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a>/<a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv_table</a> table as-is.</p>
<p>For example, if our password is <code>mariadb</code>, then we can find the hash with:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'mariadb'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'mariadb'</span><span class="p">)</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="o">*</span><span class="mi">54958</span><span class="n">E764CE10E50764C2EECBB71D01F08549980</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>And then we can create a user with the hash:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*54958E764CE10E50764C2EECBB71D01F08549980'</span><span class="p">;</span>
</pre><p>If you do not specify a password with the <code>IDENTIFIED BY</code> clause, the user
will be able to connect without a password. A blank password is not a wildcard
to match any password. The user must connect without providing a password if no
password is set.</p>
<p>The only <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that this clause supports are <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> and <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a>.</p>
<h3 class="anchored_heading" id="create-useridentified-viawith-authentication_plugin">IDENTIFIED {VIA|WITH} authentication_plugin</h3>
<p>The optional <code>IDENTIFIED VIA authentication_plugin</code> allows you to specify that the account should be authenticated by a specific <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugin</a>. The plugin name must be an active authentication plugin as per <a href="#show-plugins">SHOW PLUGINS</a>. If it doesn't show up in that output, then you will need to install it with <a href="#install-plugin">INSTALL PLUGIN</a> or <a href="#install-soname">INSTALL SONAME</a>.</p>
<p>For example, this could be used with the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">PAM authentication plugin</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span><span class="p">;</span>
</pre><p>Some authentication plugins allow additional arguments to be specified after a <code>USING</code> or <code>AS</code> keyword. For example, the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">PAM authentication plugin</a> accepts a <a href="https://mariadb.com/kb/en/authentication-plugin-pam/#configuring-the-pam-service">service name</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span> <span class="k">USING</span> <span class="s1">'mariadb'</span><span class="p">;</span>
</pre><p>The exact meaning of the additional argument would depend on the specific authentication plugin.</p>
<div class="mariadb_from_10_4_0 mariadb from_10_4_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">10.4.0</a></h5><p>The <code>USING</code> or <code>AS</code> keyword can also be used to provide a plain-text password to a plugin if it's provided as an argument to the <a href="#password">PASSWORD()</a> function. This is only valid for <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that have implemented a hook for the <a href="#password">PASSWORD()</a> function. For example, the <a href="https://mariadb.com/kb/en/authentication-plugin-ed25519/">ed25519</a> authentication plugin supports this:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">safe</span><span class="o">@</span><span class="s1">'%'</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">ed25519</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'secret'</span><span class="p">);</span>
</pre></div><div class="mariadb_from_10_4_3 mariadb from_10_4_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">10.4.3</a></h5><p>One can specify many authentication plugins, they all work as alternatives ways of authenticating a user:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">safe</span><span class="o">@</span><span class="s1">'%'</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">ed25519</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'secret'</span><span class="p">)</span> <span class="k">OR</span> <span class="n">unix_socket</span><span class="p">;</span>
</pre></div><p>By default, when you create a user without specifying an authentication plugin, MariaDB uses the <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> plugin.</p>
<h2 class="anchored_heading" id="create-usertls-options">TLS Options</h2>
<p>By default, MariaDB transmits data between the server and clients without encrypting it. This is generally acceptable when the server and client run on the same host or in networks where security is guaranteed through other means. However, in cases where the server and client exist on separate networks or they are in a high-risk network, the lack of encryption does introduce security concerns as a malicious actor could potentially eavesdrop on the traffic as it is sent over the network between them.</p>
<p>To mitigate this concern, MariaDB allows you to encrypt data in transit between the server and clients using the Transport Layer Security (TLS) protocol. TLS was formerly known as Secure Socket Layer (SSL), but strictly speaking the SSL protocol is a predecessor to TLS and, that version of the protocol is now considered insecure. The documentation still uses the term SSL often and for compatibility reasons TLS-related server system and status variables still use the prefix ssl_, but internally, MariaDB only supports its secure successors.</p>
<p>See <a href="https://mariadb.com/kb/en/secure-connections-overview/">Secure Connections Overview</a> for more information about how to determine whether your MariaDB server has TLS support.</p>
<p>You can set certain TLS-related restrictions for specific user accounts. For instance, you might use this with user accounts that require access to sensitive data while sending it across networks that you do not control. These restrictions can be enabled for a user account with the <a href="#create-user">CREATE USER</a>, <a href="#alter-user">ALTER USER</a>, or <a href="#grant">GRANT</a> statements. The following options are available:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Option</th><th>Description</th></tr>
<tr><td><code>REQUIRE NONE</code></td><td>TLS is not required for this account, but can still be used.</td></tr>
<tr><td><code>REQUIRE SSL</code></td><td>The account must use TLS, but no valid X509 certificate is required. This option cannot be combined with other TLS options.</td></tr>
<tr><td><code>REQUIRE X509</code></td><td>The account must use TLS and must have a valid X509 certificate. This option implies <code>REQUIRE SSL</code>. This option cannot be combined with other TLS options.</td></tr>
<tr><td><code>REQUIRE ISSUER 'issuer'</code></td><td>The account must use TLS and must have a valid X509 certificate. Also, the Certificate Authority must be the one specified via the string <code>issuer</code>. This option implies <code>REQUIRE X509</code>. This option can be combined with the <code>SUBJECT</code>, and <code>CIPHER</code> options in any order.</td></tr>
<tr><td><code>REQUIRE SUBJECT 'subject'</code></td><td>The account must use TLS and must have a valid X509 certificate. Also, the certificate's Subject must be the one specified via the string <code>subject</code>. This option implies <code>REQUIRE X509</code>. This option can be combined with the <code>ISSUER</code>, and <code>CIPHER</code> options in any order.</td></tr>
<tr><td><code>REQUIRE CIPHER 'cipher'</code></td><td>The account must use TLS, but no valid X509 certificate is required. Also, the encryption used for the connection must use a specific cipher method specified in the string <code>cipher</code>. This option implies <code>REQUIRE SSL</code>. This option can be combined with the <code>ISSUER</code>, and <code>SUBJECT</code> options in any order.</td></tr>
</table>
</div><p>The <code>REQUIRE</code> keyword must be used only once for all specified options, and the <code>AND</code> keyword can be used to separate individual options, but it is not required.</p>
<p>For example, you can create a user account that requires these TLS options with the following:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'%'</span>
    <span class="n">REQUIRE</span> <span class="n">SUBJECT</span> <span class="s1">'/CN=alice/O=My Dom, Inc./C=US/ST=Oregon/L=Portland'</span>
    <span class="k">AND</span> <span class="n">ISSUER</span> <span class="s1">'/C=FI/ST=Somewhere/L=City/ O=Some Company/CN=Peter Parker/emailAddress=p.parker@marvel.com'</span>
    <span class="k">AND</span> <span class="n">CIPHER</span> <span class="s1">'SHA-DES-CBC3-EDH-RSA'</span><span class="p">;</span>
</pre><p>If any of these options are set for a specific user account, then any client who tries to connect with that user account will have to be configured to connect with TLS.</p>
<p>See <a href="https://mariadb.com/kb/en/securing-connections-for-client-and-server/">Securing Connections for Client and Server</a> for information on how to enable TLS on the client and server.</p>
<h2 class="anchored_heading" id="create-userresource-limit-options">Resource Limit Options</h2>
<div class="mariadb_from_10_2_0 mariadb from_10_2_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">10.2.0</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a> introduced a number of resource limit options.</p>
</div><p>It is possible to set per-account limits for certain server resources. The following table shows the values that can be set per account:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Limit Type</th><th>Decription</th></tr>
<tr><td><code>MAX_QUERIES_PER_HOUR</code></td><td>Number of statements that the account can issue per hour (including updates)</td></tr>
<tr><td><code>MAX_UPDATES_PER_HOUR</code></td><td>Number of updates (not queries) that the account can issue per hour</td></tr>
<tr><td><code>MAX_CONNECTIONS_PER_HOUR</code></td><td>Number of connections that the account can start per hour</td></tr>
<tr><td><code>MAX_USER_CONNECTIONS</code></td><td>Number of simultaneous connections that can be accepted from the same account; if it is 0, <code>max_connections</code> will be used instead; if <code>max_connections</code> is 0, there is no limit for this account's simultaneous connections.</td></tr>
<tr><td><code>MAX_STATEMENT_TIME</code></td><td>Timeout, in seconds, for statements executed by the user. See also <a href="https://mariadb.com/kb/en/aborting-statements/">Aborting Statements that Exceed a Certain Time to Execute</a>.</td></tr>
</table>
</div><p>If any of these limits are set to <code>0</code>, then there is no limit for that resource for that user.</p>
<p>Here is an example showing how to create a user with resource limits:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'someone'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span>
    <span class="n">MAX_USER_CONNECTIONS</span> <span class="mi">10</span>
    <span class="n">MAX_QUERIES_PER_HOUR</span> <span class="mi">200</span><span class="p">;</span>
</pre><p>The resources are tracked per account, which means <code>'user'@'server'</code>; not per user name or per connection.</p>
<p>The count can be reset for all users using <a href="#flush">FLUSH USER_RESOURCES</a>, <a href="#flush">FLUSH PRIVILEGES</a> or <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin reload</a>.</p>
<p>Per account resource limits are stored in the <a href="https://mariadb.com/kb/en/mysqluser-table/">user</a> table, in the <a href="https://mariadb.com/kb/en/the-mysql-database-tables/">mysql</a> database. Columns used for resources limits are named <code>max_questions</code>, <code>max_updates</code>, <code>max_connections</code> (for <code>MAX_CONNECTIONS_PER_HOUR</code>), and <code>max_user_connections</code> (for <code>MAX_USER_CONNECTIONS</code>).</p>
<h2 class="anchored_heading" id="create-useraccount-names">Account Names</h2>
<p>Account names have both a user name component and a host name component, and are specified as <code>'user_name'@'host_name'</code>.</p>
<p>The user name and host name may be unquoted, quoted as strings using double quotes (<code>"</code>) or
single quotes (<code>'</code>), or quoted as identifiers using backticks (<code>`</code>). You must use quotes
when using special characters (such as a hyphen) or wildcard characters. If you quote, you 
must quote the user name and host name separately (for example <code>'user_name'@'host_name'</code>).</p>
<h3 class="anchored_heading" id="create-userhost-name-component">Host Name Component</h3>
<p>If the host name is not provided, it is assumed to be <code>'%'</code>.</p>
<p>Host names may contain the wildcard characters <code>%</code> and <code>_</code>. They are matched as if by
the <a href="#like">LIKE</a> clause. If you need to use a wildcard character literally (for example, to
match a domain name with an underscore), prefix the character with a backslash. See <code>LIKE</code>
for more information on escaping wildcard characters.</p>
<p>Host name matches are case-insensitive. Host names can match either domain names or IP
addresses. Use <code>'localhost'</code> as the host name to allow only local client connections.</p>
<p>You can use a netmask to match a range of IP addresses using <code>'base_ip/netmask'</code> as the
host name. A user with an IP address <em>ip_addr</em> will be allowed to connect if the following
condition is true:</p>
<pre class="fixed">ip_addr &amp; netmask = base_ip
</pre><p>For example, given a user:</p>
<pre class="fixed">CREATE USER 'maria'@'247.150.130.0/255.255.255.0';
</pre><p>the IP addresses satisfying this condition range from 247.150.130.0 to 247.150.130.255. </p>
<p>Using <code>255.255.255.255</code> is equivalent to not using a netmask at all. Netmasks cannot be used for IPv6 addresses. </p>
<p>Note that the credentials added when creating a user with the <code>'%'</code> wildcard host will not grant access in all cases. For example, some systems come with an anonymous localhost user, and when connecting from localhost this will take precedence.</p>
<p>Before <a href="https://mariadb.com/kb/en/what-is-mariadb-106/">MariaDB 10.6</a>, the host name component could be up to 60 characters in length. Starting from <a href="https://mariadb.com/kb/en/what-is-mariadb-106/">MariaDB 10.6</a>, it can be up to 255 characters.</p>
<h3 class="anchored_heading" id="create-useruser-name-component">User Name Component</h3>
<p>User names must match exactly, including case. A user name that is empty is known as an anonymous account and is allowed to match a login attempt with any user name component. These are described more in the next section.</p>
<p>For valid identifiers to use as user names, see <a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>.</p>
<p>It is possible for more than one account to match when a user connects. MariaDB selects
the first matching account after sorting according to the following criteria:</p>
<ul start="1"><li>Accounts with an exact host name are sorted before accounts using a wildcard in the
host name. Host names using a netmask are considered to be exact for sorting.
</li><li>Accounts with a wildcard in the host name are sorted according to the position of
the first wildcard character. Those with a wildcard character later in the host name
sort before those with a wildcard character earlier in the host name.
</li><li>Accounts with a non-empty user name sort before accounts with an empty user name.
</li><li>Accounts with an empty user name are sorted last. As mentioned previously, these are known as anonymous accounts. These are described more in the next section.
</li></ul>
<p>The following table shows a list of example account as sorted by these criteria:</p>
<pre class="fixed">+---------+-------------+
| User    | Host        |
+---------+-------------+
| joffrey | 192.168.0.3 |
|         | 192.168.0.% |
| joffrey | 192.168.%   |
|         | 192.168.%   |
+---------+-------------+
</pre><p>Once connected, you only have the privileges granted to the account that matched,
not all accounts that could have matched. For example, consider the following
commands:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'joffrey'</span><span class="o">@</span><span class="s1">'192.168.0.3'</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'joffrey'</span><span class="o">@</span><span class="s1">'%'</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="n">test</span><span class="p">.</span><span class="n">t1</span> <span class="k">to</span> <span class="s1">'joffrey'</span><span class="o">@</span><span class="s1">'192.168.0.3'</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="n">test</span><span class="p">.</span><span class="n">t2</span> <span class="k">to</span> <span class="s1">'joffrey'</span><span class="o">@</span><span class="s1">'%'</span><span class="p">;</span>
</pre><p>If you connect as joffrey from <code class="fixed" style="white-space:pre-wrap">192.168.0.3</code>, you will have the <code>SELECT</code>
privilege on the table <code>test.t1</code>, but not on the table <code>test.t2</code>. If you connect as joffrey from any other IP address, you will have the <code>SELECT</code> privilege on the table <code>test.t2</code>, but not
on the table <code>test.t1</code>.</p>
<p>Usernames can be up to 80 characters long before 10.6 and starting from 10.6 it can be 128 characters long.</p>
<h3 class="anchored_heading" id="create-useranonymous-accounts">Anonymous Accounts</h3>
<p>Anonymous accounts are accounts where the user name portion of the account name is empty. These accounts act as special catch-all accounts. If a user attempts to log into the system from a host, and an anonymous account exists with a host name portion that matches the user's host, then the user will log in as the anonymous account if there is no more specific account match for the user name that the user entered.</p>
<p>For example, here are some anonymous accounts:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'192.168.0.3'</span><span class="p">;</span>
</pre><h4 class="anchored_heading" id="create-userfixing-a-legacy-default-anonymous-account">Fixing a Legacy Default Anonymous Account</h4>
<p>On some systems, the <a href="https://mariadb.com/kb/en/mysqldb-table/">mysql.db</a> table has some entries for the <code>''@'%'</code> anonymous account by default. Unfortunately, there is no matching entry in the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a>/<a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv_table</a> table, which means that this anonymous account doesn't exactly exist, but it does have privileges--usually on the default <code>test</code> database created by <a href="https://mariadb.com/kb/en/mysql_install_db/">mysql_install_db</a>. These account-less privileges are a legacy that is leftover from a time when MySQL's privilege system was less advanced.</p>
<p>This situation means that you will run into errors if you try to create a <code>''@'%'</code> account. For example:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1396</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="k">Operation</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="n">failed</span> <span class="k">for</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span>
</pre><p>The fix is to <a href="#delete">DELETE</a> the row in the <a href="https://mariadb.com/kb/en/mysqldb-table/">mysql.db</a> table and then execute <a href="#flush">FLUSH PRIVILEGES</a>:</p>
<pre class="fixed"><span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">mysql</span><span class="p">.</span><span class="n">db</span> <span class="k">WHERE</span> <span class="k">User</span><span class="o">=</span><span class="s1">''</span> <span class="k">AND</span> <span class="k">Host</span><span class="o">=</span><span class="s1">'%'</span><span class="p">;</span>
<span class="n">FLUSH</span> <span class="k">PRIVILEGES</span><span class="p">;</span>
</pre><p>And then the account can be created:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>See <a href="https://jira.mariadb.org/browse/MDEV-13486">MDEV-13486</a> for more information.</p>
<h2 class="anchored_heading" id="create-userpassword-expiry">Password Expiry</h2>
<div class="mariadb_from_10_4_3 mariadb from_10_4_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">10.4.3</a></h5><p>Besides automatic password expiry, as determined by <a href="https://mariadb.com/kb/en/server-system-variables/#default_password_lifetime">default_password_lifetime</a>, password expiry times can be set on an individual user basis, overriding the global setting, for example:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="nb">INTERVAL</span> <span class="mi">120</span> <span class="k">DAY</span><span class="p">;</span>
</pre><p>See <a href="#user-password-expiry">User Password Expiry</a> for more details.</p>
</div><h2 class="anchored_heading" id="create-useraccount-locking">Account Locking</h2>
<div class="mariadb_from_10_4_2 mariadb from_10_4_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1042-release-notes/">10.4.2</a></h5><p>Account locking permits privileged administrators to lock/unlock user accounts. No new client connections will be permitted if an account is locked (existing connections are not affected). For example:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'marijn'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">ACCOUNT</span> <span class="k">LOCK</span><span class="p">;</span>
</pre><p>See <a href="#account-locking">Account Locking</a> for more details.</p>
</div><p>From <a href="https://mariadb.com/kb/en/mariadb-1047-release-notes/">MariaDB 10.4.7</a> and <a href="https://mariadb.com/kb/en/mariadb-1058-release-notes/">MariaDB 10.5.8</a>, the <em>lock_option</em> and <em>password_option</em> clauses can occur in either order.</p>
<h2 class="anchored_heading" id="create-usersee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/troubleshooting-connection-issues/">Troubleshooting Connection Issues</a>
</li><li><a href="#authentication-from-mariadb-104">Authentication from MariaDB 10.4</a>
</li><li><a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>
</li><li><a href="#grant">GRANT</a>
</li><li><a href="#alter-user">ALTER USER</a>
</li><li><a href="#drop-user">DROP USER</a>
</li><li><a href="#set-password">SET PASSWORD</a>
</li><li><a href="#show-create-user">SHOW CREATE USER</a>
</li><li><a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user table</a>
</li><li><a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv_table</a>
</li><li><a href="https://mariadb.com/kb/en/password-validation-plugins/">Password Validation Plugins</a> - permits the setting of basic criteria for passwords
</li><li><a href="https://mariadb.com/kb/en/authentication-plugins/">Authentication Plugins</a> - allow various authentication methods to be used, and new ones to be developed.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="alter-user">ALTER USER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_0 mariadb from_10_2_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">10.2.0</a></h5><p>The ALTER USER statement was introduced in <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a>.</p>
</div><h2 class="anchored_heading" id="alter-usersyntax">Syntax</h2>
<pre class="fixed">ALTER USER [IF EXISTS] 
 <em>user_specification</em> [,<em>user_specification</em>] ...
  [REQUIRE {NONE | <em>tls_option</em> [[AND] <em>tls_option</em>] ...}]
  [WITH <em>resource_option</em> [<em>resource_option</em>] ...]
  [<em>lock_option</em>] [<em>password_option</em>] 

<em>user_specification</em>:
  username [<em>authentication_option</em>]

<em>authentication_option</em>:
  IDENTIFIED BY 'password' 
  | IDENTIFIED BY PASSWORD 'password_hash'
  | IDENTIFIED {VIA|WITH} <em>authentication_rule</em> [OR <em>authentication_rule</em>] ... 
 
<em>authentication_rule</em>:
  authentication_plugin
  | authentication_plugin {USING|AS} 'authentication_string'
  | authentication_plugin {USING|AS} PASSWORD('password')

<em>tls_option</em>
  SSL 
  | X509
  | CIPHER 'cipher'
  | ISSUER 'issuer'
  | SUBJECT 'subject'

<em>resource_option</em>
  MAX_QUERIES_PER_HOUR count
  | MAX_UPDATES_PER_HOUR count
  | MAX_CONNECTIONS_PER_HOUR count
  | MAX_USER_CONNECTIONS count
  | MAX_STATEMENT_TIME time

<em>password_option</em>:
  PASSWORD EXPIRE
  | PASSWORD EXPIRE DEFAULT
  | PASSWORD EXPIRE NEVER
  | PASSWORD EXPIRE INTERVAL N DAY

<em>lock_option</em>:
    ACCOUNT LOCK
  | ACCOUNT UNLOCK
}
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_0"><a href="#alter-usersyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2_0"><a href="#alter-userdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2_0"><a href="#alter-userif-exists" title="IF EXISTS">IF EXISTS</a></li>
<li class="mariadb_from_10_2_0"><a href="#alter-useraccount-names" title="Account Names">Account Names</a></li>
<li class="mariadb_from_10_2_0"><a href="#alter-userauthentication-options" title="Authentication Options">Authentication Options</a> <ol class="toc">
<li class="mariadb_from_10_2_0"><a href="#alter-useridentified-by-password" title="IDENTIFIED BY 'password'">IDENTIFIED BY 'password'</a></li>
<li class="mariadb_from_10_2_0"><a href="#alter-useridentified-by-password-password_hash" title="IDENTIFIED BY PASSWORD 'password_hash'">IDENTIFIED BY PASSWORD 'password_hash'</a></li>
<li class="mariadb_from_10_2_0"><a href="#alter-useridentified-viawith-authentication_plugin" title="IDENTIFIED {VIA|WITH} authentication_plugin">IDENTIFIED {VIA|WITH} authentication_plugin</a> </li></ol>
</li>
<li class="mariadb_from_10_2_0"><a href="#alter-usertls-options" title="TLS Options">TLS Options</a></li>
<li class="mariadb_from_10_2_0"><a href="#alter-userresource-limit-options" title="Resource Limit Options">Resource Limit Options</a></li>
<li class="mariadb_from_10_2_0"><a href="#alter-userpassword-expiry" title="Password Expiry">Password Expiry</a></li>
<li class="mariadb_from_10_2_0"><a href="#alter-useraccount-locking" title="Account Locking">Account Locking</a></li>
<li class="mariadb_from_10_2_0"><a href="#alter-usersee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="alter-userdescription">Description</h2>
<p>The <code>ALTER USER</code> statement modifies existing MariaDB accounts. To use it, you must have the global <a ">CREATE USER</a> privilege or the <a ">UPDATE</a> privilege for the <a href="https://mariadb.com/kb/en/the-mysql-database-tables/">mysql</a> database. The global <a ">SUPER</a> privilege is also required if the <a href="https://mariadb.com/kb/en/server-system-variables/#read_only">read_only</a> system variable is enabled.</p>
<p>If any of the specified user accounts do not yet exist, an error results. If an error occurs, <code>ALTER USER</code> will still modify the accounts that do not result in an error. Only one error is produced for all users which have not been modified.</p>
<h2 class="anchored_heading" id="alter-userif-exists">IF EXISTS</h2>
<p>When the <code>IF EXISTS</code> clause is used, MariaDB will return a warning instead of an error for each specified user that does not exist.</p>
<h2 class="anchored_heading" id="alter-useraccount-names">Account Names</h2>
<p>For <code>ALTER USER</code> statements, account names are specified as the <code>username</code> argument in the same way as they are for <a href="#create-user">CREATE USER</a> statements. See <a ">account names</a> from the <code>CREATE USER</code> page for details on how account names are specified.</p>
<p><a href="#current_user">CURRENT_USER</a> or <code>CURRENT_USER()</code> can also be used to alter the account logged into the current session. For example, to change the current user's password to <code>mariadb</code>:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="k">CURRENT_USER</span><span class="p">()</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'mariadb'</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="alter-userauthentication-options">Authentication Options</h2>
<div class="mariadb_from_10_4 mariadb from_10_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">10.4</a></h5><p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>, it is possible to use more than one authentication plugin for each user account. For example, this can be useful to slowly migrate users to the more secure ed25519 authentication plugin over time, while allowing the old mysql_native_password authentication plugin as an alternative for the transitional period. See <a href="#authentication-from-mariadb-104">Authentication from MariaDB 10.4</a> for more.</p>
<p>When running <code>ALTER USER</code>, not specifying an authentication option in the IDENTIFIED VIA clause will remove that authentication method. (However this was not the case before <a href="https://mariadb.com/kb/en/mariadb-10413-release-notes/">MariaDB 10.4.13</a>, see <a href="https://jira.mariadb.org/browse/MDEV-21928">MDEV-21928</a>)</p>
<p>For example, a user is created with the ability to authenticate via both a password and unix_socket:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'localhost'</span> 
  <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">mysql_native_password</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'pwd'</span><span class="p">)</span> 
  <span class="k">OR</span> <span class="n">unix_socket</span><span class="p">;</span>

<span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="err">\</span><span class="k">G</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="k">for</span> <span class="n">bob</span><span class="o">@</span><span class="n">localhost</span><span class="p">:</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="o">`</span><span class="n">bob</span><span class="o">`@`</span><span class="n">localhost</span><span class="o">`</span> 
  <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">mysql_native_password</span> <span class="k">USING</span> <span class="s1">'*975B2CD4FF9AE554FE8AD33168FBFC326D2021DD'</span> 
  <span class="k">OR</span> <span class="n">unix_socket</span>
</pre><p>If the user's password is updated, but unix_socket authentication is not specified in the <code>IDENTIFIED VIA</code> clause, unix_socket authentication will no longer be permitted.</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">mysql_native_password</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'pwd2'</span><span class="p">);</span>

<span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="err">\</span><span class="k">G</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="k">for</span> <span class="n">bob</span><span class="o">@</span><span class="n">localhost</span><span class="p">:</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="o">`</span><span class="n">bob</span><span class="o">`@`</span><span class="n">localhost</span><span class="o">`</span> 
  <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*38366FDA01695B6A5A9DD4E428D9FB8F7EB75512'</span>
</pre></div><h3 class="anchored_heading" id="alter-useridentified-by-password">IDENTIFIED BY 'password'</h3>
<p>The optional <code>IDENTIFIED BY</code> clause can be used to provide an account with a password. The password should be specified in plain text. It will be hashed by the <a href="#password">PASSWORD</a> function prior to being stored to the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table.</p>
<p>For example, if our password is <code>mariadb</code>, then we can set the account's password with:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'mariadb'</span><span class="p">;</span>
</pre><p>If you do not specify a password with the <code>IDENTIFIED BY</code> clause, the user
will be able to connect without a password. A blank password is not a wildcard
to match any password. The user must connect without providing a password if no
password is set.</p>
<p>The only <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that this clause supports are <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> and <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a>.</p>
<h3 class="anchored_heading" id="alter-useridentified-by-password-password_hash">IDENTIFIED BY PASSWORD 'password_hash'</h3>
<p>The optional <code>IDENTIFIED BY PASSWORD</code> clause can be used to provide an account with a password that has already been hashed. The password should be specified as a hash that was provided by the <a href="#password">PASSWORD</a>#function. It will be stored to the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table as-is.</p>
<p>For example, if our password is <code>mariadb</code>, then we can find the hash with:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'mariadb'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'mariadb'</span><span class="p">)</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="o">*</span><span class="mi">54958</span><span class="n">E764CE10E50764C2EECBB71D01F08549980</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
</pre><p>And then we can set an account's password with the hash:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*54958E764CE10E50764C2EECBB71D01F08549980'</span><span class="p">;</span>
</pre><p>If you do not specify a password with the <code>IDENTIFIED BY</code> clause, the user
will be able to connect without a password. A blank password is not a wildcard
to match any password. The user must connect without providing a password if no
password is set.</p>
<p>The only <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that this clause supports are <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> and <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a>.</p>
<h3 class="anchored_heading" id="alter-useridentified-viawith-authentication_plugin">IDENTIFIED {VIA|WITH} authentication_plugin</h3>
<p>The optional <code>IDENTIFIED VIA authentication_plugin</code> allows you to specify that the account should be authenticated by a specific <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugin</a>. The plugin name must be an active authentication plugin as per <a href="#show-plugins">SHOW PLUGINS</a>. If it doesn't show up in that output, then you will need to install it with <a href="#install-plugin">INSTALL PLUGIN</a> or <a href="#install-soname">INSTALL SONAME</a>.</p>
<p>For example, this could be used with the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">PAM authentication plugin</a>:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span><span class="p">;</span>
</pre><p>Some authentication plugins allow additional arguments to be specified after a <code>USING</code> or <code>AS</code> keyword. For example, the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">PAM authentication plugin</a> accepts a <a href="https://mariadb.com/kb/en/authentication-plugin-pam/#configuring-the-pam-service">service name</a>:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span> <span class="k">USING</span> <span class="s1">'mariadb'</span><span class="p">;</span>
</pre><p>The exact meaning of the additional argument would depend on the specific authentication plugin.</p>
<p>In <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> and later, the <code>USING</code> or <code>AS</code> keyword can also be used to provide a plain-text password to a plugin if it's provided as an argument to the <a href="#password">PASSWORD()</a> function. This is only valid for <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that have implemented a hook for the <a href="#password">PASSWORD()</a> function. For example, the <a href="https://mariadb.com/kb/en/authentication-plugin-ed25519/">ed25519</a> authentication plugin supports this:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="n">safe</span><span class="o">@</span><span class="s1">'%'</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">ed25519</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'secret'</span><span class="p">);</span>
</pre><h2 class="anchored_heading" id="alter-usertls-options">TLS Options</h2>
<p>By default, MariaDB transmits data between the server and clients without encrypting it. This is generally acceptable when the server and client run on the same host or in networks where security is guaranteed through other means. However, in cases where the server and client exist on separate networks or they are in a high-risk network, the lack of encryption does introduce security concerns as a malicious actor could potentially eavesdrop on the traffic as it is sent over the network between them.</p>
<p>To mitigate this concern, MariaDB allows you to encrypt data in transit between the server and clients using the Transport Layer Security (TLS) protocol. TLS was formerly known as Secure Socket Layer (SSL), but strictly speaking the SSL protocol is a predecessor to TLS and, that version of the protocol is now considered insecure. The documentation still uses the term SSL often and for compatibility reasons TLS-related server system and status variables still use the prefix ssl_, but internally, MariaDB only supports its secure successors.</p>
<p>See <a href="https://mariadb.com/kb/en/secure-connections-overview/">Secure Connections Overview</a> for more information about how to determine whether your MariaDB server has TLS support.</p>
<p>You can set certain TLS-related restrictions for specific user accounts. For instance, you might use this with user accounts that require access to sensitive data while sending it across networks that you do not control. These restrictions can be enabled for a user account with the <a href="#create-user">CREATE USER</a>, <a href="#alter-user">ALTER USER</a>, or <a href="#grant">GRANT</a> statements. The following options are available:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Option</th><th>Description</th></tr>
<tr><td><code>REQUIRE NONE</code></td><td>TLS is not required for this account, but can still be used.</td></tr>
<tr><td><code>REQUIRE SSL</code></td><td>The account must use TLS, but no valid X509 certificate is required. This option cannot be combined with other TLS options.</td></tr>
<tr><td><code>REQUIRE X509</code></td><td>The account must use TLS and must have a valid X509 certificate. This option implies <code>REQUIRE SSL</code>. This option cannot be combined with other TLS options.</td></tr>
<tr><td><code>REQUIRE ISSUER 'issuer'</code></td><td>The account must use TLS and must have a valid X509 certificate. Also, the Certificate Authority must be the one specified via the string <code>issuer</code>. This option implies <code>REQUIRE X509</code>. This option can be combined with the <code>SUBJECT</code>, and <code>CIPHER</code> options in any order.</td></tr>
<tr><td><code>REQUIRE SUBJECT 'subject'</code></td><td>The account must use TLS and must have a valid X509 certificate. Also, the certificate's Subject must be the one specified via the string <code>subject</code>. This option implies <code>REQUIRE X509</code>. This option can be combined with the <code>ISSUER</code>, and <code>CIPHER</code> options in any order.</td></tr>
<tr><td><code>REQUIRE CIPHER 'cipher'</code></td><td>The account must use TLS, but no valid X509 certificate is required. Also, the encryption used for the connection must use a specific cipher method specified in the string <code>cipher</code>. This option implies <code>REQUIRE SSL</code>. This option can be combined with the <code>ISSUER</code>, and <code>SUBJECT</code> options in any order.</td></tr>
</table>
</div><p>The <code>REQUIRE</code> keyword must be used only once for all specified options, and the <code>AND</code> keyword can be used to separate individual options, but it is not required.</p>
<p>For example, you can alter a user account to require these TLS options with the following:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'%'</span>
    <span class="n">REQUIRE</span> <span class="n">SUBJECT</span> <span class="s1">'/CN=alice/O=My Dom, Inc./C=US/ST=Oregon/L=Portland'</span>
    <span class="k">AND</span> <span class="n">ISSUER</span> <span class="s1">'/C=FI/ST=Somewhere/L=City/ O=Some Company/CN=Peter Parker/emailAddress=p.parker@marvel.com'</span>
    <span class="k">AND</span> <span class="n">CIPHER</span> <span class="s1">'SHA-DES-CBC3-EDH-RSA'</span><span class="p">;</span>
</pre><p>If any of these options are set for a specific user account, then any client who tries to connect with that user account will have to be configured to connect with TLS.</p>
<p>See <a href="https://mariadb.com/kb/en/securing-connections-for-client-and-server/">Securing Connections for Client and Server</a> for information on how to enable TLS on the client and server.</p>
<h2 class="anchored_heading" id="alter-userresource-limit-options">Resource Limit Options</h2>
<div class="mariadb_from_10_2_0 mariadb from_10_2_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">10.2.0</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a> introduced a number of resource limit options.</p>
</div><p>It is possible to set per-account limits for certain server resources. The following table shows the values that can be set per account:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Limit Type</th><th>Decription</th></tr>
<tr><td><code>MAX_QUERIES_PER_HOUR</code></td><td>Number of statements that the account can issue per hour (including updates)</td></tr>
<tr><td><code>MAX_UPDATES_PER_HOUR</code></td><td>Number of updates (not queries) that the account can issue per hour</td></tr>
<tr><td><code>MAX_CONNECTIONS_PER_HOUR</code></td><td>Number of connections that the account can start per hour</td></tr>
<tr><td><code>MAX_USER_CONNECTIONS</code></td><td>Number of simultaneous connections that can be accepted from the same account; if it is 0, <code>max_connections</code> will be used instead; if <code>max_connections</code> is 0, there is no limit for this account's simultaneous connections.</td></tr>
<tr><td><code>MAX_STATEMENT_TIME</code></td><td>Timeout, in seconds, for statements executed by the user. See also <a href="https://mariadb.com/kb/en/aborting-statements/">Aborting Statements that Exceed a Certain Time to Execute</a>.</td></tr>
</table>
</div><p>If any of these limits are set to <code>0</code>, then there is no limit for that resource for that user.</p>
<p>Here is an example showing how to set an account's resource limits:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'someone'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span>
    <span class="n">MAX_USER_CONNECTIONS</span> <span class="mi">10</span>
    <span class="n">MAX_QUERIES_PER_HOUR</span> <span class="mi">200</span><span class="p">;</span>
</pre><p>The resources are tracked per account, which means <code>'user'@'server'</code>; not per user name or per connection.</p>
<p>The count can be reset for all users using <a href="#flush">FLUSH USER_RESOURCES</a>, <a href="#flush">FLUSH PRIVILEGES</a> or <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin reload</a>.</p>
<p>Per account resource limits are stored in the <a href="https://mariadb.com/kb/en/mysqluser-table/">user</a> table, in the <a href="https://mariadb.com/kb/en/the-mysql-database-tables/">mysql</a> database. Columns used for resources limits are named <code>max_questions</code>, <code>max_updates</code>, <code>max_connections</code> (for <code>MAX_CONNECTIONS_PER_HOUR</code>), and <code>max_user_connections</code> (for <code>MAX_USER_CONNECTIONS</code>).</p>
<h2 class="anchored_heading" id="alter-userpassword-expiry">Password Expiry</h2>
<div class="mariadb_from_10_4_3 mariadb from_10_4_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">10.4.3</a></h5><p>Besides automatic password expiry, as determined by <a href="https://mariadb.com/kb/en/server-system-variables/#default_password_lifetime">default_password_lifetime</a>, password expiry times can be set on an individual user basis, overriding the global setting, for example:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="nb">INTERVAL</span> <span class="mi">120</span> <span class="k">DAY</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="n">NEVER</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="k">DEFAULT</span><span class="p">;</span>
</pre><p>See <a href="#user-password-expiry">User Password Expiry</a> for more details.</p>
</div><h2 class="anchored_heading" id="alter-useraccount-locking">Account Locking</h2>
<div class="mariadb_from_10_4_2 mariadb from_10_4_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1042-release-notes/">10.4.2</a></h5><p>Account locking permits privileged administrators to lock/unlock user accounts. No new client connections will be permitted if an account is locked (existing connections are not affected). For example:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'marijn'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">ACCOUNT</span> <span class="k">LOCK</span><span class="p">;</span>
</pre><p>See <a href="#account-locking">Account Locking</a> for more details.</p>
</div><p>From <a href="https://mariadb.com/kb/en/mariadb-1047-release-notes/">MariaDB 10.4.7</a> and <a href="https://mariadb.com/kb/en/mariadb-1058-release-notes/">MariaDB 10.5.8</a>, the <em>lock_option</em> and <em>password_option</em> clauses can occur in either order.</p>
<h2 class="anchored_heading" id="alter-usersee-also">See Also</h2>
<ul start="1"><li><a href="#authentication-from-mariadb-104">Authentication from MariaDB 10.4</a>
</li><li><a href="#grant">GRANT</a>
</li><li><a href="#create-user">CREATE USER</a>
</li><li><a href="#drop-user">DROP USER</a>
</li><li><a href="#set-password">SET PASSWORD</a>
</li><li><a href="#show-create-user">SHOW CREATE USER</a>
</li><li><a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user table</a>
</li><li><a href="https://mariadb.com/kb/en/password-validation-plugins/">Password Validation Plugins</a> - permits the setting of basic criteria for passwords
</li><li><a href="https://mariadb.com/kb/en/authentication-plugins/">Authentication Plugins</a> - allow various authentication methods to be used, and new ones to be developed.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="grant">GRANT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents standalone">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#grantsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#grantdescription" title="Description">Description</a></li>
<li class=""><a href="#grantaccount-names" title="Account Names">Account Names</a></li>
<li class=""><a href="#grantimplicit-account-creation" title="Implicit Account Creation">Implicit Account Creation</a></li>
<li class=""><a href="#grantprivilege-levels" title="Privilege Levels">Privilege Levels</a> <ol class="toc">
<li class=""><a href="#grantthe-usage-privilege" title="The USAGE Privilege">The USAGE Privilege</a></li>
<li class=""><a href="#grantthe-all-privileges-privilege" title="The ALL PRIVILEGES Privilege">The ALL PRIVILEGES Privilege</a></li>
<li class=""><a href="#grantthe-grant-option-privilege" title="The GRANT OPTION Privilege">The GRANT OPTION Privilege</a></li>
<li class=""><a href="#grantglobal-privileges" title="Global Privileges">Global Privileges</a> <ol class="toc">
<li class=""><a href="#grantbinlog-admin" title="BINLOG ADMIN">BINLOG ADMIN</a></li>
<li class=""><a href="#grantbinlog-monitor" title="BINLOG MONITOR">BINLOG MONITOR</a></li>
<li class=""><a href="#grantbinlog-replay" title="BINLOG REPLAY">BINLOG REPLAY</a></li>
<li class=""><a href="#grantconnection-admin" title="CONNECTION ADMIN">CONNECTION ADMIN</a></li>
<li class=""><a href="#grantcreate-user" title="CREATE USER">CREATE USER</a></li>
<li class=""><a href="#grantfederated-admin" title="FEDERATED ADMIN">FEDERATED ADMIN</a></li>
<li class=""><a href="#grantfile" title="FILE">FILE</a></li>
<li class=""><a href="#grantgrant-option" title="GRANT OPTION">GRANT OPTION</a></li>
<li class=""><a href="#grantprocess" title="PROCESS">PROCESS</a></li>
<li class=""><a href="#grantread_only-admin" title="READ_ONLY ADMIN">READ_ONLY ADMIN</a></li>
<li class=""><a href="#grantreload" title="RELOAD">RELOAD</a></li>
<li class=""><a href="#grantreplication-client" title="REPLICATION CLIENT">REPLICATION CLIENT</a></li>
<li class=""><a href="#grantreplication-master-admin" title="REPLICATION MASTER ADMIN">REPLICATION MASTER ADMIN</a></li>
<li class=""><a href="#grantreplica-monitor" title="REPLICA MONITOR">REPLICA MONITOR</a></li>
<li class=""><a href="#grantreplication-replica" title="REPLICATION REPLICA">REPLICATION REPLICA</a></li>
<li class=""><a href="#grantreplication-slave" title="REPLICATION SLAVE">REPLICATION SLAVE</a></li>
<li class=""><a href="#grantreplication-slave-admin" title="REPLICATION SLAVE ADMIN">REPLICATION SLAVE ADMIN</a></li>
<li class=""><a href="#grantset-user" title="SET USER">SET USER</a></li>
<li class=""><a href="#grantshow-databases" title="SHOW DATABASES">SHOW DATABASES</a></li>
<li class=""><a href="#grantshutdown" title="SHUTDOWN">SHUTDOWN</a></li>
<li class=""><a href="#grantsuper" title="SUPER">SUPER</a> </li></ol>
</li>
<li class=""><a href="#grantdatabase-privileges" title="Database Privileges">Database Privileges</a></li>
<li class=""><a href="#granttable-privileges" title="Table Privileges">Table Privileges</a></li>
<li class=""><a href="#grantcolumn-privileges" title="Column Privileges">Column Privileges</a></li>
<li class=""><a href="#grantfunction-privileges" title="Function Privileges">Function Privileges</a></li>
<li class=""><a href="#grantprocedure-privileges" title="Procedure Privileges">Procedure Privileges</a></li>
<li class=""><a href="#grantproxy-privileges" title="Proxy Privileges">Proxy Privileges</a> </li></ol>
</li>
<li class=""><a href="#grantauthentication-options" title="Authentication Options">Authentication Options</a> <ol class="toc">
<li class=""><a href="#grantidentified-by-password" title="IDENTIFIED BY 'password'">IDENTIFIED BY 'password'</a></li>
<li class=""><a href="#grantidentified-by-password-password_hash" title="IDENTIFIED BY PASSWORD 'password_hash'">IDENTIFIED BY PASSWORD 'password_hash'</a></li>
<li class=""><a href="#grantidentified-viawith-authentication_plugin" title="IDENTIFIED {VIA|WITH} authentication_plugin">IDENTIFIED {VIA|WITH} authentication_plugin</a> </li></ol>
</li>
<li class=""><a href="#grantresource-limit-options" title="Resource Limit Options">Resource Limit Options</a></li>
<li class=""><a href="#granttls-options" title="TLS Options">TLS Options</a></li>
<li class=""><a href="#grantroles" title="Roles">Roles</a> <ol class="toc">
<li class=""><a href="#grantsyntax" title="Syntax">Syntax</a> </li></ol>
</li>
<li class=""><a href="#grantgrant-examples" title="Grant Examples">Grant Examples</a> <ol class="toc">
<li class=""><a href="#grantgranting-root-like-privileges" title="Granting Root-like Privileges">Granting Root-like Privileges</a> </li></ol>
</li>
<li class=""><a href="#grantsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="grantsyntax">Syntax</h2>
<pre class="fixed">GRANT
    <em>priv_type</em> [(<em>column_list</em>)]
      [, <em>priv_type</em> [(<em>column_list</em>)]] ...
    ON [<em>object_type</em>] <em>priv_level</em>
    TO <em>user_specification</em> [ <em>user_options</em> ...]

<em>user_specification</em>:
  username [<em>authentication_option</em>]

<em>authentication_option</em>:
  IDENTIFIED BY 'password' 
  | IDENTIFIED BY PASSWORD 'password_hash'
  | IDENTIFIED {VIA|WITH} <em>authentication_rule</em> [OR <em>authentication_rule</em>  ...]

<em>authentication_rule</em>:
    authentication_plugin
  | authentication_plugin {USING|AS} 'authentication_string'
  | authentication_plugin {USING|AS} PASSWORD('password')

GRANT PROXY ON username
    TO user_specification [, user_specification ...]
    [WITH GRANT OPTION]

GRANT rolename TO grantee [, grantee ...]
    [WITH ADMIN OPTION]

<em>grantee</em>:
    rolename
    username [<em>authentication_option</em>]

<em>user_options</em>:
    [REQUIRE {NONE | <em>tls_option</em> [[AND] <em>tls_option</em>] ...}]
    [WITH <em>with_option</em> [<em>with_option</em>] ...]

<em>object_type</em>:
    TABLE
  | FUNCTION
  | PROCEDURE
  | PACKAGE

<em>priv_level</em>:
    *
  | *.*
  | db_name.*
  | db_name.tbl_name
  | tbl_name
  | db_name.routine_name

<em>with_option</em>:
    GRANT OPTION
  | <em>resource_option</em>

<em>resource_option</em>:
  MAX_QUERIES_PER_HOUR count
  | MAX_UPDATES_PER_HOUR count
  | MAX_CONNECTIONS_PER_HOUR count
  | MAX_USER_CONNECTIONS count
  | MAX_STATEMENT_TIME time

<em>tls_option</em>:
  SSL 
  | X509
  | CIPHER 'cipher'
  | ISSUER 'issuer'
  | SUBJECT 'subject'
</pre><h2 class="anchored_heading" id="grantdescription">Description</h2>
<p>The <code>GRANT</code> statement allows you to grant privileges or <a href="#grantroles">roles</a> to accounts. To use <code>GRANT</code>, you must have the <code>GRANT OPTION</code> privilege, and you must have the privileges that you are granting.</p>
<p>Use the <a href="#revoke">REVOKE</a> statement to revoke privileges granted with the <code>GRANT</code> statement.</p>
<p>Use the <a href="#show-grants">SHOW GRANTS</a> statement to determine what privileges an account has.</p>
<h2 class="anchored_heading" id="grantaccount-names">Account Names</h2>
<p>For <code>GRANT</code> statements, account names are specified as the <code>username</code> argument in the same way as they are for <a href="#create-user">CREATE USER</a> statements. See <a ">account names</a> from the <code>CREATE USER</code> page for details on how account names are specified.</p>
<h2 class="anchored_heading" id="grantimplicit-account-creation">Implicit Account Creation</h2>
<p>The <code>GRANT</code> statement also allows you to implicitly create accounts in some cases.</p>
<p>If the account does not yet exist, then <code>GRANT</code> can implicitly create it. To implicitly create an account with <code>GRANT</code>, a user is required to have the same privileges that would be required to explicitly create the account with the <code>CREATE USER</code> statement.</p>
<p>If the <code>NO_AUTO_CREATE_USER</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is set, then accounts can only be created if authentication information is specified, or with a <a href="#create-user">CREATE USER</a> statement. If no authentication information is provided, <code>GRANT</code> will produce an error when the specified account does not exist, for example:</p>
<pre class="fixed">show variables like '%sql_mode%' ;
+---------------+--------------------------------------------+
| Variable_name | Value                                      |
+---------------+--------------------------------------------+
| sql_mode      | NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION |
+---------------+--------------------------------------------+

GRANT USAGE ON *.* TO 'user123'@'%' IDENTIFIED BY '';
ERROR 1133 (28000): Can't find any matching row in the user table

GRANT USAGE ON *.* TO 'user123'@'%' IDENTIFIED VIA PAM using 'mariadb' require ssl ;
Query OK, 0 rows affected (0.00 sec)
 
select host, user from mysql.user where user='user123' ;

+------+----------+
| host | user     |
+------+----------+
| %    | user123 |
+------+----------+
</pre><h2 class="anchored_heading" id="grantprivilege-levels">Privilege Levels</h2>
<p>Privileges can be set globally, for an entire database, for a table or routine,
or for individual columns in a table. Certain privileges can only be set at
certain levels.</p>
<ul start="1"><li><a href="#grantglobal-privileges">Global privileges <em>priv_type</em></a> are granted using <code>*.*</code> for
<em>priv_level</em>. Global privileges include privileges to administer the database
and manage user accounts, as well as privileges for all tables, functions, and
procedures. Global privileges are stored in the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user table</a>.
</li><li><a href="#grantdatabase-privileges">Database privileges <em>priv_type</em></a> are granted using <code>db_name.*</code>
for <em>priv_level</em>, or using just <code>*</code> to use default database. Database
privileges include privileges to create tables and functions, as well as
privileges for all tables, functions, and procedures in the database. Database privileges are stored in the <a href="https://mariadb.com/kb/en/mysqldb-table/">mysql.db table</a>.
</li><li><a href="#granttable-privileges">Table privileges <em>priv_type</em></a> are granted using <code>db_name.tbl_name</code>
for <em>priv_level</em>, or using just <code>tbl_name</code> to specify a table in the default
database. The <code>TABLE</code> keyword is optional. Table privileges include the
ability to select and change data in the table. Certain table privileges can
be granted for individual columns.
</li><li><a href="#grantcolumn-privileges">Column privileges <em>priv_type</em></a> are granted by specifying a table for
<em>priv_level</em> and providing a column list after the privilege type. They allow
you to control exactly which columns in a table users can select and change.
</li><li><a href="#grantfunction-privileges">Function privileges <em>priv_type</em></a> are granted using <code>FUNCTION db_name.routine_name</code>
for <em>priv_level</em>, or using just  <code>FUNCTION routine_name</code> to specify a function
in the default database.
</li><li><a href="#grantprocedure-privileges">Procedure privileges <em>priv_type</em></a> are granted using <code>PROCEDURE db_name.routine_name</code>
for <em>priv_level</em>, or using just <code>PROCEDURE routine_name</code> to specify a procedure
in the default database.
</li></ul>
<h3 class="anchored_heading" id="grantthe-usage-privilege">The <code>USAGE</code> Privilege</h3>
<p>The <code>USAGE</code> privilege grants no real privileges. The <a href="#show-grants">SHOW GRANTS</a>
statement will show a global <code>USAGE</code> privilege for a newly-created user. You
can use <code>USAGE</code> with the <code>GRANT</code> statement to change options like <code>GRANT OPTION</code>
and <code>MAX_USER_CONNECTIONS</code> without changing any account privileges.</p>
<h3 class="anchored_heading" id="grantthe-all-privileges-privilege">The <code>ALL PRIVILEGES</code> Privilege</h3>
<p>The <code>ALL PRIVILEGES</code> privilege grants all available privileges. Granting all
privileges only affects the given privilege level. For example, granting all
privileges on a table does not grant any privileges on the database or globally.</p>
<p>Using <code>ALL PRIVILEGES</code> does not grant the special <code>GRANT OPTION</code> privilege.</p>
<p>You can use <code>ALL</code> instead of <code>ALL PRIVILEGES</code>.</p>
<h3 class="anchored_heading" id="grantthe-grant-option-privilege">The <code>GRANT OPTION</code> Privilege</h3>
<p>Use the <code>WITH GRANT OPTION</code> clause to give users the ability to grant privileges
to other users at the given privilege level. Users with the <code>GRANT OPTION</code> privilege can
only grant privileges they have. They cannot grant privileges at a higher privilege level than
they have the <code>GRANT OPTION</code> privilege.</p>
<p>The <code>GRANT OPTION</code> privilege cannot be set for individual columns.
If you use <code>WITH GRANT OPTION</code> when specifying <a href="#grantcolumn-privileges">column privileges</a>,
the <code>GRANT OPTION</code> privilege will be granted for the entire table.</p>
<p>Using the <code>WITH GRANT OPTION</code> clause is equivalent to listing <code>GRANT OPTION</code>
as a privilege.</p>
<h3 class="anchored_heading" id="grantglobal-privileges">Global Privileges</h3>
<p>The following table lists the privileges that can be granted globally. You can
also grant all database, table, and function privileges globally. When granted
globally, these privileges apply to all databases, tables, or functions,
including those created later.</p>
<p>To set a global privilege, use <code class="fixed" style="white-space:pre-wrap">*.*</code> for <em>priv_level</em>.</p>
<h4 class="anchored_heading" id="grantbinlog-admin">BINLOG ADMIN</h4>
<p>Enables administration of the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>, including the <a href="#purge-binary-logs">PURGE BINARY LOGS</a> statement and setting the <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_annotate_row_events">binlog_annotate_row_events</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_cache_size">binlog_cache_size</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_commit_wait_count">binlog_commit_wait_count</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_commit_wait_usec">binlog_commit_wait_usec</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_direct_non_transactional_updates">binlog_direct_non_transactional_updates</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_expire_logs_seconds">binlog_expire_logs_seconds</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_file_cache_size">binlog_file_cache_size</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_format">binlog_format</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_row_image">binlog_row_image</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_row_metadata">binlog_row_metadata</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_stmt_cache_size">binlog_stmt_cache_size</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#expire_logs_days">expire_logs_days</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#log_bin_compress">log_bin_compress</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#log_bin_compress_min_len">log_bin_compress_min_len</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#log_bin_trust_function_creators">log_bin_trust_function_creators</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#max_binlog_cache_size">max_binlog_cache_size</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#max_binlog_size">max_binlog_size</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#max_binlog_stmt_cache_size">max_binlog_stmt_cache_size</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#sql_log_bin">sql_log_bin</a> and <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#sync_binlog">sync_binlog</a> system variables. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>. </p>
<h4 class="anchored_heading" id="grantbinlog-monitor">BINLOG MONITOR</h4>
<p>New name for <a href="#grantreplication-client">REPLICATION CLIENT</a> from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, (<code>REPLICATION CLIENT</code> still supported as an alias for compatibility purposes). Permits running SHOW commands related to the <a href="binary_log">binary log</a>, in particular the <a href="https://mariadb.com/kb/en/show-binlog-status/">SHOW BINLOG STATUS</a>, <a href="https://mariadb.com/kb/en/show-replica-status/">SHOW REPLICA STATUS</a> and <a href="#show-binary-logs">SHOW BINARY LOGS</a> statements.</p>
<h4 class="anchored_heading" id="grantbinlog-replay">BINLOG REPLAY</h4>
<p>Enables replaying the binary log with the <a href="#binlog">BINLOG</a> statement (generated by <a href="https://mariadb.com/kb/en/mysqlbinlog/">mariadb-binlog</a>), executing <a href="https://mariadb.com/kb/en/server-system-variables/#timestamp">SET timestamp</a> when <a href="https://mariadb.com/kb/en/server-system-variables/#secure_timestamp">secure_timestamp</a> is set to <code>replication</code>, and setting the session values of system variables usually included in BINLOG output, in particular <a href="https://mariadb.com/kb/en/gtid/#gtid_domain_id">gtid_domain_id</a>, <a href="https://mariadb.com/kb/en/gtid/#gtid_seq_no">gtid_seq_no</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#pseudo_thread_id">pseudo_thread_id</a> and <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#server_id">server_id</a>. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a></p>
<h4 class="anchored_heading" id="grantconnection-admin">CONNECTION ADMIN</h4>
<p>Enables administering connection resource limit options. This includes ignoring the limits specified by <a href="https://mariadb.com/kb/en/server-system-variables/#max_connections">max_connections</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#max_user_connections">max_user_connections</a> and <a href="https://mariadb.com/kb/en/server-system-variables/#max_password_errors">max_password_errors</a>, not executing the statements specified in <a href="https://mariadb.com/kb/en/server-system-variables/#init_connect">init_connect</a>, <a href="https://mariadb.com/kb/en/kill/">killing connections and queries</a> owned by other users as well as setting the following connection-related system variables: <a href="https://mariadb.com/kb/en/server-system-variables/#connect_timeout">connect_timeout</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#disconnect_on_expired_password">disconnect_on_expired_password</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#extra_max_connections">extra_max_connections</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#init_connect">init_connect</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#max_connections">max_connections</a>, 
<a href="https://mariadb.com/kb/en/server-system-variables/#max_connect_errors">max_connect_errors</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#max_password_errors">max_password_errors</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#proxy_protocol_networks">proxy_protocol_networks</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#secure_auth">secure_auth</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#slow_launch_time">slow_launch_time</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_exact_stats">thread_pool_exact_stats</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_dedicated_listener">thread_pool_dedicated_listener</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_idle_timeout">thread_pool_idle_timeout</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_max_threads">thread_pool_max_threads</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_min_threads">thread_pool_min_threads</a>, thread_pool_mode, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_oversubscribe">thread_pool_oversubscribe</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_prio_kickup_timer">thread_pool_prio_kickup_timer</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_priority">thread_pool_priority</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_size">thread_pool_size</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_stall_limit">thread_pool_stall_limit</a>. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>.</p>
<h4 class="anchored_heading" id="grantcreate-user">CREATE USER</h4>
<p>Create a user using the <a href="#create-user">CREATE USER</a> statement, or implicitly create a user with the <code>GRANT</code> statement.</p>
<h4 class="anchored_heading" id="grantfederated-admin">FEDERATED ADMIN</h4>
<p>Execute <a href="#create-server">CREATE SERVER</a>, <a href="#alter-server">ALTER SERVER</a>, and <a href="#drop-server">DROP SERVER</a> statements. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>.</p>
<h4 class="anchored_heading" id="grantfile">FILE</h4>
<p>Read and write files on the server, using statements like <a href="#load-data-infile">LOAD DATA INFILE</a> or functions like <a href="#load_file">LOAD_FILE()</a>. Also needed to create <a href="https://mariadb.com/kb/en/connect/">CONNECT</a> outward tables. MariaDB server must have the permissions to access those files.</p>
<h4 class="anchored_heading" id="grantgrant-option">GRANT OPTION</h4>
<p>Grant global privileges. You can only grant privileges that you have.</p>
<h4 class="anchored_heading" id="grantprocess">PROCESS</h4>
<p>Show information about the active processes, for example via <a href="#show-processlist">SHOW PROCESSLIST</a> or <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin processlist</a>. If you have the PROCESS privilege, you can see all threads. Otherwise, you can see only your own threads (that is, threads associated with the MariaDB account that you are using).</p>
<h4 class="anchored_heading" id="grantread_only-admin">READ_ONLY ADMIN</h4>
<p>User can set the <a href="https://mariadb.com/kb/en/server-system-variables/#read_only">read_only</a> system variable and allows the user to perform write operations, even when the <code>read_only</code> option is active. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>.</p>
<h4 class="anchored_heading" id="grantreload">RELOAD</h4>
<p>Execute <a href="#flush">FLUSH</a> statements or equivalent <a href="https://mariadb.com/kb/en/mysqladmin/">mariadb-admin/mysqladmin</a> commands.</p>
<h4 class="anchored_heading" id="grantreplication-client">REPLICATION CLIENT</h4>
<p>Execute <a href="#show-master-status">SHOW MASTER STATUS</a>, <a href="#show-slave-status">SHOW SLAVE STATUS</a> and <a href="#show-binary-logs">SHOW BINARY LOGS</a> informative statements. Renamed to <a href="#grantbinlog-monitor">BINLOG MONITOR</a> in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a> (but still supported as an alias for compatibility reasons).</p>
<h4 class="anchored_heading" id="grantreplication-master-admin">REPLICATION MASTER ADMIN</h4>
<p>Permits administration of primary servers, including the <a href="https://mariadb.com/kb/en/show-replica-hosts/">SHOW REPLICA HOSTS</a> statement, and setting the <a href="https://mariadb.com/kb/en/gtid/#gtid_binlog_state">gtid_binlog_state</a>, <a href="https://mariadb.com/kb/en/gtid/#gtid_domain_id">gtid_domain_id</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#master_verify_checksum">master_verify_checksum</a> and <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#server_id">server_id</a> system variables. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>.</p>
<h4 class="anchored_heading" id="grantreplica-monitor">REPLICA MONITOR</h4>
<p>Permit <a href="https://mariadb.com/kb/en/show-replica-status/">SHOW REPLICA STATUS</a> and <a href="#show-relaylog-events">SHOW RELAYLOG EVENTS</a>. From <a href="https://mariadb.com/kb/en/mariadb-1059-release-notes/">MariaDB 10.5.9</a>.</p>
<p>When a user would upgrade from an older major release to a <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a> minor release prior to <a href="https://mariadb.com/kb/en/mariadb-1059-release-notes/">MariaDB 10.5.9</a>, certain user accounts would lose capabilities. For example, a user account that had the REPLICATION CLIENT privilege in older major releases could run <a href="https://mariadb.com/kb/en/show-replica-status/">SHOW REPLICA STATUS</a>, but after upgrading to a <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a> minor release prior to <a href="https://mariadb.com/kb/en/mariadb-1059-release-notes/">MariaDB 10.5.9</a>, they could no longer run <a href="https://mariadb.com/kb/en/show-replica-status/">SHOW REPLICA STATUS</a>, because that statement was changed to require the REPLICATION REPLICA ADMIN privilege.</p>
<p>This issue is fixed in <a href="https://mariadb.com/kb/en/mariadb-1059-release-notes/">MariaDB 10.5.9</a> with this new privilege, which now grants the user the ability to execute SHOW [ALL] (SLAVE | REPLICA) STATUS.</p>
<p>When a database is upgraded from an older major release to MariaDB Server 10.5.9 or later, any user accounts with the REPLICATION CLIENT or REPLICATION SLAVE privileges will automatically be granted the new REPLICA MONITOR privilege. The privilege fix occurs when the server is started up, not when mariadb-upgrade is performed.</p>
<p>However, when a database is upgraded from an early 10.5 minor release to 10.5.9 and later, the user will have to fix any user account privileges manually.</p>
<h4 class="anchored_heading" id="grantreplication-replica">REPLICATION REPLICA</h4>
<p>Synonym for <a href="#grantreplication-slave">REPLICATION SLAVE</a>. From <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>.</p>
<h4 class="anchored_heading" id="grantreplication-slave">REPLICATION SLAVE</h4>
<p>Accounts used by replica servers on the primary need this privilege. This is needed to get the updates made on the master. From <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>, <a href="#grantreplication-replica">REPLICATION REPLICA</a> is an alias for <code>REPLICATION SLAVE</code>.</p>
<h4 class="anchored_heading" id="grantreplication-slave-admin">REPLICATION SLAVE ADMIN</h4>
<p>Permits administering replica servers, including <a href="https://mariadb.com/kb/en/start-replica/">START REPLICA/SLAVE</a>, <a href="https://mariadb.com/kb/en/stop-replica/">STOP REPLICA/SLAVE</a>, <a href="#change-master-to">CHANGE MASTER</a>, <a href="https://mariadb.com/kb/en/show-replica-status/">SHOW REPLICA/SLAVE STATUS</a>, <a href="#show-relaylog-events">SHOW RELAYLOG EVENTS</a> statements, replaying the binary log with the <a href="#binlog">BINLOG</a> statement (generated by <a href="https://mariadb.com/kb/en/mysqlbinlog/">mariadb-binlog</a>), and setting the <a href="https://mariadb.com/kb/en/gtid/#gtid_cleanup_batch_size">gtid_cleanup_batch_size</a>, <a href="https://mariadb.com/kb/en/gtid/#gtid_ignore_duplicates">gtid_ignore_duplicates</a>, <a href="https://mariadb.com/kb/en/gtid/#gtid_pos_auto_engines">gtid_pos_auto_engines</a>, <a href="https://mariadb.com/kb/en/gtid/#gtid_slave_pos">gtid_slave_pos</a>, <a href="https://mariadb.com/kb/en/gtid/#gtid_strict_mode">gtid_strict_mode</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#init_slave">init_slave</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#read_binlog_speed_limit">read_binlog_speed_limit</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#relay_log_purge">relay_log_purge</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#relay_log_recovery">relay_log_recovery</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#replicate_do_db">replicate_do_db</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#replicate_do_table">replicate_do_table</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#replicate_events_marked_for_skip">replicate_events_marked_for_skip</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#replicate_ignore_db">replicate_ignore_db</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#replicate_ignore_table">replicate_ignore_table</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#replicate_wild_do_table">replicate_wild_do_table</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#replicate_wild_ignore_table">replicate_wild_ignore_table</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_compressed_protocol">slave_compressed_protocol</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_ddl_exec_mode">slave_ddl_exec_mode</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_domain_parallel_threads">slave_domain_parallel_threads</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_exec_mode">slave_exec_mode</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_max_allowed_packet">slave_max_allowed_packet</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_net_timeout">slave_net_timeout</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_parallel_max_queued">slave_parallel_max_queued</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_parallel_mode">slave_parallel_mode</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_parallel_threads">slave_parallel_threads</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_parallel_workers">slave_parallel_workers</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_run_triggers_for_rbr">slave_run_triggers_for_rbr</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_sql_verify_checksum">slave_sql_verify_checksum</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_transaction_retry_interval">slave_transaction_retry_interval</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_type_conversions">slave_type_conversions</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#sync_master_info">sync_master_info</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#sync_relay_log">sync_relay_log</a> and <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#sync_relay_log_info">sync_relay_log_info</a> system variables. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>.</p>
<h4 class="anchored_heading" id="grantset-user">SET USER</h4>
<p>Enables setting the <code>DEFINER</code> when creating <a href="https://mariadb.com/kb/en/triggers/">triggers</a>, <a href="https://mariadb.com/kb/en/views/">views</a>, <a href="https://mariadb.com/kb/en/stored-functions/">stored functions</a> and <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedures</a>. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>.</p>
<h4 class="anchored_heading" id="grantshow-databases">SHOW DATABASES</h4>
<p>List all databases using the <a href="#show-databases">SHOW DATABASES</a> statement. Without the <code>SHOW DATABASES</code> privilege, you can still issue the <code>SHOW DATABASES</code> statement, but it will only list databases containing tables on which you have privileges.</p>
<h4 class="anchored_heading" id="grantshutdown">SHUTDOWN</h4>
<p>Shut down the server using <a href="https://mariadb.com/kb/en/shutdown/">SHUTDOWN</a> or the <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin shutdown</a> command.</p>
<h4 class="anchored_heading" id="grantsuper">SUPER</h4>
<p>Execute superuser statements: <a href="#change-master-to">CHANGE MASTER TO</a>, <a href="#data-manipulation-kill-connection-query">KILL</a> (users who do not have this privilege can only <code>KILL</code> their own threads), <a href="https://mariadb.com/kb/en/sql-commands-purge-logs/">PURGE LOGS</a>, <a href="#set">SET global system variables</a>, or the <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin debug</a> command. Also, this permission allows the user to write data even if the <a href="https://mariadb.com/kb/en/server-system-variables/#read_only">read_only</a> startup option is set, enable or disable logging, enable or disable replication on replica, specify a <code>DEFINER</code> for statements that support that clause, connect once after reaching the <code>MAX_CONNECTIONS</code>. If a statement has been specified for the <a href="https://mariadb.com/kb/en/server-system-variables/#init_connect">init-connect</a> <code>mysqld</code> option, that command will not be executed when a user with <code>SUPER</code> privileges connects to the server.</p>
<p>The SUPER privilege has been split into multiple smaller privileges from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a> to allow for more fine-grained privileges, although it remains an alias for these smaller privileges.</p>
<h3 class="anchored_heading" id="grantdatabase-privileges">Database Privileges</h3>
<p>The following table lists the privileges that can be granted at the database
level. You can also grant all table and function privileges at the database
level. Table and function privileges on a database apply to all tables or
functions in that database, including those created later.</p>
<p>To set a privilege for a database, specify the database using
<code class="fixed" style="white-space:pre-wrap">db_name.*</code> for <em>priv_level</em>, or just use <code class="fixed" style="white-space:pre-wrap">*</code>
to specify the default database.</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Privilege</th><th>Description</th></tr>
<tr><td><code>CREATE</code></td><td>Create a database using the <a href="#create-database">CREATE DATABASE</a> statement, when the privilege is granted for a database. You can grant the <code>CREATE</code> privilege on databases that do not yet exist. This also grants the <code>CREATE</code> privilege on all tables in the database.</td></tr>
<tr><td><code>CREATE ROUTINE</code></td><td>Create Stored Programs using the <a href="#create-procedure">CREATE PROCEDURE</a> and <a href="#create-function">CREATE FUNCTION</a> statements.</td></tr>
<tr><td><code>CREATE TEMPORARY TABLES</code></td><td>Create temporary tables with the <a href="#create-table">CREATE TEMPORARY TABLE</a> statement. This privilege enable writing and dropping those temporary tables</td></tr>
<tr><td><code>DROP</code></td><td>Drop a database using the <a href="#drop-database">DROP DATABASE</a> statement, when the privilege is granted for a database. This also grants the <code>DROP</code> privilege on all tables in the database.</td></tr>
<tr><td><code>EVENT</code></td><td>Create, drop and alter <code>EVENT</code>s.</td></tr>
<tr><td><code>GRANT OPTION</code></td><td>Grant database privileges. You can only grant privileges that you have.</td></tr>
<tr><td><code>LOCK TABLES</code></td><td>Acquire explicit locks using the <a href="https://mariadb.com/kb/en/transactions-lock/">LOCK TABLES</a> statement; you also need to have the <code>SELECT</code> privilege on a table, in order to lock it.</td></tr>
</table>
</div><h3 class="anchored_heading" id="granttable-privileges">Table Privileges</h3>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Privilege</th><th>Description</th></tr>
<tr><td><code>ALTER</code></td><td>Change the structure of an existing table using the <a href="#alter-table">ALTER TABLE</a> statement.</td></tr>
<tr><td><code>CREATE</code></td><td>Create a table using the <a href="#create-table">CREATE TABLE</a> statement.  You can grant the <code>CREATE</code> privilege on tables that do not yet exist.</td></tr>
<tr><td><code>CREATE VIEW</code></td><td>Create a view using the <a href="#create-view">CREATE_VIEW</a> statement.</td></tr>
<tr><td><code>DELETE</code></td><td>Remove rows from a table using the <a href="#delete">DELETE</a> statement.</td></tr>
<tr><td><code>DELETE HISTORY</code></td><td>Remove <a href="https://mariadb.com/kb/en/system-versioned-tables/">historical rows</a> from a table using the <a href="#delete">DELETE HISTORY</a> statement. Displays as <code>DELETE VERSIONING ROWS</code> when running <a href="#show-grants">SHOW GRANTS</a> until <a href="https://mariadb.com/kb/en/mariadb-10315-release-notes/">MariaDB 10.3.15</a> and until <a href="https://mariadb.com/kb/en/mariadb-1045-release-notes/">MariaDB 10.4.5</a> (<a href="https://jira.mariadb.org/browse/MDEV-17655">MDEV-17655</a>), or when running SHOW PRIVILEGES until <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, <a href="https://mariadb.com/kb/en/mariadb-10413-release-notes/">MariaDB 10.4.13</a> and <a href="https://mariadb.com/kb/en/mariadb-10323-release-notes/">MariaDB 10.3.23</a> (<a href="https://jira.mariadb.org/browse/MDEV-20382">MDEV-20382</a>). From <a href="https://mariadb.com/kb/en/mariadb-1034-release-notes/">MariaDB 10.3.4</a>. From <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">MariaDB 10.3.5</a>, if a user has the <code>SUPER</code> privilege but not this privilege, running <a href="https://mariadb.com/kb/en/mysql_upgrade/">mysql_upgrade</a> will grant this privilege as well.</td></tr>
<tr><td><code>DROP</code></td><td>Drop a table using the <a href="#drop-table">DROP TABLE</a> statement or a view using the <a href="#drop-view">DROP VIEW</a> statement. Also required to execute the <a href="#truncate-table">TRUNCATE TABLE</a> statement.</td></tr>
<tr><td><code>GRANT OPTION</code></td><td>Grant table privileges. You can only grant privileges that you have.</td></tr>
<tr><td><code>INDEX</code></td><td>Create an index on a table using the <a href="#create-index">CREATE INDEX</a> statement. Without the <code>INDEX</code> privilege, you can still create indexes when creating a table using the <a href="#create-table">CREATE TABLE</a> statement if the you have the <code>CREATE</code> privilege, and you can create indexes using the <a href="#alter-table">ALTER TABLE</a> statement if you have the <code>ALTER</code> privilege.</td></tr>
<tr><td><code>INSERT</code></td><td>Add rows to a table using the <a href="#insert">INSERT</a> statement.  The <code>INSERT</code> privilege can also be set on individual columns; see <a href="#grantcolumn-privileges">Column Privileges</a> below for details.</td></tr>
<tr><td><code>REFERENCES</code></td><td>Unused.</td></tr>
<tr><td><code>SELECT</code></td><td>Read data from a table using the <a href="#select">SELECT</a> statement. The <code>SELECT</code> privilege can also be set on individual columns; see <a href="#grantcolumn-privileges">Column Privileges</a> below for details.</td></tr>
<tr><td><code>SHOW VIEW</code></td><td>Show the <a href="#create-view">CREATE VIEW</a> statement to create a view using the <a href="#show-create-view">SHOW CREATE VIEW</a> statement.</td></tr>
<tr><td><code>TRIGGER</code></td><td>Execute triggers associated to tables you update, execute the <a href="#create-trigger">CREATE TRIGGER</a> and <a href="#drop-trigger">DROP TRIGGER</a> statements. You will still be able to see triggers.</td></tr>
<tr><td><code>UPDATE</code></td><td>Update existing rows in a table using the <a href="#update">UPDATE</a> statement. <code>UPDATE</code> statements usually include a <code>WHERE</code> clause to update only certain rows. You must have <code>SELECT</code> privileges on the table or the appropriate columns for the <code>WHERE</code> clause. The <code>UPDATE</code> privilege can also be set on individual columns; see <a href="#grantcolumn-privileges">Column Privileges</a> below for details.</td></tr>
</table>
</div><h3 class="anchored_heading" id="grantcolumn-privileges">Column Privileges</h3>
<p>Some table privileges can be set for individual columns of a table. To use
column privileges, specify the table explicitly and provide a list of column
names after the privilege type. For example, the following statement would allow
the user to read the names and positions of employees, but not other information
from the same table, such as salaries.</p>
<pre class="fixed">GRANT SELECT (name, position) on Employee to 'jeffrey'@'localhost';
</pre><div class="cstm-style darkheader-nospace-borders"><table><tr><th>Privilege</th><th>Description</th></tr>
<tr><td><code>INSERT (column_list)</code></td><td>Add rows specifying values in columns using the <a href="#insert">INSERT</a> statement. If you only have column-level <code>INSERT</code> privileges, you must specify the columns you are setting in the <code>INSERT</code> statement. All other columns will be set to their default values, or <code>NULL</code>.</td></tr>
<tr><td><code>REFERENCES (column_list)</code></td><td>Unused.</td></tr>
<tr><td><code>SELECT (column_list)</code></td><td>Read values in columns using the <a href="#select">SELECT</a> statement. You cannot access or query any columns for which you do not have <code>SELECT</code> privileges, including in <code>WHERE</code>, <code>ON</code>, <code>GROUP BY</code>, and <code>ORDER BY</code> clauses.</td></tr>
<tr><td><code>UPDATE (column_list)</code></td><td>Update values in columns of existing rows using the <a href="#update">UPDATE</a> statement. <code>UPDATE</code> statements usually include a <code>WHERE</code> clause to update only certain rows. You must have <code>SELECT</code> privileges on the table or the appropriate columns for the <code>WHERE</code> clause.</td></tr>
</table>
</div><h3 class="anchored_heading" id="grantfunction-privileges">Function Privileges</h3>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Privilege</th><th>Description</th></tr>
<tr><td><code>ALTER ROUTINE</code></td><td>Change the characteristics of a stored function using the <a href="#alter-function">ALTER FUNCTION</a> statement.</td></tr>
<tr><td><code>EXECUTE</code></td><td>Use a stored function. You need <code>SELECT</code> privileges for any tables or columns accessed by the function.</td></tr>
<tr><td><code>GRANT OPTION</code></td><td>Grant function privileges. You can only grant privileges that you have.</td></tr>
</table>
</div><h3 class="anchored_heading" id="grantprocedure-privileges">Procedure Privileges</h3>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Privilege</th><th>Description</th></tr>
<tr><td><code>ALTER ROUTINE</code></td><td>Change the characteristics of a stored procedure using the <a href="#alter-procedure">ALTER PROCEDURE</a> statement.</td></tr>
<tr><td><code>EXECUTE</code></td><td>Execute a <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedure</a> using the <a href="#call">CALL</a> statement. The privilege to call a procedure may allow you to perform actions you wouldn't otherwise be able to do, such as insert rows into a table.</td></tr>
<tr><td><code>GRANT OPTION</code></td><td>Grant procedure privileges. You can only grant privileges that you have.</td></tr>
</table>
</div><h3 class="anchored_heading" id="grantproxy-privileges">Proxy Privileges</h3>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Privilege</th><th>Description</th></tr>
<tr><td><code>PROXY</code></td><td>Permits one user to be a proxy for another.</td></tr>
</table>
</div><p>The <code>PROXY</code> privilege allows one user to proxy as another user, which means their privileges change to that of the proxy user, and the <a href="#current_user">CURRENT_USER()</a> function returns the user name of the proxy user.</p>
<p>The <code>PROXY</code> privilege only works with authentication plugins that support it. The default <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> authentication plugin does not support proxy users.</p>
<p>The <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">pam</a> authentication plugin is the only plugin included with MariaDB that currently supports proxy users. The <code>PROXY</code> privilege is commonly used with the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">pam</a> authentication plugin to enable <a href="https://mariadb.com/kb/en/user-and-group-mapping-with-pam/">user and group mapping with PAM</a>.</p>
<p>For example, to grant the <code>PROXY</code> privilege to an <a ">anonymous account</a> that authenticates with the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">pam</a> authentication plugin, you could execute the following:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'%'</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'strongpassword'</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'%'</span> <span class="p">;</span>

<span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span> <span class="k">USING</span> <span class="s1">'mariadb'</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'%'</span> <span class="k">TO</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span><span class="p">;</span>
</pre><p>A user account can only grant the <code>PROXY</code> privilege for a specific user account if the granter also has the <code>PROXY</code> privilege for that specific user account, and if that privilege is defined <code>WITH GRANT OPTION</code>. For example, the following example fails because the granter does not have the <code>PROXY</code> privilege for that specific user account at all:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">USER</span><span class="p">(),</span> <span class="k">CURRENT_USER</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="k">USER</span><span class="p">()</span>          <span class="o">|</span> <span class="k">CURRENT_USER</span><span class="p">()</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>

<span class="k">SHOW</span> <span class="n">GRANTS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Grants</span> <span class="k">for</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span>                                                                                            <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------+</span>

<span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">TO</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1698</span> <span class="p">(</span><span class="mi">28000</span><span class="p">):</span> <span class="k">Access</span> <span class="n">denied</span> <span class="k">for</span> <span class="k">user</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span>
</pre><p>And the following example fails because the granter does have the <code>PROXY</code> privilege for that specific user account, but it is not defined <code>WITH GRANT OPTION</code>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">USER</span><span class="p">(),</span> <span class="k">CURRENT_USER</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="k">USER</span><span class="p">()</span>          <span class="o">|</span> <span class="k">CURRENT_USER</span><span class="p">()</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>

<span class="k">SHOW</span> <span class="n">GRANTS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Grants</span> <span class="k">for</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span>                                                                                            <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19'</span> <span class="o">|</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span>                                                               <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------+</span>

<span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">TO</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1698</span> <span class="p">(</span><span class="mi">28000</span><span class="p">):</span> <span class="k">Access</span> <span class="n">denied</span> <span class="k">for</span> <span class="k">user</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span>
</pre><p>But the following example succeeds because the granter does have the <code>PROXY</code> privilege for that specific user account, and it is defined <code>WITH GRANT OPTION</code>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">USER</span><span class="p">(),</span> <span class="k">CURRENT_USER</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="k">USER</span><span class="p">()</span>          <span class="o">|</span> <span class="k">CURRENT_USER</span><span class="p">()</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>

<span class="k">SHOW</span> <span class="n">GRANTS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Grants</span> <span class="k">for</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span>                                                                                                              <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span> <span class="o">|</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span>                                                               <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------------------------+</span>

<span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">TO</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
</pre><p>A user account can grant the <code>PROXY</code> privilege for any other user account if the granter has the <code>PROXY</code> privilege for the <code>''@'%'</code> anonymous user account, like this:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span> <span class="k">TO</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span><span class="p">;</span>
</pre><p>For example, the following example succeeds because the user can grant the <code>PROXY</code> privilege for any other user account:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">USER</span><span class="p">(),</span> <span class="k">CURRENT_USER</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="k">USER</span><span class="p">()</span>          <span class="o">|</span> <span class="k">CURRENT_USER</span><span class="p">()</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>

<span class="k">SHOW</span> <span class="n">GRANTS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Grants</span> <span class="k">for</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span>                                                                                                              <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span> <span class="o">|</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span>                                                                          <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------------------------+</span>

<span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'app1_dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">TO</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">004</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'app2_dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">TO</span> <span class="s1">'carol'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">004</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>The default <code>root</code> user accounts created by <a href="https://mariadb.com/kb/en/mysql_install_db/">mysql_install_db</a> have this privilege. For example:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'root'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span> <span class="k">TO</span> <span class="s1">'root'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span><span class="p">;</span>
</pre><p>This allows the default <code>root</code> user accounts to grant the <code>PROXY</code> privilege for any other user account, and it also allows the default <code>root</code> user accounts to grant others the privilege to do the same.</p>
<h2 class="anchored_heading" id="grantauthentication-options">Authentication Options</h2>
<p>The authentication options for the <code>GRANT</code> statement are the same as those for the <a href="#create-user">CREATE USER</a> statement.</p>
<h3 class="anchored_heading" id="grantidentified-by-password">IDENTIFIED BY 'password'</h3>
<p>The optional <code>IDENTIFIED BY</code> clause can be used to provide an account with a password. The password should be specified in plain text. It will be hashed by the <a href="#password">PASSWORD</a> function prior to being stored to the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table.</p>
<p>For example, if our password is <code>mariadb</code>, then we can create the user with:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'mariadb'</span><span class="p">;</span>
</pre><p>If you do not specify a password with the <code>IDENTIFIED BY</code> clause, the user
will be able to connect without a password. A blank password is not a wildcard
to match any password. The user must connect without providing a password if no
password is set.</p>
<p>If the user account already exists and if you provide the <code>IDENTIFIED BY</code> clause, then the user's password will be changed. You must have the privileges needed for the <a href="#set-password">SET PASSWORD</a>
statement to change a user's password with <code>GRANT</code>.</p>
<p>The only <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that this clause supports are <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> and <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a>.</p>
<h3 class="anchored_heading" id="grantidentified-by-password-password_hash">IDENTIFIED BY PASSWORD 'password_hash'</h3>
<p>The optional <code>IDENTIFIED BY PASSWORD</code> clause can be used to provide an account with a password that has already been hashed. The password should be specified as a hash that was provided by the <a href="#password">PASSWORD</a> function. It will be stored to the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table as-is.</p>
<p>For example, if our password is <code>mariadb</code>, then we can find the hash with:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'mariadb'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'mariadb'</span><span class="p">)</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="o">*</span><span class="mi">54958</span><span class="n">E764CE10E50764C2EECBB71D01F08549980</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>And then we can create a user with the hash:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*54958E764CE10E50764C2EECBB71D01F08549980'</span><span class="p">;</span>
</pre><p>If you do not specify a password with the <code>IDENTIFIED BY</code> clause, the user
will be able to connect without a password. A blank password is not a wildcard
to match any password. The user must connect without providing a password if no
password is set.</p>
<p>If the user account already exists and if you provide the <code>IDENTIFIED BY</code> clause, then the user's password will be changed. You must have the privileges needed for the <a href="#set-password">SET PASSWORD</a>
statement to change a user's password with <code>GRANT</code>.</p>
<p>The only <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that this clause supports are <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> and <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a>.</p>
<h3 class="anchored_heading" id="grantidentified-viawith-authentication_plugin">IDENTIFIED {VIA|WITH} authentication_plugin</h3>
<p>The optional <code>IDENTIFIED VIA authentication_plugin</code> allows you to specify that the account should be authenticated by a specific <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugin</a>. The plugin name must be an active authentication plugin as per <a href="#show-plugins">SHOW PLUGINS</a>. If it doesn't show up in that output, then you will need to install it with <a href="#install-plugin">INSTALL PLUGIN</a> or <a href="#install-soname">INSTALL SONAME</a>.</p>
<p>For example, this could be used with the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">PAM authentication plugin</a>:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span><span class="p">;</span>
</pre><p>Some authentication plugins allow additional arguments to be specified after a <code>USING</code> or <code>AS</code> keyword. For example, the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">PAM authentication plugin</a> accepts a <a href="https://mariadb.com/kb/en/authentication-plugin-pam/#configuring-the-pam-service">service name</a>:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span> <span class="k">USING</span> <span class="s1">'mariadb'</span><span class="p">;</span>
</pre><p>The exact meaning of the additional argument would depend on the specific authentication plugin.</p>
<div class="mariadb_from_10_4_0 mariadb from_10_4_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">10.4.0</a></h5><p>The <code>USING</code> or <code>AS</code> keyword can also be used to provide a plain-text password to a plugin if it's provided as an argument to the <a href="#password">PASSWORD()</a> function. This is only valid for <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that have implemented a hook for the <a href="#password">PASSWORD()</a> function. For example, the <a href="https://mariadb.com/kb/en/authentication-plugin-ed25519/">ed25519</a> authentication plugin supports this:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">safe</span><span class="o">@</span><span class="s1">'%'</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">ed25519</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'secret'</span><span class="p">);</span>
</pre></div><div class="mariadb_from_10_4_3 mariadb from_10_4_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">10.4.3</a></h5><p>One can specify many authentication plugins, they all work as alternatives ways of authenticating a user:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">safe</span><span class="o">@</span><span class="s1">'%'</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">ed25519</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'secret'</span><span class="p">)</span> <span class="k">OR</span> <span class="n">unix_socket</span><span class="p">;</span>
</pre></div><p>By default, when you create a user without specifying an authentication plugin, MariaDB uses the <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> plugin.</p>
<h2 class="anchored_heading" id="grantresource-limit-options">Resource Limit Options</h2>
<div class="mariadb_from_10_2_0 mariadb from_10_2_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">10.2.0</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a> introduced a number of resource limit options.</p>
</div><p>It is possible to set per-account limits for certain server resources. The following table shows the values that can be set per account:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Limit Type</th><th>Decription</th></tr>
<tr><td><code>MAX_QUERIES_PER_HOUR</code></td><td>Number of statements that the account can issue per hour (including updates)</td></tr>
<tr><td><code>MAX_UPDATES_PER_HOUR</code></td><td>Number of updates (not queries) that the account can issue per hour</td></tr>
<tr><td><code>MAX_CONNECTIONS_PER_HOUR</code></td><td>Number of connections that the account can start per hour</td></tr>
<tr><td><code>MAX_USER_CONNECTIONS</code></td><td>Number of simultaneous connections that can be accepted from the same account; if it is 0, <code>max_connections</code> will be used instead; if <code>max_connections</code> is 0, there is no limit for this account's simultaneous connections.</td></tr>
<tr><td><code>MAX_STATEMENT_TIME</code></td><td>Timeout, in seconds, for statements executed by the user. See also <a href="https://mariadb.com/kb/en/aborting-statements/">Aborting Statements that Exceed a Certain Time to Execute</a>.</td></tr>
</table>
</div><p>If any of these limits are set to <code>0</code>, then there is no limit for that resource for that user.</p>
<p>To set resource limits for an account, if you do not want to change that account's privileges, you can issue a <code>GRANT</code> statement with the <code>USAGE</code> privilege, which has no meaning. The statement can name some or all limit types, in any order.</p>
<p>Here is an example showing how to set resource limits:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'someone'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span>
    <span class="n">MAX_USER_CONNECTIONS</span> <span class="mi">0</span>
    <span class="n">MAX_QUERIES_PER_HOUR</span> <span class="mi">200</span><span class="p">;</span>
</pre><p>The resources are tracked per account, which means <code>'user'@'server'</code>; not per user name or per connection.</p>
<p>The count can be reset for all users using <a href="#flush">FLUSH USER_RESOURCES</a>, <a href="#flush">FLUSH PRIVILEGES</a> or <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin reload</a>.</p>
<p>Users with the <code>CONNECTION ADMIN</code> privilege (in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a> and later) or the <code>SUPER</code> privilege are not restricted by <code>max_user_connections</code>, <code>max_connections</code>, or <code>max_password_errors</code>.</p>
<p>Per account resource limits are stored in the <a href="https://mariadb.com/kb/en/mysqluser-table/">user</a> table, in the <a href="https://mariadb.com/kb/en/the-mysql-database-tables/">mysql</a> database. Columns used for resources limits are named <code>max_questions</code>, <code>max_updates</code>, <code>max_connections</code> (for <code>MAX_CONNECTIONS_PER_HOUR</code>), and <code>max_user_connections</code> (for <code>MAX_USER_CONNECTIONS</code>).</p>
<h2 class="anchored_heading" id="granttls-options">TLS Options</h2>
<p>By default, MariaDB transmits data between the server and clients without encrypting it. This is generally acceptable when the server and client run on the same host or in networks where security is guaranteed through other means. However, in cases where the server and client exist on separate networks or they are in a high-risk network, the lack of encryption does introduce security concerns as a malicious actor could potentially eavesdrop on the traffic as it is sent over the network between them.</p>
<p>To mitigate this concern, MariaDB allows you to encrypt data in transit between the server and clients using the Transport Layer Security (TLS) protocol. TLS was formerly known as Secure Socket Layer (SSL), but strictly speaking the SSL protocol is a predecessor to TLS and, that version of the protocol is now considered insecure. The documentation still uses the term SSL often and for compatibility reasons TLS-related server system and status variables still use the prefix ssl_, but internally, MariaDB only supports its secure successors.</p>
<p>See <a href="https://mariadb.com/kb/en/secure-connections-overview/">Secure Connections Overview</a> for more information about how to determine whether your MariaDB server has TLS support.</p>
<p>You can set certain TLS-related restrictions for specific user accounts. For instance, you might use this with user accounts that require access to sensitive data while sending it across networks that you do not control. These restrictions can be enabled for a user account with the <a href="#create-user">CREATE USER</a>, <a href="#alter-user">ALTER USER</a>, or <a href="#grant">GRANT</a> statements. The following options are available:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Option</th><th>Description</th></tr>
<tr><td><code>REQUIRE NONE</code></td><td>TLS is not required for this account, but can still be used.</td></tr>
<tr><td><code>REQUIRE SSL</code></td><td>The account must use TLS, but no valid X509 certificate is required. This option cannot be combined with other TLS options.</td></tr>
<tr><td><code>REQUIRE X509</code></td><td>The account must use TLS and must have a valid X509 certificate. This option implies <code>REQUIRE SSL</code>. This option cannot be combined with other TLS options.</td></tr>
<tr><td><code>REQUIRE ISSUER 'issuer'</code></td><td>The account must use TLS and must have a valid X509 certificate. Also, the Certificate Authority must be the one specified via the string <code>issuer</code>. This option implies <code>REQUIRE X509</code>. This option can be combined with the <code>SUBJECT</code>, and <code>CIPHER</code> options in any order.</td></tr>
<tr><td><code>REQUIRE SUBJECT 'subject'</code></td><td>The account must use TLS and must have a valid X509 certificate. Also, the certificate's Subject must be the one specified via the string <code>subject</code>. This option implies <code>REQUIRE X509</code>. This option can be combined with the <code>ISSUER</code>, and <code>CIPHER</code> options in any order.</td></tr>
<tr><td><code>REQUIRE CIPHER 'cipher'</code></td><td>The account must use TLS, but no valid X509 certificate is required. Also, the encryption used for the connection must use a specific cipher method specified in the string <code>cipher</code>. This option implies <code>REQUIRE SSL</code>. This option can be combined with the <code>ISSUER</code>, and <code>SUBJECT</code> options in any order.</td></tr>
</table>
</div><p>The <code>REQUIRE</code> keyword must be used only once for all specified options, and the <code>AND</code> keyword can be used to separate individual options, but it is not required.</p>
<p>For example, you can create a user account that requires these TLS options with the following:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'%'</span>
    <span class="n">REQUIRE</span> <span class="n">SUBJECT</span> <span class="s1">'/CN=alice/O=My Dom, Inc./C=US/ST=Oregon/L=Portland'</span>
    <span class="k">AND</span> <span class="n">ISSUER</span> <span class="s1">'/C=FI/ST=Somewhere/L=City/ O=Some Company/CN=Peter Parker/emailAddress=p.parker@marvel.com'</span>
    <span class="k">AND</span> <span class="n">CIPHER</span> <span class="s1">'SHA-DES-CBC3-EDH-RSA'</span><span class="p">;</span>
</pre><p>If any of these options are set for a specific user account, then any client who tries to connect with that user account will have to be configured to connect with TLS.</p>
<p>See <a href="https://mariadb.com/kb/en/securing-connections-for-client-and-server/">Securing Connections for Client and Server</a> for information on how to enable TLS on the client and server.</p>
<h2 class="anchored_heading" id="grantroles">Roles</h2>
<h3 class="anchored_heading" id="grantsyntax">Syntax</h3>
<pre class="fixed">GRANT role TO grantee [, grantee ... ]
[ WITH ADMIN OPTION ]

<em>grantee</em>:
    rolename
    username [<em>authentication_option</em>]
</pre><p>The GRANT statement is also used to grant the use a <a href="https://mariadb.com/kb/en/roles/">role</a> to one or more users or other roles. In order to be able to grant a role, the grantor doing so must have permission to do so (see WITH ADMIN in the <a href="#create-role">CREATE ROLE</a> article).</p>
<p>Specifying the <code>WITH ADMIN OPTION</code> permits the grantee to in turn grant the role to another.</p>
<p>For example, the following commands show how to grant the same role to a couple different users.</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="n">journalist</span> <span class="k">TO</span> <span class="n">hulda</span><span class="p">;</span>

<span class="k">GRANT</span> <span class="n">journalist</span> <span class="k">TO</span> <span class="n">berengar</span> <span class="k">WITH</span> <span class="k">ADMIN</span> <span class="k">OPTION</span><span class="p">;</span>
</pre><p>If a user has been granted a role, they do not automatically obtain all permissions associated with that role. These permissions are only in use when the user activates the role with the <a href="#set-role">SET ROLE</a> statement.</p>
<h2 class="anchored_heading" id="grantgrant-examples">Grant Examples</h2>
<h3 class="anchored_heading" id="grantgranting-root-like-privileges">Granting Root-like Privileges</h3>
<p>You can create a user that has privileges similar to the default <code>root</code> accounts by executing the following:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'alexander'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span>  <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">to</span> <span class="s1">'alexander'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="grantsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/troubleshooting-connection-issues/">Troubleshooting Connection Issues</a>
</li><li><a href="https://mariadb.com/kb/en/mysqld-options/#-skip-grant-tables">--skip-grant-tables</a> allows you to start MariaDB without <code>GRANT</code>.  This is useful if you lost your root password.
</li><li><a href="#create-user">CREATE USER</a>
</li><li><a href="#alter-user">ALTER USER</a>
</li><li><a href="#drop-user">DROP USER</a>
</li><li><a href="#set-password">SET PASSWORD</a>
</li><li><a href="#show-create-user">SHOW CREATE USER</a>
</li><li><a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user table</a>
</li><li><a href="https://mariadb.com/kb/en/password-validation-plugins/">Password Validation Plugins</a> - permits the setting of basic criteria for passwords
</li><li><a href="https://mariadb.com/kb/en/authentication-plugins/">Authentication Plugins</a> - allow various authentication methods to be used, and new ones to be developed.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_x">ST_X</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_X(p)
X(p)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the X-coordinate value for the point <code>p</code> as a double-precision number.</p>
<p><code>ST_X()</code> and <code>X()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">pt</span> <span class="o">=</span> <span class="s1">'Point(56.7 53.34)'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">X</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">pt</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">X</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">pt</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                 <span class="mi">56</span><span class="p">.</span><span class="mi">7</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_y">ST_Y</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_Y(p)
Y(p)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the Y-coordinate value for the point p as a double-precision number.</p>
<p><code>ST_Y()</code> and <code>Y()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">pt</span> <span class="o">=</span> <span class="s1">'Point(56.7 53.34)'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">Y</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">pt</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">Y</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">pt</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                <span class="mi">53</span><span class="p">.</span><span class="mi">34</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="execute-immediate">EXECUTE IMMEDIATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>EXECUTE IMMEDIATE was introduced in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">EXECUTE IMMEDIATE statement
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>EXECUTE IMMEDIATE</code> executes a dynamic SQL statement created on the fly, which can reduce performance overhead.</p>
<p>For example:</p>
<pre class="fixed">EXECUTE IMMEDIATE 'SELECT 1' 
</pre><p>which is shorthand for:</p>
<pre class="fixed"><span class="k">prepare</span> <span class="n">stmt</span> <span class="k">from</span> <span class="ss">"select 1"</span><span class="p">;</span>
<span class="k">execute</span> <span class="n">stmt</span><span class="p">;</span>
<span class="k">deallocate</span> <span class="k">prepare</span> <span class="n">stmt</span><span class="p">;</span>
</pre><p>EXECUTE IMMEDIATE supports complex expressions as prepare source and parameters:</p>
<pre class="fixed">EXECUTE IMMEDIATE CONCAT('SELECT COUNT(*) FROM ', 't1', ' WHERE a=?') USING 5+5;
</pre><p>Limitations: subselects and stored function calls are not supported as a prepare source.</p>
<p>The following examples return an error:</p>
<pre class="fixed">CREATE OR REPLACE FUNCTION f1() RETURNS VARCHAR(64) RETURN 'SELECT * FROM t1';
EXECUTE IMMEDIATE f1();
ERROR 1970 (42000): EXECUTE IMMEDIATE does not support subqueries or stored functions

EXECUTE IMMEDIATE (SELECT 'SELECT * FROM t1');
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that 
  corresponds to your MariaDB server version for the right syntax to use near 
  'SELECT 'SELECT * FROM t1')' at line 1

CREATE OR REPLACE FUNCTION f1() RETURNS INT RETURN 10;
EXECUTE IMMEDIATE 'SELECT * FROM t1 WHERE a=?' USING f1();
ERROR 1970 (42000): EXECUTE..USING does not support subqueries or stored functions

EXECUTE IMMEDIATE 'SELECT * FROM t1 WHERE a=?' USING (SELECT 10);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that 
  corresponds to your MariaDB server version for the right syntax to use near 
  'SELECT 10)' at line 1
</pre><p>One can use a user or an SP variable as a workaround:</p>
<pre class="fixed">CREATE OR REPLACE FUNCTION f1() RETURNS VARCHAR(64) RETURN 'SELECT * FROM t1';
SET @stmt=f1();
EXECUTE IMMEDIATE @stmt;

SET @stmt=(SELECT 'SELECT 1');
EXECUTE IMMEDIATE @stmt;

CREATE OR REPLACE FUNCTION f1() RETURNS INT RETURN 10;
SET @param=f1();
EXECUTE IMMEDIATE 'SELECT * FROM t1 WHERE a=?' USING @param;

SET @param=(SELECT 10);
EXECUTE IMMEDIATE 'SELECT * FROM t1 WHERE a=?' USING @param;
</pre><p>EXECUTE IMMEDIATE supports user variables and SP variables as OUT parameters</p>
<pre class="fixed">DELIMITER $$
CREATE OR REPLACE PROCEDURE p1(OUT a INT)
BEGIN
  SET a:= 10;
END;
$$
DELIMITER ;
SET @a=2;
EXECUTE IMMEDIATE 'CALL p1(?)' USING @a;
SELECT @a;
+------+
| @a   |
+------+
|   10 |
+------+
</pre><p>Similar to PREPARE, EXECUTE IMMEDIATE is allowed in stored procedures but is not allowed in stored functions.</p>
<p>This example uses EXECUTE IMMEDIATE inside a stored procedure:</p>
<pre class="fixed">DELIMITER $$
CREATE OR REPLACE PROCEDURE p1()
BEGIN
  EXECUTE IMMEDIATE 'SELECT 1';
END;
$$
DELIMITER ;
CALL p1;
+---+
| 1 |
+---+
| 1 |
+---+
</pre><p>This script returns an error:</p>
<pre class="fixed">DELIMITER $$
CREATE FUNCTION f1() RETURNS INT
BEGIN
  EXECUTE IMMEDIATE 'DO 1';
  RETURN 1;
END;
$$
ERROR 1336 (0A000): Dynamic SQL is not allowed in stored function or trigger
</pre><p>EXECUTE IMMEDIATE can use DEFAULT and IGNORE indicators as bind parameters:</p>
<pre class="fixed">CREATE OR REPLACE TABLE t1 (a INT DEFAULT 10);
EXECUTE IMMEDIATE 'INSERT INTO t1 VALUES (?)' USING DEFAULT;
SELECT * FROM t1;
+------+
| a    |
+------+
|   10 |
+------+
</pre><p>EXECUTE IMMEDIATE increments the <a href="https://mariadb.com/kb/en/server-status-variables/#com_execute_immediate">Com_execute_immediate</a> status variable, as well as the <a href="https://mariadb.com/kb/en/server-status-variables/#com_stmt_prepare">Com_stmt_prepare</a>, <a href="https://mariadb.com/kb/en/server-status-variables/#com_stmt_execute">Com_stmt_execute</a> and <a href="https://mariadb.com/kb/en/server-status-variables/#com_stmt_close">Com_stmt_close</a> status variables.</p>
<p>Note, EXECUTE IMMEDIATE does not increment the <a href="https://mariadb.com/kb/en/server-status-variables/#com_execute_sql">Com_execute_sql</a> status variable. <em>Com_execute_sql</em> is used only for <a href="#prepare-statement">PREPARE</a>..<a href="#execute-statement">EXECUTE</a>.</p>
<p>This session screenshot demonstrates how EXECUTE IMMEDIATE affects status variables:</p>
<pre class="fixed">SELECT * FROM INFORMATION_SCHEMA.SESSION_STATUS WHERE VARIABLE_NAME RLIKE 
  ('COM_(EXECUTE|STMT_PREPARE|STMT_EXECUTE|STMT_CLOSE)');

+-----------------------+----------------+
| VARIABLE_NAME         | VARIABLE_VALUE |
+-----------------------+----------------+
| COM_EXECUTE_IMMEDIATE | 0              |
| COM_EXECUTE_SQL       | 0              |
| COM_STMT_CLOSE        | 0              |
| COM_STMT_EXECUTE      | 0              |
| COM_STMT_PREPARE      | 0              |
+-----------------------+----------------+

EXECUTE IMMEDIATE 'SELECT 1';
+---+
| 1 |
+---+
| 1 |
+---+

SELECT * FROM INFORMATION_SCHEMA.SESSION_STATUS WHERE VARIABLE_NAME RLIKE 
  ('COM_(EXECUTE|STMT_PREPARE|STMT_EXECUTE|STMT_CLOSE)');
+-----------------------+----------------+
| VARIABLE_NAME         | VARIABLE_VALUE |
+-----------------------+----------------+
| COM_EXECUTE_IMMEDIATE | 1              |
| COM_EXECUTE_SQL       | 0              |
| COM_STMT_CLOSE        | 1              |
| COM_STMT_EXECUTE      | 1              |
| COM_STMT_PREPARE      | 1              |
+-----------------------+----------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="metadata-locking">Metadata Locking</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>MariaDB supports metadata locking. This means that when a transaction (including <a href="#xa-transactions">XA transactions</a>) uses a table, it locks its metadata until the end of transaction. Non-transactional tables are also locked, as well as views and objects which are related to locked tables/views (stored functions, triggers, etc). When a connection tries to use a DDL statement (like an <a href="#alter-table">ALTER TABLE</a>) which modifies a table that is locked, that connection is queued, and has to wait until it's unlocked. Using savepoints and performing a partial rollback does not release metadata locks.</p>
<p><a href="https://mariadb.com/kb/en/transactions-lock/">LOCK TABLES ... WRITE</a> are also queued. Some wrong statements which produce an error may not need to wait for the lock to be freed.</p>
<p>The metadata lock's timeout is determined by the value of the <a href="https://mariadb.com/kb/en/server-system-variables/#lock_wait_timeout">lock_wait_timeout</a> server system variable (in seconds). However, note that its default value is 31536000 (1 year, MariaDB &lt;= 10.2.3), or 86400 (1 day, MariaDB &gt;= 10.2.4). If this timeout is exceeded, the following error is returned:</p>
<pre class="fixed"><span class="n">ERROR</span> <span class="mi">1205</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="k">Lock</span> <span class="n">wait</span> <span class="n">timeout</span> <span class="n">exceeded</span><span class="p">;</span> <span class="n">try</span> <span class="n">restarting</span> <span class="n">transaction</span>
</pre><p>If the <a href="https://mariadb.com/kb/en/metadata-lock-info/">metadata_lock_info</a> plugin is installed, the <a href="https://mariadb.com/kb/en/information-schema/">Information Schema</a> <a href="https://mariadb.com/kb/en/information-schema-metadata_lock_info-table/">metadata_lock_info</a> table stores information about existing metadata locks.</p>
<div class="mariadb_from_10_5_2 mariadb from_10_5_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">10.5.2</a></h5><p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a>, the <a href="https://mariadb.com/kb/en/performance-schema-metadata_locks-table/">Performance Schema metadata_locks</a> table contains metadata lock information.</p>
</div><h2 class="anchored_heading" id="example">Example</h2>
<p>Let's use the following MEMORY (non-transactional) table:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">)</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">MEMORY</span><span class="p">;</span>
</pre><p>Connection 1 starts a transaction, and INSERTs a row into t:</p>
<pre class="fixed"><span class="k">START</span> <span class="n">TRANSACTION</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">SET</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</pre><p><code>t</code>'s metadata is now locked by connection 1. Connection 2 tries to alter <code>t</code>, but has to wait:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="k">ADD</span> <span class="k">COLUMN</span> <span class="n">b</span> <span class="nb">INT</span><span class="p">;</span>
</pre><p>Connection 2's prompt is blocked now.</p>
<p>Now connection 1 ends the transaction:</p>
<pre class="fixed"><span class="k">COMMIT</span><span class="p">;</span>
</pre><p>...and connection 2 finally gets the output of its command:</p>
<pre class="fixed"><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">35</span><span class="p">.</span><span class="mi">23</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Records</span><span class="p">:</span> <span class="mi">1</span>  <span class="n">Duplicates</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Warnings</span><span class="p">:</span> <span class="mi">0</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="point-properties-x">X</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_x">ST_X</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="point-properties-y">Y</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_y">ST_Y</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="aes_decrypt">AES_DECRYPT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">AES_DECRYPT(crypt_str,key_str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This function allows decryption of data using the official AES
(Advanced Encryption Standard) algorithm. For more information, see
the description of <code><a href="#aes_encrypt">AES_ENCRYPT()</a></code>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="decode">DECODE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DECODE(crypt_str,pass_str)
</pre><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle/">Oracle mode</a> from <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a>:</p>
<pre class="fixed">DECODE(expr, search_expr, result_expr [, search_expr2, result_expr2 ...] [default_expr])
</pre><p>In all modes from <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a>:</p>
<pre class="fixed">DECODE_ORACLE(expr, search_expr, result_expr [, search_expr2, result_expr2 ...] [default_expr])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>In the default mode, <code>DECODE</code> decrypts the encrypted string <em>crypt_str</em> using <em>pass_str</em> as the
password. <em>crypt_str</em> should be a string returned from <a href="#encode">ENCODE()</a>. The resulting string will be the original string only if <em>pass_str</em> is the same.</p>
<p>In <a href="https://mariadb.com/kb/en/sql_modeoracle/">Oracle mode</a> from <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a>, <code>DECODE</code> compares <em>expr</em> to the search expressions, in order. If it finds a match, the corresponding result expression is returned. If no matches are found, the default expression is returned, or NULL if no default is provided.</p>
<p>NULLs are treated as equivalent.</p>
<p><code>DECODE_ORACLE</code> is a synonym for the Oracle-mode version of the function, and is available in all modes.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">DECODE_ORACLE</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="mi">1</span><span class="p">,</span><span class="s1">'found1'</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="s1">'found2'</span><span class="p">,</span><span class="s1">'default'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DECODE_ORACLE</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="mi">1</span><span class="p">,</span><span class="s1">'found1'</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="s1">'found2'</span><span class="p">,</span><span class="s1">'default'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">found1</span>                                                 <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">DECODE_ORACLE</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="mi">1</span><span class="p">,</span><span class="s1">'found1'</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="s1">'found2'</span><span class="p">,</span><span class="s1">'default'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DECODE_ORACLE</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="mi">1</span><span class="p">,</span><span class="s1">'found1'</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="s1">'found2'</span><span class="p">,</span><span class="s1">'default'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">found2</span>                                                 <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">DECODE_ORACLE</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="mi">1</span><span class="p">,</span><span class="s1">'found1'</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="s1">'found2'</span><span class="p">,</span><span class="s1">'default'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DECODE_ORACLE</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="mi">1</span><span class="p">,</span><span class="s1">'found1'</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="s1">'found2'</span><span class="p">,</span><span class="s1">'default'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">default</span>                                                <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------+</span>
</pre><p>Nulls are treated as equivalent:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">DECODE_ORACLE</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="k">NULL</span><span class="p">,</span><span class="s1">'Nulls are equivalent'</span><span class="p">,</span><span class="s1">'Nulls are not equivalent'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DECODE_ORACLE</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="k">NULL</span><span class="p">,</span><span class="s1">'Nulls are equivalent'</span><span class="p">,</span><span class="s1">'Nulls are not equivalent'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Nulls</span> <span class="k">are</span> <span class="n">equivalent</span>                                                       <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="lock-tables">LOCK TABLES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="lock-tablessyntax">Syntax</h2>
<pre class="fixed">LOCK TABLE[S]
    tbl_name [[AS] alias] lock_type
    [, tbl_name [[AS] alias] lock_type] ...
    [WAIT n|NOWAIT]

lock_type:
    READ [LOCAL]
  | [LOW_PRIORITY] WRITE
  | WRITE CONCURRENT

UNLOCK TABLES
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#lock-tablessyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#lock-tablesdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#lock-tableswaitnowait" title="WAIT/NOWAIT">WAIT/NOWAIT</a> </li></ol>
</li>
<li class=""><a href="#lock-tableslimitations" title="Limitations">Limitations</a></li>
<li class=""><a href="#lock-tablessee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="lock-tablesdescription">Description</h2>
<p>The <em>lock_type</em> can be one of:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Option</th><th>Description</th></tr>
<tr><td>READ</td><td>Read lock, no writes allowed</td></tr>
<tr><td>READ LOCAL</td><td>Read lock, but allow <a href="#concurrent-inserts">concurrent inserts</a></td></tr>
<tr><td>WRITE</td><td>Exclusive write lock. No other connections can read or write to this table</td></tr>
<tr><td>LOW_PRIORITY WRITE</td><td>Exclusive write lock, but allow new read locks on the table until we get the write lock.</td></tr>
<tr><td>WRITE CONCURRENT</td><td>Exclusive write lock, but allow READ LOCAL locks to the table.</td></tr>
</table>
</div><p>MariaDB enables client sessions to acquire table locks explicitly for the
purpose of cooperating with other sessions for access to tables, or to
prevent other sessions from modifying tables during periods when a
session requires exclusive access to them. A session can acquire or
release locks only for itself. One session cannot acquire locks for
another session or release locks held by another session.</p>
<p>Locks may be used to emulate transactions or to get more speed when
updating tables.</p>
<p><code>LOCK TABLES</code> explicitly acquires table locks for the current client session.
Table locks can be acquired for base tables or views. To use <code>LOCK TABLES</code>,
you must have the <code>LOCK TABLES</code> privilege, and the <code>SELECT</code> privilege for
each object to be locked. See <code><a href="#grant">GRANT</a></code></p>
<p>For view locking, <code>LOCK TABLES</code> adds all base tables used in the view to the
set of tables to be locked and locks them automatically. If you lock a table
explicitly with <code>LOCK TABLES</code>, any tables used in triggers are also locked
implicitly, as described in <a href="https://mariadb.com/kb/en/triggers-and-implicit-locks/">Triggers and Implicit Locks</a>.</p>
<p><a href="#transactions-unlock-tables">UNLOCK TABLES</a> explicitly releases any table locks held by the
current session.
<br/><br/></p>
<div class="mariadb_from_10_3_0 mariadb from_10_3_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">10.3.0</a></h5><h3 class="anchored_heading" id="lock-tableswaitnowait">WAIT/NOWAIT</h3>
<p>Set the lock wait timeout. See <a href="#wait-and-nowait">WAIT and NOWAIT</a>.</p>
</div><h2 class="anchored_heading" id="lock-tableslimitations">Limitations</h2>
<ul start="1"><li><code>LOCK TABLES</code> <a href="https://mariadb.com/kb/en/mariadb-galera-cluster-known-limitations/">doesn't work when using Galera cluster</a>.   You may experience crashes or locks when used with Galera.
</li><li><code>LOCK TABLES</code> works on XtraDB/InnoDB tables only if the <a href="https://mariadb.com/kb/en/xtradbinnodb-server-system-variables/#innodb_table_locks">innodb_table_locks</a> system variable is set to 1 (the default) and <a href="https://mariadb.com/kb/en/server-system-variables/#autocommit">autocommit</a> is set to 0 (1 is default). Please note that no error message will be returned on LOCK TABLES with innodb_table_locks = 0.
</li><li><code>LOCK TABLES</code> <a href="https://mariadb.com/kb/en/sql-statements-that-cause-an-implicit-commit/">implicitly commits</a> the active transaction, if any. Also, starting a transaction always releases all table locks acquired with LOCK TABLES. This means that there is no way to have table locks and an active transaction at the same time. The only exceptions are the transactions in <a ">autocommit</a> mode. To preserve the data integrity between transactional and non-transactional tables, the <a href="#get_lock">GET_LOCK()</a> function can be used.
</li><li>When using <code>LOCK TABLES</code> on a <code>TEMPORARY</code> table, it will always be locked with a <code>WRITE</code> lock.
</li><li>While a connection holds an explicit read lock on a table, it cannot modify it. If you try, the following error will be produced:
</li></ul>
<pre class="fixed">ERROR 1099 (HY000): Table 'tab_name' was locked with a READ lock and can't be updated
</pre><ul start="1"><li>While a connection holds an explicit lock on a table, it cannot access a non-locked table. If you try, the following error will be produced:
</li></ul>
<pre class="fixed">ERROR 1100 (HY000): Table 'tab_name' was not locked with LOCK TABLES
</pre><ul start="1"><li>While a connection holds an explicit lock on a table, it cannot issue the following: INSERT DELAYED, CREATE TABLE, CREATE TABLE ... LIKE, and DDL statements involving stored programs and views (except for triggers). If you try, the following error will be produced:
</li></ul>
<pre class="fixed">ERROR 1192 (HY000): Can't execute the given command because you have active locked tables or an active transaction
</pre><ul start="1"><li><code>LOCK TABLES</code> can not be used in stored routines - if you try, the following error will be produced on creation:
</li></ul>
<pre class="fixed">ERROR 1314 (0A000): LOCK is not allowed in stored procedures
</pre><h2 class="anchored_heading" id="lock-tablessee-also">See Also</h2>
<ul start="1"><li><a href="#transactions-unlock-tables">UNLOCK TABLES</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="purge-binary-logs">PURGE BINARY LOGS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">PURGE { BINARY | MASTER } LOGS
    { TO 'log_name' | BEFORE datetime_expr }
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code class="fixed" style="white-space:pre-wrap">PURGE BINARY LOGS</code> statement deletes all the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>
files listed in the log index file prior to the specified log file name or
date. <code class="fixed" style="white-space:pre-wrap">BINARY</code> and <code class="fixed" style="white-space:pre-wrap">MASTER</code> are synonyms.
Deleted log files also are removed from the list recorded in the index file, so
that the given log file becomes the first in the list.</p>
<p>The datetime expression is in the format 'YYYY-MM-DD hh:mm:ss'. </p>
<div class="cstm-style graybox"><p>If a replica is active but has yet to read from a binary log file you attempt to delete, the statement will fail with an error. However, if the replica is not connected and has yet to read from a log file you delete, the file will be deleted, but the replica will be unable to continue replicating once it connects again.</p>
</div><p>This statement has no effect if the server was not started with the
<a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#log_bin">--log-bin</a> option to enable binary logging.</p>
<p>To list the binary log files on the server, use <a href="#show-binary-logs">SHOW BINARY LOGS</a>. To see which files they are reading, use <a href="#show-slave-status">SHOW SLAVE STATUS</a> (or <a href="https://mariadb.com/kb/en/show-replica-status/">SHOW REPLICA STATUS</a> from <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>). You can only delete the files that are older than the oldest file that is used by the slaves.</p>
<p>To delete all binary log files, use <a href="#reset-master">RESET MASTER</a>.
To move to a new log file (for example if you want to remove the current log file), use <a href="#flush">FLUSH LOGS</a> before you execute <code>PURGE LOGS</code>.</p>
<p>If the <a href="https://mariadb.com/kb/en/server-system-variables/#expire_logs_days">expire_logs_days</a> server system variable is not set to 0, the server automatically deletes binary log files after the given number of days. From <a href="https://mariadb.com/kb/en/what-is-mariadb-106/">MariaDB 10.6</a>, the <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_expire_logs_seconds">binlog_expire_logs_seconds</a> variable allows more precise control over binlog deletion, and takes precedence if both are non-zero.</p>
<p>Requires the <a href="super">SUPER</a> privilege or, from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the <a ">BINLOG ADMIN</a> privilege, to run.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">PURGE BINARY LOGS TO 'mariadb-bin.000063';
</pre><pre class="fixed">PURGE BINARY LOGS BEFORE '2013-04-21';
</pre><pre class="fixed">PURGE BINARY LOGS BEFORE '2013-04-22 09:55:22';
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/using-and-maintaining-the-binary-log/">Using and Maintaining the Binary Log</a>
</li><li><a href="https://mariadb.com/kb/en/mariadb/flush/">FLUSH LOGS</a>.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="md5">MD5</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MD5(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Calculates an MD5 128-bit checksum for the string. </p>
<p>The return value is a 32-hex digit string, and as of <a href="https://mariadb.com/kb/en/what-is-mariadb-55/">MariaDB 5.5</a>, is a nonbinary string in the connection <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set and collation</a>, determined by the values of the <a href="https://mariadb.com/kb/en/server-system-variables/#character_set_connection">character_set_connection</a> and <a href="https://mariadb.com/kb/en/server-system-variables/#collation_connection">collation_connection</a> system variables. Before 5.5, the return value was a binary string.</p>
<p>NULL is returned if the argument was NULL. </p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">MD5</span><span class="p">(</span><span class="s1">'testing'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="n">MD5</span><span class="p">(</span><span class="s1">'testing'</span><span class="p">)</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="n">ae2b1fca515949e5d54fb22b8ed95575</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="password">PASSWORD</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="passwordsyntax">Syntax</h2>
<pre class="fixed">PASSWORD(str)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#passwordsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#passworddescription" title="Description">Description</a></li>
<li class=""><a href="#passwordexamples" title="Examples">Examples</a></li>
<li class=""><a href="#passwordsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="passworddescription">Description</h2>
<div class="cstm-style redbox"><p>The PASSWORD() function is used for hashing passwords for use in authentication by the MariaDB server. It is not intended for use in other applications.</p>
</div><p>Calculates and returns a hashed password string from the plaintext password <em>str</em>. Returns an empty string (&gt;= <a href="https://mariadb.com/kb/en/mariadb-1004-release-notes/">MariaDB 10.0.4</a>) if the argument was NULL. </p>
<p>The return value is a nonbinary string in the connection <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set and collation</a>, determined by the values of the <a href="https://mariadb.com/kb/en/server-system-variables/#character_set_connection">character_set_connection</a> and <a href="https://mariadb.com/kb/en/server-system-variables/#collation_connection">collation_connection</a> system variables.</p>
<p>This is the function that is used for hashing MariaDB passwords for storage in the Password column of the <a href="https://mariadb.com/kb/en/mysqluser-table/">user table</a> (see <a href="#grant">privileges</a>), usually used with the <a href="#set-password">SET PASSWORD</a> statement. It is not intended for use in other applications.</p>
<p>Until <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>, the return value is 41-bytes in length, and the first character is always '*'. From <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>, the function takes into account the authentication plugin where applicable (A <a href="#create-user">CREATE USER</a> or <a href="#set-password">SET PASSWORD</a> statement). For example, when used in conjunction with a user authenticated by the <a href="https://mariadb.com/kb/en/authentication-plugin-ed25519/">ed25519 plugin</a>, the statement will create a longer hash:</p>
<pre class="fixed">CREATE USER edtest@localhost IDENTIFIED VIA ed25519 USING PASSWORD('secret');

CREATE USER edtest2@localhost IDENTIFIED BY 'secret';

SELECT CONCAT(user, '@', host, ' =&gt; ', JSON_DETAILED(priv)) FROM mysql.global_priv
  WHERE user LIKE 'edtest%'\G
*************************** 1. row ***************************
CONCAT(user, '@', host, ' =&gt; ', JSON_DETAILED(priv)): edtest@localhost =&gt; {
...
    "plugin": "ed25519",
    "authentication_string": "ZIgUREUg5PVgQ6LskhXmO+eZLS0nC8be6HPjYWR4YJY",
...
}
*************************** 2. row ***************************
CONCAT(user, '@', host, ' =&gt; ', JSON_DETAILED(priv)): edtest2@localhost =&gt; {
...
    "plugin": "mysql_native_password",
    "authentication_string": "*14E65567ABDB5135D0CFD9A70B3032C179A49EE7",
...
}

</pre><p>The behavior of this function is affected by the value of the <a href="https://mariadb.com/kb/en/server-system-variables/#old_passwords">old_passwords</a> system variable. If this is set to <code>1</code> (<code>0</code> is default), MariaDB reverts to using the <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password authentication plugin</a> by default for newly created users and passwords. </p>
<h2 class="anchored_heading" id="passwordexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'notagoodpwd'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'notagoodpwd'</span><span class="p">)</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="o">*</span><span class="mi">3</span><span class="n">A70EE9FC6594F88CE9E959CD51C5A1C002DC937</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
</pre><pre class="fixed"><span class="k">SET</span> <span class="n">PASSWORD</span> <span class="k">FOR</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'%.loc.gov'</span> <span class="o">=</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'newpass'</span><span class="p">);</span>
</pre><h2 class="anchored_heading" id="passwordsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/password-validation-plugins/">Password Validation Plugins</a> - permits the setting of basic criteria for passwords
</li><li><a href="#old_password">OLD_PASSWORD()</a> - pre-MySQL 4.1 password function</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="linestring-properties-endpoint">ENDPOINT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_endpoint">ST_ENDPOINT</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="glength">GLENGTH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">GLength(ls)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns as a double-precision number the length of the
<a href="#linestring">LineString</a> value <em><code>ls</code></em> in its associated spatial reference.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">ls</span> <span class="o">=</span> <span class="s1">'LineString(1 1,2 2,3 3)'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">GLength</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span> <span class="n">GLength</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span>           <span class="mi">2</span><span class="p">.</span><span class="mi">82842712474619</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#st_length">ST_LENGTH()</a> is the OpenGIS equivalent.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="rollback">ROLLBACK</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>The <code>ROLLBACK</code> statement rolls back (ends) a transaction, destroying any changes to SQL-data so that they never become visible to subsequent transactions. The required syntax for the <code>ROLLBACK</code> statement is as follows. </p>
<pre class="fixed">ROLLBACK [ WORK ] [ AND [ NO ] CHAIN ] 
[ TO [ SAVEPOINT ] {&lt;savepoint name&gt; | &lt;simple target specification&gt;} ]
</pre><p>The <code>ROLLBACK</code> statement will either end a transaction, destroying all data changes that happened during any of the transaction, or it will just destroy any data changes that happened since you established a savepoint. The basic form of the <code>ROLLBACK</code> statement is just the keyword <code>ROLLBACK</code> (the keyword <code>WORK</code> is simply noise and can be omitted without changing the effect). </p>
<p>The optional <code>AND CHAIN</code> clause is a convenience for initiating a new transaction as soon as the old transaction terminates. If <code>AND CHAIN</code> is specified, then there is effectively nothing between the old and new transactions, although they remain separate. The characteristics of the new transaction will be the same as the characteristics of the old one <span>—</span> that is, the new transaction will have the same access mode, isolation level and diagnostics area size (we'll discuss all of these shortly) as the transaction just terminated. The <code>AND NO CHAIN</code> option just tells your DBMS to end the transaction <span>—</span> that is, these four SQL statements are equivalent: </p>
<pre class="fixed"><span class="k">ROLLBACK</span><span class="p">;</span> 
<span class="k">ROLLBACK</span> <span class="k">WORK</span><span class="p">;</span> 
<span class="k">ROLLBACK</span> <span class="k">AND</span> <span class="k">NO</span> <span class="k">CHAIN</span><span class="p">;</span> 
<span class="k">ROLLBACK</span> <span class="k">WORK</span> <span class="k">AND</span> <span class="k">NO</span> <span class="k">CHAIN</span><span class="p">;</span> 
</pre><p>All of them end a transaction without saving any transaction characteristics. The only other options, the equivalent statements: </p>
<pre class="fixed"><span class="k">ROLLBACK</span> <span class="k">AND</span> <span class="k">CHAIN</span><span class="p">;</span>
<span class="k">ROLLBACK</span> <span class="k">WORK</span> <span class="k">AND</span> <span class="k">CHAIN</span><span class="p">;</span>
</pre><p>both tell your DBMS to end a transaction, but to save that transaction's characteristics for the next transaction. </p>
<p><code>ROLLBACK</code> is much simpler than <code>COMMIT</code>: it may involve no more than a few deletions (of Cursors, locks, prepared SQL statements and log-file entries). It's usually assumed that <code>ROLLBACK</code> can't fail, although such a thing is conceivable (for example, an encompassing transaction might reject an attempt to <code>ROLLBACK</code> because it's lining up for a <code>COMMIT</code>). </p>
<p><code>ROLLBACK</code> cancels all effects of a transaction. It does not cancel effects on objects outside the DBMS's control (for example the values in host program variables or the settings made by some SQL/CLI function calls). But in general, it is a convenient statement for those situations when you say "oops, this isn't working" or when you simply don't care whether your temporary work becomes permanent or not.</p>
<p>Here is a moot question. If all you've been doing is <code>SELECT</code>s, so that there have been no data changes, should you end the transaction with <code>ROLLBACK</code> or <code>COMMIT</code>? It shouldn't really matter because both <code>ROLLBACK</code> and <code>COMMIT</code> do the same transaction-terminating job. However, the popular conception is that <code>ROLLBACK</code> implies failure, so after a successful series of <code>SELECT</code> statements the convention is to end the transaction with <code>COMMIT</code> rather than <code>ROLLBACK</code>.</p>
<p>MariaDB (and most other DBMSs) supports rollback of SQL-data change statements, but not of SQL-Schema statements. This means that if you use any of <code>CREATE</code>, <code>ALTER</code>, <code>DROP</code>, <code>GRANT</code>, <code>REVOKE</code>, you are implicitly committing at execution time.</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">Table_2</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> 
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">Table_3</span> <span class="k">CASCADE</span><span class="p">;</span> 
<span class="k">ROLLBACK</span><span class="p">;</span> 
</pre><p>The result will be that both the <code>INSERT</code> and the <code>DROP</code> will go through as separate transactions so the <code>ROLLBACK</code> will have no effect. </p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="reset-slave-connection_name">RESET SLAVE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="cstm-style bluebox text"><p>The terms <em>master</em> and <em>slave</em> have historically been used in replication, but the terms terms <em>primary</em> and <em>replica</em> are now preferred. The old terms are used still used in parts of the documentation, and in MariaDB commands, although <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a> has begun the process of renaming. The documentation process is ongoing. See <a href="https://jira.mariadb.org/browse/MDEV-18777">MDEV-18777</a> to follow progress on this effort.</p>
</div>
<h2 class="anchored_heading" id="reset-slave-connection_namesyntax">Syntax</h2>
<pre class="fixed">RESET SLAVE ["reset-slave-connection_nameconnection_name"] [ALL]  [FOR CHANNEL "reset-slave-connection_nameconnection_name"]              
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#reset-slave-connection_namesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#reset-slave-connection_namedescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#reset-slave-connection_nameconnection_name" title="reset-slave-connection_nameconnection_name">connection_name</a></li>
<li class=""><a href="#reset-slave-connection_namereset-replica" title="RESET REPLICA">RESET REPLICA</a> </li></ol>
</li>
<li class=""><a href="#reset-slave-connection_namesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="reset-slave-connection_namedescription">Description</h2>
<p>RESET SLAVE makes the slave forget its <a href="https://mariadb.com/kb/en/replication/">replication</a> position in the
master's <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>. This statement is meant to be used for a clean
start. It deletes the master.info and relay-log.info files, all the
<a href="https://mariadb.com/kb/en/relay-log/">relay log</a> files, and starts a new relay log file. To use RESET SLAVE,
the slave replication threads must be stopped (use <a href="#stop-slave">STOP SLAVE</a> if
necessary).</p>
<div class="cstm-style graybox"><p>Note: All relay log files are deleted, even if they have not been
completely executed by the slave SQL thread. (This is a condition
likely to exist on a replication slave if you have issued a STOP SLAVE
statement or if the slave is highly loaded.)</p>
</div><div class="cstm-style graybox"><p>Note: <code class="highlight fixed" style="white-space:pre-wrap">RESET REPLICA</code> does not reset the global
<code class="highlight fixed" style="white-space:pre-wrap">gtid_slave_pos</code> variable. This means that a replica
server configured with <code class="highlight fixed" style="white-space:pre-wrap">CHANGE MASTER TO MASTER_USE_GTID=slave_pos</code>
will not receive events with GTIDs occurring before the state saved in
<code class="highlight fixed" style="white-space:pre-wrap">gtid_slave_pos</code>. If the intent is to reprocess these events,
<code class="highlight fixed" style="white-space:pre-wrap">gtid_slave_pos</code> must be manually reset, e.g. by executing
<code class="highlight fixed" style="white-space:pre-wrap">set global gtid_slave_pos=""</code>.</p>
</div><p>Connection information stored in the master.info file is immediately
reset using any values specified in the corresponding startup options.
This information includes values such as master host, master port,
master user, and master password. If the slave SQL thread was in the
middle of replicating temporary tables when it was stopped, and RESET
SLAVE is issued, these replicated temporary tables are deleted on the
slave.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">ALL</code> also resets the <code class="highlight fixed" style="white-space:pre-wrap">PORT</code>, <code class="highlight fixed" style="white-space:pre-wrap">HOST</code>, <code class="highlight fixed" style="white-space:pre-wrap">USER</code> and <code class="highlight fixed" style="white-space:pre-wrap">PASSWORD</code> parameters for the slave. If you are using a connection name, it will permanently delete it and it will not show up anymore in <a href="#show-slave-status">SHOW ALL SLAVES STATUS</a>.</p>
<h4 class="anchored_heading" id="reset-slave-connection_nameconnection_name">connection_name</h4>
<p>The <code>connection_name</code> option is used for <a href="https://mariadb.com/kb/en/multi-source-replication/">multi-source replication</a>.</p>
<p>If there is only one nameless master, or the default master (as specified by the <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#default_master_connection">default_master_connection</a> system variable) is intended, <code>connection_name</code> can be omitted. If provided, the <code>RESET SLAVE</code> statement will apply to the specified master. <code>connection_name</code> is case-insensitive.</p>
<div class="mariadb_from_10_7_0 mariadb from_10_7_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1070-release-notes/">10.7.0</a></h5><p>The <code>FOR CHANNEL</code> keyword was added for MySQL compatibility. This is identical as
using the channel_name directly after <code>RESET SLAVE</code>.</p>
</div><h4 class="anchored_heading" id="reset-slave-connection_namereset-replica">RESET REPLICA</h4>
<div class="mariadb_from_10_5_1 mariadb from_10_5_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">10.5.1</a></h5><p><code>RESET REPLICA</code> is an alias for <code>RESET SLAVE</code> from <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>. </p>
</div><h2 class="anchored_heading" id="reset-slave-connection_namesee-also">See Also</h2>
<ul start="1"><li><a href="#stop-slave">STOP SLAVE</a> stops the slave, but it can be restarted with  <a href="#start-slave">START SLAVE</a> or after next MariaDB server restart.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="linestring-properties-numpoints">NumPoints</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_numpoints">ST_NumPoints</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="linestring-properties-pointn">PointN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_pointn">ST_PointN</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="linestring-properties-startpoint">STARTPOINT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="https://mariadb.com/kb/en/st_startpoint/">ST_STARTPOINT</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_endpoint">ST_ENDPOINT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_EndPoint(ls)
EndPoint(ls)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the <a href="#point">Point</a> that is the endpoint of the
<a href="#linestring">LineString</a> value <code>ls</code>.</p>
<p><code>ST_EndPoint()</code> and <code>EndPoint()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">ls</span> <span class="o">=</span> <span class="s1">'LineString(1 1,2 2,3 3)'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">AsText</span><span class="p">(</span><span class="n">EndPoint</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">)));</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="n">AsText</span><span class="p">(</span><span class="n">EndPoint</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">)))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">3</span> <span class="mi">3</span><span class="p">)</span>                          <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_numpoints">ST_NUMPOINTS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_NumPoints(ls)
NumPoints(ls)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the number of <a href="#point">Point</a> objects in the <a href="#linestring">LineString</a>
value <code>ls</code>.</p>
<p><code>ST_NumPoints()</code> and <code>NumPoints()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">ls</span> <span class="o">=</span> <span class="s1">'LineString(1 1,2 2,3 3)'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">NumPoints</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="n">NumPoints</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span>                            <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_pointn">ST_POINTN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_PointN(ls,N)
PointN(ls,N)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the N-th <a href="#point">Point</a> in the <a href="#linestring">LineString</a> value <code>ls</code>.
Points are numbered beginning with <code>1</code>.</p>
<p><code>ST_PointN()</code> and <code>PointN()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">ls</span> <span class="o">=</span> <span class="s1">'LineString(1 1,2 2,3 3)'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">AsText</span><span class="p">(</span><span class="n">PointN</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">),</span><span class="mi">2</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="n">AsText</span><span class="p">(</span><span class="n">PointN</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">),</span><span class="mi">2</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">2</span> <span class="mi">2</span><span class="p">)</span>                          <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="prepare-statement">PREPARE Statement</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="prepare-statementsyntax">Syntax</h2>
<pre class="fixed">PREPARE stmt_name FROM preparable_stmt
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#prepare-statementsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#prepare-statementdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#prepare-statementoracle-mode" title="Oracle Mode">Oracle Mode</a> </li></ol>
</li>
<li class=""><a href="#prepare-statementpermitted-statements" title="Permitted Statements">Permitted Statements</a></li>
<li class=""><a href="#prepare-statementexample" title="Example">Example</a></li>
<li class=""><a href="#prepare-statementsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="prepare-statementdescription">Description</h2>
<p>The <code class="fixed" style="white-space:pre-wrap">PREPARE</code> statement prepares a statement and assigns it a name,
<code class="fixed" style="white-space:pre-wrap">stmt_name</code>, by which to refer to the statement later. Statement names
are not case sensitive. <code class="fixed" style="white-space:pre-wrap">preparable_stmt</code> is either a string literal or a <a href="https://mariadb.com/kb/en/user-defined-variables/">user variable</a> (not a <a href="#declare-variable">local variable</a>, an SQL expression or a subquery) that contains the text of the statement. The text must   
represent a single SQL statement, not multiple statements. Within the
statement, "?" characters can be used as parameter markers to indicate
where data values are to be bound to the query later when you execute
it. The "?" characters should not be enclosed within quotes, even if
you intend to bind them to string values. Parameter markers can be used
only where expressions should appear, not for SQL keywords,
identifiers, and so forth.</p>
<p>The scope of a prepared statement is the session within which it is
created. Other sessions cannot see it.</p>
<p>If a prepared statement with the given name already exists, it is
deallocated implicitly before the new statement is prepared. This means
that if the new statement contains an error and cannot be prepared, an
error is returned and no statement with the given name exists.</p>
<p>Prepared statements can be PREPAREd and EXECUTEd in a stored procedure, but not in a stored function or trigger. Also, even if the statement is PREPAREd in a procedure, it will not be deallocated when the procedure execution ends.</p>
<p>A prepared statement can access <a href="https://mariadb.com/kb/en/user-defined-variables/">user-defined variables</a>, but not <a href="#declare-variable">local variables</a> or procedure's parameters.</p>
<p>If the prepared statement contains a syntax error, PREPARE will fail. As a side effect, stored procedures can use it to check if a statement is valid. For example:</p>
<pre class="fixed">CREATE PROCEDURE `test_stmt`(IN sql_text TEXT)
BEGIN
        DECLARE EXIT HANDLER FOR SQLEXCEPTION
        BEGIN
                SELECT CONCAT(sql_text, ' is not valid');
        END;
        SET @SQL := sql_text;
        PREPARE stmt FROM @SQL;
        DEALLOCATE PREPARE stmt;
END;
</pre><p>The <a href="#found_rows">FOUND_ROWS()</a> and <a href="https://mariadb.com/kb/en/information-functions-row_count/">ROW_COUNT()</a> functions, if called immediatly after EXECUTE, return the number of rows read or affected by the prepared statements; however, if they are called after DEALLOCATE PREPARE, they provide information about this statement. If the prepared statement produces errors or warnings, <a href="https://mariadb.com/kb/en/get-diagnostics/">GET DIAGNOSTICS</a> return information about them. DEALLOCATE PREPARE shouldn't clear the <a href="https://mariadb.com/kb/en/diagnostics-area/">diagnostics area</a>, unless it produces an error.</p>
<p>A prepared statement is executed with <code><a href="#execute-statement">EXECUTE</a></code> and released 
with <code><a href="#deallocate-drop-prepared-statement">DEALLOCATE PREPARE</a></code>.</p>
<p>The <a href="https://mariadb.com/kb/en/server-system-variables/#max_prepared_stmt_count">max_prepared_stmt_count</a> server system variable determines the number of allowed prepared statements that can be prepared on the server. If it is set to 0, prepared statements are not allowed. If the limit is reached, an error similar to the following will be produced:</p>
<pre class="fixed">ERROR 1461 (42000): Can't create more than max_prepared_stmt_count statements 
  (current value: 0)
</pre><h3 class="anchored_heading" id="prepare-statementoracle-mode">Oracle Mode</h3>
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#prepared-statements">Oracle mode from MariaDB 10.3</a>, <code>PREPARE stmt FROM 'SELECT :1, :2'</code> is used, instead of <code>?</code>.</p>
</div><h2 class="anchored_heading" id="prepare-statementpermitted-statements">Permitted Statements</h2>
<p>Not all statements can be prepared. Only the following SQL commands are permitted:</p>
<ul><li><a href="#alter-table">ALTER TABLE</a>
</li><li><a href="#analyze-table">ANALYZE TABLE</a>
</li><li><a href="#binlog">BINLOG</a>
</li><li><a href="#cache-index">CACHE INDEX</a>
</li><li><a href="#call">CALL</a>
</li><li><a href="#change-master-to">CHANGE MASTER</a>
</li><li><a href="#checksum-table">CHECKSUM {TABLE | TABLES}</a>
</li><li><a href="#commit">COMMIT</a>
</li><li>{<a href="#create-database">CREATE</a> | <a href="#drop-database">DROP</a>} DATABASE
</li><li>{<a href="#create-index">CREATE</a> | <a href="#drop-index">DROP</a>} INDEX
</li><li>{<a href="#create-table">CREATE</a> | <a href="#rename-table">RENAME</a> | <a href="#drop-table">DROP</a>} TABLE
</li><li>{<a href="#create-user">CREATE</a> | <a href="#rename-user">RENAME</a> | <a href="#drop-user">DROP</a>} USER
</li><li>{<a href="#create-view">CREATE</a> | <a href="#drop-view">DROP</a>} VIEW
</li><li><a href="#delete">DELETE</a>
</li><li><a href="#describe">DESCRIBE</a>
</li><li><a href="#do">DO</a>
</li><li><a href="#explain">EXPLAIN</a>
</li><li><a href="#flush">FLUSH</a> {TABLE | TABLES | TABLES WITH READ LOCK | HOSTS | PRIVILEGES | LOGS | STATUS | 
  MASTER | SLAVE | DES_KEY_FILE | USER_RESOURCES | <a href="#flush-query-cache">QUERY CACHE</a> | TABLE_STATISTICS | 
  INDEX_STATISTICS | USER_STATISTICS | CLIENT_STATISTICS}
</li><li><a href="#grant">GRANT</a>
</li><li><a href="#insert">INSERT</a>
</li><li>INSTALL {<a href="#install-plugin">PLUGIN</a> | <a href="#install-soname">SONAME</a>}
</li><li><a href="#handler-commands">HANDLER READ</a>
</li><li><a href="https://mariadb.com/kb/en/kill/">KILL</a>
</li><li><a href="#load-index">LOAD INDEX INTO CACHE</a>
</li><li><a href="#optimize-table">OPTIMIZE TABLE</a>
</li><li><a href="#repair-table">REPAIR TABLE</a>
</li><li><a href="#replace">REPLACE</a>
</li><li><a href="#reset">RESET</a> {<a href="#reset-master">MASTER</a> | <a href="#reset-slave-connection_name">SLAVE</a> | <a href="#reset">QUERY CACHE</a>}
</li><li><a href="#revoke">REVOKE</a>
</li><li><a href="#rollback">ROLLBACK</a>
</li><li><a href="#select">SELECT</a>
</li><li><a href="#set">SET</a>
</li><li><a href="https://mariadb.com/kb/en/set-global-sql_slave_skip_counter/">SET GLOBAL SQL_SLAVE_SKIP_COUNTER</a>
</li><li><a href="#set-role">SET ROLE</a>
</li><li><a href="https://mariadb.com/kb/en/set-sql_log_bin/">SET SQL_LOG_BIN</a>
</li><li><a href="#set-transaction">SET TRANSACTION ISOLATION LEVEL</a>
</li><li><a href="#show-explain">SHOW EXPLAIN</a>
</li><li>SHOW {<a href="#show-databases">DATABASES</a> | <a href="#show-tables">TABLES</a> | <a href="#show-open-tables">OPEN TABLES</a> | <a href="#show-table-status">TABLE STATUS</a> | <a href="#show-columns">COLUMNS</a> | <a href="#show-index">INDEX</a> | <a href="#show-triggers">TRIGGERS</a> | 
  <a href="#show-events">EVENTS</a> | <a href="#show-grants">GRANTS</a> | <a href="#show-character-set">CHARACTER SET</a> | <a href="#show-collation">COLLATION</a> | <a href="#show-events">ENGINES</a> | <a href="#show-plugins">PLUGINS [SONAME</a>] | <a href="#show-privileges">PRIVILEGES</a> | 
  <a href="#show-processlist">PROCESSLIST</a> | <a href="#show-profile">PROFILE</a> | <a href="#show-profiles">PROFILES</a> | <a href="#show-variables">VARIABLES</a> | <a href="#show-status">STATUS</a> | <a href="#show-warnings">WARNINGS</a> | <a href="#show-errors">ERRORS</a> | 
  <a href="#show-table-statistics">TABLE_STATISTICS</a> | <a href="https://mariadb.com/kb/en/show-index-statistics/">INDEX_STATISTICS</a> | <a href="#show-user-statistics">USER_STATISTICS</a> | <a href="#show-client-statistics">CLIENT_STATISTICS</a> | <a href="#show-authors">AUTHORS</a> | 
  <a href="#show-contributors">CONTRIBUTORS</a>}
</li><li>SHOW CREATE {<a href="#show-create-database">DATABASE</a> | <a href="#show-create-table">TABLE</a> | <a href="#show-create-view">VIEW</a> | <a href="#show-create-procedure">PROCEDURE</a> | <a href="#show-create-function">FUNCTION</a> | <a href="#show-create-trigger">TRIGGER</a> | <a href="#show-create-event">EVENT</a>}
</li><li>SHOW {<a href="#show-function-code">FUNCTION</a> | <a href="#show-procedure-code">PROCEDURE</a>} CODE
</li><li><a href="#show-binlog-events">SHOW BINLOG EVENTS</a>
</li><li><a href="https://mariadb.com/kb/en/show-replica-hosts/">SHOW SLAVE HOSTS</a>
</li><li>SHOW {MASTER | BINARY} LOGS
</li><li>SHOW {MASTER | SLAVE | TABLES | INNODB | FUNCTION | PROCEDURE} STATUS
</li><li>SLAVE {<a href="#start-slave">START</a> | <a href="#stop-slave">STOP</a>}
</li><li><a href="#truncate-table">TRUNCATE TABLE</a>
</li><li><a href="https://mariadb.com/kb/en/shutdown/">SHUTDOWN</a>
</li><li>UNINSTALL {PLUGIN | SONAME}
</li><li><a href="#update">UPDATE</a>
</li></ul>
<p>Synonyms are not listed here, but can be used. For example, DESC can be used instead of DESCRIBE.</p>
<div class="mariadb_from_10_1_1 mariadb from_10_1_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1011-release-notes/">10.1.1</a></h5><p><a href="https://mariadb.com/kb/en/using-compound-statements-outside-of-stored-programs/">Compound statements</a> can be prepared too.</p>
</div><p>Note that if a statement can be run in a stored routine, it will work even if it is called by a prepared statement. For example, <a href="#signal">SIGNAL</a> can't be directly prepared. However, it is allowed in <a href="https://mariadb.com/kb/en/stored-routines/">stored routines</a>. If the x() procedure contains SIGNAL, you can still prepare and execute the 'CALL x();' prepared statement.</p>
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>PREPARE now supports most kinds of expressions as well, for example:</p>
<pre class="fixed">PREPARE stmt FROM CONCAT('SELECT * FROM ', table_name);
</pre></div><div class="mariadb_from_10_6_2 mariadb from_10_6_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1062-release-notes/">10.6.2</a></h5><p>All statements can be prepared, except <a href="#prepare-statement">PREPARE</a>, <a href="#execute-statement">EXECUTE</a>, and <a href="https://mariadb.com/kb/en/deallocate-drop-prepare/">DEALLOCATE / DROP PREPARE</a>.</p>
</div><p>When PREPARE is used with a statement which is not supported, the following error is produced:</p>
<pre class="fixed">ERROR 1295 (HY000): This command is not supported in the prepared statement protocol yet
</pre><h2 class="anchored_heading" id="prepare-statementexample">Example</h2>
<pre class="fixed">create table t1 (a int,b char(10));
insert into t1 values (1,"one"),(2, "two"),(3,"three");
prepare test from "select * from t1 where a=?";
set @param=2;
execute test using @param;
+------+------+
| a    | b    |
+------+------+
|    2 | two  |
+------+------+
set @param=3;
execute test using @param;
+------+-------+
| a    | b     |
+------+-------+
|    3 | three |
+------+-------+
deallocate prepare test;
</pre><p>Since identifiers are not permitted as prepared statements parameters, sometimes it is necessary to dynamically compose an SQL statement. This technique is called <em>dynamic SQL</em>). The following example shows how to use dynamic SQL:</p>
<pre class="fixed">CREATE PROCEDURE test.stmt_test(IN tab_name VARCHAR(64))
BEGIN
	SET @sql = CONCAT('SELECT COUNT(*) FROM ', tab_name);
	PREPARE stmt FROM @sql;
	EXECUTE stmt;
	DEALLOCATE PREPARE stmt;
END;

CALL test.stmt_test('mysql.user');
+----------+
| COUNT(*) |
+----------+
|        4 |
+----------+
</pre><p>Use of variables in prepared statements:</p>
<pre class="fixed">PREPARE stmt FROM 'SELECT @x;';

SET @x = 1;

EXECUTE stmt;
+------+
| @x   |
+------+
|    1 |
+------+

SET @x = 0;

EXECUTE stmt;
+------+
| @x   |
+------+
|    0 |
+------+

DEALLOCATE PREPARE stmt;
</pre><h2 class="anchored_heading" id="prepare-statementsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/out-parameters-in-prepare/">Out parameters in PREPARE</a>
</li><li><a href="#execute-statement">EXECUTE Statement</a>
</li><li><a href="#deallocate-drop-prepared-statement">DEALLOCATE / DROP Prepared Statement</a>
</li><li><a href="#execute-immediate">EXECUTE IMMEDIATE</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#prepared-statements">Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="inet_aton">INET_ATON</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">INET_ATON(expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Given the dotted-quad representation of an IPv4 network address as a string,
returns an integer that represents the numeric value of the address.
Addresses may be 4- or 8-byte addresses.</p>
<p>Returns NULL if the argument is not understood.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">INET_ATON</span><span class="p">(</span><span class="s1">'192.168.1.1'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span> <span class="n">INET_ATON</span><span class="p">(</span><span class="s1">'192.168.1.1'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span>               <span class="mi">3232235777</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
</pre><p>This is calculated as follows: 192 x 256<sup>3</sup> + 168 x 256 <sup>2</sup> + 1 x 256 + 1</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul><li><a href="#inet6_aton">INET6_ATON()</a>
</li><li><a href="#inet_ntoa">INET_NTOA()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="inet_ntoa">INET_NTOA</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">INET_NTOA(expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Given a numeric IPv4 network address in network byte order (4 or 8 byte),
returns the dotted-quad representation of the address as a string.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">INET_NTOA</span><span class="p">(</span><span class="mi">3232235777</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">INET_NTOA</span><span class="p">(</span><span class="mi">3232235777</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
</pre><p>192.168.1.1 corresponds to 3232235777 since 192 x 256<sup>3</sup> + 168 x 256 <sup>2</sup> + 1 x 256 + 1 = 3232235777</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#inet6_ntoa">INET6_NTOA()</a>
</li><li><a href="#inet_aton">INET_ATON()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="set-transaction">SET TRANSACTION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="set-transactionsyntax">Syntax</h2>
<pre class="fixed">SET [GLOBAL | SESSION] TRANSACTION
    transaction_property [, transaction_property] ...

transaction_property:
    ISOLATION LEVEL level
  | READ WRITE
  | READ ONLY

level:
     REPEATABLE READ
   | READ COMMITTED
   | READ UNCOMMITTED
   | SERIALIZABLE
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#set-transactionsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#set-transactiondescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#set-transactionisolation-level" title="Isolation Level">Isolation Level</a></li>
<li class=""><a href="#set-transactionisolation-levels" title="Isolation Levels">Isolation Levels</a> <ol class="toc">
<li class=""><a href="#set-transactionread-uncommitted" title="READ UNCOMMITTED">READ UNCOMMITTED</a></li>
<li class=""><a href="#set-transactionread-committed" title="READ COMMITTED">READ COMMITTED</a></li>
<li class=""><a href="#set-transactionrepeatable-read" title="REPEATABLE READ">REPEATABLE READ</a></li>
<li class=""><a href="#set-transactionserializable" title="SERIALIZABLE">SERIALIZABLE</a> </li></ol>
</li>
<li class=""><a href="#set-transactionaccess-mode" title="Access Mode">Access Mode</a> </li></ol>
</li>
<li class=""><a href="#set-transactionexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="set-transactiondescription">Description</h2>
<p>This statement sets the transaction isolation level or the transaction access mode globally, for the current session, or for the next transaction:</p>
<ul start="1"><li>With the <code class="highlight fixed" style="white-space:pre-wrap">GLOBAL</code> keyword, the statement sets the default
  transaction level globally for all subsequent sessions. Existing sessions are
  unaffected.
</li><li>With the <code class="highlight fixed" style="white-space:pre-wrap">SESSION</code> keyword, the statement sets the default
  transaction level for all subsequent transactions performed within the
  current session.
</li><li>Without any <code class="highlight fixed" style="white-space:pre-wrap">SESSION</code> or <code class="highlight fixed" style="white-space:pre-wrap">GLOBAL</code> keyword,
  the statement sets the isolation level for the next (not started) transaction
  performed within the current session.
</li></ul>
<p>A change to the global default isolation level requires the 
<code class="highlight fixed" style="white-space:pre-wrap"><a href="#grant">SUPER</a></code> privilege. Any session is free to change its
session isolation level (even in the middle of a transaction), or the isolation
level for its next transaction.</p>
<h3 class="anchored_heading" id="set-transactionisolation-level">Isolation Level</h3>
<p>To set the global default isolation level at server startup, use the
<code><a href="https://mariadb.com/kb/en/server-system-variables/#tx_isolation">--transaction-isolation=level</a></code> option on the command line or in an option file. Values of level for this option use dashes
rather than spaces, so the allowable values are <code class="highlight fixed" style="white-space:pre-wrap">READ-UNCOMMITTED</code>,
<code class="highlight fixed" style="white-space:pre-wrap">READ-COMMITTED</code>, <code class="highlight fixed" style="white-space:pre-wrap">REPEATABLE-READ</code>, or
<code class="highlight fixed" style="white-space:pre-wrap">SERIALIZABLE</code>. For example, to set the default isolation
level to <code class="highlight fixed" style="white-space:pre-wrap">REPEATABLE READ</code>, use these lines in the <code>[mysqld]</code>
section of an option file:</p>
<pre class="highlight fixed"><p>[mysqld]
transaction-isolation = REPEATABLE-READ</p></pre><p>To determine the global and session transaction isolation levels at
runtime, check the value of the <code><a href="https://mariadb.com/kb/en/server-system-variables/#tx_isolation">tx_isolation</a></code> system variable:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">@@</span><span class="k">GLOBAL</span><span class="p">.</span><span class="n">tx_isolation</span><span class="p">,</span> <span class="o">@@</span><span class="n">tx_isolation</span><span class="p">;</span>
</pre><p>InnoDB supports each of the translation isolation levels described here
using different locking strategies. The default level is 
<code class="highlight fixed" style="white-space:pre-wrap">REPEATABLE READ</code>. For additional information about InnoDB
record-level locks and how it uses them to execute various types of statements,
see <a href="https://mariadb.com/kb/en/innodb-lock-modes/">InnoDB Lock Modes</a>,
and <a href="http://dev.mysql.com/doc/refman/en/innodb-locks-set.html">http://dev.mysql.com/doc/refman/en/innodb-locks-set.html</a>.</p>
<h3 class="anchored_heading" id="set-transactionisolation-levels">Isolation Levels</h3>
<p>The following sections describe how MariaDB supports the different transaction levels.</p>
<h4 class="anchored_heading" id="set-transactionread-uncommitted">READ UNCOMMITTED</h4>
<p><code class="highlight fixed" style="white-space:pre-wrap">SELECT</code> statements are performed in a non-locking fashion,
but a possible earlier version of a row might be used. Thus, using this
isolation level, such reads are not consistent. This is also called a "dirty
read." Otherwise, this isolation level works like 
<code class="highlight fixed" style="white-space:pre-wrap">READ COMMITTED</code>.</p>
<h4 class="anchored_heading" id="set-transactionread-committed">READ COMMITTED</h4>
<p>A somewhat Oracle-like isolation level with respect to consistent
(non-locking) reads: Each consistent read, even within the same
transaction, sets and reads its own fresh snapshot. See
<a href="http://dev.mysql.com/doc/refman/en/innodb-consistent-read.html">http://dev.mysql.com/doc/refman/en/innodb-consistent-read.html</a>.</p>
<p>For locking reads (<code class="highlight fixed" style="white-space:pre-wrap">SELECT</code> with <code class="highlight fixed" style="white-space:pre-wrap">FOR UPDATE</code>
or <code class="highlight fixed" style="white-space:pre-wrap">LOCK IN SHARE MODE</code>), InnoDB locks only index records, not
the gaps before them, and thus allows the free insertion of new records next to
locked records. For <code class="highlight fixed" style="white-space:pre-wrap">UPDATE</code> and <code class="highlight fixed" style="white-space:pre-wrap">DELETE</code>
statements, locking depends on whether the statement uses a unique index with a
unique search condition (such as <code class="highlight fixed" style="white-space:pre-wrap">WHERE id = 100</code>), or a
range-type search condition (such as <code class="highlight fixed" style="white-space:pre-wrap">WHERE id &gt; 100</code>). For a
unique index with a unique search condition, InnoDB locks only the index record
found, not the gap before it. For range-type searches, InnoDB locks the index
range scanned, using gap locks or next-key (gap plus index-record) locks to
block insertions by other sessions into the gaps covered by the range. This is
necessary because "phantom rows" must be blocked for MySQL replication and
recovery to work.</p>
<p><strong>Note:</strong> If the <code class="highlight fixed" style="white-space:pre-wrap">READ COMMITTED</code> isolation
level is used or the <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_locks_unsafe_for_binlog">innodb_locks_unsafe_for_binlog</a> system variable is enabled,
there is no InnoDB gap locking except for <a href="https://mariadb.com/kb/en/foreign-keys/">foreign-key</a> constraint checking and
duplicate-key checking. Also, record locks for non-matching rows are released
after MariaDB has evaluated the <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> condition.If you use <code class="highlight fixed" style="white-space:pre-wrap">READ COMMITTED</code> or enable innodb_locks_unsafe_for_binlog, you must use row-based binary logging.</p>
<h4 class="anchored_heading" id="set-transactionrepeatable-read">REPEATABLE READ</h4>
<p>This is the default isolation level for InnoDB. For consistent reads,
there is an important difference from the <code class="highlight fixed" style="white-space:pre-wrap">READ COMMITTED</code>
isolation level: All consistent reads within the same transaction read the
snapshot established by the first read. This convention means that if you issue
several plain (non-locking) <code class="highlight fixed" style="white-space:pre-wrap">SELECT</code> statements within the
same transaction, these <code class="highlight fixed" style="white-space:pre-wrap">SELECT</code> statements are consistent
also with respect to each other. See
<a href="http://dev.mysql.com/doc/refman/en/innodb-consistent-read.html">http://dev.mysql.com/doc/refman/en/innodb-consistent-read.html</a>.</p>
<p>For locking reads (SELECT with FOR UPDATE or LOCK IN SHARE MODE),
UPDATE, and DELETE statements, locking depends on whether the
statement uses a unique index with a unique search condition, or a
range-type search condition. For a unique index with a unique search
condition, InnoDB locks only the index record found, not the gap
before it. For other search conditions, InnoDB locks the index range
scanned, using gap locks or next-key (gap plus index-record) locks to
block insertions by other sessions into the gaps covered by the range.</p>
<p>This is the minimum isolation level for non-distributed <a href="#xa-transactions">XA transactions</a>.</p>
<h4 class="anchored_heading" id="set-transactionserializable">SERIALIZABLE</h4>
<p>This level is like REPEATABLE READ, but InnoDB implicitly converts all
plain SELECT statements to <code><a ">SELECT ... LOCK IN SHARE MODE</a></code> if <code><a href="https://mariadb.com/kb/en/server-system-variables/#autocommit">autocommit</a></code>
is disabled. If autocommit is enabled, the SELECT is its own
transaction. It therefore is known to be read only and can be
serialized if performed as a consistent (non-locking) read and need
not block for other transactions. (This means that to force a plain
SELECT to block if other transactions have modified the selected rows,
you should disable autocommit.)</p>
<p>Distributed <a href="#xa-transactions">XA transactions</a> should always use this isolation level.</p>
<h3 class="anchored_heading" id="set-transactionaccess-mode">Access Mode</h3>
<p>These clauses appeared in <a href="https://mariadb.com/kb/en/what-is-mariadb-100/">MariaDB 10.0</a>.</p>
<p>The access mode specifies whether the transaction is allowed to write data or not. By default, transactions are in <code>READ WRITE</code> mode (see the <code><a href="https://mariadb.com/kb/en/server-system-variables/#tx_read_only">tx_read_only</a></code> system variable). <code>READ ONLY</code> mode allows the storage engine to apply optimizations that cannot be used for transactions which write data. The only exception to this rule is that read only transactions can perform DDL statements on temporary tables.</p>
<p>It is not permitted to specify both <code>READ WRITE</code> and <code>READ ONLY</code> in the same statement.</p>
<p><code>READ WRITE</code> and <code>READ ONLY</code> can also be specified in the <code><a href="#start-transaction">START TRANSACTION</a></code> statement, in which case the specified mode is only valid for one transaction.</p>
<h2 class="anchored_heading" id="set-transactionexamples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="k">GLOBAL</span> <span class="n">TRANSACTION</span> <span class="k">ISOLATION</span> <span class="k">LEVEL</span> <span class="k">SERIALIZABLE</span><span class="p">;</span>
</pre><p>Attempting to set the isolation level within an existing transaction without specifying <code>GLOBAL</code> or <code>SESSION</code>.</p>
<pre class="fixed">START TRANSACTION;

SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;
ERROR 1568 (25001): Transaction characteristics can't be changed while a transaction is in progress
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="is_free_lock">IS_FREE_LOCK</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="is_free_locksyntax">Syntax</h2>
<pre class="fixed">IS_FREE_LOCK(str)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#is_free_locksyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#is_free_lockdescription" title="Description">Description</a></li>
<li class=""><a href="#is_free_locksee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="is_free_lockdescription">Description</h2>
<p>Checks whether the lock named <code>str</code> is free to use (that is, not locked).
Returns <code class="highlight fixed" style="white-space:pre-wrap">1</code> if the lock is free (no one is using the lock),
 <code class="highlight fixed" style="white-space:pre-wrap">0</code> if the lock is in use, and <code class="highlight fixed" style="white-space:pre-wrap">NULL</code> if an
error occurs (such as an incorrect argument, like an empty string or <code class="highlight fixed" style="white-space:pre-wrap">NULL</code>). <code class="highlight fixed" style="white-space:pre-wrap">str</code> is case insensitive.</p>
<p>If the <a href="https://mariadb.com/kb/en/metadata_lock_info/">metadata_lock_info</a> plugin is installed, the <a href="https://mariadb.com/kb/en/information_schema/">Information Schema</a> <a href="https://mariadb.com/kb/en/information-schema-metadata_lock_info-table/">metadata_lock_info</a> table contains information about locks of this kind (as well as <a href="#metadata-locking">metadata locks</a>).</p>
<p>Statements using the <code>IS_FREE_LOCK</code> function are <a href="https://mariadb.com/kb/en/unsafe-statements-for-statement-based-replication/">not safe for statement-based replication</a>.</p>
<h2 class="anchored_heading" id="is_free_locksee-also">See Also</h2>
<ul start="1"><li><a href="#get_lock">GET_LOCK</a>
</li><li><a href="#release_lock">RELEASE_LOCK</a>
</li><li><a href="#is_used_lock">IS_USED_LOCK</a>
</li><li><a href="https://mariadb.com/kb/en/release_all_locks/">RELEASE_ALL_LOCKS</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="start-slave">START SLAVE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="cstm-style bluebox text"><p>The terms <em>master</em> and <em>slave</em> have historically been used in replication, but the terms terms <em>primary</em> and <em>replica</em> are now preferred. The old terms are used still used in parts of the documentation, and in MariaDB commands, although <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a> has begun the process of renaming. The documentation process is ongoing. See <a href="https://jira.mariadb.org/browse/MDEV-18777">MDEV-18777</a> to follow progress on this effort.</p>
</div>
<h2 class="anchored_heading" id="start-slavesyntax">Syntax</h2>
<pre class="fixed">START SLAVE ["start-slaveconnection_name"] [thread_type [, thread_type] ... ] [FOR CHANNEL "start-slaveconnection_name"]
START SLAVE ["start-slaveconnection_name"] [SQL_THREAD] UNTIL                
    MASTER_LOG_FILE = 'log_name', MASTER_LOG_POS = log_pos [FOR CHANNEL "start-slaveconnection_name"]
START SLAVE ["start-slaveconnection_name"] [SQL_THREAD] UNTIL
    RELAY_LOG_FILE = 'log_name', RELAY_LOG_POS = log_pos [FOR CHANNEL "start-slaveconnection_name"]
START SLAVE ["start-slaveconnection_name"] [SQL_THREAD] UNTIL
    MASTER_GTID_POS = &lt;GTID position&gt; [FOR CHANNEL "start-slaveconnection_name"]
START ALL SLAVES [thread_type [, thread_type]]

START REPLICA ["start-slaveconnection_name"] [thread_type [, thread_type] ... ] -- from 10.5.1
START REPLICA ["start-slaveconnection_name"] [SQL_THREAD] UNTIL                
    MASTER_LOG_FILE = 'log_name', MASTER_LOG_POS = log_pos -- from 10.5.1
START REPLICA ["start-slaveconnection_name"] [SQL_THREAD] UNTIL
    RELAY_LOG_FILE = 'log_name', RELAY_LOG_POS = log_pos -- from 10.5.1
START REPLICA ["start-slaveconnection_name"] [SQL_THREAD] UNTIL
    MASTER_GTID_POS = &lt;GTID position&gt; -- from 10.5.1
START ALL REPLICAS [thread_type [, thread_type]] -- from 10.5.1

thread_type: IO_THREAD | SQL_THREAD
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#start-slavesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_7_0"><a href="#start-slavedescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#start-slavestart-slave-until" title="START SLAVE UNTIL">START SLAVE UNTIL</a></li>
<li class="mariadb_from_10_7_0"><a href="#start-slaveconnection_name" title="start-slaveconnection_name">connection_name</a></li>
<li class="mariadb_from_10_7_0"><a href="#start-slavestart-all-slaves" title="START ALL SLAVES">START ALL SLAVES</a></li>
<li class="mariadb_from_10_7_0"><a href="#start-slavestart-replica" title="START REPLICA">START REPLICA</a> </li></ol>
</li>
<li class="mariadb_from_10_7_0"><a href="#start-slavesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="start-slavedescription">Description</h2>
<p><code>START SLAVE</code> (<code>START REPLICA</code> from <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>) with no thread_type options starts both of the replica threads (see <a href="https://mariadb.com/kb/en/replication/">replication</a>). The I/O thread reads events from the primary server and stores
them in the <a href="https://mariadb.com/kb/en/relay-log/">relay log</a>. The SQL thread reads events from the relay log
and executes them. <code>START SLAVE</code> requires the <a ">SUPER</a> privilege, or, from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the <a ">REPLICATION SLAVE ADMIN</a> privilege.</p>
<p>If <code>START SLAVE</code> succeeds in starting the replica threads, it returns
without any error. However, even in that case, it might be that the
replica threads start and then later stop (for example, because they do
not manage to connect to the primary or read its <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>, or some
other problem). <code>START SLAVE</code> does not warn you about this. You must
check the replica's <a href="https://mariadb.com/kb/en/error-log/">error log</a> for error messages generated by the replica
threads, or check that they are running satisfactorily with <a href="https://mariadb.com/kb/en/show-replica-status/">SHOW SLAVE
STATUS</a> (<a href="https://mariadb.com/kb/en/show-replica-status/">SHOW REPLICA STATUS</a> from <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>).</p>
<h4 class="anchored_heading" id="start-slavestart-slave-until">START SLAVE UNTIL</h4>
<p><code>START SLAVE UNTIL</code> refers to the <code>SQL_THREAD</code> replica position at which the <code>SQL_THREAD</code> replication will halt. If <code>SQL_THREAD</code> isn't specified both threads are started.</p>
<p><code>START SLAVE UNTIL master_gtid_pos=xxx</code> is also supported. See <a href="https://mariadb.com/kb/en/global-transaction-id/#start-slave-until-master_gtid_posxxx">Global Transaction ID/START SLAVE UNTIL master_gtid_pos=xxx</a> for more details.</p>
<h4 class="anchored_heading" id="start-slaveconnection_name">connection_name</h4>
<p>If there is only one nameless primary, or the default primary (as specified by the <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#default_master_connection">default_master_connection</a> system variable) is intended, <code>connection_name</code> can be omitted. If provided, the <code>START SLAVE</code> statement will apply to the specified primary. <code>connection_name</code> is case-insensitive.</p>
<div class="mariadb_from_10_7_0 mariadb from_10_7_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1070-release-notes/">10.7.0</a></h5><p>The <code>FOR CHANNEL</code> keyword was added for MySQL compatibility. This is identical as
using the channel_name directly after <code>START SLAVE</code>.</p>
</div><h4 class="anchored_heading" id="start-slavestart-all-slaves">START ALL SLAVES</h4>
<p><code>START ALL SLAVES</code> starts all configured replicas (replicas with master_host not empty) that were not started before.  It will give a <code>note</code> for all started connections. You can check the notes with <a href="#show-warnings">SHOW WARNINGS</a>.</p>
<h4 class="anchored_heading" id="start-slavestart-replica">START REPLICA</h4>
<div class="mariadb_from_10_5_1 mariadb from_10_5_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">10.5.1</a></h5><p><code>START REPLICA</code> is an alias for <code>START SLAVE</code> from <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>. </p>
</div><h2 class="anchored_heading" id="start-slavesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/setting-up-replication/">Setting up replication</a>.
</li><li><a href="#change-master-to">CHANGE MASTER TO</a> is used to create and change connections.
</li><li><a href="#stop-slave">STOP SLAVE</a> is used to stop a running connection.
</li><li><a href="https://mariadb.com/kb/en/reset-slave/">RESET SLAVE</a> is used to reset parameters for a connection and also to permanently delete a primary connection.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="start-transaction">START TRANSACTION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="start-transactionsyntax">Syntax</h2>
<pre class="fixed">START TRANSACTION [transaction_property [, transaction_property] ...] | BEGIN [WORK]
COMMIT [WORK] [AND [NO] CHAIN] [[NO] RELEASE]
ROLLBACK [WORK] [AND [NO] CHAIN] [[NO] RELEASE]
SET autocommit = {0 | 1}

transaction_property:
    WITH CONSISTENT SNAPSHOT
  | READ WRITE
  | READ ONLY
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#start-transactionsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#start-transactiondescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#start-transactionaccess-mode" title="Access Mode">Access Mode</a></li>
<li class=""><a href="#start-transactionautocommit" title="start-transactionautocommit">autocommit</a></li>
<li class=""><a href="#start-transactionddl-statements" title="DDL Statements">DDL Statements</a></li>
<li class=""><a href="#start-transactionin_transaction" title="start-transactionin_transaction">in_transaction</a></li>
<li class=""><a href="#start-transactionwith-consistent-snapshot" title="WITH CONSISTENT SNAPSHOT">WITH CONSISTENT SNAPSHOT</a> </li></ol>
</li>
<li class=""><a href="#start-transactionexamples" title="Examples">Examples</a></li>
<li class=""><a href="#start-transactionsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="start-transactiondescription">Description</h2>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">START TRANSACTION</code> or <code class="highlight fixed" style="white-space:pre-wrap">BEGIN</code> statement
begins a new transaction. <a href="https://mariadb.com/kb/en/transactions-commit-statement/">COMMIT</a> commits the current
transaction, making its changes permanent. <a href="https://mariadb.com/kb/en/rollback-statement/">ROLLBACK</a> rolls
back the current transaction, canceling its changes. The <a href="https://mariadb.com/kb/en/set-variable/">SET</a>
<a href="https://mariadb.com/kb/en/server-system-variables/#autocommit">autocommit</a> statement disables or enables the default autocommit mode for the current session.</p>
<p>START TRANSACTION and SET autocommit = 1 implicitly commit the current transaction, if any.</p>
<p>The optional <code class="highlight fixed" style="white-space:pre-wrap">WORK</code> keyword is supported for
<code class="highlight fixed" style="white-space:pre-wrap">COMMIT</code> and <code class="highlight fixed" style="white-space:pre-wrap">ROLLBACK</code>, as are the
<code class="highlight fixed" style="white-space:pre-wrap">CHAIN</code> and <code class="highlight fixed" style="white-space:pre-wrap">RELEASE</code> clauses.
<code class="highlight fixed" style="white-space:pre-wrap">CHAIN</code> and <code class="highlight fixed" style="white-space:pre-wrap">RELEASE</code> can be used for
additional control over transaction completion. The value of the
<a href="https://mariadb.com/kb/en/server-system-variables/#completion_type">completion_type</a> system variable determines the default completion behavior.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">AND CHAIN</code> clause causes a new transaction to begin as
soon as the current one ends, and the new transaction has the same isolation
level as the just-terminated transaction. The <code class="highlight fixed" style="white-space:pre-wrap">RELEASE</code> clause
causes the server to disconnect the current client session after terminating
the current transaction. Including the <code class="highlight fixed" style="white-space:pre-wrap">NO</code> keyword suppresses
<code class="highlight fixed" style="white-space:pre-wrap">CHAIN</code> or <code class="highlight fixed" style="white-space:pre-wrap">RELEASE</code> completion, which can be
useful if the <a href="https://mariadb.com/kb/en/server-system-variables/#completion_type">completion_type</a> system variable is set to cause chaining or release completion by default.</p>
<h3 class="anchored_heading" id="start-transactionaccess-mode">Access Mode</h3>
<p>The access mode specifies whether the transaction is allowed to write data or not. By default, transactions are in <code>READ WRITE</code> mode (see the <a href="https://mariadb.com/kb/en/server-system-variables/#tx_read_only">tx_read_only</a> system variable). <code>READ ONLY</code> mode allows the storage engine to apply optimizations that cannot be used for transactions which write data. The only exception to this rule is that read only transactions can perform DDL statements on temporary tables.</p>
<p>It is not permitted to specify both <code>READ WRITE</code> and <code>READ ONLY</code> in the same statement.</p>
<p><code>READ WRITE</code> and <code>READ ONLY</code> can also be specified in the <code><a href="#set-transaction">SET TRANSACTION</a></code> statement, in which case the specified mode is valid for all sessions, or for all subsequent transaction used by the current session.</p>
<h3 class="anchored_heading" id="start-transactionautocommit">autocommit</h3>
<p>By default, MariaDB runs with <a href="https://mariadb.com/kb/en/server-system-variables/#autocommit">autocommit</a> mode enabled. This means that as soon as you execute a statement that updates (modifies) a table, MariaDB stores the update on disk to make it permanent. To disable autocommit mode, use the following statement:</p>
<pre class="fixed">SET autocommit=0;
</pre><p>After disabling autocommit mode by setting the autocommit variable to zero, changes to transaction-safe tables (such as those for InnoDB or
<code class="highlight fixed" style="white-space:pre-wrap">NDBCLUSTER</code>) are not made permanent immediately. You must use <code class="highlight fixed" style="white-space:pre-wrap">COMMIT</code> to store your changes to disk or ROLLBACK to ignore the changes.</p>
<p>To disable autocommit mode for a single series of statements, use the <code class="highlight fixed" style="white-space:pre-wrap">START TRANSACTION</code> statement.</p>
<h3 class="anchored_heading" id="start-transactionddl-statements">DDL Statements</h3>
<p>DDL statements (<code>CREATE</code>, <code>ALTER</code>, <code>DROP</code>) and administrative statements (<code>FLUSH</code>, <code>RESET</code>, <code>OPTIMIZE</code>, <code>ANALYZE</code>, <code>CHECK</code>, <code>REPAIR</code>, <code>CACHE INDEX</code>), transaction management statements (<code>BEGIN</code>, <code>START TRANSACTION</code>) and <code>LOAD DATA INFILE</code>, cause an implicit <code>COMMIT</code> and start a new transaction. An exception to this rule are the DDL that operate on temporary tables: you can <code>CREATE</code>, <code>ALTER</code> and <code>DROP</code> them without causing any <code>COMMIT</code>, but those actions cannot be rolled back. This means that if you call <code>ROLLBACK</code>, the temporary tables you created in the transaction will remain, while the rest of the transaction will be rolled back.</p>
<p>Transactions cannot be used in Stored Functions or Triggers. In Stored Procedures and Events BEGIN is not allowed, so you should use START TRANSACTION instead.</p>
<p>A transaction acquires a <a href="#metadata-locking">metadata lock</a> on every table it accesses to prevent other connections from altering their structure. The lock is released at the end of the transaction. This happens even with non-transactional storage engines (like <a href="https://mariadb.com/kb/en/memory-storage-engine/">MEMORY</a> or <a href="https://mariadb.com/kb/en/connect/">CONNECT</a>), so it makes sense to use transactions with non-transactional tables.</p>
<h3 class="anchored_heading" id="start-transactionin_transaction">in_transaction</h3>
<p>The <a href="https://mariadb.com/kb/en/server-system-variables/#in_transaction">in_transaction</a> system variable is a session-only, read-only variable that returns <code>1</code> inside a transaction, and <code>0</code> if not in a transaction.</p>
<h3 class="anchored_heading" id="start-transactionwith-consistent-snapshot">WITH CONSISTENT SNAPSHOT</h3>
<p>The <code>WITH CONSISTENT SNAPSHOT</code> option starts a consistent read for storage engines such as <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a> that can do so, the same as if a START TRANSACTION followed by a SELECT from any InnoDB table was issued. </p>
<p>See <a href="https://mariadb.com/kb/en/enhancements-for-start-transaction-with-consistent-snapshot/">Enhancements for START TRANSACTION WITH CONSISTENT SNAPSHOT</a>.</p>
<h2 class="anchored_heading" id="start-transactionexamples">Examples</h2>
<pre class="fixed"><span class="n">START</span> <span class="n">TRANSACTION</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">@</span><span class="n">A</span><span class="p">:</span><span class="o">=</span><span class="nf">SUM</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">table1</span> <span class="k">WHERE</span> <span class="n">type</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="k">UPDATE</span> <span class="n">table2</span> <span class="kt">SET</span> <span class="n">summary</span><span class="o">=@</span><span class="n">A</span> <span class="k">WHERE</span> <span class="n">type</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="n">COMMIT</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="start-transactionsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/enhancements-for-start-transaction-with-consistent-snapshot/">Enhancements for START TRANSACTION WITH CONSISTENT SNAPSHOT</a>
</li><li><a href="https://mariadb.com/kb/en/myrocks-and-start-transaction-with-consistent-snapshot/">MyRocks and START TRANSACTION WITH CONSISTENT SNAPSHOT</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="is_ipv6">IS_IPV6</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">IS_IPV6(expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns 1 if the expression is a valid IPv6 address specified as a string, otherwise returns 0. Does not consider IPv4 addresses to be valid IPv6 addresses.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"> <span class="k">SELECT</span> <span class="n">IS_IPV6</span><span class="p">(</span><span class="s1">'48f3::d432:1431:ba23:846f'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
<span class="o">|</span> <span class="n">IS_IPV6</span><span class="p">(</span><span class="s1">'48f3::d432:1431:ba23:846f'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
<span class="o">|</span>                                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SELECT</span> <span class="n">IS_IPV6</span><span class="p">(</span><span class="s1">'10.0.1.1'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">IS_IPV6</span><span class="p">(</span><span class="s1">'10.0.1.1'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span>                   <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/inet6/">INET6</a> data type
</li><li><a href="#inet6_aton">INET6_ATON</a>
</li><li><a href="#inet6_ntoa">INET6_NTOA</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="stop-slave">STOP SLAVE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="cstm-style bluebox text"><p>The terms <em>master</em> and <em>slave</em> have historically been used in replication, but the terms terms <em>primary</em> and <em>replica</em> are now preferred. The old terms are used still used in parts of the documentation, and in MariaDB commands, although <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a> has begun the process of renaming. The documentation process is ongoing. See <a href="https://jira.mariadb.org/browse/MDEV-18777">MDEV-18777</a> to follow progress on this effort.</p>
</div>
<h2 class="anchored_heading" id="stop-slavesyntax">Syntax</h2>
<pre class="fixed">STOP SLAVE ["stop-slaveconnection_name"] [thread_type [, thread_type] ... ] [FOR CHANNEL "stop-slaveconnection_name"]

STOP ALL SLAVES [thread_type [, thread_type]]

STOP REPLICA ["stop-slaveconnection_name"] [thread_type [, thread_type] ... ] -- from 10.5.1

STOP ALL REPLICAS [thread_type [, thread_type]] -- from 10.5.1

thread_type: IO_THREAD | SQL_THREAD
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#stop-slavesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_7_0"><a href="#stop-slavedescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#stop-slavestop-all-slaves" title="STOP ALL SLAVES">STOP ALL SLAVES</a></li>
<li class="mariadb_from_10_7_0"><a href="#stop-slaveconnection_name" title="stop-slaveconnection_name">connection_name</a></li>
<li class="mariadb_from_10_7_0"><a href="#stop-slavestop-replica" title="STOP REPLICA">STOP REPLICA</a> </li></ol>
</li>
<li class="mariadb_from_10_7_0"><a href="#stop-slavesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="stop-slavedescription">Description</h2>
<p>Stops the replica threads. <code>STOP SLAVE</code> requires the <a ">SUPER</a> privilege, or, from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the <a ">REPLICATION SLAVE ADMIN</a> privilege.</p>
<p>Like <a href="#start-slave">START SLAVE</a>, this statement may be used with the <code>IO_THREAD</code> and
<code>SQL_THREAD</code> options to name the thread or threads to be stopped. In almost all cases, one never need to use the <code>thread_type</code> options.</p>
<p><code>STOP SLAVE</code> waits until any current replication event group affecting
one or more non-transactional tables has finished executing (if there
is any such replication group), or until the user issues a <a href="https://mariadb.com/kb/en/kill-connection-query/">KILL QUERY</a> or <a href="https://mariadb.com/kb/en/kill-connection-query/">KILL CONNECTION</a> statement.</p>
<p>Note that <code>STOP SLAVE</code> doesn't delete the connection permanently.  Next time you execute <a href="#start-slave">START SLAVE</a> or the MariaDB server restarts, the replica connection is restored with it's <a href="#change-master-to">original arguments</a>. If you want to delete a connection, you should execute <a href="https://mariadb.com/kb/en/reset-slave/">RESET SLAVE</a>.</p>
<h4 class="anchored_heading" id="stop-slavestop-all-slaves">STOP ALL SLAVES</h4>
<p><code class="highlight fixed" style="white-space:pre-wrap">STOP ALL SLAVES</code> stops all your running replicas. It will give you a <code class="highlight fixed" style="white-space:pre-wrap">note</code> for every stopped connection. You can check the notes with <a href="#show-warnings">SHOW WARNINGS</a>.</p>
<h4 class="anchored_heading" id="stop-slaveconnection_name">connection_name</h4>
<p>The <code>connection_name</code> option is used for <a href="https://mariadb.com/kb/en/multi-source-replication/">multi-source replication</a>.</p>
<p>If there is only one nameless master, or the default master (as specified by the <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#default_master_connection">default_master_connection</a> system variable) is intended, <code>connection_name</code> can be omitted. If provided, the <code>STOP SLAVE</code> statement will apply to the specified master. <code>connection_name</code> is case-insensitive.</p>
<div class="mariadb_from_10_7_0 mariadb from_10_7_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1070-release-notes/">10.7.0</a></h5><p>The <code>FOR CHANNEL</code> keyword was added for MySQL compatibility. This is identical as
using the channel_name directly after <code>STOP SLAVE</code>.</p>
</div><h4 class="anchored_heading" id="stop-slavestop-replica">STOP REPLICA</h4>
<div class="mariadb_from_10_5_1 mariadb from_10_5_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">10.5.1</a></h5><p><code>STOP REPLICA</code> is an alias for <code>STOP SLAVE</code> from <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>. </p>
</div><h2 class="anchored_heading" id="stop-slavesee-also">See Also</h2>
<ul start="1"><li><a href="#change-master-to">CHANGE MASTER TO</a> is used to create and change connections.
</li><li><a href="#start-slave">START SLAVE</a> is used to start a predefined connection.
</li><li><a href="https://mariadb.com/kb/en/reset-slave/">RESET SLAVE</a> is used to reset parameters for a connection and also to permanently delete a master connection.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="transaction-timeouts">Transaction Timeouts</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>MariaDB has always had the <a href="https://mariadb.com/kb/en/server-system-variables/#wait_timeout">wait_timeout</a> and <a href="https://mariadb.com/kb/en/server-system-variables/#interactive_timeout">interactive_timeout</a> settings, which close connections after a certain period of inactivity.</p>
<p>However, these are by default set to a long wait period. In situations where transactions may be started, but not committed or rolled back, more granular control and a shorter timeout may be desirable so as to avoid locks being held for too long.</p>
<p><a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> introduced three new variables to handle this situation.</p>
<ul start="1"><li><a href="https://mariadb.com/kb/en/server-system-variables/#idle_transaction_timeout">idle_transaction_timeout</a> (all transactions)
</li><li><a href="https://mariadb.com/kb/en/server-system-variables/#idle_write_transaction_timeout">idle_write_transaction_timeout</a> (write transactions - called <code>idle_readwrite_transaction_timeout</code> until <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a>)
</li><li><a href="https://mariadb.com/kb/en/server-system-variables/#idle_readonly_transaction_timeout">idle_readonly_transaction_timeout</a> (read transactions)
</li></ul>
<p>These accept a time in seconds to time out, by closing the connection, transactions that are idle for longer than this period. By default all are set to zero, or no timeout.</p>
<p><a href="https://mariadb.com/kb/en/server-system-variables/#idle_transaction_timeout">idle_transaction_timeout</a> affects all transactions, <a href="https://mariadb.com/kb/en/server-system-variables/#idle_write_transaction_timeout">idle_write_transaction_timeout</a> affects write transactions only and <a href="https://mariadb.com/kb/en/server-system-variables/#idle_readonly_transaction_timeout">idle_readonly_transaction_timeout</a> affects read transactions only. The latter two variables work independently. However, if either is set along with <a href="https://mariadb.com/kb/en/server-system-variables/#idle_transaction_timeout">idle_transaction_timeout</a>, the settings for <a href="https://mariadb.com/kb/en/server-system-variables/#idle_write_transaction_timeout">idle_write_transaction_timeout</a> or <a href="https://mariadb.com/kb/en/server-system-variables/#idle_readonly_transaction_timeout">idle_readonly_transaction_timeout</a> will take precedence.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="k">SESSION</span> <span class="n">idle_transaction_timeout</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
<span class="k">BEGIN</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="n">Empty</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>
<span class="o">##</span> <span class="n">wait</span> <span class="mi">3</span> <span class="n">seconds</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">2006</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="n">MySQL</span> <span class="n">server</span> <span class="n">has</span> <span class="n">gone</span> <span class="n">away</span>
</pre><pre class="fixed"><span class="k">SET</span> <span class="k">SESSION</span> <span class="n">idle_write_transaction_timeout</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
<span class="k">BEGIN</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="n">Empty</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>
<span class="o">##</span> <span class="n">wait</span> <span class="mi">3</span> <span class="n">seconds</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="n">Empty</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="o">##</span> <span class="n">wait</span> <span class="mi">3</span> <span class="n">seconds</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">2006</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="n">MySQL</span> <span class="n">server</span> <span class="n">has</span> <span class="n">gone</span> <span class="n">away</span>
</pre><pre class="fixed"><span class="k">SET</span> <span class="k">SESSION</span> <span class="n">idle_transaction_timeout</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="k">SESSION</span> <span class="n">idle_readonly_transaction_timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span>
<span class="k">BEGIN</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="n">Empty</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>
 <span class="o">##</span> <span class="n">wait</span> <span class="mi">3</span> <span class="n">seconds</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="n">Empty</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>
<span class="o">##</span> <span class="n">wait</span> <span class="mi">11</span> <span class="n">seconds</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">2006</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="n">MySQL</span> <span class="n">server</span> <span class="n">has</span> <span class="n">gone</span> <span class="n">away</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="wait-and-nowait">WAIT and NOWAIT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_0 mariadb from_10_3_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">10.3.0</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">MariaDB 10.3.0</a> introduced extended syntax so that it is possible to set <a href="https://mariadb.com/kb/en/xtradbinnodb-server-system-variables/#innodb_lock_wait_timeout">innodb_lock_wait_timeout</a> and <a href="https://mariadb.com/kb/en/server-system-variables/#lock_wait_timeout">lock_wait_timeout</a> for the following statements:</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ALTER TABLE tbl_name [WAIT n|NOWAIT] ...
CREATE ... INDEX ON tbl_name (index_col_name, ...) [WAIT n|NOWAIT] ...
DROP INDEX ... [WAIT n|NOWAIT]
DROP TABLE tbl_name [WAIT n|NOWAIT] ...
LOCK TABLE ... [WAIT n|NOWAIT]
OPTIMIZE TABLE tbl_name [WAIT n|NOWAIT]
RENAME TABLE tbl_name [WAIT n|NOWAIT] ...
SELECT ... FOR UPDATE [WAIT n|NOWAIT]
SELECT ... LOCK IN SHARE MODE [WAIT n|NOWAIT]
TRUNCATE TABLE tbl_name [WAIT n|NOWAIT]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The lock wait timeout can be explicitly set in the statement by using either <code>WAIT n</code> (to set the wait in seconds) or <code>NOWAIT</code>, in which case the statement will immediately fail if the lock cannot be obtained. <code>WAIT 0</code> is equivalent to <code>NOWAIT</code>.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/query-limits-and-timeouts/">Query Limits and Timeouts</a>
</li><li><a href="#alter-table">ALTER TABLE</a>
</li><li><a href="#create-index">CREATE INDEX</a>
</li><li><a href="#drop-index">DROP INDEX</a>
</li><li><a href="#drop-table">DROP TABLE</a>
</li><li><a href="https://mariadb.com/kb/en/lock-tables-and-unlock-tables/">LOCK TABLES and UNLOCK TABLES</a>
</li><li><a href="#optimize-table">OPTIMIZE TABLE</a>
</li><li><a href="#rename-table">RENAME TABLE</a>
</li><li><a href="#select">SELECT</a>
</li><li><a href="#truncate-table">TRUNCATE TABLE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="account-locking">Account Locking</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_4_2 mariadb from_10_4_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1042-release-notes/">10.4.2</a></h5><p>Account locking was introduced in <a href="https://mariadb.com/kb/en/mariadb-1042-release-notes/">MariaDB 10.4.2</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_4_2"><a href="#account-lockingdescription" title="Description">Description</a> </li></ol>

<li class="mariadb_from_10_4_2"><a href="#account-lockingsee-also" title="See Also">See Also</a> 
</li>
</div>
<h3 class="anchored_heading" id="account-lockingdescription">Description</h3>
<p>Account locking permits privileged administrators to lock/unlock user accounts. No new client connections will be permitted if an account is locked (existing connections are not affected).</p>
<p>User accounts can be locked at creation, with the <a href="#create-user">CREATE USER</a> statement, or modified after creation with the <a href="#alter-user">ALTER USER</a> statement. For example:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'lorin'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">ACCOUNT</span> <span class="k">LOCK</span><span class="p">;</span>
</pre><p>or</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'marijn'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">ACCOUNT</span> <span class="k">LOCK</span><span class="p">;</span>
</pre><p>The server will return an <code>ER_ACCOUNT_HAS_BEEN_LOCKED</code> error when locked users attempt to connect:</p>
<pre class="fixed">mysql -ulorin
  ERROR 4151 (HY000): Access denied, this account is locked
</pre><p>The <a href="#alter-user">ALTER USER</a> statement is also used to unlock a user:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'lorin'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">ACCOUNT</span> <span class="n">UNLOCK</span><span class="p">;</span>
</pre><p>The <a href="#show-create-user">SHOW CREATE USER</a> statement will show whether the account is locked:</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'marijn'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
<span class="o">|</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="k">for</span> <span class="n">marijn</span><span class="o">@</span><span class="n">localhost</span>              <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
<span class="o">|</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'marijn'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">ACCOUNT</span> <span class="k">LOCK</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
</pre><p>as well as querying the <a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv table</a>:</p>
<pre class="fixed">SELECT CONCAT(user, '@', host, ' =&gt; ', JSON_DETAILED(priv)) FROM mysql.global_priv 
  WHERE user='marijn';
+--------------------------------------------------------------------------------------+
| CONCAT(user, '@', host, ' =&gt; ', JSON_DETAILED(priv))                                 |
+--------------------------------------------------------------------------------------+
| marijn@localhost =&gt; {
    "access": 0,
    "plugin": "mysql_native_password",
    "authentication_string": "",
    "account_locked": true,
    "password_last_changed": 1558017158
} |
+--------------------------------------------------------------------------------------+
</pre><h2 class="anchored_heading" id="account-lockingsee-also">See Also</h2>
<ul start="1"><li><a href="https://www.youtube.com/watch?v=AWM_fWZ3XIw">Account Locking and Password Expiry</a> video tutorial</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="is_used_lock">IS_USED_LOCK</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="is_used_locksyntax">Syntax</h2>
<pre class="fixed">IS_USED_LOCK(str)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#is_used_locksyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#is_used_lockdescription" title="Description">Description</a></li>
<li class=""><a href="#is_used_locksee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="is_used_lockdescription">Description</h2>
<p>Checks whether the lock named <code>str</code> is in use (that is, locked). If so,
it returns the connection identifier of the client that holds the
lock. Otherwise, it returns <code class="highlight fixed" style="white-space:pre-wrap">NULL</code>. <code class="highlight fixed" style="white-space:pre-wrap">str</code> is case insensitive.</p>
<p>If the <a href="https://mariadb.com/kb/en/metadata_lock_info/">metadata_lock_info</a> plugin is installed, the <a href="https://mariadb.com/kb/en/information_schema/">Information Schema</a> <a href="https://mariadb.com/kb/en/information-schema-metadata_lock_info-table/">metadata_lock_info</a> table contains information about locks of this kind (as well as <a href="#metadata-locking">metadata locks</a>).</p>
<p>Statements using the <code>IS_USED_LOCK</code> function are <a href="https://mariadb.com/kb/en/unsafe-statements-for-statement-based-replication/">not safe for statement-based replication</a>.</p>
<h2 class="anchored_heading" id="is_used_locksee-also">See Also</h2>
<ul start="1"><li><a href="#get_lock">GET_LOCK</a>
</li><li><a href="#release_lock">RELEASE_LOCK</a>
</li><li><a href="#is_free_lock">IS_FREE_LOCK</a>
</li><li><a href="https://mariadb.com/kb/en/release_all_locks/">RELEASE_ALL_LOCKS</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-user">DROP USER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="drop-usersyntax">Syntax</h2>
<pre class="fixed">DROP USER [IF EXISTS] user_name [, user_name] ...
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#drop-usersyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#drop-userdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#drop-userif-exists" title="IF EXISTS">IF EXISTS</a> </li></ol>
</li>
<li class=""><a href="#drop-userexamples" title="Examples">Examples</a></li>
<li class=""><a href="#drop-usersee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="drop-userdescription">Description</h2>
<p>The <code>DROP USER</code> statement removes one or more MariaDB accounts. It removes
privilege rows for the account from all grant tables. To use this statement,
you must have the global <a ">CREATE USER</a> privilege
or the <a ">DELETE</a> privilege for the mysql database.
Each account is named using the same format as for the <code>CREATE USER</code>
statement; for example, <code class="fixed" style="white-space:pre-wrap">'jeffrey'@'localhost'</code>.  If you specify
only the user name part of the account name, a host name part of <code>'%'</code> is
used. For additional information about specifying account names, see
<a href="#create-user">CREATE USER</a>.</p>
<p>Note that, if you specify an account that is currently connected, it will not
be deleted until the connection is closed. The connection will not be
automatically closed.</p>
<p>If any of the specified user accounts do not exist, <code>ERROR 1396 (HY000)</code>
results. If an error occurs, <code>DROP USER</code> will still drop the accounts that do
not result in an error. Only one error is produced for all users which have not
been dropped:</p>
<pre class="fixed">ERROR 1396 (HY000): Operation DROP USER failed for 'u1'@'%','u2'@'%'
</pre><p>Failed <code>CREATE</code> or <code>DROP</code> operations, for both users and roles, produce the
same error code.</p>
<h4 class="anchored_heading" id="drop-userif-exists">IF EXISTS</h4>
<p>If the <code>IF EXISTS</code> clause is used, MariaDB will return a note instead of an error if the user does not exist.</p>
<h2 class="anchored_heading" id="drop-userexamples">Examples</h2>
<pre class="fixed"><span class="k">DROP</span> <span class="k">USER</span> <span class="n">bob</span><span class="p">;</span>
</pre><p><code>IF EXISTS</code>:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="k">USER</span> <span class="n">bob</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1396</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="k">Operation</span> <span class="k">DROP</span> <span class="k">USER</span> <span class="n">failed</span> <span class="k">for</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'%'</span>

<span class="k">DROP</span> <span class="k">USER</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">bob</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+---------------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                     <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+---------------------------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1974</span> <span class="o">|</span> <span class="n">Can</span><span class="s1">'t drop user '</span><span class="n">bob</span><span class="s1">'@'</span><span class="o">%</span><span class="s1">'; it doesn'</span><span class="n">t</span> <span class="n">exist</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+---------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="drop-usersee-also">See Also</h2>
<ul start="1"><li><a href="#create-user">CREATE USER</a>
</li><li><a href="#alter-user">ALTER USER</a>
</li><li><a href="#grant">GRANT</a>
</li><li><a href="#show-create-user">SHOW CREATE USER</a>
</li><li><a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="user-password-expiry">User Password Expiry</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_4_3 mariadb from_10_4_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">10.4.3</a></h5><p>User password expiry was introduced in <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">MariaDB 10.4.3</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_4_3"><a href="#user-password-expirysystem-variables" title="System Variables">System Variables</a></li>
<li class="mariadb_from_10_4_3"><a href="#user-password-expirysetting-a-password-expiry-limit-for-a-user" title="Setting a Password Expiry Limit for a User">Setting a Password Expiry Limit for a User</a></li>
<li class="mariadb_from_10_4_3"><a href="#user-password-expiryshow-create-user" title="SHOW CREATE USER">SHOW CREATE USER</a></li>
<li class="mariadb_from_10_4_3"><a href="#user-password-expirychecking-when-passwords-expire" title="Checking When Passwords Expire">Checking When Passwords Expire</a></li>
<li class="mariadb_from_10_4_3"><a href="#user-password-expiry-connect-expired-password-client-option" title="--connect-expired-password Client Option">--connect-expired-password Client Option</a></li>
<li class="mariadb_from_10_4_3"><a href="#user-password-expirysee-also" title="See Also">See Also</a> </li></ol>

</div>
<p>Password expiry permits administrators to expire user passwords, either manually or automatically. </p>
<h2 class="anchored_heading" id="user-password-expirysystem-variables">System Variables</h2>
<p>There are two system variables which affect password expiry: <a href="https://mariadb.com/kb/en/server-system-variables/#default_password_lifetime">default_password_lifetime</a>, which determines the amount of time between requiring the user to change their password. <code>0</code>, the default, means automatic password expiry is not active.</p>
<p>The second variable, <a href="https://mariadb.com/kb/en/server-system-variables/#disconnect_on_expired_password">disconnect_on_expired_password</a> determines whether a client is permitted to connect if their password has expired, or whether they are permitted to connect in sandbox mode, able to perform a limited subset of queries related to resetting the password, in particular <a href="#set-password">SET PASSWORD</a> and <a href="#set">SET</a>.</p>
<h2 class="anchored_heading" id="user-password-expirysetting-a-password-expiry-limit-for-a-user">Setting a Password Expiry Limit for a User</h2>
<p>Besides automatic password expiry, as determined by <a href="https://mariadb.com/kb/en/server-system-variables/#default_password_lifetime">default_password_lifetime</a>, password expiry times can be set on an individual user basis, overriding the global using the <a href="#create-user">CREATE USER</a> or <a href="#alter-user">ALTER USER</a> statements, for example:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="nb">INTERVAL</span> <span class="mi">120</span> <span class="k">DAY</span><span class="p">;</span>
</pre><pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="nb">INTERVAL</span> <span class="mi">120</span> <span class="k">DAY</span><span class="p">;</span>
</pre><p>Limits can be disabled by use of the <code>NEVER</code> keyword, for example:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="n">NEVER</span><span class="p">;</span>
</pre><pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="n">NEVER</span><span class="p">;</span>
</pre><p>A manually set limit can be restored the system default by use of <code>DEFAULT</code>, for example:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="k">DEFAULT</span><span class="p">;</span>
</pre><pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="k">DEFAULT</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="user-password-expiryshow-create-user">SHOW CREATE USER</h2>
<p>The <a href="#show-create-user">SHOW CREATE USER</a> statement will display information about the password expiry status of the user. Unlike MySQL, it will not display if the user is unlocked, or if the password expiry is set to default.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="nb">INTERVAL</span> <span class="mi">120</span> <span class="k">DAY</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'konstantin'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="n">NEVER</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'amse'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="k">DEFAULT</span><span class="p">;</span>

<span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="k">for</span> <span class="n">monty</span><span class="o">@</span><span class="n">localhost</span>                                  <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="nb">INTERVAL</span> <span class="mi">120</span> <span class="k">DAY</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------------+</span>

<span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'konstantin'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="k">for</span> <span class="n">konstantin</span><span class="o">@</span><span class="n">localhost</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'konstantin'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="n">NEVER</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>

<span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'amse'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="k">for</span> <span class="n">amse</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'amse'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
</pre><h2 class="anchored_heading" id="user-password-expirychecking-when-passwords-expire">Checking When Passwords Expire</h2>
<p>The following query can be used to check when the current passwords expire for all users:</p>
<pre class="fixed"><span class="k">WITH</span> <span class="n">password_expiration_info</span> <span class="k">AS</span> <span class="p">(</span>
  <span class="k">SELECT</span> <span class="k">User</span><span class="p">,</span> <span class="k">Host</span><span class="p">,</span>
  <span class="k">IF</span><span class="p">(</span>
   <span class="n">IFNULL</span><span class="p">(</span><span class="n">JSON_EXTRACT</span><span class="p">(</span><span class="n">Priv</span><span class="p">,</span> <span class="s1">'$.password_lifetime'</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
   <span class="o">@@</span><span class="k">global</span><span class="p">.</span><span class="n">default_password_lifetime</span><span class="p">,</span>
   <span class="n">JSON_EXTRACT</span><span class="p">(</span><span class="n">Priv</span><span class="p">,</span> <span class="s1">'$.password_lifetime'</span><span class="p">)</span>
  <span class="p">)</span> <span class="k">AS</span> <span class="n">password_lifetime</span><span class="p">,</span>
  <span class="n">JSON_EXTRACT</span><span class="p">(</span><span class="n">Priv</span><span class="p">,</span> <span class="s1">'$.password_last_changed'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">password_last_changed</span>
  <span class="k">FROM</span> <span class="n">mysql</span><span class="p">.</span><span class="n">global_priv</span>
<span class="p">)</span>
<span class="k">SELECT</span> <span class="n">pei</span><span class="p">.</span><span class="k">User</span><span class="p">,</span> <span class="n">pei</span><span class="p">.</span><span class="k">Host</span><span class="p">,</span>
  <span class="n">pei</span><span class="p">.</span><span class="n">password_lifetime</span><span class="p">,</span>
  <span class="n">FROM_UNIXTIME</span><span class="p">(</span><span class="n">pei</span><span class="p">.</span><span class="n">password_last_changed</span><span class="p">)</span> <span class="k">AS</span> <span class="n">password_last_changed_datetime</span><span class="p">,</span>
  <span class="n">FROM_UNIXTIME</span><span class="p">(</span>
   <span class="n">pei</span><span class="p">.</span><span class="n">password_last_changed</span> <span class="o">+</span>
   <span class="p">(</span><span class="n">pei</span><span class="p">.</span><span class="n">password_lifetime</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">24</span><span class="p">)</span>
  <span class="p">)</span> <span class="k">AS</span> <span class="n">password_expiration_datetime</span>
  <span class="k">FROM</span> <span class="n">password_expiration_info</span> <span class="n">pei</span>
  <span class="k">WHERE</span> <span class="n">pei</span><span class="p">.</span><span class="n">password_lifetime</span> <span class="o">!=</span> <span class="mi">0</span>
   <span class="k">AND</span> <span class="n">pei</span><span class="p">.</span><span class="n">password_last_changed</span> <span class="k">IS</span> <span class="k">NOT</span> <span class="k">NULL</span>
<span class="k">UNION</span>
<span class="k">SELECT</span> <span class="n">pei</span><span class="p">.</span><span class="k">User</span><span class="p">,</span> <span class="n">pei</span><span class="p">.</span><span class="k">Host</span><span class="p">,</span>
  <span class="n">pei</span><span class="p">.</span><span class="n">password_lifetime</span><span class="p">,</span>
  <span class="n">FROM_UNIXTIME</span><span class="p">(</span><span class="n">pei</span><span class="p">.</span><span class="n">password_last_changed</span><span class="p">)</span> <span class="k">AS</span> <span class="n">password_last_changed_datetime</span><span class="p">,</span>
  <span class="mi">0</span> <span class="k">AS</span> <span class="n">password_expiration_datetime</span>
  <span class="k">FROM</span> <span class="n">password_expiration_info</span> <span class="n">pei</span>
  <span class="k">WHERE</span> <span class="n">pei</span><span class="p">.</span><span class="n">password_lifetime</span> <span class="o">=</span> <span class="mi">0</span>
   <span class="k">OR</span> <span class="n">pei</span><span class="p">.</span><span class="n">password_last_changed</span> <span class="k">IS</span> <span class="k">NULL</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="user-password-expiry-connect-expired-password-client-option">--connect-expired-password Client Option</h2>
<p>The <a href="https://mariadb.com/kb/en/mysql-command-line-client/">mysql client</a> <code>--connect-expired-password</code> option notifies the server that the client is prepared to handle expired password sandbox mode (even if the <code>--batch</code> option was specified).</p>
<h2 class="anchored_heading" id="user-password-expirysee-also">See Also</h2>
<ul start="1"><li><a href="https://www.youtube.com/watch?v=AWM_fWZ3XIw">Account Locking and Password Expiry</a> video tutorial</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="name_const">NAME_CONST</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">NAME_CONST(name,value)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the given value. When used to produce a result set column,
 <code class="highlight fixed" style="white-space:pre-wrap">NAME_CONST()</code> causes the column to have the given name. The
arguments should be constants.</p>
<p>This function is used internally when replicating stored procedures. It makes little sense to use it explicitly in SQL statements, and it was not supposed to be used like that.</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">NAME_CONST</span><span class="p">(</span><span class="s1">'myname'</span><span class="p">,</span> <span class="mi">14</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="n">myname</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span>     <span class="mi">14</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="sleep">SLEEP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SLEEP(duration)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Sleeps (pauses) for the number of seconds given by the duration argument, then
returns <code class="highlight fixed" style="white-space:pre-wrap">0</code>. If <code class="highlight fixed" style="white-space:pre-wrap">SLEEP()</code> is interrupted, it
returns <code class="highlight fixed" style="white-space:pre-wrap">1</code>. The duration may have a fractional part given in
microseconds.</p>
<p>Statements using the SLEEP() function are not <a href="https://mariadb.com/kb/en/unsafe-statements-for-replication/">safe for replication</a>.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SLEEP</span><span class="p">(</span><span class="mi">5</span><span class="p">.</span><span class="mi">5</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">SLEEP</span><span class="p">(</span><span class="mi">5</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">5</span><span class="p">.</span><span class="mi">50</span> <span class="n">sec</span><span class="p">)</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="uuid_short">UUID_SHORT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="uuid_shortsyntax">Syntax</h2>
<pre class="fixed">UUID_SHORT()
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#uuid_shortsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#uuid_shortdescription" title="Description">Description</a></li>
<li class=""><a href="#uuid_shortexamples" title="Examples">Examples</a></li>
<li class=""><a href="#uuid_shortsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="uuid_shortdescription">Description</h2>
<p>Returns a "short" universally unique identifier as a 64-bit unsigned integer (rather
than a string-form 128-bit identifier as returned by the <a href="#uuid">UUID()</a> function).</p>
<p>The value of <code class="highlight fixed" style="white-space:pre-wrap">UUID_SHORT()</code> is guaranteed to be unique if the
following conditions hold:</p>
<ul start="1"><li>The server_id of the current host is unique among your set of master and
  slave servers
</li><li><code class="highlight fixed" style="white-space:pre-wrap">server_id</code> is between 0 and 255
</li><li>You don't set back your system time for your server between mysqld restarts
</li><li>You do not invoke <code class="highlight fixed" style="white-space:pre-wrap">UUID_SHORT()</code> on average more than 16
  million times per second between mysqld restarts
</li></ul>
<p>The UUID_SHORT() return value is constructed this way:</p>
<pre class="fixed">  (server_id &amp; 255) &lt;&lt; 56
+ (server_startup_time_in_seconds &lt;&lt; 24)
+ incremented_variable++;
</pre><p>Statements using the UUID_SHORT() function are not <a href="https://mariadb.com/kb/en/unsafe-statements-for-replication/">safe for statement-based replication</a>.</p>
<h2 class="anchored_heading" id="uuid_shortexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">UUID_SHORT</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">UUID_SHORT</span><span class="p">()</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="mi">21517162376069120</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
</pre><pre class="fixed"><span class="k">create</span> <span class="k">table</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">bigint</span> <span class="n">unsigned</span> <span class="k">default</span><span class="p">(</span><span class="n">uuid_short</span><span class="p">())</span> <span class="k">primary</span> <span class="k">key</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">t1</span> <span class="k">values</span><span class="p">(),();</span>
<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">a</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="mi">98113699159474176</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">98113699159474177</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
</pre><h2 class="anchored_heading" id="uuid_shortsee-also">See Also</h2>
<ul start="1"><li><a href="#uuid">UUID()</a> ; Return full (128 bit) Universally Unique Identifier
</li><li><a href="#auto_increment">AUTO_INCREMENT</a>
</li><li><a href="https://mariadb.com/kb/en/sequences/">Sequences</a> - an alternative to auto_increment available from <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>
</li><li><a href="https://mariadb.com/kb/en/sys_guid/">SYS_GUID</a> - UUID without the <code>-</code> character for Oracle compatibility
</li><li><a href="https://mariadb.com/kb/en/uuid-data-type/">UUID data type</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="not">!</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="notsyntax">Syntax</h2>
<pre class="fixed">NOT, !
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#notsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#notdescription" title="Description">Description</a></li>
<li class=""><a href="#notexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="notdescription">Description</h2>
<p>Logical NOT. Evaluates to 1 if the operand is 0, to 0 if the operand
is non-zero, and NOT NULL returns NULL.</p>
<p>By default, the <code>!</code> operator has a <a href="#operator-precedence">higher precedence</a>. If the <code>HIGH_NOT_PRECEDENCE</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> flag is set, <code>NOT</code> and <code>!</code> have the same precedence.</p>
<h2 class="anchored_heading" id="notexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">NOT</span> <span class="mi">10</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="k">NOT</span> <span class="mi">10</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span>      <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>

<span class="k">SELECT</span> <span class="k">NOT</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span> <span class="k">NOT</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>

<span class="k">SELECT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>

<span class="k">SELECT</span> <span class="o">!</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="o">!</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>       <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">SELECT</span> <span class="o">!</span> <span class="mi">1</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span> <span class="o">!</span> <span class="mi">1</span><span class="o">+</span><span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="rename-user">RENAME USER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">RENAME USER old_user TO new_user
    [, old_user TO new_user] ...
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The RENAME USER statement renames existing MariaDB accounts. To use it,
you must have the global <code><a ">CREATE USER</a></code> privilege
or the <code><a ">UPDATE</a></code> privilege for the <code>mysql</code> database.
Each account is named using the same format as for the <code><a href="#create-user">CREATE USER</a></code>
statement; for example, <code>'jeffrey'@'localhost'</code>.
If you specify only the user name part of the account name, a host
name part of <code>'%'</code> is used.</p>
<p>If any of the old user accounts do not exist or any of the new user accounts already
exist, <code>ERROR 1396 (HY000)</code> results. If an error occurs, <code>RENAME USER</code>
will still rename the accounts that do not result in an error.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'donald'</span><span class="p">,</span> <span class="s1">'mickey'</span><span class="p">;</span>
<span class="k">RENAME</span> <span class="k">USER</span> <span class="s1">'donald'</span> <span class="k">TO</span> <span class="s1">'duck'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">,</span> <span class="s1">'mickey'</span> <span class="k">TO</span> <span class="s1">'mouse'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="revoke">REVOKE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#revokeprivileges" title="Privileges">Privileges</a> <ol class="toc">
<li class=""><a href="#revokesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#revokedescription" title="Description">Description</a></li>
<li class=""><a href="#revokeexamples" title="Examples">Examples</a> </li></ol>
</li>
<li class=""><a href="#revokeroles" title="Roles">Roles</a> <ol class="toc">
<li class=""><a href="#revokesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#revokedescription" title="Description">Description</a></li>
<li class=""><a href="#revokeexample" title="Example">Example</a> </li></ol>
</li></ol>

</div>
<h2 class="anchored_heading" id="revokeprivileges">Privileges</h2>
<h3 class="anchored_heading" id="revokesyntax">Syntax</h3>
<pre class="fixed">REVOKE 
    priv_type [(column_list)]
      [, priv_type [(column_list)]] ...
    ON [object_type] priv_level
    FROM user [, user] ...

REVOKE ALL PRIVILEGES, GRANT OPTION
    FROM user [, user] ...
</pre><h3 class="anchored_heading" id="revokedescription">Description</h3>
<p>The <code>REVOKE</code> statement enables system administrators to revoke
privileges (or roles - see <a href="#revokeroles">section below</a>) from MariaDB accounts. Each account is named using the same format
as for the <code>GRANT</code> statement; for example,
'<code>jeffrey'@'localhost</code>'. If you specify only the user name part
of the account name, a host name part of '<code><code>%</code></code>' is used. For
details on the levels at which privileges exist, the allowable
<code>priv_type</code> and <code>priv_level</code> values, and the
syntax for specifying users and passwords, see <a href="#grant">GRANT</a>.</p>
<p>To use the first <code>REVOKE</code> syntax, you must have the
<code>GRANT OPTION</code> privilege, and you must have the privileges that
you are revoking.</p>
<p>To revoke all privileges, use the second syntax, which drops all
global, database, table, column, and routine privileges for the named
user or users:</p>
<pre class="fixed"><span class="k">REVOKE</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span><span class="p">,</span> <span class="k">GRANT</span> <span class="k">OPTION</span> <span class="k">FROM</span> <span class="k">user</span> <span class="p">[,</span> <span class="k">user</span><span class="p">]</span> <span class="p">...</span>
</pre><p>To use this <code>REVOKE</code> syntax, you must have the global
<a href="#create-user">CREATE USER</a> privilege or the
<a href="#update">UPDATE</a> privilege for the mysql database. See
<a href="#grant">GRANT</a>.</p>
<h3 class="anchored_heading" id="revokeexamples">Examples</h3>
<pre class="fixed"><span class="k">REVOKE</span> <span class="n">SUPER</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">FROM</span> <span class="s1">'alexander'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="revokeroles">Roles</h2>
<h3 class="anchored_heading" id="revokesyntax">Syntax</h3>
<pre class="fixed">REVOKE role  [, role ...]
    FROM grantee [, grantee2 ... ]

REVOKE ADMIN OPTION FOR role FROM grantee [, grantee2]
</pre><h3 class="anchored_heading" id="revokedescription">Description</h3>
<p><code>REVOKE</code> is also used to remove a <a href="https://mariadb.com/kb/en/roles/">role</a> from a user or another role that it's previously been assigned to. If a role has previously been set as a <a href="#set-default-role">default role</a>, <code>REVOKE</code> does not remove the record of the default role from the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table. If the role is subsequently granted again, it will again be the user's default. Use <a href="#set-default-role">SET DEFAULT ROLE NONE</a> to explicitly remove this.</p>
<p>Before <a href="https://mariadb.com/kb/en/mariadb-10113-release-notes/">MariaDB 10.1.13</a>, the <code>REVOKE role</code> statement was not permitted in <a href="https://mariadb.com/kb/en/prepared-statements/">prepared statements</a>.</p>
<h3 class="anchored_heading" id="revokeexample">Example</h3>
<pre class="fixed"><span class="k">REVOKE</span> <span class="n">journalist</span> <span class="k">FROM</span> <span class="n">hulda</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-role">CREATE ROLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="create-rolesyntax">Syntax</h2>
<pre class="fixed">CREATE [OR REPLACE] ROLE [IF NOT EXISTS] role 
  [WITH ADMIN 
    {CURRENT_USER | CURRENT_ROLE | user | role}]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#create-rolesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#create-roledescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#create-rolewith-admin" title="WITH ADMIN">WITH ADMIN</a></li>
<li class=""><a href="#create-roleor-replace" title="OR REPLACE">OR REPLACE</a></li>
<li class=""><a href="#create-roleif-not-exists" title="IF NOT EXISTS">IF NOT EXISTS</a> </li></ol>
</li>
<li class=""><a href="#create-roleexamples" title="Examples">Examples</a></li>
<li class=""><a href="#create-rolesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-roledescription">Description</h2>
<p>The <code>CREATE ROLE</code> statement creates one or more MariaDB <a href="https://mariadb.com/kb/en/roles/">roles</a>. To
use it, you must have the global <a ">CREATE USER</a>
privilege or the <a ">INSERT</a> privilege for the mysql
database. For each account, <code>CREATE ROLE</code> creates a new row in the
<a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table that has no privileges, and with the
corresponding <code>is_role</code> field set to <code>Y</code>. It also creates a record in the
<a href="https://mariadb.com/kb/en/mysqlroles_mapping-table/">mysql.roles_mapping</a> table.</p>
<p>If any of the specified roles already exist, <code>ERROR 1396 (HY000)</code> results. If
an error occurs, <code>CREATE ROLE</code> will still create the roles that do not result
in an error. The maximum length for a role is 128 characters. Role names can be
quoted, as explained in the <a href="https://mariadb.com/kb/en/identifier-names/">Identifier names</a> page. Only
one error is produced for all roles which have not been created:</p>
<pre class="fixed">ERROR 1396 (HY000): Operation CREATE ROLE failed for 'a','b','c'
</pre><p>Failed <code>CREATE</code> or <code>DROP</code> operations, for both users and roles, produce the
same error code.</p>
<p><code>PUBLIC</code> and <code>NONE</code> are reserved, and cannot be used as role names. <code>NONE</code> is used to <a href="#set-role">unset a role</a> and <code>PUBLIC</code> has a special use in other systems, such as Oracle, so is reserved for compatibility purposes.</p>
<p>Before <a href="https://mariadb.com/kb/en/mariadb-10113-release-notes/">MariaDB 10.1.13</a>, the <code>CREATE ROLE</code> statement was not permitted in <a href="https://mariadb.com/kb/en/prepared-statements/">prepared statements</a>.</p>
<p>For valid identifiers to use as role names, see <a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>.</p>
<h4 class="anchored_heading" id="create-rolewith-admin">WITH ADMIN</h4>
<p>The optional <code>WITH ADMIN</code> clause determines whether the current user, the
current role or another user or role has use of the newly created role. If the
clause is omitted, <code>WITH ADMIN CURRENT_USER</code> is treated as the default, which
means that the current user will be able to <a ">GRANT</a> this role to
users.</p>
<h4 class="anchored_heading" id="create-roleor-replace">OR REPLACE</h4>
<p>If the optional <code>OR REPLACE</code> clause is used, it acts as a shortcut for:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="n">ROLE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">name</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="n">ROLE</span> <span class="n">name</span> <span class="p">...;</span>
</pre><h4 class="anchored_heading" id="create-roleif-not-exists">IF NOT EXISTS</h4>
<p>When the <code>IF NOT EXISTS</code> clause is used, MariaDB will return a warning instead of an error if the specified role already exists. Cannot be used together with the <code>OR REPLACE</code> clause.</p>
<h2 class="anchored_heading" id="create-roleexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">ROLE</span> <span class="n">journalist</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">ROLE</span> <span class="n">developer</span> <span class="k">WITH</span> <span class="k">ADMIN</span> <span class="n">lorinda</span><span class="o">@</span><span class="n">localhost</span><span class="p">;</span>
</pre><p>Granting the role to another user. Only user <code>lorinda@localhost</code> has permission to grant the <code>developer</code> role:</p>
<pre class="fixed"> <span class="k">SELECT</span> <span class="k">USER</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="k">USER</span><span class="p">()</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">henning</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="p">...</span>
<span class="k">GRANT</span> <span class="n">developer</span> <span class="k">TO</span> <span class="n">ian</span><span class="o">@</span><span class="n">localhost</span><span class="p">;</span>
<span class="k">Access</span> <span class="n">denied</span> <span class="k">for</span> <span class="k">user</span> <span class="s1">'henning'</span><span class="o">@</span><span class="s1">'localhost'</span>

 <span class="k">SELECT</span> <span class="k">USER</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="k">USER</span><span class="p">()</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">lorinda</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">GRANT</span> <span class="n">m_role</span> <span class="k">TO</span> <span class="n">ian</span><span class="o">@</span><span class="n">localhost</span><span class="p">;</span>
</pre><p>The <code>OR REPLACE</code> and <code>IF NOT EXISTS</code> clauses. The <code>journalist</code> role already exists:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">ROLE</span> <span class="n">journalist</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1396</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="k">Operation</span> <span class="k">CREATE</span> <span class="k">ROLE</span> <span class="n">failed</span> <span class="k">for</span> <span class="s1">'journalist'</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">ROLE</span> <span class="n">journalist</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">CREATE</span> <span class="k">ROLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">journalist</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><pre class="fixed">SHOW WARNINGS;
+-------+------+---------------------------------------------------+
| Level | Code | Message                                           |
+-------+------+---------------------------------------------------+
| Note  | 1975 | Can't create role 'journalist'; it already exists |
+-------+------+---------------------------------------------------+

</pre><h2 class="anchored_heading" id="create-rolesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>
</li><li><a href="https://mariadb.com/kb/en/roles-overview/">Roles Overview</a>
</li><li><a href="#drop-role">DROP ROLE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="and">&amp;&amp;</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="andsyntax">Syntax</h2>
<pre class="fixed">AND, &amp;&amp;
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#andsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#anddescription" title="Description">Description</a></li>
<li class=""><a href="#andexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="anddescription">Description</h2>
<p>Logical AND. Evaluates to 1 if all operands are non-zero and not NULL,
to 0 if one or more operands are 0, otherwise NULL is returned.</p>
<p>For this operator, <a ">short-circuit evaluation</a> can be used.</p>
<h2 class="anchored_heading" id="andexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="mi">1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>

<span class="k">SELECT</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span>      <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>

<span class="k">SELECT</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">NULL</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>      <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">NULL</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>         <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="k">NULL</span> <span class="o">&amp;&amp;</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="k">NULL</span> <span class="o">&amp;&amp;</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>         <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="assignment-operator">Assignment Operator (:=)</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">var_name := expr
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Assignment operator for assigning a value. The value on the right is assigned to the variable on left.</p>
<p>Unlike the <a href="#assignment-operators-assignment-operator">= operator</a>, <code>:=</code> can always be used to assign a value to a variable.</p>
<p>This operator works with both <a href="https://mariadb.com/kb/en/user-defined-variables/">user-defined variables</a> and <a href="#declare-variable">local variables</a>.</p>
<p>When assigning the same value to several variables, <a href="#last_value">LAST_VALUE()</a> can be useful.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"> <span class="k">SELECT</span> <span class="o">@</span><span class="n">x</span> <span class="p">:</span><span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="o">@</span><span class="n">x</span> <span class="p">:</span><span class="o">=</span> <span class="mi">10</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span>       <span class="mi">10</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>

<span class="k">SELECT</span> <span class="o">@</span><span class="n">x</span><span class="p">,</span> <span class="o">@</span><span class="n">y</span> <span class="p">:</span><span class="o">=</span> <span class="o">@</span><span class="n">x</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+----------+</span>
<span class="o">|</span> <span class="o">@</span><span class="n">x</span>   <span class="o">|</span> <span class="o">@</span><span class="n">y</span> <span class="p">:</span><span class="o">=</span> <span class="o">@</span><span class="n">x</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+----------+</span>
<span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>       <span class="mi">10</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+----------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="set-password">SET PASSWORD</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="set-passwordsyntax">Syntax</h2>
<pre class="fixed">SET PASSWORD [FOR user] =
    {
        PASSWORD('some password')
      | OLD_PASSWORD('some password')
      | 'encrypted password'
    }
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_4"><a href="#set-passwordsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_4"><a href="#set-passworddescription" title="Description">Description</a></li>
<li class="mariadb_from_10_4"><a href="#set-passwordauthentication-plugin-support" title="Authentication Plugin Support">Authentication Plugin Support</a></li>
<li class="mariadb_from_10_4"><a href="#set-passwordpasswordless-user-accounts" title="Passwordless User Accounts">Passwordless User Accounts</a></li>
<li class="mariadb_from_10_4"><a href="#set-passwordexample" title="Example">Example</a></li>
<li class="mariadb_from_10_4"><a href="#set-passwordsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="set-passworddescription">Description</h2>
<p>The <code>SET PASSWORD</code> statement assigns a password to an existing MariaDB user
account.</p>
<p>If the password is specified using the <code><a href="#password">PASSWORD()</a></code> or <code><a href="#old_password">OLD_PASSWORD()</a></code>
function, the literal text of the password should be given. If the
password is specified without using either function, the password
should be the already-encrypted password value as returned by
<code><a href="#password">PASSWORD()</a></code>.</p>
<p><code><a href="#old_password">OLD_PASSWORD()</a></code> should only be used if your MariaDB/MySQL clients are very old (&lt; 4.0.0).</p>
<p>With no <code>FOR</code> clause, this statement sets the password for the current
user. Any client that has connected to the server using a non-anonymous
account can change the password for that account.</p>
<p>With a <code>FOR</code> clause, this statement sets the password for a specific
account on the current server host. Only clients that have the <code>UPDATE</code>
privilege for the <code>mysql</code> database can do this. The user value should be
given in <code class="fixed" style="white-space:pre-wrap">user_name@host_name</code> format, where <code>user_name</code> and <code>host_name</code> are
exactly as they are listed in the User and Host columns of the
<code><a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a></code> table entry. </p>
<p>The argument to <code><a href="#password">PASSWORD()</a></code> and the password given to MariaDB clients can be of arbitrary length.</p>
<h2 class="anchored_heading" id="set-passwordauthentication-plugin-support">Authentication Plugin Support</h2>
<div class="mariadb_from_10_4 mariadb from_10_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">10.4</a></h5><p>In <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> and later, <code>SET PASSWORD</code> (with or without <code>PASSWORD()</code>) works for accounts authenticated via any <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugin</a> that supports passwords stored in the <code><a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv</a></code> table.</p>
<p>The <code><a href="https://mariadb.com/kb/en/authentication-plugin-ed25519/">ed25519</a></code>, <code><a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a></code>, and <code><a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a></code> authentication plugins store passwords in the <code><a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv</a></code> table.</p>
<p>If you run <code>SET PASSWORD</code> on an account that authenticates with one of these authentication plugins that stores passwords in the <code><a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv</a></code> table, then the <code>PASSWORD()</code> function is evaluated by the specific authentication plugin used by the account. The authentication plugin hashes the password with a method that is compatible with that specific authentication plugin.</p>
<p>The <code><a href="https://mariadb.com/kb/en/authentication-plugin-unix-socket/">unix_socket</a></code>, <code><a href="https://mariadb.com/kb/en/authentication-plugin-named-pipe/">named_pipe</a></code>, <code><a href="https://mariadb.com/kb/en/authentication-plugin-gssapi/">gssapi</a></code>, and <code><a href="https://mariadb.com/kb/en/authentication-plugin-pam/">pam</a></code> authentication plugins do <strong>not</strong> store passwords in the <code><a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv</a></code> table. These authentication plugins rely on other methods to authenticate the user.</p>
<p>If you attempt to run <code>SET PASSWORD</code> on an account that authenticates with one of these authentication plugins that doesn't store a password in the <code><a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv</a></code> table, then MariaDB Server will raise a warning like the following:</p>
<pre class="fixed">SET PASSWORD is ignored for users authenticating via unix_socket plugin
</pre><p>See <a href="#authentication-from-mariadb-104">Authentication from MariaDB 10.4</a> for an overview of authentication changes in <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>.</p>
</div><div class="mariadb_to_10_3 mariadb to_10_3 product"><h5 class="product_title">MariaDB until <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>In <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> and before, <code>SET PASSWORD</code> (with or without <code>PASSWORD()</code>) only works for accounts authenticated via <code><a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a></code> or <code><a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a></code> authentication plugins</p>
</div><h2 class="anchored_heading" id="set-passwordpasswordless-user-accounts">Passwordless User Accounts</h2>
<p>User accounts do not always require passwords to login.</p>
<p>The <code><a href="https://mariadb.com/kb/en/authentication-plugin-unix-socket/">unix_socket</a></code> ,  <code><a href="https://mariadb.com/kb/en/authentication-plugin-named-pipe/">named_pipe</a></code> and <code><a href="https://mariadb.com/kb/en/authentication-plugin-gssapi/">gssapi</a></code> authentication plugins do not require a password to authenticate the user.</p>
<p>The <code><a href="https://mariadb.com/kb/en/authentication-plugin-pam/">pam</a></code> authentication plugin may or may not require a password to authenticate the user, depending on the specific configuration.</p>
<p>The <code><a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a></code> and <code><a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a></code> authentication plugins require passwords for authentication, but the password can be blank. In that case, no password is required.</p>
<p>If you provide a password while attempting to log into the server as an account that doesn't require a password, then MariaDB server will simply ignore the password.</p>
<div class="mariadb_from_10_4 mariadb from_10_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">10.4</a></h5><p>In <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> and later, a user account can be defined to use multiple authentication plugins in a specific order of preference. This specific scenario may be more noticeable in these versions, since an account could be associated with some authentication plugins that require a password, and some that do not.</p>
</div><h2 class="anchored_heading" id="set-passwordexample">Example</h2>
<p>For example, if you had an entry with User and
Host column values of '<code class="fixed" style="white-space:pre-wrap">bob</code>' and 
'<code class="fixed" style="white-space:pre-wrap">%.loc.gov</code>', you would write the
statement like this:</p>
<pre class="fixed"><span class="k">SET</span> <span class="n">PASSWORD</span> <span class="k">FOR</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'%.loc.gov'</span> <span class="o">=</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'newpass'</span><span class="p">);</span>
</pre><p>If you want to delete a password for a user, you would do:</p>
<pre class="fixed"><span class="k">SET</span> <span class="n">PASSWORD</span> <span class="k">FOR</span> <span class="s1">'bob'</span><span class="o">@</span><span class="n">localhost</span> <span class="o">=</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="ss">""</span><span class="p">);</span>
</pre><h2 class="anchored_heading" id="set-passwordsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/password-validation-plugins/">Password Validation Plugins</a> - permits the setting of basic criteria for passwords
</li><li><code><a href="#alter-user">ALTER USER</a></code></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-role">DROP ROLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="drop-rolesyntax">Syntax</h2>
<pre class="fixed">DROP ROLE [IF EXISTS] role_name [,role_name ...]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#drop-rolesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#drop-roledescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#drop-roleif-exists" title="IF EXISTS">IF EXISTS</a> </li></ol>
</li>
<li class=""><a href="#drop-roleexamples" title="Examples">Examples</a></li>
<li class=""><a href="#drop-rolesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="drop-roledescription">Description</h2>
<p>The <code>DROP ROLE</code> statement removes one or more MariaDB <a href="https://mariadb.com/kb/en/roles/">roles</a>. To use this
statement, you must have the global <a ">CREATE USER</a> privilege or
the <a ">DELETE</a> privilege for the mysql database.</p>
<p><code>DROP ROLE</code> does not disable roles for connections which selected them with <a href="#set-role">SET ROLE</a>. If a role has previously been set as a <a href="#set-default-role">default role</a>, <code>DROP ROLE</code> does not remove the record of the default role from the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table. If the role is subsequently recreated and granted, it will again be the user's default. Use <a href="#set-default-role">SET DEFAULT ROLE NONE</a> to explicitly remove this.</p>
<p>If any of the specified user accounts do not exist, <code>ERROR 1396 (HY000)</code>
results. If an error occurs, <code>DROP ROLE</code> will still drop the roles that
do not result in an error. Only one error is produced for all roles which have not been dropped:</p>
<pre class="fixed">ERROR 1396 (HY000): Operation DROP ROLE failed for 'a','b','c'
</pre><p>Failed <code>CREATE</code> or <code>DROP</code> operations, for both users and roles, produce the same error code.</p>
<p>Before <a href="https://mariadb.com/kb/en/mariadb-10113-release-notes/">MariaDB 10.1.13</a>, the <code>DROP ROLE</code> statement was not permitted in <a href="https://mariadb.com/kb/en/prepared-statements/">prepared statements</a>.</p>
<h4 class="anchored_heading" id="drop-roleif-exists">IF EXISTS</h4>
<p>If the <code>IF EXISTS</code> clause is used, MariaDB will return a warning instead of an error if the role does not exist.</p>
<h2 class="anchored_heading" id="drop-roleexamples">Examples</h2>
<pre class="fixed"><span class="k">DROP</span> <span class="n">ROLE</span> <span class="n">journalist</span><span class="p">;</span>
</pre><p>The same thing using the optional <code>IF EXISTS</code> clause:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="k">ROLE</span> <span class="n">journalist</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1396</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="k">Operation</span> <span class="k">DROP</span> <span class="k">ROLE</span> <span class="n">failed</span> <span class="k">for</span> <span class="s1">'journalist'</span>

<span class="k">DROP</span> <span class="k">ROLE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">journalist</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">Note</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1975</span><span class="p">):</span> <span class="n">Can</span><span class="s1">'t drop role '</span><span class="n">journalist</span><span class="s1">'; it doesn'</span><span class="n">t</span> <span class="n">exist</span>
</pre><h2 class="anchored_heading" id="drop-rolesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/roles-overview/">Roles Overview</a>
</li><li><a href="#create-role">CREATE ROLE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="group_concat">GROUP_CONCAT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="group_concatsyntax">Syntax</h2>
<pre class="fixed">GROUP_CONCAT(expr)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#group_concatsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#group_concatdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#group_concatlimit" title="LIMIT">LIMIT</a> </li></ol>
</li>
<li class=""><a href="#group_concatexamples" title="Examples">Examples</a></li>
<li class=""><a href="#group_concatsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="group_concatdescription">Description</h2>
<p>This function returns a string result with the concatenated non-NULL
values from a group. It returns NULL if there are no non-NULL values.</p>
<p>The maximum returned length in bytes is determined by the <a href="https://mariadb.com/kb/en/server-system-variables/#group_concat_max_len">group_concat_max_len</a> server system variable, which defaults to 1M (&gt;= <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">MariaDB 10.2.4</a>) or 1K (&lt;= <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>).</p>
<p>If group_concat_max_len &lt;= 512, the return type is <a href="#varbinary">VARBINARY</a> or <a href="#varchar">VARCHAR</a>; otherwise, the return type is <a href="#blob">BLOB</a> or <a href="#text">TEXT</a>. The choice between binary or non-binary types depends from the input.</p>
<p>The full syntax is as follows:</p>
<pre class="fixed">GROUP_CONCAT([DISTINCT] expr [,expr ...]
             [ORDER BY {unsigned_integer | col_name | expr}
                 [ASC | DESC] [,col_name ...]]
             [SEPARATOR str_val]
             [LIMIT {[offset,] row_count | row_count OFFSET offset}])
</pre><p><code>DISTINCT</code> eliminates duplicate values from the output string.</p>
<p><a href="#order-by">ORDER BY</a> determines the order of returned values.</p>
<p><code>SEPARATOR</code> specifies a separator between the values. The default separator is a comma (<code>,</code>). It is possible to avoid using a separator by specifying an empty string.</p>
<h3 class="anchored_heading" id="group_concatlimit">LIMIT</h3>
<div class="mariadb_from_10_3_3 mariadb from_10_3_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">10.3.3</a></h5><p>Until <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a>, it was not possible to use the <a href="#limit">LIMIT</a> clause with <code>GROUP_CONCAT</code>. This restriction was lifted in <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">MariaDB 10.3.3</a>.</p>
</div><h2 class="anchored_heading" id="group_concatexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">student_name</span><span class="p">,</span>
       <span class="n">GROUP_CONCAT</span><span class="p">(</span><span class="n">test_score</span><span class="p">)</span>
       <span class="k">FROM</span> <span class="n">student</span>
       <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">student_name</span><span class="p">;</span>
</pre><p>Get a readable list of MariaDB users from the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GROUP_CONCAT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="k">User</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="k">User</span> <span class="n">SEPARATOR</span> <span class="s1">'\n'</span><span class="p">)</span>
   <span class="k">FROM</span> <span class="n">mysql</span><span class="p">.</span><span class="k">user</span><span class="p">;</span>
</pre><p>In the former example, <code>DISTINCT</code> is used because the same user may occur more than once. The new line (<code>\n</code>) used as a <code>SEPARATOR</code> makes the results easier to read.</p>
<p>Get a readable list of hosts from which each user can connect:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">User</span><span class="p">,</span> <span class="n">GROUP_CONCAT</span><span class="p">(</span><span class="k">Host</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="k">Host</span> <span class="n">SEPARATOR</span> <span class="s1">', '</span><span class="p">)</span> 
   <span class="k">FROM</span> <span class="n">mysql</span><span class="p">.</span><span class="k">user</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="k">User</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="k">User</span><span class="p">;</span>
</pre><p>The former example shows the difference between the <code>GROUP_CONCAT</code>'s <a href="#order-by">ORDER BY</a> (which sorts the concatenated hosts), and the <code>SELECT</code>'s <a href="#order-by">ORDER BY</a> (which sorts the rows).</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">MariaDB 10.3.3</a>, <a href="#limit">LIMIT</a> can be used with <code>GROUP_CONCAT</code>, so, for example, given the following table:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">d</span> <span class="p">(</span><span class="n">dd</span> <span class="nb">DATE</span><span class="p">,</span> <span class="n">cc</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">d</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2017-01-01'</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">d</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2017-01-02'</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">d</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2017-01-04'</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
</pre><p>the following query:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SUBSTRING_INDEX</span><span class="p">(</span><span class="n">GROUP_CONCAT</span><span class="p">(</span><span class="n">CONCAT_WS</span><span class="p">(</span><span class="ss">":"</span><span class="p">,</span><span class="n">dd</span><span class="p">,</span><span class="n">cc</span><span class="p">)</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">cc</span> <span class="k">DESC</span><span class="p">),</span><span class="ss">","</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">d</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">SUBSTRING_INDEX</span><span class="p">(</span><span class="n">GROUP_CONCAT</span><span class="p">(</span><span class="n">CONCAT_WS</span><span class="p">(</span><span class="ss">":"</span><span class="p">,</span><span class="n">dd</span><span class="p">,</span><span class="n">cc</span><span class="p">)</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">cc</span> <span class="k">DESC</span><span class="p">),</span><span class="ss">","</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">04</span><span class="p">:</span><span class="mi">3</span>                                                               <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------------------+</span>
</pre><p>can be more simply rewritten as:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GROUP_CONCAT</span><span class="p">(</span><span class="n">CONCAT_WS</span><span class="p">(</span><span class="ss">":"</span><span class="p">,</span><span class="n">dd</span><span class="p">,</span><span class="n">cc</span><span class="p">)</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">cc</span> <span class="k">DESC</span> <span class="k">LIMIT</span> <span class="mi">1</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">d</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">GROUP_CONCAT</span><span class="p">(</span><span class="n">CONCAT_WS</span><span class="p">(</span><span class="ss">":"</span><span class="p">,</span><span class="n">dd</span><span class="p">,</span><span class="n">cc</span><span class="p">)</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">cc</span> <span class="k">DESC</span> <span class="k">LIMIT</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">04</span><span class="p">:</span><span class="mi">3</span>                                                <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="group_concatsee-also">See Also</h2>
<ul start="1"><li><a href="#concat">CONCAT()</a>
</li><li><a href="#concat_ws">CONCAT_WS()</a>
</li><li><a href="#select">SELECT</a>
</li><li><a href="#order-by">ORDER BY</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="stddev_samp">STDDEV_SAMP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">STDDEV_SAMP(expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the sample standard deviation of <code>expr</code> (the square root of <a href="#var_samp">VAR_SAMP()</a>).</p>
<p>It is an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>, and so can be used with the <a href="#group-by">GROUP BY</a> clause.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>, STDDEV_SAMP() can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>.</p>
<p>STDDEV_SAMP() returns <code>NULL</code> if there were no matching rows.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="benchmark">BENCHMARK</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">BENCHMARK(count,expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The BENCHMARK() function executes the expression <code>expr</code> repeatedly <code>count</code>
times. It may be used to time how quickly MariaDB processes the
expression. The result value is always 0. The intended use is from
within the <a href="https://mariadb.com/kb/en/mysql-command-line-client/">mysql client</a>, which reports query execution times.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">BENCHMARK</span><span class="p">(</span><span class="mi">1000000</span><span class="p">,</span><span class="n">ENCODE</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span><span class="s1">'goodbye'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span> <span class="n">BENCHMARK</span><span class="p">(</span><span class="mi">1000000</span><span class="p">,</span><span class="n">ENCODE</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span><span class="s1">'goodbye'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span>                                            <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">21</span> <span class="n">sec</span><span class="p">)</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="roles_overview">Roles Overview</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_0_5"><a href="#roles_overviewdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_0_5"><a href="#roles_overviewsystem-tables" title="System Tables">System Tables</a></li>
<li class="mariadb_from_10_0_5"><a href="#roles_overviewexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_0_5"><a href="#roles_overviewroles-and-views-and-stored-routines" title="Roles and Views (and Stored Routines)">Roles and Views (and Stored Routines)</a></li>
<li class="mariadb_from_10_0_5"><a href="#roles_overviewother-resources" title="Other Resources">Other Resources</a> </li></ol>

</div>
<div class="mariadb_from_10_0_5 mariadb from_10_0_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">10.0.5</a></h5><p>Roles were introduced in <a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">MariaDB 10.0.5</a>.</p>
</div><h2 class="anchored_heading" id="roles_overviewdescription">Description</h2>
<p>A role bundles a number of privileges together. It assists larger organizations where, typically, a number of users would have the same privileges, and, previously, the only way to change the privileges for a group of users was by changing each user's privileges individually. </p>
<p>Alternatively, multiple external users could have been assigned the same user, and there would have been no way to see which actual user was responsible for which action.</p>
<p>With roles, managing this is easy. For example, there could be a number of users assigned to a journalist role, with identical privileges. Changing the privileges for all the journalists is a matter of simply changing the role's privileges, while the individual user is still linked with any changes that take place.</p>
<p>Roles are created with the <a href="#create-role">CREATE ROLE</a> statement, and dropped with the <a href="#drop-role">DROP ROLE</a> statement. Roles are then assigned to a user with an extension to the <a ">GRANT</a> statement, while privileges are assigned to a role in the regular way with <a href="#grant">GRANT</a>. Similarly, the <a href="#revoke">REVOKE</a> statement can be used to both revoke a role from a user, or revoke a privilege from a role.</p>
<p>Once a user has connected, he can obtain all  privileges associated with a role by <strong>setting</strong> a role with the <a href="#set-role">SET ROLE</a> statement. The <a href="#current_role">CURRENT_ROLE</a> function returns the currently set role for the session, if any.</p>
<p>Only roles granted directly to a user can be set, roles granted to other roles cannot. Instead the privileges granted to a role, which is, in turn, granted to another role (grantee), will be immediately available to any user who sets this second grantee role.</p>
<p>Roles were implemented as a GSoC 2013 project by Vicentiu Ciorbaru. </p>
<div class="mariadb_from_10_1_1 mariadb from_10_1_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1011-release-notes/">10.1.1</a></h5><p>The <a href="#set-default-role">SET DEFAULT ROLE</a> statement allows one to set a default role for a user. A default role is automatically enabled when a user connects (an implicit SET ROLE statement is executed immediately after a connection is established).</p>
</div><h2 class="anchored_heading" id="roles_overviewsystem-tables">System Tables</h2>
<p>Information about roles and who they've been granted to can be found in the <a href="https://mariadb.com/kb/en/information-schema-applicable_roles-table/">Information Schema APPLICABLE_ROLES table</a> as well as the <a href="https://mariadb.com/kb/en/mysqlroles_mapping-table/">mysql.ROLES_MAPPING table</a>.</p>
<p>The <a href="https://mariadb.com/kb/en/information-schema-enabled_roles-table/">Information Schema ENABLED_ROLES table</a> shows the enabled roles for the current session.</p>
<h2 class="anchored_heading" id="roles_overviewexamples">Examples</h2>
<p>Creating a role and granting a privilege:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">ROLE</span> <span class="n">journalist</span><span class="p">;</span>

<span class="k">GRANT</span> <span class="k">SHOW</span> <span class="n">DATABASES</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="n">journalist</span><span class="p">;</span>

<span class="k">GRANT</span> <span class="n">journalist</span> <span class="k">to</span> <span class="n">hulda</span><span class="p">;</span>
</pre><p>Note, that hulda has no <code>SHOW DATABASES</code> privilege, even though she was granted the journalist role. She needs to <strong>set</strong> the role first:</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">DATABASES</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="k">Database</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">information_schema</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SELECT</span> <span class="k">CURRENT_ROLE</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="k">CURRENT_ROLE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="k">NULL</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>

<span class="k">SET</span> <span class="k">ROLE</span> <span class="n">journalist</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="k">CURRENT_ROLE</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="k">CURRENT_ROLE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">journalist</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>

<span class="k">SHOW</span> <span class="n">DATABASES</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="k">Database</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="p">...</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">information_schema</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">mysql</span>              <span class="o">|</span>
<span class="o">|</span> <span class="n">performance_schema</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span>               <span class="o">|</span>
<span class="o">|</span> <span class="p">...</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SET</span> <span class="k">ROLE</span> <span class="k">NONE</span><span class="p">;</span>
</pre><p>Roles can be granted to roles:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">ROLE</span> <span class="n">writer</span><span class="p">;</span>

<span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="k">data</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="n">writer</span><span class="p">;</span>

<span class="k">GRANT</span> <span class="n">writer</span> <span class="k">TO</span> <span class="n">journalist</span><span class="p">;</span>
</pre><p>But one does not need to set a role granted to a role. For example, hulda will automatically get all writer privileges when she sets the journalist role:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CURRENT_ROLE</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="k">CURRENT_ROLE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="k">NULL</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>

<span class="k">SHOW</span> <span class="n">TABLES</span> <span class="k">FROM</span> <span class="k">data</span><span class="p">;</span>
<span class="n">Empty</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SET</span> <span class="k">ROLE</span> <span class="n">journalist</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="k">CURRENT_ROLE</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="k">CURRENT_ROLE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">journalist</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>

<span class="k">SHOW</span> <span class="n">TABLES</span> <span class="k">FROM</span> <span class="k">data</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="n">Tables_in_data</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="n">set1</span>                         <span class="o">|</span>
<span class="o">|</span> <span class="p">...</span>                          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
</pre><h2 class="anchored_heading" id="roles_overviewroles-and-views-and-stored-routines">Roles and Views (and Stored Routines)</h2>
<p>When a user sets a role, he, in a sense, has two identities with two associated sets of privileges.
But a view (or a stored routine) can have only one definer. So, when a view (or a stored routine) is created with the <code>SQL SECURITY DEFINER</code>, one can specify whether the definer should be <code>CURRENT_USER</code> (and the view will have none of the privileges of the user's role) or <code>CURRENT_ROLE</code> (in this case, the view will use role's privileges, but none of the user's privileges). As a result, sometimes one can create a view that is impossible to use.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">ROLE</span> <span class="n">r1</span><span class="p">;</span>

<span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">ON</span> <span class="n">db1</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="n">r1</span><span class="p">;</span>

<span class="k">GRANT</span> <span class="n">r1</span> <span class="k">TO</span> <span class="n">foo</span><span class="o">@</span><span class="n">localhost</span><span class="p">;</span>

<span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">ON</span> <span class="n">db</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="n">foo</span><span class="o">@</span><span class="n">localhost</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="k">CURRENT_USER</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="k">current_user</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="n">foo</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>

<span class="k">SET</span> <span class="k">ROLE</span> <span class="n">r1</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">db1</span><span class="p">.</span><span class="n">t1</span> <span class="p">(</span><span class="n">i</span> <span class="nb">int</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">db</span><span class="p">.</span><span class="n">v1</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">db1</span><span class="p">.</span><span class="n">t1</span><span class="p">;</span>

<span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">db</span><span class="p">.</span><span class="n">v1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+</span>
<span class="o">|</span> <span class="k">View</span> <span class="o">|</span> <span class="k">Create</span> <span class="k">View</span>                                                                                                                              <span class="o">|</span> <span class="n">character_set_client</span> <span class="o">|</span> <span class="n">collation_connection</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+</span>
<span class="o">|</span> <span class="n">v1</span>   <span class="o">|</span> <span class="k">CREATE</span> <span class="n">ALGORITHM</span><span class="o">=</span><span class="n">UNDEFINED</span> <span class="k">DEFINER</span><span class="o">=`</span><span class="n">foo</span><span class="o">`@`</span><span class="n">localhost</span><span class="o">`</span> <span class="k">SQL</span> <span class="k">SECURITY</span> <span class="k">DEFINER</span> <span class="k">VIEW</span> <span class="o">`</span><span class="n">db</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">v1</span><span class="o">`</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="o">`</span><span class="n">db1</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">t1</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">i</span><span class="o">`</span> <span class="k">AS</span> <span class="o">`</span><span class="n">i</span><span class="o">`</span> <span class="k">from</span> <span class="o">`</span><span class="n">db1</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">t1</span><span class="o">`</span> <span class="o">|</span> <span class="n">utf8</span>                 <span class="o">|</span> <span class="n">utf8_general_ci</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+</span>

<span class="k">CREATE</span> <span class="k">DEFINER</span><span class="o">=</span><span class="k">CURRENT_ROLE</span> <span class="k">VIEW</span> <span class="n">db</span><span class="p">.</span><span class="n">v2</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">db1</span><span class="p">.</span><span class="n">t1</span><span class="p">;</span>

<span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">db</span><span class="p">.</span><span class="n">b2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+-----------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+</span>
<span class="o">|</span> <span class="k">View</span> <span class="o">|</span> <span class="k">Create</span> <span class="k">View</span>                                                                                                                 <span class="o">|</span> <span class="n">character_set_client</span> <span class="o">|</span> <span class="n">collation_connection</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-----------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+</span>
<span class="o">|</span> <span class="n">v2</span>   <span class="o">|</span> <span class="k">CREATE</span> <span class="n">ALGORITHM</span><span class="o">=</span><span class="n">UNDEFINED</span> <span class="k">DEFINER</span><span class="o">=`</span><span class="n">r1</span><span class="o">`</span> <span class="k">SQL</span> <span class="k">SECURITY</span> <span class="k">DEFINER</span> <span class="k">VIEW</span> <span class="o">`</span><span class="n">db</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">v2</span><span class="o">`</span> <span class="k">AS</span> <span class="k">select</span> <span class="o">`</span><span class="n">db1</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">t1</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">a</span><span class="o">`</span> <span class="k">AS</span> <span class="o">`</span><span class="n">a</span><span class="o">`</span> <span class="k">from</span> <span class="o">`</span><span class="n">db1</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">t1</span><span class="o">`</span> <span class="o">|</span> <span class="n">utf8</span>                 <span class="o">|</span> <span class="n">utf8_general_ci</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-----------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+</span>
</pre><h2 class="anchored_heading" id="roles_overviewother-resources">Other Resources</h2>
<ul start="1"><li><a href="http://ocelot.ca/blog/blog/2014/01/12/roles-review/">Roles Review</a> by Peter Gulutzan</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="binlog_gtid_pos">BINLOG_GTID_POS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">BINLOG_GTID_POS(binlog_filename,binlog_offset)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The BINLOG_GTID_POS() function takes as input an old-style <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> position in the form of a file name and a file offset. It looks up the position in the current binlog, and returns a string representation of the corresponding <a href="https://mariadb.com/kb/en/global-transaction-id/">GTID</a> position. If the position is not found in the current binlog, NULL is returned.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">BINLOG_GTID_POS</span><span class="p">(</span><span class="ss">"master-bin.000001"</span><span class="p">,</span> <span class="mi">600</span><span class="p">);</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#show-binlog-events">SHOW BINLOG EVENTS</a> - Show events and their positions in the binary log</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="collation">COLLATION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="collationsyntax">Syntax</h2>
<pre class="fixed">COLLATION(str)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#collationsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#collationdescription" title="Description">Description</a></li>
<li class=""><a href="#collationexamples" title="Examples">Examples</a></li>
<li class=""><a href="#collationsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="collationdescription">Description</h2>
<p>Returns the collation of the string argument. If <code>str</code> is not a string, it is considered as a binary string (so the function returns 'binary'). This applies to <code>NULL</code>, too.  The return value is a string in the utf8 <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set</a>.</p>
<p>See <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">Character Sets and Collations</a>.</p>
<h2 class="anchored_heading" id="collationexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">COLLATION</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="k">COLLATION</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">)</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">latin1_swedish_ci</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">SELECT</span> <span class="k">COLLATION</span><span class="p">(</span><span class="n">_utf8</span><span class="s1">'abc'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="k">COLLATION</span><span class="p">(</span><span class="n">_utf8</span><span class="s1">'abc'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">utf8_general_ci</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
</pre><h2 class="anchored_heading" id="collationsee-also">See Also</h2>
<ul start="1"><li><a href="#string-literals">String literals</a>
</li><li><a href="#cast">CAST()</a>
</li><li><a href="#convert">CONVERT()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="set-role">SET ROLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="set-rolesyntax">Syntax</h2>
<pre class="fixed">SET ROLE { role | NONE }
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#set-rolesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#set-roledescription" title="Description">Description</a></li>
<li class=""><a href="#set-roleexample" title="Example">Example</a> </li></ol>

</div>
<h2 class="anchored_heading" id="set-roledescription">Description</h2>
<p>The <code>SET ROLE</code> statement enables a <a href="https://mariadb.com/kb/en/roles/">role</a>, along with all of its associated permissions, for the current session. To unset a role, use <code>NONE</code> .</p>
<p>If a role that doesn't exist, or to which the user has not been assigned, is specified, an <code>ERROR 1959 (OP000): Invalid role specification</code> error occurs.</p>
<p>An automatic SET ROLE is implicitly performed when a user connects if that user has been assigned a default role. See <a href="#set-default-role">SET DEFAULT ROLE</a>.</p>
<h2 class="anchored_heading" id="set-roleexample">Example</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CURRENT_ROLE</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="k">CURRENT_ROLE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="k">NULL</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>

<span class="k">SET</span> <span class="k">ROLE</span> <span class="n">staff</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="k">CURRENT_ROLE</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="k">CURRENT_ROLE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">staff</span>        <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>

<span class="k">SET</span> <span class="k">ROLE</span> <span class="k">NONE</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="k">CURRENT_ROLE</span><span class="p">();</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="k">CURRENT_ROLE</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="k">NULL</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="set-default-role">SET DEFAULT ROLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#set-default-rolesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#set-default-roledescription" title="Description">Description</a></li>
<li class=""><a href="#set-default-roleexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="set-default-rolesyntax">Syntax</h2>
<pre class="fixed">SET DEFAULT ROLE { role | NONE } [ FOR user@host ]
</pre><h2 class="anchored_heading" id="set-default-roledescription">Description</h2>
<p>The <code>SET DEFAULT ROLE</code> statement sets a <strong>default <a href="https://mariadb.com/kb/en/roles/">role</a></strong> for a specified (or current) user. A default role is automatically enabled when a user connects (an implicit <a href="#set-role">SET ROLE</a> statement is executed immediately after a connection is established).</p>
<p>To be able to set a role as a default, the role must already have been granted to that user, and one needs the privileges to enable this role (if you cannot do <code>SET ROLE X</code>, you won't be able to do <code>SET DEFAULT ROLE X</code>). To set a default role for another user one needs to have write access to the <code>mysql</code> database.</p>
<p>To remove a user's default role, use <code>SET DEFAULT ROLE NONE [ FOR user@host ]</code>. The record of the default role is not removed if the role is <a href="#drop-role">dropped</a> or <a ">revoked</a>, so if the role is subsequently re-created or granted, it will again be the user's default role.</p>
<p>The default role is stored in the <code>default_role</code> column in the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table/view, as well as in the <a href="https://mariadb.com/kb/en/information-schema-applicable_roles-table/">Information Schema APPLICABLE_ROLES table</a>, so these can be viewed to see which role has been assigned to a user as the default. </p>
<h2 class="anchored_heading" id="set-default-roleexamples">Examples</h2>
<p>Setting a default role for the current user:</p>
<pre class="fixed"><span class="k">SET</span> <span class="k">DEFAULT</span> <span class="k">ROLE</span> <span class="n">journalist</span><span class="p">;</span>
</pre><p>Removing a default role from the current user:</p>
<pre class="fixed"><span class="k">SET</span> <span class="k">DEFAULT</span> <span class="k">ROLE</span> <span class="k">NONE</span><span class="p">;</span>
</pre><p>Setting a default role for another user. The role has to have been granted to the user before it can be set as default:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">ROLE</span> <span class="n">journalist</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="n">taniel</span><span class="p">;</span>

<span class="k">SET</span> <span class="k">DEFAULT</span> <span class="k">ROLE</span> <span class="n">journalist</span> <span class="k">FOR</span> <span class="n">taniel</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1959</span> <span class="p">(</span><span class="n">OP000</span><span class="p">):</span> <span class="n">Invalid</span> <span class="k">role</span> <span class="n">specification</span> <span class="o">`</span><span class="n">journalist</span><span class="o">`</span>

<span class="k">GRANT</span> <span class="n">journalist</span> <span class="k">TO</span> <span class="n">taniel</span><span class="p">;</span>
<span class="k">SET</span> <span class="k">DEFAULT</span> <span class="k">ROLE</span> <span class="n">journalist</span> <span class="k">FOR</span> <span class="n">taniel</span><span class="p">;</span>
</pre><p>Viewing mysql.user:</p>
<pre class="fixed">select * from mysql.user where user='taniel'\G
*************************** 1. row ***************************
                  Host: %
                  User: taniel
...
               is_role: N
          default_role: journalist
...
</pre><p>Removing a default role for another user</p>
<pre class="fixed"><span class="k">SET</span> <span class="k">DEFAULT</span> <span class="k">ROLE</span> <span class="k">NONE</span> <span class="k">FOR</span> <span class="n">taniel</span><span class="p">;</span> 
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="aes_encrypt">AES_ENCRYPT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">AES_ENCRYPT(str,key_str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>AES_ENCRYPT()</code> and <code><a href="#aes_decrypt">AES_DECRYPT()</a></code> allow encryption and decryption of
data using the official AES (Advanced Encryption Standard) algorithm,
previously known as "Rijndael." Encoding with a 128-bit key length is
used, but you can extend it up to 256 bits by modifying the source. We
chose 128 bits because it is much faster and it is secure enough for
most purposes.</p>
<p><code>AES_ENCRYPT()</code> encrypts a string <em><code>str</code></em> using the key <em><code>key_str</code></em>, and returns a binary string.</p>
<p><code>AES_DECRYPT()</code> decrypts the encrypted string and returns the original
string.</p>
<p>The input arguments may be any length. If either argument is NULL, the result of this function is also <code>NULL</code>.</p>
<p>Because AES is a block-level algorithm, padding is used to encode
uneven length strings and so the result string length may be
calculated using this formula:</p>
<pre class="fixed">16 x (trunc(string_length / 16) + 1)
</pre><p>If <code>AES_DECRYPT()</code> detects invalid data or incorrect padding, it returns
<code>NULL</code>. However, it is possible for <code>AES_DECRYPT()</code> to return a non-<code>NULL</code>
value (possibly garbage) if the input data or the key is invalid.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">VALUES</span> <span class="p">(</span><span class="n">AES_ENCRYPT</span><span class="p">(</span><span class="s1">'text'</span><span class="p">,</span><span class="n">SHA2</span><span class="p">(</span><span class="s1">'password'</span><span class="p">,</span><span class="mi">512</span><span class="p">)));</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="compress">COMPRESS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">COMPRESS(string_to_compress)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Compresses a string and returns the result as a binary string. This
function requires MariaDB to have been compiled with a compression
library such as zlib. Otherwise, the return value is always <code>NULL</code>. The
compressed string can be uncompressed with <code><a href="#uncompress">UNCOMPRESS()</a></code>.</p>
<p>The <a href="https://mariadb.com/kb/en/server-system-variables/#have_compress">have_compress</a> server system variable indicates whether a compression library is present. </p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">LENGTH</span><span class="p">(</span><span class="n">COMPRESS</span><span class="p">(</span><span class="n">REPEAT</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">1000</span><span class="p">)));</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="k">LENGTH</span><span class="p">(</span><span class="n">COMPRESS</span><span class="p">(</span><span class="n">REPEAT</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">1000</span><span class="p">)))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span>                                 <span class="mi">21</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>

<span class="k">SELECT</span> <span class="k">LENGTH</span><span class="p">(</span><span class="n">COMPRESS</span><span class="p">(</span><span class="s1">''</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="k">LENGTH</span><span class="p">(</span><span class="n">COMPRESS</span><span class="p">(</span><span class="s1">''</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="k">LENGTH</span><span class="p">(</span><span class="n">COMPRESS</span><span class="p">(</span><span class="s1">'a'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="k">LENGTH</span><span class="p">(</span><span class="n">COMPRESS</span><span class="p">(</span><span class="s1">'a'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                    <span class="mi">13</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>

<span class="k">SELECT</span> <span class="k">LENGTH</span><span class="p">(</span><span class="n">COMPRESS</span><span class="p">(</span><span class="n">REPEAT</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">16</span><span class="p">)));</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="k">LENGTH</span><span class="p">(</span><span class="n">COMPRESS</span><span class="p">(</span><span class="n">REPEAT</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">16</span><span class="p">)))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span>                               <span class="mi">15</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="connection_id">CONNECTION_ID</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CONNECTION_ID()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the connection ID (thread ID) for the connection. Every
thread (including events) has an ID that is unique among the set of currently
connected clients.</p>
<p>Until <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>, returns <code>MYSQL_TYPE_LONGLONG</code>, or <a href="#bigint">bigint(10)</a>, in all cases. From <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>, returns <code>MYSQL_TYPE_LONG</code>, or <a href="https://mariadb.com/kb/en/int/">int(10)</a>, when the result would fit within 32-bits.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CONNECTION_ID</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">CONNECTION_ID</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span>               <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#show-processlist">SHOW PROCESSLIST</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-processlist-table/">INFORMATION_SCHEMA.PROCESSLIST</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="schema">SCHEMA</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SCHEMA()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This function is a synonym for <a href="#database">DATABASE()</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="session_user">SESSION_USER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SESSION_USER()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>SESSION_USER() is a synonym for <a href="#user">USER()</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="system_user">SYSTEM_USER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SYSTEM_USER()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>SYSTEM_USER() is a synonym for <a href="#user">USER()</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="less-than">&lt;</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="less-thansyntax">Syntax</h2>
<pre class="fixed">&lt;
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#less-thansyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#less-thandescription" title="Description">Description</a></li>
<li class=""><a href="#less-thanexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="less-thandescription">Description</h2>
<p>Less than operator. Evaluates both SQL expressions and returns 1 if the left value is less than the right value and 0 if it is not, or <code>NULL</code> if either expression is NULL. If the expressions return different data types, (for instance, a number and a string), performs type conversion.</p>
<p>When used in row comparisons these two queries return the same results:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">t1</span><span class="p">.</span><span class="n">b</span><span class="p">)</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">t2</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> 
<span class="k">FROM</span> <span class="n">t1</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">t2</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span> <span class="o">&lt;</span> <span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="k">OR</span> <span class="p">((</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="k">AND</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">b</span> <span class="o">&lt;</span> <span class="n">t2</span><span class="p">.</span><span class="n">y</span><span class="p">))</span>
<span class="k">FROM</span> <span class="n">t1</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">t2</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="less-thanexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
</pre><p>Type conversion:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">3</span><span class="o">&lt;</span><span class="s1">'4'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span> <span class="mi">3</span><span class="o">&lt;</span><span class="s1">'4'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
</pre><p>Case insensitivity - see <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">Character Sets and Collations</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="s1">'a'</span><span class="o">&lt;</span><span class="s1">'A'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="s1">'a'</span><span class="o">&lt;</span><span class="s1">'A'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>       <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="less-than-or-equal">&lt;=</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="less-than-or-equalsyntax">Syntax</h2>
<pre class="fixed">&lt;=
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#less-than-or-equalsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#less-than-or-equaldescription" title="Description">Description</a></li>
<li class=""><a href="#less-than-or-equalexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="less-than-or-equaldescription">Description</h2>
<p>Less than or equal operator. Evaluates both SQL expressions and returns 1 if the left value is less than or equal to the right value and 0 if it is not, or <code>NULL</code> if either expression is NULL. If the expressions return different data types, (for instance, a number and a string), performs type conversion.</p>
<p>When used in row comparisons these two queries return the same results:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">t1</span><span class="p">.</span><span class="n">b</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">t2</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> 
<span class="k">FROM</span> <span class="n">t1</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">t2</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span> <span class="o">&lt;</span> <span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="k">OR</span> <span class="p">((</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="k">AND</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">b</span> <span class="o">&lt;=</span> <span class="n">t2</span><span class="p">.</span><span class="n">y</span><span class="p">))</span>
<span class="k">FROM</span> <span class="n">t1</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">t2</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="less-than-or-equalexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="s1">'a'</span><span class="o">&lt;=</span><span class="s1">'A'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="s1">'a'</span><span class="o">&lt;=</span><span class="s1">'A'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="between-and">BETWEEN AND</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="between-andsyntax">Syntax</h2>
<pre class="fixed">expr BETWEEN min AND max
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#between-andsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#between-anddescription" title="Description">Description</a></li>
<li class=""><a href="#between-andexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="between-anddescription">Description</h2>
<p>If expr is greater than or equal to min and expr is less than or equal
to max, BETWEEN returns 1, otherwise it returns 0. This is equivalent
to the expression (min &lt;= expr AND expr &lt;= max) if all the arguments
are of the same type. Otherwise type conversion takes place according
to the rules described at <a href="https://mariadb.com/kb/en/type-conversion/">Type Conversion</a>, but
applied to all the three arguments.</p>
<h2 class="anchored_heading" id="between-andexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">1</span> <span class="k">BETWEEN</span> <span class="mi">2</span> <span class="k">AND</span> <span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="k">BETWEEN</span> <span class="mi">2</span> <span class="k">AND</span> <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="s1">'b'</span> <span class="k">BETWEEN</span> <span class="s1">'a'</span> <span class="k">AND</span> <span class="s1">'c'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="s1">'b'</span> <span class="k">BETWEEN</span> <span class="s1">'a'</span> <span class="k">AND</span> <span class="s1">'c'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span>                       <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="mi">2</span> <span class="k">BETWEEN</span> <span class="mi">2</span> <span class="k">AND</span> <span class="s1">'3'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="mi">2</span> <span class="k">BETWEEN</span> <span class="mi">2</span> <span class="k">AND</span> <span class="s1">'3'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span>                   <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="mi">2</span> <span class="k">BETWEEN</span> <span class="mi">2</span> <span class="k">AND</span> <span class="s1">'x-3'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="mi">2</span> <span class="k">BETWEEN</span> <span class="mi">2</span> <span class="k">AND</span> <span class="s1">'x-3'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                     <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1292</span><span class="p">):</span> <span class="n">Truncated</span> <span class="n">incorrect</span> <span class="n">DOUBLE</span> <span class="n">value</span><span class="p">:</span> <span class="s1">'x-3'</span>
</pre><p>NULL:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">1</span> <span class="k">BETWEEN</span> <span class="mi">1</span> <span class="k">AND</span> <span class="k">NULL</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="k">BETWEEN</span> <span class="mi">1</span> <span class="k">AND</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                 <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre><p>DATE, DATETIME and TIMESTAMP examples. Omitting the time component compares against <code>00:00</code>, so later times on the same date are not returned:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="o">`</span><span class="n">x</span><span class="o">`</span> <span class="p">(</span>
  <span class="n">a</span> <span class="nb">date</span> <span class="p">,</span>
  <span class="n">b</span> <span class="n">datetime</span><span class="p">,</span>
  <span class="k">c</span> <span class="k">timestamp</span>
<span class="p">)</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">x</span> <span class="k">VALUES</span> 
 <span class="p">(</span><span class="s1">'2018-11-11'</span><span class="p">,</span> <span class="s1">'2018-11-11 05:15'</span><span class="p">,</span> <span class="s1">'2018-11-11 05:15'</span><span class="p">),</span> 
 <span class="p">(</span><span class="s1">'2018-11-12'</span><span class="p">,</span> <span class="s1">'2018-11-12 05:15'</span><span class="p">,</span> <span class="s1">'2018-11-12 05:15'</span><span class="p">);</span> 

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">x</span> <span class="k">WHERE</span> <span class="n">a</span> <span class="k">BETWEEN</span> <span class="s1">'2018-11-11'</span> <span class="k">AND</span> <span class="s1">'2018-11-12'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+---------------------+---------------------+</span>
<span class="o">|</span> <span class="n">a</span>          <span class="o">|</span> <span class="n">b</span>                   <span class="o">|</span> <span class="k">c</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+---------------------+---------------------+</span>
<span class="o">|</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span> <span class="o">|</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span> <span class="mi">05</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span> <span class="mi">05</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">12</span> <span class="o">|</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">12</span> <span class="mi">05</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">12</span> <span class="mi">05</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+---------------------+---------------------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">x</span> <span class="k">WHERE</span> <span class="n">b</span> <span class="k">BETWEEN</span> <span class="s1">'2018-11-11'</span> <span class="k">AND</span> <span class="s1">'2018-11-12'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+---------------------+---------------------+</span>
<span class="o">|</span> <span class="n">a</span>          <span class="o">|</span> <span class="n">b</span>                   <span class="o">|</span> <span class="k">c</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+---------------------+---------------------+</span>
<span class="o">|</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span> <span class="o">|</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span> <span class="mi">05</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span> <span class="mi">05</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+---------------------+---------------------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">x</span> <span class="k">WHERE</span> <span class="k">c</span> <span class="k">BETWEEN</span> <span class="s1">'2018-11-11'</span> <span class="k">AND</span> <span class="s1">'2018-11-12'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+---------------------+---------------------+</span>
<span class="o">|</span> <span class="n">a</span>          <span class="o">|</span> <span class="n">b</span>                   <span class="o">|</span> <span class="k">c</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+---------------------+---------------------+</span>
<span class="o">|</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span> <span class="o">|</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span> <span class="mi">05</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span> <span class="mi">05</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+---------------------+---------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="greatest">GREATEST</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">GREATEST(value1,value2,...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>With two or more arguments, returns the largest (maximum-valued)
argument. The arguments are compared using the same rules as for
<a href="#least">LEAST()</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GREATEST</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="n">GREATEST</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">GREATEST</span><span class="p">(</span><span class="mi">34</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">767</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="n">GREATEST</span><span class="p">(</span><span class="mi">34</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">767</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span>                        <span class="mi">767</span><span class="p">.</span><span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">GREATEST</span><span class="p">(</span><span class="s1">'B'</span><span class="p">,</span><span class="s1">'A'</span><span class="p">,</span><span class="s1">'C'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">GREATEST</span><span class="p">(</span><span class="s1">'B'</span><span class="p">,</span><span class="s1">'A'</span><span class="p">,</span><span class="s1">'C'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="k">C</span>                     <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="des_decrypt">DES_DECRYPT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DES_DECRYPT(crypt_str[,key_str])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Decrypts a string encrypted with <code><a href="#des_encrypt">DES_ENCRYPT()</a></code>. If an error occurs,
this function returns <code>NULL</code>.</p>
<p>This function works only if MariaDB has been configured with <a href="https://mariadb.com/kb/en/secure-connections-overview/">TLS
support</a>.</p>
<p>If no <code>key_str</code> argument is given, <code>DES_DECRYPT()</code> examines the first byte
of the encrypted string to determine the DES key number that was used
to encrypt the original string, and then reads the key from the DES
key file to decrypt the message. For this to work, the user must have
the SUPER privilege. The key file can be specified with the
<code>--des-key-file</code> server option.</p>
<p>If you pass this function a <code>key_str</code> argument, that string is used as
the key for decrypting the message.</p>
<p>If the <code>crypt_str</code> argument does not appear to be an encrypted string,
MariaDB returns the given crypt_str.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="des_encrypt">DES_ENCRYPT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DES_ENCRYPT(str[,{key_num|key_str}])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Encrypts the string with the given key using the Triple-DES algorithm.</p>
<p>This function works only if MariaDB has been configured with <a href="https://mariadb.com/kb/en/secure-connections-overview/">TLS support</a>.</p>
<p>The encryption key to use is chosen based on the second argument to
<code>DES_ENCRYPT()</code>, if one was given. With no argument, the first key from
the DES key file is used. With a <em><code>key_num</code></em> argument, the given key 
number (0-9) from the DES key file is used. With a <em><code>key_str</code></em> argument,
the given key string is used to encrypt <em><code>str</code></em>. </p>
<p>The key file can be specified with the <code>--des-key-file</code> server option.</p>
<p>The return string is a binary string where the first character is 
<code>CHAR(128 | key_num)</code>. If an error occurs, <code>DES_ENCRYPT()</code> returns <code>NULL</code>.</p>
<p>The 128 is added to make it easier to recognize an encrypted key. If
you use a string key, <em><code>key_num</code></em> is 127.</p>
<p>The string length for the result is given by this formula:</p>
<pre class="fixed">new_len = orig_len + (8 - (orig_len % 8)) + 1
</pre><p>Each line in the DES key file has the following format:</p>
<pre class="fixed">key_num des_key_str
</pre><p>Each <em><code>key_num</code></em> value must be a number in the range from 0 to 9. Lines in
the file may be in any order. <em><code>des_key_str</code></em> is the string that is used
to encrypt the message. There should be at least one space between the
number and the key. The first key is the default key that is used if
you do not specify any key argument to <code>DES_ENCRYPT()</code>.</p>
<p>You can tell MariaDB to read new key values from the key file with the
FLUSH DES_KEY_FILE statement. This requires the RELOAD privilege.</p>
<p>One benefit of having a set of default keys is that it gives
applications a way to check for the existence of encrypted column
values, without giving the end user the right to decrypt those values.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">customer_address</span> <span class="k">FROM</span> <span class="n">customer_table</span> 
   <span class="k">WHERE</span> <span class="n">crypted_credit_card</span> <span class="o">=</span> <span class="n">DES_ENCRYPT</span><span class="p">(</span><span class="s1">'credit_card_number'</span><span class="p">);</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#des_decrypt">DES_DECRYPT()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="encode">ENCODE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ENCODE(str,pass_str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<div class="cstm-style redbox"><p>ENCODE is not considered cryptographically secure, and should not be used for password encryption.</p>
</div><p>Encrypt <code>str</code> using <code>pass_str</code> as the password. To decrypt the result, use
<code><a href="#decode">DECODE()</a></code>.</p>
<p>The result is a binary string of the same length as <code>str</code>.</p>
<p>The strength of the encryption is based on how good the random generator is. </p>
<p>It is not recommended to rely on the encryption performed by the ENCODE function. Using a salt value (changed when a password is updated) will improve matters somewhat, but for storing passwords, consider a more cryptographically secure function, such as <a href="#sha2">SHA2()</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="n">ENCODE</span><span class="p">(</span><span class="s1">'not so secret text'</span><span class="p">,</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'random_salt'</span><span class="p">,</span><span class="s1">'password'</span><span class="p">))</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="encrypt">ENCRYPT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ENCRYPT(str[,salt])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Encrypts a string using the Unix crypt() system call, returning an encrypted binary string. The <code>salt</code> argument should be a string with at least two characters or the returned result will be NULL. If no salt argument is given, a random value of sufficient length is used.</p>
<p>It is not recommended to use ENCRYPT() with utf16, utf32 or ucs2 multi-byte character sets because the crypt() system call expects a string terminated with a zero byte.</p>
<p>Note that the underlying crypt() system call may have some limitations, such as ignoring all but the first eight characters.</p>
<p>If the <a href="https://mariadb.com/kb/en/server-system-variables/#have_crypt">have_crypt</a> system variable is set to <code>NO</code> (because the crypt() system call is not available), the ENCRYPT function will always return NULL.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">ENCRYPT</span><span class="p">(</span><span class="s1">'encrypt me'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">ENCRYPT</span><span class="p">(</span><span class="s1">'encrypt me'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="mi">4</span><span class="n">I5BsEx0lqTDk</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="interval">INTERVAL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">INTERVAL(N,N1,N2,N3,...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the index of the last argument that is less than the first argument or is NULL. </p>
<p>Returns 0 if N &lt; N1, 1 if N &lt; N2, 2 if N &lt; N3 and so on or -1 if N is NULL. All
arguments are treated as integers. It is required that N1 &lt; N2 &lt; N3 &lt;
... &lt; Nn for this function to work correctly. This is because a fast binary
search is used. </p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT INTERVAL(23, 1, 15, 17, 30, 44, 200);
+--------------------------------------+
| INTERVAL(23, 1, 15, 17, 30, 44, 200) |
+--------------------------------------+
|                                    3 |
+--------------------------------------+

SELECT INTERVAL(10, 1, 10, 100, 1000);
+--------------------------------+
| INTERVAL(10, 1, 10, 100, 1000) |
+--------------------------------+
|                              2 |
+--------------------------------+

SELECT INTERVAL(22, 23, 30, 44, 200);
+-------------------------------+
| INTERVAL(22, 23, 30, 44, 200) |
+-------------------------------+
|                             0 |
+-------------------------------+

SELECT INTERVAL(10, 2, NULL);
+-----------------------+
| INTERVAL(10, 2, NULL) |
+-----------------------+
|                     2 |
+-----------------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="is-not-null">IS NOT NULL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">IS NOT NULL
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Tests whether a value is not NULL. See also <a href="https://mariadb.com/kb/en/null-values-in-mariadb/">NULL Values in MariaDB</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT 1 IS NOT NULL, 0 IS NOT NULL, NULL IS NOT NULL;
+---------------+---------------+------------------+
| 1 IS NOT NULL | 0 IS NOT NULL | NULL IS NOT NULL |
+---------------+---------------+------------------+
|             1 |             1 |                0 |
+---------------+---------------+------------------+
</pre><h2 class="anchored_heading" id="see-also">See also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/null-values/">NULL values</a>
</li><li><a href="#is-null">IS NULL operator</a>
</li><li><a href="#coalesce">COALESCE function</a>
</li><li><a href="#ifnull">IFNULL function</a>
</li><li><a href="#nullif">NULLIF function</a>
</li><li><a href="https://mariadb.com/kb/en/connect-data-types/#null-handling">CONNECT data types</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="isnull">ISNULL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ISNULL(expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>If <em><code>expr</code></em> is NULL, ISNULL() returns 1, otherwise it returns 0.</p>
<p>See also <a href="https://mariadb.com/kb/en/null-values-in-mariadb/">NULL Values in MariaDB</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT ISNULL(1+1);
+-------------+
| ISNULL(1+1) |
+-------------+
|           0 |
+-------------+

SELECT ISNULL(1/0);
+-------------+
| ISNULL(1/0) |
+-------------+
|           1 |
+-------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="operator-precedence">Operator Precedence</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>The precedence is the order in which the SQL operators are evaluated.</p>
<p>The following list shows the SQL operator precedence. Operators that appear first in the list have a higher precedence. Operators which are listed together have the same precedence.</p>
<ul><li><code><a href="https://mariadb.com/kb/en/date-and-time-units/">INTERVAL</a></code>
</li><li><code><a href="#binary-operator">BINARY</a></code>, <code><a href="https://mariadb.com/kb/en/setting-character-sets-and-collations/#literals">COLLATE</a></code>
</li><li><code><a href="#not">!</a></code>
</li><li><code><a href="#subtraction-operator-">-</a></code> (unary minus), [[bitwise-not|]] (unary bit inversion)
</li><li><code>||</code> (string concatenation)
</li><li><code><a href="#bitwise-xor">^</a></code>
</li><li><code><a href="#multiplication-operator">*</a></code>, <code><a href="#division-operator">/</a></code>, <code><a href="#div">DIV</a></code>, <code><a href="#modulo-operator">%</a></code>, <code><a href="#mod">MOD</a></code>
</li><li><code><a href="#subtraction-operator-">-</a></code>, <code><a href="#addition-operator">+</a></code>
</li><li><code><a href="#shift-left">&lt;&lt;</a></code>, <code><a href="#shift-right">&gt;&gt;</a></code>
</li><li><code><a href="bitwise-and">&amp;</a></code>
</li><li><code><a href="#bitwise-or">|</a></code>
</li><li><code><a href="#equal">=</a></code> (comparison), <code><a href="#null-safe-equal">&lt;=&gt;</a></code>, <code><a href="#greater-than-or-equal">&gt;=</a></code>, <code><a href="#greater-than">&gt;</a></code>, <code><a href="#less-than-or-equal">&lt;=</a></code>, <code><a href="#less-than">&lt;</a></code>, <code><a href="#not-equal">&lt;&gt;</a></code>, <code><a href="#not-equal">!=</a></code>, <code><a href="#is">IS</a></code>, <code><a href="#like">LIKE</a></code>, <code><a href="https://mariadb.com/kb/en/regexp/">REGEXP</a></code>, <code><a href="#in">IN</a></code>
</li><li><code><a href="#between-and">BETWEEN</a></code>, <a href="#case-operator"><code>CASE</code>, <code>WHEN</code>, <code>THEN</code>, <code>ELSE</code>, <code>END</code></a>
</li><li><code><a href="#not">NOT</a></code>
</li><li><code><a href="#and">&amp;&amp;</a></code>, <code><a href="#and">AND</a></code>
</li><li><code><a href="#xor">XOR</a></code>
</li><li><code><a href="#or">||</a></code> (logical or), <code><a href="#or">OR</a></code>
</li><li><code><a href="#assignment-operators-assignment-operator">=</a></code> (assignment), <code><a href="#assignment-operator">:=</a></code>
</li></ul>
<p>Functions precedence is always higher than operators precedence.</p>
<p>In this page <code>CASE</code> refers to the <a href="#case-operator">CASE operator</a>, not to the <a href="#case-statement">CASE statement</a><code>.</code></p>
<p>If the <code>HIGH_NOT_PRECEDENCE</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is set, <code>NOT</code> has the same precedence as <code>!</code>.</p>
<p>The <code>||</code> operator's precedence, as well as its meaning, depends on the <code>PIPES_AS_CONCAT</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> flag: if it is on, <code>||</code> can be used to concatenate strings (like the <a href="#concat">CONCAT()</a> function) and has a higher precedence.</p>
<p>The <code>=</code> operator's precedence depends on the context - it is higher when <code>=</code> is used as a comparison operator.</p>
<p><a href="https://mariadb.com/kb/en/parenthesis/">Parenthesis</a> can be used to modify the operators precedence in an expression.</p>
<h2 class="anchored_heading" id="short-circuit-evaluation">Short-circuit evaluation</h2>
<p>The <code>AND</code>, <code>OR</code>, <code>&amp;&amp;</code> and <code>||</code> operators support short-circuit evaluation. This means that, in some cases, the expression on the right of those operators is not evaluated, because its result cannot affect the result. In the following cases, short-circuit evaluation is used and <code>x()</code> is not evaluated:</p>
<ul start="1"><li><code>FALSE AND x()</code>
</li><li><code>FALSE &amp;&amp; x()</code>
</li><li><code>TRUE OR x()</code>
</li><li><code>TRUE || x()</code>
</li><li><code>NULL BETWEEN x() AND x()</code>
</li></ul>
<p>Note however that the short-circuit evaluation does <em>not</em> apply to <code>NULL AND x()</code>. Also, <code>BETWEEN</code>'s right operands are not evaluated if the left operand is <code>NULL</code>, but in all other cases all the operands are evaluated.</p>
<p>This is a speed optimization. Also, since functions can have side-effects, this behavior can be used to choose whether execute them or not using a concise syntax:</p>
<pre class="fixed">SELECT some_function() OR log_error();
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="bitwise_and">&amp;</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">&amp;
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Bitwise AND. Converts the values to binary and compares bits. Only if both the corresponding bits are 1 is the resulting bit also 1.</p>
<p>See also <a href="#bitwise-or">bitwise OR</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT 2&amp;1;
+-----+
| 2&amp;1 |
+-----+
|   0 |
+-----+

SELECT 3&amp;1;
+-----+
| 3&amp;1 |
+-----+
|   1 |
+-----+

SELECT 29 &amp; 15;
+---------+
| 29 &amp; 15 |
+---------+
|      13 |
+---------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="old_password">OLD_PASSWORD</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="old_passwordsyntax">Syntax</h2>
<pre class="fixed">OLD_PASSWORD(str)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#old_passwordsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#old_passworddescription" title="Description">Description</a></li>
<li class=""><a href="#old_passwordsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="old_passworddescription">Description</h2>
<p><code>OLD_PASSWORD()</code> was added to MySQL when the implementation of 
<a href="#password">PASSWORD()</a> was changed to improve security. <code>OLD_PASSWORD()</code> returns the
value of the old (pre-MySQL 4.1) implementation of PASSWORD() as a
string, and is intended to permit you to reset passwords for any
pre-4.1 clients that need to connect to a more recent MySQL server version, or any version of MariaDB,
without locking them out.</p>
<p>As of <a href="https://mariadb.com/kb/en/what-is-mariadb-55/">MariaDB 5.5</a>, the return value is a nonbinary string in the connection <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set and collation</a>, determined by the values of the <a href="https://mariadb.com/kb/en/server-system-variables/#character_set_connection">character_set_connection</a> and <a href="https://mariadb.com/kb/en/server-system-variables/#collation_connection">collation_connection</a> system variables. Before 5.5, the return value was a binary string.</p>
<p>The return value is 16 bytes in length, or NULL if the argument was NULL.</p>
<h2 class="anchored_heading" id="old_passwordsee-also">See Also</h2>
<ul start="1"><li><a href="#password">PASSWORD()</a>
</li><li><a href="http://dev.mysql.com/doc/refman/5.1/en/password-hashing.html">MySQL manual on password hashing</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="sha1">SHA1</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHA1(str), SHA(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Calculates an SHA-1 160-bit checksum for the string <em><code>str</code></em>, as described in
RFC 3174 (Secure Hash Algorithm).</p>
<p>The value is returned as a string of 40 hex digits, or NULL if the argument was NULL. As of <a href="https://mariadb.com/kb/en/what-is-mariadb-55/">MariaDB 5.5</a>, the return value is a nonbinary string in the connection <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set and collation</a>, determined by the values of the <a href="https://mariadb.com/kb/en/server-system-variables/#character_set_connection">character_set_connection</a> and <a href="https://mariadb.com/kb/en/server-system-variables/#collation_connection">collation_connection</a> system variables. Before 5.5, the return value was a binary string.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SHA1</span><span class="p">(</span><span class="s1">'some boring text'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
<span class="o">|</span> <span class="n">SHA1</span><span class="p">(</span><span class="s1">'some boring text'</span><span class="p">)</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
<span class="o">|</span> <span class="n">af969fc2085b1bb6d31e517d5c456def5cdd7093</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="sha2">SHA2</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHA2(str,hash_len)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Given a string <em><code>str</code></em>, calculates an SHA-2 checksum, which is considered more cryptographically secure than its <a href="#sha1">SHA-1</a> equivalent. The SHA-2 family includes SHA-224, SHA-256, SHA-384, and SHA-512, and the <em><code>hash_len</code></em> must correspond to one of these, i.e. 224, 256, 384 or 512. 0 is equivalent to 256.</p>
<p>The return value is a nonbinary string in the connection <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set and collation</a>, determined by the values of the <a href="https://mariadb.com/kb/en/server-system-variables/#character_set_connection">character_set_connection</a> and <a href="https://mariadb.com/kb/en/server-system-variables/#collation_connection">collation_connection</a> system variables. </p>
<p>NULL is returned if the hash length is not valid, or the string <code>str</code> is NULL.</p>
<p>SHA2 will only work if MariaDB was has been configured with <a href="https://mariadb.com/kb/en/secure-connections-overview/">TLS support</a>. </p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SHA2</span><span class="p">(</span><span class="s1">'Maria'</span><span class="p">,</span><span class="mi">224</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">SHA2</span><span class="p">(</span><span class="s1">'Maria'</span><span class="p">,</span><span class="mi">224</span><span class="p">)</span>                                        <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">6</span><span class="n">cc67add32286412efcab9d0e1675a43a5c2ef3cec8879f81516ff83</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">SHA2</span><span class="p">(</span><span class="s1">'Maria'</span><span class="p">,</span><span class="mi">256</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">SHA2</span><span class="p">(</span><span class="s1">'Maria'</span><span class="p">,</span><span class="mi">256</span><span class="p">)</span>                                                <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">9</span><span class="n">ff18ebe7449349f358e3af0b57cf7a032c1c6b2272cb2656ff85eb112232f16</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">SHA2</span><span class="p">(</span><span class="s1">'Maria'</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">SHA2</span><span class="p">(</span><span class="s1">'Maria'</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>                                                  <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">9</span><span class="n">ff18ebe7449349f358e3af0b57cf7a032c1c6b2272cb2656ff85eb112232f16</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="uncompress">UNCOMPRESS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">UNCOMPRESS(string_to_uncompress)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Uncompresses a string compressed by the <code><a href="#compress">COMPRESS()</a></code> function. If the
argument is not a compressed value, the result is <code>NULL</code>. This function
requires MariaDB to have been compiled with a compression library such
as zlib. Otherwise, the return value is always <code>NULL</code>. The <a href="https://mariadb.com/kb/en/server-system-variables/#have_compress">have_compress</a> server system variable indicates whether a compression library is present. </p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">UNCOMPRESS</span><span class="p">(</span><span class="n">COMPRESS</span><span class="p">(</span><span class="s1">'a string'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="n">UNCOMPRESS</span><span class="p">(</span><span class="n">COMPRESS</span><span class="p">(</span><span class="s1">'a string'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="n">a</span> <span class="n">string</span>                         <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>

<span class="k">SELECT</span> <span class="n">UNCOMPRESS</span><span class="p">(</span><span class="s1">'a string'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="n">UNCOMPRESS</span><span class="p">(</span><span class="s1">'a string'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="k">NULL</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="uncompressed_length">UNCOMPRESSED_LENGTH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">UNCOMPRESSED_LENGTH(compressed_string)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the length that the compressed string had before being
compressed with <code><a href="#compress">COMPRESS()</a></code>.</p>
<p><code>UNCOMPRESSED_LENGTH()</code> returns <code>NULL</code> or an incorrect result if the string is not compressed.</p>
<p>Until <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>, returns <code>MYSQL_TYPE_LONGLONG</code>, or <a href="#bigint">bigint(10)</a>, in all cases. From <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>, returns <code>MYSQL_TYPE_LONG</code>, or <a href="https://mariadb.com/kb/en/int/">int(10)</a>, when the result would fit within 32-bits.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">UNCOMPRESSED_LENGTH</span><span class="p">(</span><span class="n">COMPRESS</span><span class="p">(</span><span class="n">REPEAT</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">30</span><span class="p">)));</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
<span class="o">|</span> <span class="n">UNCOMPRESSED_LENGTH</span><span class="p">(</span><span class="n">COMPRESS</span><span class="p">(</span><span class="n">REPEAT</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">30</span><span class="p">)))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
<span class="o">|</span>                                            <span class="mi">30</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="shift-left">&lt;&lt;</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">value1 &lt;&lt; value2
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Converts a longlong (<a href="#bigint">BIGINT</a>) number (<em>value1</em>) to binary and shifts <em>value2</em> units to the left.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT 1 &lt;&lt; 2;
+--------+
| 1 &lt;&lt; 2 |
+--------+
|      4 |
+--------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="shift-right">&gt;&gt;</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">value1 &gt;&gt; value2
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Converts a longlong (<a href="#bigint">BIGINT</a>) number (<em>value1</em>) to binary and shifts <em>value2</em> units to the right.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT 4 &gt;&gt; 2;
+--------+
| 4 &gt;&gt; 2 |
+--------+
|      1 |
+--------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="bit_count">BIT_COUNT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">BIT_COUNT(N)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the number of bits that are set in the argument N.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT BIT_COUNT(29), BIT_COUNT(b'101010');
+---------------+----------------------+
| BIT_COUNT(29) | BIT_COUNT(b'101010') |
+---------------+----------------------+
|             4 |                    3 |
+---------------+----------------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="bitwise-xor">^</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">^
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Bitwise XOR. Converts the values to binary and compares bits. If one (and only one) of the corresponding bits is 1 is the resulting bit also 1.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT 1 ^ 1;
+-------+
| 1 ^ 1 |
+-------+
|     0 |
+-------+

SELECT 1 ^ 0;
+-------+
| 1 ^ 0 |
+-------+
|     1 |
+-------+

SELECT 11 ^ 3;
+--------+
| 11 ^ 3 |
+--------+
|      8 |
+--------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="bitwise-or">|</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">|
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Bitwise OR. Converts the values to binary and compares bits. If either of the corresponding bits has a value of 1, the resulting bit is also 1.</p>
<p>See also <a href="#bitwise_and">bitwise AND</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT 2|1;
+-----+
| 2|1 |
+-----+
|   3 |
+-----+

SELECT 29 | 15;
+---------+
| 29 | 15 |
+---------+
|      31 |
+---------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="get_lock">GET_LOCK</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="get_locksyntax">Syntax</h2>
<pre class="fixed">GET_LOCK(str,timeout)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#get_locksyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#get_lockdescription" title="Description">Description</a></li>
<li class=""><a href="#get_lockexamples" title="Examples">Examples</a></li>
<li class=""><a href="#get_locksee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="get_lockdescription">Description</h2>
<p>Tries to obtain a lock with a name given by the string <code>str</code>, using a timeout of <code>timeout</code> seconds. Returns <code>1</code> if the lock was obtained successfully, <code>0</code> if the attempt timed out (for example, because another client has previously locked the name), or  <code>NULL</code> if an error occurred (such as running out of memory or the thread was killed with <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin</a> kill).</p>
<p>A lock is released with <a href="#release_lock">RELEASE_LOCK()</a>, when the connection terminates (either normally or abnormally), or before <a href="https://mariadb.com/kb/en/mariadb-1002-release-notes/">MariaDB 10.0.2</a>, when the connection executes another <code>GET_LOCK</code> statement. From <a href="https://mariadb.com/kb/en/mariadb-1002-release-notes/">MariaDB 10.0.2</a>, a connection can hold multiple locks at the same time, so a lock that is no longer needed needs to be explicitly released.</p>
<p>The <a href="#is_free_lock">IS_FREE_LOCK</a> function returns whether a specified lock a free or not, and the <a href="#is_used_lock">IS_USED_LOCK</a> whether the function is in use or not.</p>
<p>Locks obtained with <code>GET_LOCK()</code> do not interact with transactions. That is, committing a transaction does not release any such locks obtained during the transaction.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1002-release-notes/">MariaDB 10.0.2</a>, it is also possible to recursively set the same lock. If a lock with the same name is set <code>n</code> times, it needs to be released <code>n</code> times as well. </p>
<p><code>str</code> is case insensitive for <code>GET_LOCK()</code> and related functions. If <code>str</code> is an empty string or <code>NULL</code>, <code>GET_LOCK()</code> returns <code>NULL</code> and does nothing. From <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>, <code>timeout</code> supports microseconds. Before then, it was rounded to the closest integer.</p>
<p>If the <a href="https://mariadb.com/kb/en/metadata-lock-info/">metadata_lock_info</a> plugin is installed, locks acquired with this function are visible in the <a href="https://mariadb.com/kb/en/information_schema/">Information Schema</a> <a href="https://mariadb.com/kb/en/information-schema-metadata_lock_info-table/">METADATA_LOCK_INFO</a> table.</p>
<p>This function can be used to implement application locks or to simulate record locks. Names are locked on a server-wide basis. If a name has been locked by one client, <code>GET_LOCK()</code> blocks any request by another client for a lock with the same name. This allows clients that agree on a given lock name to use the name to perform cooperative advisory locking. But be aware that it also allows a client that is not among the set of cooperating clients to lock a name, either inadvertently or deliberately, and thus prevent any of the cooperating clients from locking that name. One way to reduce the likelihood of this is to use lock names that are database-specific or application-specific. For example, use lock names of the form <code>db_name.str</code> or <code>app_name.str</code>.</p>
<p>Statements using the <code>GET_LOCK</code> function are <a href="https://mariadb.com/kb/en/unsafe-statements-for-statement-based-replication/">not safe for statement-based replication</a>.</p>
<p>The patch to permit multiple locks was <a href="http://kostja-osipov.livejournal.com/46410.html">contributed by Konstantin "Kostja" Osipov</a> (<a href="https://jira.mariadb.org/browse/MDEV-3917">MDEV-3917</a>).</p>
<h2 class="anchored_heading" id="get_lockexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">IS_FREE_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">),</span> <span class="n">IS_USED_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>
<span class="o">|</span> <span class="n">IS_FREE_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">)</span> <span class="o">|</span> <span class="n">IS_USED_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>
<span class="o">|</span>                     <span class="mi">0</span> <span class="o">|</span>                    <span class="mi">46</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>

<span class="k">SELECT</span> <span class="n">IS_FREE_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">),</span> <span class="n">IS_USED_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>
<span class="o">|</span> <span class="n">IS_FREE_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">)</span> <span class="o">|</span> <span class="n">IS_USED_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>
<span class="o">|</span>                     <span class="mi">1</span> <span class="o">|</span>                  <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1002-release-notes/">MariaDB 10.0.2</a>, multiple locks can be held:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">IS_FREE_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">),</span> <span class="n">IS_FREE_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>
<span class="o">|</span> <span class="n">IS_FREE_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">)</span> <span class="o">|</span> <span class="n">IS_FREE_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>
<span class="o">|</span>                     <span class="mi">0</span> <span class="o">|</span>                     <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>

<span class="k">SELECT</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">),</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>
<span class="o">|</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">)</span> <span class="o">|</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>
<span class="o">|</span>                     <span class="mi">1</span> <span class="o">|</span>                     <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>
</pre><p>Before <a href="https://mariadb.com/kb/en/mariadb-1002-release-notes/">MariaDB 10.0.2</a>, a connection could only hold a single lock:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">IS_FREE_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">),</span> <span class="n">IS_FREE_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>
<span class="o">|</span> <span class="n">IS_FREE_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">)</span> <span class="o">|</span> <span class="n">IS_FREE_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>
<span class="o">|</span>                     <span class="mi">1</span> <span class="o">|</span>                     <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>

<span class="k">SELECT</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">),</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>
<span class="o">|</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">)</span> <span class="o">|</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>
<span class="o">|</span>                  <span class="k">NULL</span> <span class="o">|</span>                     <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1002-release-notes/">MariaDB 10.0.2</a>, it is possible to hold the same lock recursively. This example is viewed using the <a href="https://mariadb.com/kb/en/metadata-lock-info/">metadata_lock_info</a> plugin:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">METADATA_LOCK_INFO</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+---------------------+---------------+-----------+--------------+------------+</span>
<span class="o">|</span> <span class="n">THREAD_ID</span> <span class="o">|</span> <span class="n">LOCK_MODE</span>           <span class="o">|</span> <span class="n">LOCK_DURATION</span> <span class="o">|</span> <span class="n">LOCK_TYPE</span> <span class="o">|</span> <span class="n">TABLE_SCHEMA</span> <span class="o">|</span> <span class="k">TABLE_NAME</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+---------------------+---------------+-----------+--------------+------------+</span>
<span class="o">|</span>        <span class="mi">46</span> <span class="o">|</span> <span class="n">MDL_SHARED_NO_WRITE</span> <span class="o">|</span> <span class="k">NULL</span>          <span class="o">|</span> <span class="k">User</span> <span class="k">lock</span> <span class="o">|</span> <span class="n">lock3</span>        <span class="o">|</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+---------------------+---------------+-----------+--------------+------------+</span>

<span class="k">SELECT</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                     <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">METADATA_LOCK_INFO</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+---------------------+---------------+-----------+--------------+------------+</span>
<span class="o">|</span> <span class="n">THREAD_ID</span> <span class="o">|</span> <span class="n">LOCK_MODE</span>           <span class="o">|</span> <span class="n">LOCK_DURATION</span> <span class="o">|</span> <span class="n">LOCK_TYPE</span> <span class="o">|</span> <span class="n">TABLE_SCHEMA</span> <span class="o">|</span> <span class="k">TABLE_NAME</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+---------------------+---------------+-----------+--------------+------------+</span>
<span class="o">|</span>        <span class="mi">46</span> <span class="o">|</span> <span class="n">MDL_SHARED_NO_WRITE</span> <span class="o">|</span> <span class="k">NULL</span>          <span class="o">|</span> <span class="k">User</span> <span class="k">lock</span> <span class="o">|</span> <span class="n">lock3</span>        <span class="o">|</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+---------------------+---------------+-----------+--------------+------------+</span>

<span class="k">SELECT</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                     <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">METADATA_LOCK_INFO</span><span class="p">;</span>
<span class="n">Empty</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>Timeout example: Connection 1:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock4'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock4'</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre><p>Connection 2:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock4'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
</pre><p>After 10 seconds...</p>
<pre class="fixed"><span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock4'</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre><p>Deadlocks are automatically detected and resolved. Connection 1:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock5'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> 
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock5'</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre><p>Connection 2:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock6'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock6'</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre><p>Connection 1:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock6'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> 
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock6'</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre><p>Connection 2:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock5'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1213</span> <span class="p">(</span><span class="mi">40001</span><span class="p">):</span> <span class="n">Deadlock</span> <span class="k">found</span> <span class="k">when</span> <span class="n">trying</span> <span class="k">to</span> <span class="k">get</span> <span class="k">lock</span><span class="p">;</span> <span class="n">try</span> <span class="n">restarting</span> <span class="n">transaction</span>
</pre><h2 class="anchored_heading" id="get_locksee-also">See Also</h2>
<ul start="1"><li><a href="#release_lock">RELEASE_LOCK</a>
</li><li><a href="#is_free_lock">IS_FREE_LOCK</a>
</li><li><a href="#is_used_lock">IS_USED_LOCK</a>
</li><li><a href="https://mariadb.com/kb/en/release_all_locks/">RELEASE_ALL_LOCKS</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="inet6_aton">INET6_ATON</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">INET6_ATON(expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Given an IPv6 or IPv4 network address as a string, returns a binary string that represents the numeric value of the address.</p>
<p>No trailing zone ID's or traling network masks are permitted. For IPv4 addresses, or IPv6 addresses with IPv4 address parts, no classful addresses or trailing port numbers are permitted and octal numbers are not supported.</p>
<p>The returned binary string will be <a href="#varbinary">VARBINARY(16)</a> or <a href="#varbinary">VARBINARY(4)</a> for IPv6 and IPv4 addresses respectively.</p>
<p>Returns NULL if the argument is not understood.</p>
<div class="mariadb_from_10_5_0 mariadb from_10_5_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">10.5.0</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>, <code>INET6_ATON</code> can take <a href="https://mariadb.com/kb/en/inet6/">INET6</a> as an argument.</p>
</div><h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">HEX</span><span class="p">(</span><span class="n">INET6_ATON</span><span class="p">(</span><span class="s1">'10.0.1.1'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="n">HEX</span><span class="p">(</span><span class="n">INET6_ATON</span><span class="p">(</span><span class="s1">'10.0.1.1'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="n">A000101</span>                    <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>

<span class="k">SELECT</span> <span class="n">HEX</span><span class="p">(</span><span class="n">INET6_ATON</span><span class="p">(</span><span class="s1">'48f3::d432:1431:ba23:846f'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span> <span class="n">HEX</span><span class="p">(</span><span class="n">INET6_ATON</span><span class="p">(</span><span class="s1">'48f3::d432:1431:ba23:846f'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span> <span class="mi">48</span><span class="n">F3000000000000D4321431BA23846F</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#inet6_ntoa">INET6_NTOA()</a>
</li><li><a href="#inet_aton">INET_ATON()</a>
</li><li><a href="https://mariadb.com/kb/en/inet6/">INET6</a> Data Type</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="inet6_ntoa">INET6_NTOA</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#inet6_ntoasyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#inet6_ntoadescription" title="Description">Description</a></li>
<li class=""><a href="#inet6_ntoaexamples" title="Examples">Examples</a></li>
<li class=""><a href="#inet6_ntoasee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="inet6_ntoasyntax">Syntax</h2>
<pre class="fixed">INET6_NTOA(expr)
</pre><h2 class="anchored_heading" id="inet6_ntoadescription">Description</h2>
<p>Given an IPv6 or IPv4 network address as a numeric binary string, returns the address as a nonbinary string in the connection character set.</p>
<p>The return string is lowercase, and is platform independent, since it does not use functions specific to the operating system. It has a maximum length of 39 characters.</p>
<p>Returns NULL if the argument is not understood.</p>
<h2 class="anchored_heading" id="inet6_ntoaexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">INET6_NTOA</span><span class="p">(</span><span class="n">UNHEX</span><span class="p">(</span><span class="s1">'0A000101'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="n">INET6_NTOA</span><span class="p">(</span><span class="n">UNHEX</span><span class="p">(</span><span class="s1">'0A000101'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span>                      <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>

<span class="k">SELECT</span> <span class="n">INET6_NTOA</span><span class="p">(</span><span class="n">UNHEX</span><span class="p">(</span><span class="s1">'48F3000000000000D4321431BA23846F'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">INET6_NTOA</span><span class="p">(</span><span class="n">UNHEX</span><span class="p">(</span><span class="s1">'48F3000000000000D4321431BA23846F'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">48</span><span class="n">f3</span><span class="p">::</span><span class="n">d432</span><span class="p">:</span><span class="mi">1431</span><span class="p">:</span><span class="n">ba23</span><span class="p">:</span><span class="mi">846</span><span class="n">f</span>                             <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="inet6_ntoasee-also">See Also</h2>
<ul start="1"><li><a href="#inet6_aton">INET6_ATON()</a>
</li><li><a href="#inet_ntoa">INET_NTOA()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="is_ipv4">IS_IPV4</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">IS_IPV4(expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>If the expression is a valid IPv4 address, returns 1, otherwise returns 0.</p>
<p>IS_IPV4() is stricter than <a href="#inet_aton">INET_ATON()</a>, but as strict as <a href="#inet6_aton">INET6_ATON()</a>, in determining the validity of an IPv4 address. This implies that if IS_IPV4 returns 1, the same expression will always return a non-NULL result when passed to INET_ATON(), but that the reverse may not apply.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">IS_IPV4</span><span class="p">(</span><span class="s1">'1110.0.1.1'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">IS_IPV4</span><span class="p">(</span><span class="s1">'1110.0.1.1'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                     <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>

<span class="k">SELECT</span> <span class="n">IS_IPV4</span><span class="p">(</span><span class="s1">'48f3::d432:1431:ba23:846f'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
<span class="o">|</span> <span class="n">IS_IPV4</span><span class="p">(</span><span class="s1">'48f3::d432:1431:ba23:846f'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
<span class="o">|</span>                                    <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="is_ipv4_compat">IS_IPV4_COMPAT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">IS_IPV4_COMPAT(expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns 1 if a given numeric binary string IPv6 address, such as returned by <a href="#inet6_aton">INET6_ATON()</a>, is IPv4-compatible, otherwise returns 0. </p>
<div class="mariadb_from_10_5_0 mariadb from_10_5_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">10.5.0</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>, when the argument is not <a href="https://mariadb.com/kb/en/inet6/">INET6</a>, automatic implicit <a href="#cast">CAST</a> to INET6 is applied. As a consequence, <code>IS_IPV4_COMPAT</code> now understands arguments in both text representation and binary(16) representation. Before <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>, the function understood only binary(16) representation.</p>
</div><h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">IS_IPV4_COMPAT</span><span class="p">(</span><span class="n">INET6_ATON</span><span class="p">(</span><span class="s1">'::10.0.1.1'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
<span class="o">|</span> <span class="n">IS_IPV4_COMPAT</span><span class="p">(</span><span class="n">INET6_ATON</span><span class="p">(</span><span class="s1">'::10.0.1.1'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
<span class="o">|</span>                                        <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">IS_IPV4_COMPAT</span><span class="p">(</span><span class="n">INET6_ATON</span><span class="p">(</span><span class="s1">'::48f3::d432:1431:ba23:846f'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">IS_IPV4_COMPAT</span><span class="p">(</span><span class="n">INET6_ATON</span><span class="p">(</span><span class="s1">'::48f3::d432:1431:ba23:846f'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------+</span>
<span class="o">|</span>                                                         <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="is_ipv4_mapped">IS_IPV4_MAPPED</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">IS_IPV4_MAPPED(expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns 1 if a given a numeric binary string IPv6 address, such as returned by <a href="#inet6_aton">INET6_ATON()</a>, is a valid IPv4-mapped address, otherwise returns 0.</p>
<div class="mariadb_from_10_5_0 mariadb from_10_5_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">10.5.0</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>, when the argument is not <a href="https://mariadb.com/kb/en/inet6/">INET6</a>, automatic implicit <a href="#cast">CAST</a> to INET6 is applied. As a consequence, <code>IS_IPV4_MAPPED</code> now understands arguments in both text representation and binary(16) representation. Before <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>, the function understood only binary(16) representation.</p>
</div><h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">IS_IPV4_MAPPED</span><span class="p">(</span><span class="n">INET6_ATON</span><span class="p">(</span><span class="s1">'::10.0.1.1'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
<span class="o">|</span> <span class="n">IS_IPV4_MAPPED</span><span class="p">(</span><span class="n">INET6_ATON</span><span class="p">(</span><span class="s1">'::10.0.1.1'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
<span class="o">|</span>                                        <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">IS_IPV4_MAPPED</span><span class="p">(</span><span class="n">INET6_ATON</span><span class="p">(</span><span class="s1">'::ffff:10.0.1.1'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
<span class="o">|</span> <span class="n">IS_IPV4_MAPPED</span><span class="p">(</span><span class="n">INET6_ATON</span><span class="p">(</span><span class="s1">'::ffff:10.0.1.1'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
<span class="o">|</span>                                             <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="bitwise-not">~</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">~
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Bitwise NOT. Converts the value to 4 bytes binary and inverts all bits.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT 3 &amp; ~1;
+--------+
| 3 &amp; ~1 |
+--------+
|      2 |
+--------+

SELECT 5 &amp; ~1;
+--------+
| 5 &amp; ~1 |
+--------+
|      4 |
+--------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="true-false">TRUE FALSE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="description">Description</h2>
<p>The constants TRUE and FALSE evaluate to 1 and 0, respectively. The
constant names can be written in any lettercase.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">TRUE</span><span class="p">,</span> <span class="k">true</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">,</span> <span class="k">false</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+-------+-------+</span>
<span class="o">|</span> <span class="k">TRUE</span> <span class="o">|</span> <span class="k">TRUE</span> <span class="o">|</span> <span class="k">FALSE</span> <span class="o">|</span> <span class="k">FALSE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+-------+-------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+-------+-------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="check-view">CHECK VIEW</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CHECK VIEW view_name
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code>CHECK VIEW</code> statement was introduced in <a href="https://mariadb.com/kb/en/mariadb-10018-release-notes/">MariaDB 10.0.18</a> to assist with fixing <a href="https://jira.mariadb.org/browse/MDEV-6916">MDEV-6916</a>, an issue introduced in <a href="https://mariadb.com/kb/en/what-is-mariadb-52/">MariaDB 5.2</a> where the view algorithms were swapped. It checks whether the view algorithm is correct. It is run as part of <a href="https://mariadb.com/kb/en/mysql_upgrade/">mysql_upgrade</a>, and should not normally be required in regular use.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#repair-view">REPAIR VIEW</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="blob-and-text-data-types">BLOB and TEXT Data Types</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="description">Description</h2>
<p>A <code>BLOB</code> is a binary large object that can hold a variable amount of
data. The four <code>BLOB</code> types are </p>
<ul><li><a href="https://mariadb.com/kb/en/sql_language-data_types-tinyblob/">TINYBLOB</a>,
</li><li><a href="https://mariadb.com/kb/en/sql_language-data_types-blob/">BLOB</a>, 
</li><li><a href="https://mariadb.com/kb/en/sql_language-data_types-mediumblob/">MEDIUMBLOB</a>, and
</li><li><a href="https://mariadb.com/kb/en/sql_language-data_types-longblob/">LONGBLOB</a>.
</li></ul>
<p>These differ only in the maximum length of the values they can hold. </p>
<p>The <code>TEXT</code> types are </p>
<ul><li><a href="https://mariadb.com/kb/en/sql_language-data_types-tinytext/">TINYTEXT</a>,
</li><li><a href="https://mariadb.com/kb/en/sql_language-data_types-text/">TEXT</a>,
</li><li><a href="https://mariadb.com/kb/en/sql_language-data_types-mediumtext/">MEDIUMTEXT</a>, and
</li><li><a href="https://mariadb.com/kb/en/sql_language-data_types-longtext/">LONGTEXT</a>.
</li><li><a href="#json-data-type">JSON</a> (alias for LONGTEXT)
</li></ul>
<p>These correspond to the four <code>BLOB</code> types and have the same
maximum lengths and <a href="https://mariadb.com/kb/en/data-type-storage-requirements/">storage requirements</a>.</p>
<div class="mariadb_from_10_2_1 mariadb from_10_2_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">10.2.1</a></h5><p>Starting from <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a>, <code>BLOB</code> and <code>TEXT</code> columns can have a <code>DEFAULT</code> value.</p>
</div><div class="mariadb_from_10_4_3 mariadb from_10_4_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">10.4.3</a></h5><p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>, it is possible to set a <a href="https://mariadb.com/kb/en/getting-started-with-indexes/#unique-index">unique index</a> on columns that use the <code>BLOB</code> or <code>TEXT</code> data types.</p>
</div>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="master_gtid_wait">MASTER_GTID_WAIT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MASTER_GTID_WAIT(gtid-list[, timeout)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This function takes a string containing a comma-separated list of <a href="https://mariadb.com/kb/en/global-transaction-id/">global transaction id's</a>
(similar to the value of, for example, <a href="https://mariadb.com/kb/en/global-transaction-id/#gtid_binlog_pos">gtid_binlog_pos</a>). It waits until the value of <a href="https://mariadb.com/kb/en/global-transaction-id/#gtid_slave_pos">gtid_slave_pos</a> has the same or higher seq_no within all replication domains specified in the gtid-list; in other words, it waits until the slave has
reached the specified GTID position.</p>
<p>An optional second argument gives a timeout in seconds. If the timeout
expires before the specified GTID position is reached, then the function
returns -1. Passing NULL or a negative number for the timeout means no timeout, and the function will wait indefinitely.</p>
<p> If the wait completes without a timeout, 0 is returned. Passing NULL for the
 gtid-list makes the function return NULL immediately, without waiting.</p>
<p>The gtid-list may be the empty string, in which case MASTER_GTID_WAIT()
returns immediately. If the gtid-list contains fewer domains than
<a href="https://mariadb.com/kb/en/global-transaction-id/#gtid_slave_pos">gtid_slave_pos</a>, then only those domains are waited upon. If gtid-list
contains a domain that is not present in @@gtid_slave_pos, then
MASTER_GTID_WAIT() will wait until an event containing such domain_id arrives
on the slave (or until timed out or killed).</p>
<p>MASTER_GTID_WAIT() can be useful to ensure that a slave has caught up to
a master. Simply take the value of <a href="https://mariadb.com/kb/en/global-transaction-id/#gtid_binlog_pos">gtid_binlog_pos</a> on the master, and use it in a MASTER_GTID_WAIT() call on the slave; when the call completes, the slave
will have caught up with that master position.</p>
<p>MASTER_GTID_WAIT() can also be used in client applications together with the
<a href="https://mariadb.com/kb/en/global-transaction-id/#last_gtid">last_gtid</a> session variable. This is useful in a read-scaleout <a href="https://mariadb.com/kb/en/replication/">replication</a> setup, where the application writes to a single master but divides the
reads out to a number of slaves to distribute the load. In such a setup, there
is a risk that an application could first do an update on the master, and then
a bit later do a read on a slave, and if the slave is not fast enough, the
data read from the slave might not include the update just made, possibly
confusing the application and/or the end-user. One way to avoid this is to
request the value of <a href="https://mariadb.com/kb/en/global-transaction-id/#last_gtid">last_gtid</a> on the master just after the update. Then
before doing the read on the slave, do a MASTER_GTID_WAIT() on the value
obtained from the master; this will ensure that the read is not performed
until the slave has replicated sufficiently far for the update to have become
visible.</p>
<p>Note that MASTER_GTID_WAIT() can be used even if the slave is configured not
to use GTID for connections (<a ">CHANGE MASTER TO master_use_gtid=no</a>). This is
because from MariaDB 10, GTIDs are always logged on the master server, and
always recorded on the slave servers.</p>
<h2 class="anchored_heading" id="differences-to-master_pos_wait">Differences to MASTER_POS_WAIT()</h2>
<ul start="1"><li>MASTER_GTID_WAIT() is global; it waits for any master connection to reach
   the specified GTID position. <a href="#master_pos_wait">MASTER_POS_WAIT()</a> works only against a
   specific connection. This also means that while MASTER_POS_WAIT() aborts if
   its master connection is terminated with <a href="#stop-slave">STOP SLAVE</a> or due to an error,
   MASTER_GTID_WAIT() continues to wait while slaves are stopped.
</li></ul>
<ul start="1"><li>MASTER_GTID_WAIT() can take its timeout as a floating-point value, so a
   timeout in fractional seconds is supported, eg. MASTER_GTID_WAIT("0-1-100",
   0.5). (The minimum wait is one microsecond, 0.000001 seconds).
</li></ul>
<ul start="1"><li>MASTER_GTID_WAIT() allows one to specify a timeout of zero in order to do a
   non-blocking check to see if the slaves have progressed to a specific GTID position
   (MASTER_POS_WAIT() takes a zero timeout as meaning an infinite wait). To do
   an infinite MASTER_GTID_WAIT(), specify a negative timeout, or omit the
   timeout argument.
</li></ul>
<ul start="1"><li>MASTER_GTID_WAIT() does not return the number of events executed since the
   wait started, nor does it return NULL if a slave thread is stopped. It
   always returns either 0 for successful wait completed, or -1 for timeout
   reached (or NULL if the specified gtid-pos is NULL).
</li></ul>
<p>Since MASTER_GTID_WAIT() looks only at the seq_no part of the GTIDs, not the
server_id, care is needed if a slave becomes diverged from another server so
that two different GTIDs with the same seq_no (in the same domain) arrive at
the same server. This situation is in any case best avoided; setting
<a href="https://mariadb.com/kb/en/global-transaction-id/#gtid_strict_mode">gtid_strict_mode</a> is recommended, as this will prevent any such out-of-order sequence numbers from ever being replicated on a slave.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="master_pos_wait">MASTER_POS_WAIT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MASTER_POS_WAIT(log_name,log_pos[,timeout,["connection_name"]])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This function is useful in <a href="https://mariadb.com/kb/en/replication/">replication</a> for controlling primary/replica synchronization.  It blocks until the replica has read and applied all updates up to the specified position (<code>log_name,log_pos</code>) in the primary log. The return value is the number of log events the replica had to wait for to advance to the specified position. The function returns NULL if
the replica SQL thread is not started, the replica's primary information is not
initialized, the arguments are incorrect, or an error occurs. It returns -1 if
the timeout has been exceeded. If the replica SQL thread stops while
 <code class="highlight fixed" style="white-space:pre-wrap">MASTER_POS_WAIT()</code> is waiting, the function returns NULL. If
the replica is past the specified position, the function returns immediately.</p>
<p>If a <code>timeout</code> value is specified, <code class="highlight fixed" style="white-space:pre-wrap">MASTER_POS_WAIT()</code> stops
waiting when <code>timeout</code> seconds have elapsed. <code>timeout</code> must be greater than 0; a
zero or negative <code>timeout</code> means no <code>timeout</code>.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">connection_name</code> is used when you are using <a href="https://mariadb.com/kb/en/multi-source-replication/">multi-source-replication</a>.  If you don't specify it, it's set to the value of the <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#default_master_connection">default_master_connection</a> system variable.</p>
<p>Statements using the MASTER_POS_WAIT() function are not <a href="https://mariadb.com/kb/en/unsafe-statements-for-replication/">safe for replication</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="char-byte">CHAR BYTE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="description">Description</h2>
<p>The <code>CHAR BYTE</code> data type is an alias for the 
<code><a href="#binary">BINARY</a></code> data type. This is a
compatibility feature.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="longblob">LONGBLOB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LONGBLOB
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A <a href="#blob">BLOB</a> column with a 
maximum length of 4,294,967,295 bytes or 4GB (2<sup>32</sup> - 1). The effective maximum length of LONGBLOB columns depends on the
configured maximum packet size in the client/server protocol and
available memory. Each LONGBLOB value is stored using a four-byte
length prefix that indicates the number of bytes in the value.</p>
<h3 class="anchored_heading" id="oracle-mode">Oracle Mode</h3>
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#synonyms-for-basic-sql-types">Oracle mode from MariaDB 10.3</a>, <code>BLOB</code> is a synonym for <code>LONGBLOB</code>.</p>
</div><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#blob">BLOB</a>
</li><li><a href="#blob-and-text-data-types">BLOB and TEXT Data Types</a>
</li><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#synonyms-for-basic-sql-types">Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mediumblob">MEDIUMBLOB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MEDIUMBLOB
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A <a href="#blob">BLOB</a> column with a maximum
length of 16,777,215 (2<sup>24</sup> - 1) bytes.
Each MEDIUMBLOB value is stored using a three-byte length prefix that
indicates the number of bytes in the value. </p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#blob">BLOB</a>
</li><li><a href="#blob-and-text-data-types">BLOB and TEXT Data Types</a>
</li><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mediumtext">MEDIUMTEXT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MEDIUMTEXT [CHARACTER SET charset_name] [COLLATE collation_name]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A <a href="#text">TEXT</a> column with a 
maximum length of 16,777,215 (<code>2<sup>24</sup> - 1</code>)
characters.  The effective maximum length is less if the value
contains multi-byte characters. Each MEDIUMTEXT value is stored using
a three-byte length prefix that indicates the number of bytes in the
value.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#text">TEXT</a>
</li><li><a href="#blob-and-text-data-types">BLOB and TEXT Data Types</a>
</li><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="release_lock">RELEASE_LOCK</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="release_locksyntax">Syntax</h2>
<pre class="fixed">RELEASE_LOCK(str)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#release_locksyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#release_lockdescription" title="Description">Description</a></li>
<li class=""><a href="#release_lockexamples" title="Examples">Examples</a></li>
<li class=""><a href="#release_locksee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="release_lockdescription">Description</h2>
<p>Releases the lock named by the string <code>str</code> that was obtained with <a href="#get_lock">GET_LOCK()</a>. Returns 1 if the lock was released, 0 if the lock was not established by this thread (in which case the lock is not
released), and <code>NULL</code> if the named lock did not exist. The lock does not exist if it was never obtained by a call to <code>GET_LOCK()</code> or if it has previously been released.</p>
<p><code>str</code> is case insensitive. If <code>str</code> is an empty string or <code>NULL</code>, <code>RELEASE_LOCK()</code> returns <code>NULL</code> and does nothing.</p>
<p>Statements using the RELEASE_LOCK() function are not <a href="https://mariadb.com/kb/en/unsafe-statements-for-replication/">safe for replication</a>.</p>
<p>The <a href="#do">DO statement</a> is convenient to use with <code>RELEASE_LOCK()</code>.</p>
<h2 class="anchored_heading" id="release_lockexamples">Examples</h2>
<p>Connection1:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre><p>Connection 2:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre><p>Connection 1:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">),</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">),</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+-----------------------+</span>
<span class="o">|</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock1'</span><span class="p">)</span> <span class="o">|</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock2'</span><span class="p">)</span> <span class="o">|</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+-----------------------+</span>
<span class="o">|</span>                     <span class="mi">1</span> <span class="o">|</span>                     <span class="mi">0</span> <span class="o">|</span>                  <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+-----------------------+-----------------------+</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1002-release-notes/">MariaDB 10.0.2</a>, it is possible to hold the same lock recursively. This example is viewed using the <a href="https://mariadb.com/kb/en/metadata-lock-info/">metadata_lock_info</a> plugin:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">GET_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">METADATA_LOCK_INFO</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+---------------------+---------------+-----------+--------------+------------+</span>
<span class="o">|</span> <span class="n">THREAD_ID</span> <span class="o">|</span> <span class="n">LOCK_MODE</span>           <span class="o">|</span> <span class="n">LOCK_DURATION</span> <span class="o">|</span> <span class="n">LOCK_TYPE</span> <span class="o">|</span> <span class="n">TABLE_SCHEMA</span> <span class="o">|</span> <span class="k">TABLE_NAME</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+---------------------+---------------+-----------+--------------+------------+</span>
<span class="o">|</span>        <span class="mi">46</span> <span class="o">|</span> <span class="n">MDL_SHARED_NO_WRITE</span> <span class="o">|</span> <span class="k">NULL</span>          <span class="o">|</span> <span class="k">User</span> <span class="k">lock</span> <span class="o">|</span> <span class="n">lock3</span>        <span class="o">|</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+---------------------+---------------+-----------+--------------+------------+</span>

<span class="k">SELECT</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                     <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">METADATA_LOCK_INFO</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+---------------------+---------------+-----------+--------------+------------+</span>
<span class="o">|</span> <span class="n">THREAD_ID</span> <span class="o">|</span> <span class="n">LOCK_MODE</span>           <span class="o">|</span> <span class="n">LOCK_DURATION</span> <span class="o">|</span> <span class="n">LOCK_TYPE</span> <span class="o">|</span> <span class="n">TABLE_SCHEMA</span> <span class="o">|</span> <span class="k">TABLE_NAME</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+---------------------+---------------+-----------+--------------+------------+</span>
<span class="o">|</span>        <span class="mi">46</span> <span class="o">|</span> <span class="n">MDL_SHARED_NO_WRITE</span> <span class="o">|</span> <span class="k">NULL</span>          <span class="o">|</span> <span class="k">User</span> <span class="k">lock</span> <span class="o">|</span> <span class="n">lock3</span>        <span class="o">|</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+---------------------+---------------+-----------+--------------+------------+</span>

<span class="k">SELECT</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">RELEASE_LOCK</span><span class="p">(</span><span class="s1">'lock3'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                     <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">METADATA_LOCK_INFO</span><span class="p">;</span>
<span class="n">Empty</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>
</pre><h2 class="anchored_heading" id="release_locksee-also">See Also</h2>
<ul start="1"><li><a href="#get_lock">GET_LOCK</a>
</li><li><a href="#is_free_lock">IS_FREE_LOCK</a>
</li><li><a href="#is_used_lock">IS_USED_LOCK</a>
</li><li><a href="https://mariadb.com/kb/en/release_all_locks/">RELEASE_ALL_LOCKS</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="uuid">UUID</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="uuidsyntax">Syntax</h2>
<pre class="fixed">UUID()
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#uuidsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#uuiddescription" title="Description">Description</a></li>
<li class=""><a href="#uuidexamples" title="Examples">Examples</a></li>
<li class=""><a href="#uuidsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="uuiddescription">Description</h2>
<p>Returns a Universally Unique Identifier (UUID).</p>
<p>A UUID is designed as a number that is globally unique in space and time. Two
calls to <code class="highlight fixed" style="white-space:pre-wrap">UUID()</code> are expected to generate two different
values, even if these calls are performed on two separate computers that are
not connected to each other.</p>
<div class="cstm-style redbox"><p>UUID() results are intended to be unique, but cannot always be relied upon to unpredictable and unguessable, so should not be relied upon for these purposes.</p>
</div><p>A UUID is a 128-bit number represented by a utf8 string of five
hexadecimal numbers in <code class="highlight fixed" style="white-space:pre-wrap">aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee</code>
format:</p>
<ul start="1"><li>The first three numbers are generated from a timestamp.
</li><li>The fourth number preserves temporal uniqueness in case the timestamp value
  loses monotonicity (for example, due to daylight saving time).
</li><li>The fifth number is an IEEE 802 node number that provides spatial uniqueness.
  A random number is substituted if the latter is not available (for example,
  because the host computer has no Ethernet card, or we do not know how to find
  the hardware address of an interface on your operating system). In this case,
  spatial uniqueness cannot be guaranteed. Nevertheless, a collision should
  have very low probability.
</li></ul>
<p>Currently, the MAC address of an interface is taken into account only on FreeBSD and Linux. On other operating systems, MariaDB uses a randomly generated 48-bit number.</p>
<p>Statements using the UUID() function are not <a href="https://mariadb.com/kb/en/unsafe-statements-for-replication/">safe for replication</a>.</p>
<p>The results are generated according to the "DCE 1.1:Remote Procedure Call" (Appendix A) CAE (Common Applications Environment) Specifications published by The Open Group in October
1997 (<a href="http://www.opengroup.org/public/pubs/catalog/c706.htm">Document Number C706</a>).</p>
<h2 class="anchored_heading" id="uuidexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">UUID</span><span class="p">();</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
<span class="o">|</span> <span class="n">UUID</span><span class="p">()</span>                               <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
<span class="o">|</span> <span class="n">cd41294a</span><span class="o">-</span><span class="n">afb0</span><span class="o">-</span><span class="mi">11</span><span class="n">df</span><span class="o">-</span><span class="n">bc9b</span><span class="o">-</span><span class="mi">00241</span><span class="n">dd75637</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
</pre><h2 class="anchored_heading" id="uuidsee-also">See Also</h2>
<ul start="1"><li><a href="#uuid_short">UUID_SHORT()</a> - Return short (64 bit) Universal Unique Identifier
</li><li><a href="https://mariadb.com/kb/en/sys_guid/">SYS_GUID</a> - UUID without the <code>-</code> character for Oracle compatibility
</li><li><a href="https://mariadb.com/kb/en/uuid-data-type/">UUID data type</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="row">ROW</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_0 mariadb from_10_3_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">10.3.0</a></h5><p>The <code>ROW</code> data type was introduced in <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">MariaDB 10.3.0</a>.</p>
</div><h2 class="anchored_heading" id="rowsyntax">Syntax</h2>
<pre class="highlight fixed"><p>ROW (&lt;field name&gt; &lt;data type&gt; [{, &lt;field name&gt; &lt;data type&gt;}... ])</p></pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_0"><a href="#rowsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_0"><a href="#rowdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_0"><a href="#rowfeatures" title="Features">Features</a> <ol class="toc">
<li class="mariadb_from_10_3_0"><a href="#rowrow-fields-as-normal-variables" title="ROW fields as normal variables">ROW fields as normal variables</a></li>
<li class="mariadb_from_10_3_0"><a href="#rowrow-type-variables-as-fetch-targets" title="ROW type variables as FETCH targets">ROW type variables as FETCH targets</a></li>
<li class="mariadb_from_10_3_0"><a href="#rowrow-type-variables-as-selectinto-targets" title="ROW type variables as SELECT...INTO targets">ROW type variables as SELECT...INTO targets</a> </li></ol>
</li>
<li class="mariadb_from_10_3_0"><a href="#rowfeatures-not-implemented" title="Features not implemented">Features not implemented</a></li>
<li class="mariadb_from_10_3_0"><a href="#rowexamples" title="Examples">Examples</a> <ol class="toc">
<li class="mariadb_from_10_3_0"><a href="#rowdeclaring-a-row-in-a-stored-procedure" title="Declaring a ROW in a stored procedure">Declaring a ROW in a stored procedure</a></li>
<li class="mariadb_from_10_3_0"><a href="#rowfetch-examples" title="FETCH Examples">FETCH Examples</a></li>
<li class="mariadb_from_10_3_0"><a href="#rowselectinto-examples" title="SELECT...INTO Examples">SELECT...INTO Examples</a> </li></ol>
</li>
<li class="mariadb_from_10_3_0"><a href="#rowsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="rowdescription">Description</h2>
<p><code>ROW</code> is a data type for <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedure</a> variables.</p>
<h2 class="anchored_heading" id="rowfeatures">Features</h2>
<h3 class="anchored_heading" id="rowrow-fields-as-normal-variables">ROW fields as normal variables</h3>
<p><code>ROW</code> fields (members) act as normal variables, and are able to appear in all
query parts where a stored procedure variable is allowed:</p>
<ul start="1"><li>Assignment is using the <code>:=</code> operator and the <a href="#set">SET</a> command:
</li></ul>
<pre class="fixed indent1"><span class="n">a</span><span class="p">.</span><span class="n">x</span><span class="p">:</span><span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="n">a</span><span class="p">.</span><span class="n">x</span><span class="p">:</span><span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
<span class="k">SET</span> <span class="n">a</span><span class="p">.</span><span class="n">x</span><span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">a</span><span class="p">.</span><span class="n">y</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">a</span><span class="p">.</span><span class="n">z</span><span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
</pre><ul start="1"><li>Passing to functions and operators:
</li></ul>
<pre class="fixed indent1"><span class="k">SELECT</span> <span class="n">f1</span><span class="p">(</span><span class="n">rec</span><span class="p">.</span><span class="n">a</span><span class="p">),</span> <span class="n">rec</span><span class="p">.</span><span class="n">a</span><span class="o">&lt;</span><span class="mi">10</span><span class="p">;</span>
</pre><ul start="1"><li>Clauses (select list, WHERE, HAVING, LIMIT, etc...,):
</li></ul>
<pre class="fixed indent1"><span class="k">SELECT</span> <span class="n">var</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">t1</span><span class="p">.</span><span class="n">b</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="n">t1</span><span class="p">.</span><span class="n">b</span><span class="o">=</span><span class="n">var</span><span class="p">.</span><span class="n">b</span> <span class="k">LIMIT</span> <span class="n">var</span><span class="p">.</span><span class="k">c</span><span class="p">;</span>
</pre><ul start="1"><li><code>INSERT</code> values:
</li></ul>
<pre class="fixed indent1"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="n">rec</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">rec</span><span class="p">.</span><span class="n">b</span><span class="p">,</span> <span class="n">rec</span><span class="p">.</span><span class="k">c</span><span class="p">);</span>
</pre><ul start="1"><li><code>SELECT .. INTO</code> targets
</li></ul>
<pre class="fixed indent1"><span class="k">SELECT</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="k">INTO</span> <span class="n">rec</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">rec</span><span class="p">.</span><span class="n">b</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="n">t1</span><span class="p">.</span><span class="n">id</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span>
</pre><ul start="1"><li>Dynamic SQL out parameters (<a href="#execute-statement">EXECUTE</a> and <a href="#execute-immediate">EXECUTE IMMEDIATE</a>)
</li></ul>
<pre class="fixed indent1"><span class="k">EXECUTE</span> <span class="k">IMMEDIATE</span> <span class="s1">'CALL proc_with_out_param(?)'</span> <span class="k">USING</span> <span class="n">rec</span><span class="p">.</span><span class="n">a</span><span class="p">;</span>
</pre><h3 class="anchored_heading" id="rowrow-type-variables-as-fetch-targets">ROW type variables as FETCH targets</h3>
<p><code>ROW</code> type variables are allowed as <a href="#fetch">FETCH</a> targets:</p>
<pre class="fixed"><span class="k">FETCH</span> <span class="n">cur</span> <span class="k">INTO</span> <span class="n">rec</span><span class="p">;</span>
</pre><p>where <code>cur</code> is a <code>CURSOR</code> and <code>rec</code> is a <code>ROW</code> type stored procedure variable.</p>
<div class="cstm-style redbox"><p>Note, currently an attempt to use <code>FETCH</code> for a <code>ROW</code> type variable returns this error:
</p><pre class="fixed">ERROR 1328 (HY000): Incorrect number of FETCH variables</pre>
</div><p><code>FETCH</code> from a cursor <code>cur</code> into a <code>ROW</code> variable <code>rec</code> works as follows:</p>
<ul start="1"><li>The number of fields in <code>cur</code> must match the number of fields in <code>rec</code>.
  Otherwise, an error is reported.
</li></ul>
<ul start="1"><li>Assignment is done from left to right. The first cursor field is assigned to
  the first variable field, the second cursor field is assigned to the second
  variable field, etc.
</li></ul>
<ul start="1"><li>Field names in <code>rec</code> are not important and can differ from field names
  in <code>cur</code>.
</li></ul>
<p>See <a href="#rowfetch-examples">FETCH Examples</a> (below) for examples of using this with
<code>sql_mode=ORACLE</code> and <code>sql_mode=DEFAULT</code>.</p>
<h3 class="anchored_heading" id="rowrow-type-variables-as-selectinto-targets">ROW type variables as <code>SELECT...INTO</code> targets</h3>
<p><code>ROW</code> type variables are allowed as <code>SELECT..INTO</code> targets with some
differences depending on which <code>sql_mode</code> is in use.</p>
<ul start="1"><li>When using <code>sql_mode=ORACLE</code>, <code>table%ROWTYPE</code> and <code>cursor%ROWTYPE</code>
  variables can be used as <code>SELECT...INTO</code> targets.
</li></ul>
<ul start="1"><li>Using multiple <code>ROW</code> variables in the <code>SELECT..INTO</code> list will report an
  error.
</li></ul>
<ul start="1"><li>Using <code>ROW</code> variables with a different column count than in
  the <code>SELECT..INTO</code> list will report an error.
</li></ul>
<p>See <a href="#rowselectinto-examples">SELECT...INTO Examples</a> (below) for examples of
using this with <code>sql_mode=ORACLE</code> and <code>sql_mode=DEFAULT</code>.</p>
<h2 class="anchored_heading" id="rowfeatures-not-implemented">Features not implemented</h2>
<p>The following features are planned, but not implemented yet:</p>
<ul start="1"><li>Returning a ROW type expression from a stored function (see <a href="https://jira.mariadb.org/browse/MDEV-12252">MDEV-12252</a>). This will need some grammar change to support field names after parentheses:
</li></ul>
<pre class="fixed indent1"><span class="k">SELECT</span> <span class="n">f1</span><span class="p">().</span><span class="n">x</span> <span class="k">FROM</span> <span class="n">DUAL</span><span class="p">;</span>
</pre><ul start="1"><li>Returning a ROW type expression from a built-in hybrid type function, such as <code>CASE</code>, <code>IF</code>, etc. 
</li><li>ROW of ROWs
</li></ul>
<h2 class="anchored_heading" id="rowexamples">Examples</h2>
<h3 class="anchored_heading" id="rowdeclaring-a-row-in-a-stored-procedure">Declaring a ROW in a stored procedure</h3>
<pre class="fixed">DELIMITER $$
CREATE PROCEDURE p1()
BEGIN
  DECLARE r ROW (c1 INT, c2 VARCHAR(10));
  SET r.c1= 10;
  SET r.c2= 'test';
  INSERT INTO t1 VALUES (r.c1, r.c2);
END;
$$
DELIMITER ;
CALL p1();
</pre><h3 class="anchored_heading" id="rowfetch-examples">FETCH Examples</h3>
<p>A complete <code>FETCH</code> example for <code>sql_mode=ORACLE</code>:</p>
<pre class="fixed">DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (a INT, b VARCHAR(32));
INSERT INTO t1 VALUES (10,'b10');
INSERT INTO t1 VALUES (20,'b20');
INSERT INTO t1 VALUES (30,'b30');

SET sql_mode=oracle;
DROP PROCEDURE IF EXISTS p1;
DELIMITER $$
CREATE PROCEDURE p1 AS
  rec ROW(a INT, b VARCHAR(32));
  CURSOR c IS SELECT a,b FROM t1;
BEGIN
  OPEN c;
  LOOP
    FETCH c INTO rec;
    EXIT WHEN c%NOTFOUND;
    SELECT ('rec=(' || rec.a ||','|| rec.b||')');
  END LOOP;
  CLOSE c;
END;
$$
DELIMITER ;
CALL p1();
</pre><p>A complete <code>FETCH</code> example for <code>sql_mode=DEFAULT</code>:</p>
<pre class="fixed">DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (a INT, b VARCHAR(32));
INSERT INTO t1 VALUES (10,'b10');
INSERT INTO t1 VALUES (20,'b20');
INSERT INTO t1 VALUES (30,'b30');

SET sql_mode=DEFAULT;
DROP PROCEDURE IF EXISTS p1;
DELIMITER $$
CREATE PROCEDURE p1()
BEGIN
  DECLARE done INT DEFAULT FALSE;
  DECLARE rec ROW(a INT, b VARCHAR(32));
  DECLARE c CURSOR FOR SELECT a,b FROM t1;
  DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;
  OPEN c;
read_loop:
  LOOP
    FETCH c INTO rec;
    IF done THEN
      LEAVE read_loop;
    END IF;
    SELECT CONCAT('rec=(',rec.a,',',rec.b,')');
  END LOOP;
  CLOSE c;
END;
$$
DELIMITER ;
CALL p1();
</pre><h3 class="anchored_heading" id="rowselectinto-examples">SELECT...INTO Examples</h3>
<p>A <code>SELECT...INTO</code> example for <code>sql_mode=DEFAULT</code>:</p>
<pre class="fixed">SET sql_mode=DEFAULT;
DROP TABLE IF EXISTS t1;
DROP PROCEDURE IF EXISTS p1;
CREATE TABLE t1 (a INT, b VARCHAR(32));
INSERT INTO t1 VALUES (10,'b10');
DELIMITER $$
CREATE PROCEDURE p1()
BEGIN
  DECLARE rec1 ROW(a INT, b VARCHAR(32));
  SELECT * FROM t1 INTO rec1;
  SELECT rec1.a, rec1.b;
END;
$$
DELIMITER ;
CALL p1();
</pre><p>The above example returns:</p>
<pre class="fixed">+--------+--------+
| rec1.a | rec1.b |
+--------+--------+
|     10 | b10    |
+--------+--------+
</pre><p>A <code>SELECT...INTO</code> example for <code>sql_mode=ORACLE</code>:</p>
<pre class="fixed">SET sql_mode=ORACLE;
DROP TABLE IF EXISTS t1;
DROP PROCEDURE IF EXISTS p1;
CREATE TABLE t1 (a INT, b VARCHAR(32));
INSERT INTO t1 VALUES (10,'b10');
DELIMITER $$
CREATE PROCEDURE p1 AS
  rec1 ROW(a INT, b VARCHAR(32));
BEGIN
  SELECT * FROM t1 INTO rec1;
  SELECT rec1.a, rec1.b;
END;
$$
DELIMITER ;
CALL p1();
</pre><p>The above example returns:</p>
<pre class="fixed">+--------+--------+
| rec1.a | rec1.b |
+--------+--------+
|     10 | b10    |
+--------+--------+
</pre><p>An example for <code>sql_mode=ORACLE</code> using <code>table%ROWTYPE</code> variables as <code>SELECT..INTO</code> targets:</p>
<pre class="fixed">SET sql_mode=ORACLE;
DROP TABLE IF EXISTS t1;
DROP PROCEDURE IF EXISTS p1;
CREATE TABLE t1 (a INT, b VARCHAR(32));
INSERT INTO t1 VALUES (10,'b10');
DELIMITER $$
CREATE PROCEDURE p1 AS
  rec1 t1%ROWTYPE;
BEGIN
  SELECT * FROM t1 INTO rec1;
  SELECT rec1.a, rec1.b;
END;
$$
DELIMITER ;
CALL p1();
</pre><p>The above example returns:</p>
<pre class="fixed">+--------+--------+
| rec1.a | rec1.b |
+--------+--------+
|     10 | b10    |
+--------+--------+
</pre><p>An example for <code>sql_mode=ORACLE</code> using <code>cursor%ROWTYPE</code> variables as <code>SELECT..INTO</code> targets:</p>
<pre class="fixed">SET sql_mode=ORACLE;
DROP TABLE IF EXISTS t1;
DROP PROCEDURE IF EXISTS p1;
CREATE TABLE t1 (a INT, b VARCHAR(32));
INSERT INTO t1 VALUES (10,'b10');
DELIMITER $$
CREATE PROCEDURE p1 AS
  CURSOR cur1 IS SELECT * FROM t1;
  rec1 cur1%ROWTYPE;
BEGIN
  SELECT * FROM t1 INTO rec1;
  SELECT rec1.a, rec1.b;
END;
$$
DELIMITER ;
CALL p1();
</pre><p>The above example returns:</p>
<pre class="fixed">+--------+--------+
| rec1.a | rec1.b |
+--------+--------+
|     10 | b10    |
+--------+--------+
</pre><h2 class="anchored_heading" id="rowsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/stored-procedures/">STORED PROCEDURES</a>
</li><li><a href="#declare-variable">DECLARE Variable</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="set-data-type">SET Data Type</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SET('value1','value2',...) [CHARACTER SET charset_name] [COLLATE collation_name]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A set. A string object that can have zero or more values, each of
which must be chosen from the list of values 'value1', 'value2', ... A
SET column can have a maximum of 64 members. SET values are
represented internally as integers.</p>
<p>SET values cannot contain commas.</p>
<p>If a SET contains duplicate values, an error will be returned if <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict mode</a> is enabled, or a warning if strict mode is not enabled. </p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/character-sets-and-collations/">Character Sets and Collations</a>
</li><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="timestamp">TIMESTAMP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="timestampsyntax">Syntax</h2>
<pre class="fixed">TIMESTAMP [(&lt;microsecond precision)]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_1_2"><a href="#timestampsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_1_2"><a href="#timestampdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_1_2"><a href="#timestampsupported-values" title="Supported Values">Supported Values</a></li>
<li class="mariadb_from_10_1_2"><a href="#timestampautomatic-values" title="Automatic Values">Automatic Values</a></li>
<li class="mariadb_from_10_1_2"><a href="#timestamptime-zones" title="Time Zones">Time Zones</a></li>
<li class="mariadb_from_10_1_2"><a href="#timestamplimitations" title="Limitations">Limitations</a></li>
<li class="mariadb_from_10_1_2"><a href="#timestampsql_modemaxdb" title="SQL_MODE=MAXDB">SQL_MODE=MAXDB</a></li>
<li class="mariadb_from_10_1_2"><a href="#timestampinternal-format" title="Internal Format">Internal Format</a></li>
<li class="mariadb_from_10_1_2"><a href="#timestampexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_1_2"><a href="#timestampsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="timestampdescription">Description</h2>
<p>A timestamp in the format <code>YYYY-MM-DD HH:MM:SS.ffffff</code>.</p>
<p>The timestamp field is generally used to define at which moment in time a row was added or updated and by default will automatically be assigned the current datetime when a record is inserted or updated. The automatic properties only apply to the first TIMESTAMP in the record; subsequent TIMESTAMP columns will not be changed.</p>
<div class="mariadb_from_10_1_2 mariadb from_10_1_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">10.1.2</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a> introduced the <a href="https://mariadb.com/kb/en/server-system-variables/#mysql56_temporal_format">--mysql56-temporal-format</a> option, on by default, which allows MariaDB to store TIMESTAMPs using the same low-level format MySQL 5.6 uses.</p>
<p>For more information, see <a href="#timestampinternal-format">Internal Format</a>.</p>
</div><h2 class="anchored_heading" id="timestampsupported-values">Supported Values</h2>
<p>MariaDB stores values that use the <code>TIMESTAMP</code> data type as the number of seconds since '1970-01-01 00:00:00' (<a href="https://mariadb.com/kb/en/coordinated-universal-time/">UTC</a>). This means that the <code>TIMESTAMP</code> data type can hold values between '1970-01-01 00:00:01' (<a href="https://mariadb.com/kb/en/coordinated-universal-time/">UTC</a>) and '2038-01-19 03:14:07' (<a href="https://mariadb.com/kb/en/coordinated-universal-time/">UTC</a>). </p>
<p>MariaDB can also store <a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">microseconds</a> with a precision between 0 and 6. If no microsecond precision is specified, then 0 is used by default.</p>
<h2 class="anchored_heading" id="timestampautomatic-values">Automatic Values</h2>
<p>MariaDB has special behavior for the first column that uses the <code>TIMESTAMP</code> data type in a specific table.  For the first column that uses the <code>TIMESTAMP</code> data type in a specific table, MariaDB automatically assigns the following properties to the column:</p>
<ul start="1"><li><code>DEFAULT CURRENT_TIMESTAMP</code>
</li><li><code>ON UPDATE CURRENT_TIMESTAMP</code>
</li></ul>
<p>This means that if the column is not explicitly assigned a value in an <code>INSERT</code> or <code>UPDATE</code> query, then MariaDB will automatically initialize the column's value with the current date and time.</p>
<p>This automatic initialization for <code>INSERT</code> and <code>UPDATE</code> queries can also be <strong>explicitly enabled</strong> for a column that uses the <code>TIMESTAMP</code> data type by specifying the <code>DEFAULT CURRENT_TIMESTAMP</code> and <code>ON UPDATE CURRENT_TIMESTAMP</code> clauses for the column. In these clauses, any synonym of <code><a href="#now">CURRENT_TIMESTAMP</a></code> is accepted, including <code>CURRENT_TIMESTAMP()</code>, <code>NOW()</code>, <code>LOCALTIME</code>, <code>LOCALTIME()</code>, <code>LOCALTIMESTAMP</code>, and <code>LOCALTIMESTAMP()</code>.</p>
<p>This automatic initialization for <code>INSERT</code> queries can also be <strong>explicitly disabled</strong> for a column that uses the <code>TIMESTAMP</code> data type by specifying a constant <code>DEFAULT</code> value. For example, <code>DEFAULT 0</code>.</p>
<p>This automatic initialization for <code>UPDATE</code> queries can also be <strong>explicitly disabled</strong> for a column that uses the <code>TIMESTAMP</code> data type by specifying a <code>DEFAULT</code> clause for the column, but no <code>ON UPDATE</code> clause. If a <code>DEFAULT</code> clause is explicitly specified for a column that uses the <code>TIMESTAMP</code> data type, but an <code>ON UPDATE</code> clause is not specified for the column, then the timestamp value will not automatically change when an <code>UPDATE</code> statement is executed.</p>
<p>MariaDB also has special behavior if <code>NULL</code> is assigned to column that uses the <code>TIMESTAMP</code> data type. If the column is assigned the <code>NULL</code> value in an <code>INSERT</code> or <code>UPDATE</code> query, then MariaDB will automatically initialize the column's value with the current date and time. For details, see <a href="https://mariadb.com/kb/en/null-values-in-mariadb/#auto_increment-timestamp-and-virtual-columns">NULL values in MariaDB</a>.</p>
<p>This automatic initialization for <code>NULL</code> values can also be <strong>explicitly disabled</strong> for a column that uses the <code>TIMESTAMP</code> data type by specifying the <code>NULL</code> attribute for the column. In this case, if the column's value is set to <code>NULL</code>, then the column's value will actually be set to <code>NULL</code>.</p>
<h2 class="anchored_heading" id="timestamptime-zones">Time Zones</h2>
<p>If a column uses the <code>TIMESTAMP</code> data type, then any inserted values are converted from the session's time zone to <a href="https://mariadb.com/kb/en/coordinated-universal-time/">Coordinated Universal Time (UTC)</a> when stored, and converted back to the session's time zone when retrieved.</p>
<p>MariaDB does not currently store any time zone identifier with the value of the <code>TIMESTAMP</code> data type. See <a href="https://jira.mariadb.org/browse/MDEV-10018">MDEV-10018</a> for more information.</p>
<p>MariaDB does not currently support time zone literals that contain time zone identifiers. See <a href="https://jira.mariadb.org/browse/MDEV-11829">MDEV-11829</a> for more information.</p>
<h2 class="anchored_heading" id="timestamplimitations">Limitations</h2>
<ul start="1"><li>Because the TIMESTAMP value is stored as Epoch Seconds, the timestamp value '1970-01-01 00:00:00' (UTC) is reserved since the second #0 is used to represent '0000-00-00 00:00:00'.
</li><li>In <a href="https://mariadb.com/kb/en/what-is-mariadb-55/">MariaDB 5.5</a> and before there could only be one TIMESTAMP column per table that had CURRENT_TIMESTAMP defined as its default value. This limit has no longer applied since <a href="https://mariadb.com/kb/en/what-is-mariadb-100/">MariaDB 10.0</a>.
</li></ul>
<h2 class="anchored_heading" id="timestampsql_modemaxdb">SQL_MODE=MAXDB</h2>
<p>If the <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is set to <code>MAXDB</code>, TIMESTAMP fields will be silently converted to <a href="#datetime">DATETIME</a>.</p>
<h2 class="anchored_heading" id="timestampinternal-format">Internal Format</h2>
<p>In <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a> a new temporal format was introduced from MySQL 5.6 that alters how the <code>TIME</code>, <code>DATETIME</code> and <code>TIMESTAMP</code> columns operate at lower levels.  These changes allow these temporal data types to have fractional parts and negative values.  You can disable this feature using the <code><a href="https://mariadb.com/kb/en/server-system-variables/#mysql56_temporal_format">mysql56_temporal_format</a></code> system variable.</p>
<p>Tables that include <code>TIMESTAMP</code> values that were created on an older version of MariaDB or that were created while the <code><a href="https://mariadb.com/kb/en/server-system-variables/#mysql56_temporal_format">mysql56_temporal_format</a></code> system variable was disabled continue to store data using the older data type format.</p>
<p>In order to update table columns from the older format to the newer format, execute an <code><a ">ALTER TABLE... MODIFY COLUMN</a></code> statement that changes the column to the *same* data type. This change may be needed if you want to export the table's tablespace and import it onto a server that has <code>mysql56_temporal_format=ON</code> set (see <a href="https://jira.mariadb.org/browse/MDEV-15225">MDEV-15225</a>).</p>
<p>For instance, if you have a <code>TIMESTAMP</code> column in your table: </p>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'mysql56_temporal_format'</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-------------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>           <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+-------+</span>
<span class="o">|</span> <span class="n">mysql56_temporal_format</span> <span class="o">|</span> <span class="k">ON</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+-------+</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">example_table</span> <span class="k">MODIFY</span> <span class="n">ts_col</span> <span class="k">TIMESTAMP</span><span class="p">;</span>
</pre><p>When MariaDB executes the <code><a href="#alter-table">ALTER TABLE</a></code> statement, it converts the data from the older temporal format to the newer one. </p>
<p>In the event that you have several tables and columns using temporal data types that you want to switch over to the new format, make sure the system variable is enabled, then perform a dump and restore using <code>mysqldump</code>.  The columns using relevant temporal data types are restored using the new temporal format.</p>
<p>Starting from <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a> columns with old temporal formats are marked with a <code>/* mariadb-5.3 */</code>  comment in the output of <code><a href="#show-create-table">SHOW CREATE TABLE</a></code>, <code><a href="#show-columns">SHOW COLUMNS</a></code>, <code><a href="#describe">DESCRIBE</a></code> statements, as well as in the <code>COLUMN_TYPE</code> column of the <code><a href="https://mariadb.com/kb/en/information-schema-columns-table/">INFORMATION_SCHEMA.COLUMNS Table</a></code>.</p>
<pre class="fixed">SHOW CREATE TABLE mariadb5312_timestamp\G
*************************** 1. row ***************************
       Table: mariadb5312_timestamp
Create Table: CREATE TABLE `mariadb5312_timestamp` (
  `ts0` timestamp /* mariadb-5.3 */ NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `ts6` timestamp(6) /* mariadb-5.3 */ NOT NULL DEFAULT '0000-00-00 00:00:00.000000'
) ENGINE=MyISAM DEFAULT CHARSET=latin1
</pre><div class="cstm-style bluebox"><p><strong>Note:</strong>  Prior to MySQL 4.1 a different format for the TIMESTAMP datatype was used. This format is unsupported in <a href="https://mariadb.com/kb/en/what-is-mariadb-51/">MariaDB 5.1</a> and upwards.</p>
</div><h2 class="anchored_heading" id="timestampexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span><span class="n">id</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">ts</span> <span class="k">TIMESTAMP</span><span class="p">);</span>

<span class="k">DESC</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+-----------+------+-----+-------------------+-----------------------------+</span>
<span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="k">Type</span>      <span class="o">|</span> <span class="k">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span>           <span class="o">|</span> <span class="n">Extra</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-----------+------+-----+-------------------+-----------------------------+</span>
<span class="o">|</span> <span class="n">id</span>    <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>   <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>              <span class="o">|</span>                             <span class="o">|</span>
<span class="o">|</span> <span class="n">ts</span>    <span class="o">|</span> <span class="k">timestamp</span> <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">|</span> <span class="k">on</span> <span class="k">update</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-----------+------+-----+-------------------+-----------------------------+</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>  <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+---------------------+</span>
<span class="o">|</span> <span class="n">id</span>   <span class="o">|</span> <span class="n">ts</span>                  <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------------------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">12</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">05</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">12</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">05</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------------------+</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span>  <span class="k">VALUES</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="k">NULL</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="s1">'2001-07-22 12:12:12'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+---------------------+</span>
<span class="o">|</span> <span class="n">id</span>   <span class="o">|</span> <span class="n">ts</span>                  <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------------------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">12</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">05</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">12</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">05</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">12</span><span class="p">:</span><span class="mi">51</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span> <span class="mi">2001</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">12</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">12</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------------------+</span>
</pre><p>Converting to Unix epoch:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">ts</span><span class="p">,</span> <span class="n">UNIX_TIMESTAMP</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+--------------------+</span>
<span class="o">|</span> <span class="n">ts</span>                  <span class="o">|</span> <span class="n">UNIX_TIMESTAMP</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+--------------------+</span>
<span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">12</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">05</span> <span class="o">|</span>         <span class="mi">1374490205</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">12</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">05</span> <span class="o">|</span>         <span class="mi">1374490205</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">12</span><span class="p">:</span><span class="mi">51</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span>         <span class="mi">1374490316</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2001</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">12</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">12</span> <span class="o">|</span>          <span class="mi">995796732</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+--------------------+</span>
</pre><p>Update also changes the timestamp:</p>
<pre class="fixed"><span class="k">UPDATE</span> <span class="n">t</span> <span class="k">set</span> <span class="n">id</span><span class="o">=</span><span class="mi">5</span> <span class="k">WHERE</span> <span class="n">id</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+---------------------+</span>
<span class="o">|</span> <span class="n">id</span>   <span class="o">|</span> <span class="n">ts</span>                  <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------------------+</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">14</span><span class="p">:</span><span class="mi">52</span><span class="p">:</span><span class="mi">33</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">12</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">05</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">12</span><span class="p">:</span><span class="mi">51</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span> <span class="mi">2001</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">12</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">12</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------------------+</span>
</pre><p>Default NULL:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t2</span> <span class="p">(</span><span class="n">id</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">ts</span> <span class="k">TIMESTAMP</span> <span class="k">NULL</span> <span class="k">ON</span> <span class="k">UPDATE</span> <span class="k">CURRENT_TIMESTAMP</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>  <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t2</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t2</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>  <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span> <span class="n">id</span>   <span class="o">|</span> <span class="n">ts</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>

<span class="k">UPDATE</span> <span class="n">t2</span> <span class="k">SET</span> <span class="n">id</span><span class="o">=</span><span class="mi">3</span> <span class="k">WHERE</span> <span class="n">id</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+---------------------+</span>
<span class="o">|</span> <span class="n">id</span>   <span class="o">|</span> <span class="n">ts</span>                  <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------------------+</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">15</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">22</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="k">NULL</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------------------+</span>
</pre><p>Only the first timestamp is automatically inserted and updated:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t3</span> <span class="p">(</span><span class="n">id</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">ts1</span> <span class="k">TIMESTAMP</span><span class="p">,</span> <span class="n">ts2</span> <span class="k">TIMESTAMP</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t3</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>  <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+---------------------+---------------------+</span>
<span class="o">|</span> <span class="n">id</span>   <span class="o">|</span> <span class="n">ts1</span>                 <span class="o">|</span> <span class="n">ts2</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------------------+---------------------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">15</span><span class="p">:</span><span class="mi">35</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span> <span class="mi">0000</span><span class="o">-</span><span class="mi">00</span><span class="o">-</span><span class="mi">00</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">15</span><span class="p">:</span><span class="mi">35</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span> <span class="mi">0000</span><span class="o">-</span><span class="mi">00</span><span class="o">-</span><span class="mi">00</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------------------+---------------------+</span>

<span class="k">DESC</span> <span class="n">t3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+-----------+------+-----+---------------------+-----------------------------+</span>
<span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="k">Type</span>      <span class="o">|</span> <span class="k">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span>             <span class="o">|</span> <span class="n">Extra</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-----------+------+-----+---------------------+-----------------------------+</span>
<span class="o">|</span> <span class="n">id</span>    <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>   <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>                <span class="o">|</span>                             <span class="o">|</span>
<span class="o">|</span> <span class="n">ts1</span>   <span class="o">|</span> <span class="k">timestamp</span> <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="k">CURRENT_TIMESTAMP</span>   <span class="o">|</span> <span class="k">on</span> <span class="k">update</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">ts2</span>   <span class="o">|</span> <span class="k">timestamp</span> <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="mi">0000</span><span class="o">-</span><span class="mi">00</span><span class="o">-</span><span class="mi">00</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span>                             <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-----------+------+-----+---------------------+-----------------------------+</span>
</pre><p>Explicitly setting a timestamp with the <a href="#current_timestamp">CURRENT_TIMESTAMP</a> function:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t3</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">ts2</span><span class="p">)</span>  <span class="k">VALUES</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="k">CURRENT_TIMESTAMP</span><span class="p">());</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+---------------------+---------------------+</span>
<span class="o">|</span> <span class="n">id</span>   <span class="o">|</span> <span class="n">ts1</span>                 <span class="o">|</span> <span class="n">ts2</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------------------+---------------------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">15</span><span class="p">:</span><span class="mi">35</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span> <span class="mi">0000</span><span class="o">-</span><span class="mi">00</span><span class="o">-</span><span class="mi">00</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">15</span><span class="p">:</span><span class="mi">35</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span> <span class="mi">0000</span><span class="o">-</span><span class="mi">00</span><span class="o">-</span><span class="mi">00</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">15</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">52</span> <span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span> <span class="mi">15</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">52</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------------------+---------------------+</span>
</pre><p>Specifying the timestamp as NOT NULL:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t4</span> <span class="p">(</span><span class="n">id</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">ts</span> <span class="k">TIMESTAMP</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t4</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>  <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">SLEEP</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t4</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">ts</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="k">NULL</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t4</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="timestampsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="tinyblob">TINYBLOB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">TINYBLOB
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A <a href="#blob">BLOB</a> column with a maximum length of 
255 (2<sup>8</sup> - 1) bytes. Each
TINYBLOB value is stored using a one-byte length prefix that indicates
the number of bytes in the value.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#blob">BLOB</a>
</li><li><a href="#blob-and-text-data-types">BLOB and TEXT Data Types</a>
</li><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="tinytext">TINYTEXT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">TINYTEXT [CHARACTER SET charset_name] [COLLATE collation_name]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A <a href="#text">TEXT</a> column with a maximum length of 255 (<code>2<sup>8</sup> - 1</code>) characters. The effective maximum length is less if the value contains multi-byte characters. Each TINYTEXT value is stored using a one-byte length prefix that indicates the number of bytes in the value.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#text">TEXT</a>
</li><li><a href="#blob-and-text-data-types">BLOB and TEXT Data Types</a>
</li><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="values-value">VALUES / VALUE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<div class="mariadb_from_10_3_3 mariadb from_10_3_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">10.3.3</a></h5><pre class="fixed">VALUE(col_name) 
</pre></div><div class="mariadb_to_10_3_2 mariadb to_10_3_2 product"><h5 class="product_title">MariaDB until <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">10.3.2</a></h5><pre class="fixed">VALUES(col_name) 
</pre></div><h2 class="anchored_heading" id="description">Description</h2>
<p>In an <a href="#insert-on-duplicate-key-update">INSERT ... ON DUPLICATE KEY UPDATE</a> statement, you can use the <code>VALUES(col_name)</code> function in the  <a href="#update">UPDATE</a> clause to refer to column values from the  <a href="#insert">INSERT</a> portion of the statement. In other words,  <code>VALUES(col_name)</code> in the <code>UPDATE</code> clause refers to the value of col_name that would be inserted, had no duplicate-key conflict occurred. This function is especially useful in multiple-row inserts.</p>
<p>The <code>VALUES()</code> function is meaningful only in <code>INSERT ... ON DUPLICATE KEY UPDATE</code> statements and returns <code>NULL</code> otherwise.</p>
<p>In <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">MariaDB 10.3.3</a> this function was renamed to <code>VALUE()</code>, because it's incompatible with the standard Table Value Constructors syntax, implemented in <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">MariaDB 10.3.3</a>.</p>
<p>The <code>VALUES()</code> function can still be used even from <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">MariaDB 10.3.3</a>, but only in <code>INSERT ... ON DUPLICATE KEY UPDATE</code> statements; it's a syntax error otherwise.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<div class="mariadb_from_10_3_3 mariadb from_10_3_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">10.3.3</a></h5><pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="k">c</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
    <span class="k">ON</span> <span class="n">DUPLICATE</span> <span class="k">KEY</span> <span class="k">UPDATE</span> <span class="k">c</span><span class="o">=</span><span class="n">VALUE</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">+</span><span class="n">VALUE</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>
</pre></div><div class="mariadb_to_10_3_2 mariadb to_10_3_2 product"><h5 class="product_title">MariaDB until <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">10.3.2</a></h5><pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="k">c</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
    <span class="k">ON</span> <span class="n">DUPLICATE</span> <span class="k">KEY</span> <span class="k">UPDATE</span> <span class="k">c</span><span class="o">=</span><span class="k">VALUES</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">+</span><span class="k">VALUES</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>
</pre></div>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="or">||</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="orsyntax">Syntax</h2>
<pre class="fixed">OR, ||
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3"><a href="#orsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3"><a href="#ordescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_3"><a href="#ororacle-mode" title="Oracle Mode">Oracle Mode</a> </li></ol>
</li>
<li class="mariadb_from_10_3"><a href="#orexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3"><a href="#orsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="ordescription">Description</h2>
<p>Logical OR. When both operands are non-NULL, the result is 1 if any
operand is non-zero, and 0 otherwise. With a NULL operand, the result
is 1 if the other operand is non-zero, and NULL otherwise. If both
operands are NULL, the result is NULL.</p>
<p>For this operator, <a ">short-circuit evaluation</a> can be used.</p>
<p>Note that, if the <code>PIPES_AS_CONCAT</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is set, <code>||</code> is used as a string concatenation operator. This means that <code>a || b</code> is the same as <code>CONCAT(a,b)</code>. See <code><a href="#concat">CONCAT()</a></code> for details.</p>
<h3 class="anchored_heading" id="ororacle-mode">Oracle Mode</h3>
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#null-handling">Oracle mode from MariaDB 10.3</a>, <code>||</code> ignores <a href="null">NULL</a>.</p>
</div><h2 class="anchored_heading" id="orexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">1</span> <span class="o">||</span> <span class="mi">1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">||</span> <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>

<span class="k">SELECT</span> <span class="mi">1</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">||</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>

<span class="k">SELECT</span> <span class="mi">0</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="mi">0</span> <span class="o">||</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span>      <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>

<span class="k">SELECT</span> <span class="mi">0</span> <span class="o">||</span> <span class="k">NULL</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">0</span> <span class="o">||</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>      <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="mi">1</span> <span class="o">||</span> <span class="k">NULL</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">||</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
</pre><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#null-handling">Oracle mode</a>, from <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">0</span> <span class="o">||</span> <span class="k">NULL</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">0</span> <span class="o">||</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">0</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
</pre><h2 class="anchored_heading" id="orsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#null-handling">Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="xor">XOR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="xorsyntax">Syntax</h2>
<pre class="fixed">XOR
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#xorsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#xordescription" title="Description">Description</a></li>
<li class=""><a href="#xorexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="xordescription">Description</h2>
<p>XOR stands for eXclusive OR. Returns NULL if either operand is NULL. For non-NULL
operands, evaluates to 1 if an odd number of operands is non-zero,
otherwise 0 is returned.</p>
<h2 class="anchored_heading" id="xorexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">1</span> <span class="n">XOR</span> <span class="mi">1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="n">XOR</span> <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>       <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">SELECT</span> <span class="mi">1</span> <span class="n">XOR</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="n">XOR</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>       <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">SELECT</span> <span class="mi">1</span> <span class="n">XOR</span> <span class="k">NULL</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="n">XOR</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>       <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><p>In the following example, the right <code>1 XOR 1</code> is evaluated first, and returns <code>0</code>. Then, <code>1 XOR 0</code> is evaluated, and <code>1</code> is returned.</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">1</span> <span class="n">XOR</span> <span class="mi">1</span> <span class="n">XOR</span> <span class="mi">1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="n">XOR</span> <span class="mi">1</span> <span class="n">XOR</span> <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="assignment-operators-assignment-operator">Assignment Operator (=)</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="assignment-operators-assignment-operatorsyntax">Syntax</h2>
<pre class="fixed">identifier = expr
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#assignment-operators-assignment-operatorsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#assignment-operators-assignment-operatordescription" title="Description">Description</a></li>
<li class=""><a href="#assignment-operators-assignment-operatorexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="assignment-operators-assignment-operatordescription">Description</h2>
<p>The equal sign is used as both an assignment operator in certain contexts, and as a <a href="#equal">comparison operator</a>. When used as assignment operator, the value on the right is assigned to the variable (or column, in some contexts) on the left.</p>
<p>Since its use can be ambiguous, unlike the <a href="#assignment-operator">:= assignment operator</a>, the <em><code>=</code></em> assignment operator cannot be used in all contexts, and is only valid as part of a <a href="#set">SET</a> statement, or the SET clause of an <a href="#update">UPDATE</a> statement</p>
<p>This operator works with both <a href="https://mariadb.com/kb/en/user-defined-variables/">user-defined variables</a> and <a href="#declare-variable">local variables</a>.</p>
<h2 class="anchored_heading" id="assignment-operators-assignment-operatorexamples">Examples</h2>
<pre class="fixed"><span class="k">UPDATE</span> <span class="k">table_name</span> <span class="k">SET</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span> <span class="k">WHERE</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">;</span>
</pre><pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="o">@</span><span class="n">y</span> <span class="p">:</span><span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="stored-aggregate-functions">Stored Aggregate Functions</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_3 mariadb from_10_3_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">10.3.3</a></h5><p>The ability to create stored aggregate functions was added in <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">MariaDB 10.3.3</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_3"><a href="#stored-aggregate-functionsstandard-syntax" title="Standard Syntax">Standard Syntax</a> <ol class="toc">
<li class="mariadb_from_10_3_3"><a href="#stored-aggregate-functionsusing-sqlpl" title="Using SQL/PL">Using SQL/PL</a> </li></ol>
</li>
<li class="mariadb_from_10_3_3"><a href="#stored-aggregate-functionsexamples" title="Examples">Examples</a> <ol class="toc">
<li class="mariadb_from_10_3_3"><a href="#stored-aggregate-functionssqlpl-example" title="SQL/PL Example">SQL/PL Example</a> </li></ol>
</li>
<li class="mariadb_from_10_3_3"><a href="#stored-aggregate-functionssee-also" title="See Also">See Also</a> </li></ol>

</div>
<p><a href="https://mariadb.com/kb/en/aggregate-functions/">Aggregate functions</a> are functions that are computed over a sequence of rows and return one result for the sequence of rows.</p>
<p>Creating a custom aggregate function is done using the <a href="#create-function">CREATE FUNCTION</a> statement with two main differences:</p>
<ul start="1"><li>The addition of the AGGREGATE keyword, so <code>CREATE AGGREGATE FUNCTION</code>
</li><li>The <code>FETCH GROUP NEXT ROW</code> instruction inside the loop
</li><li>Oracle PL/SQL compatibility using SQL/PL is provided
</li></ul>
<h2 class="anchored_heading" id="stored-aggregate-functionsstandard-syntax">Standard Syntax</h2>
<pre class="fixed">CREATE AGGREGATE FUNCTION function_name (parameters) RETURNS return_type
BEGIN
      All types of declarations
      DECLARE CONTINUE HANDLER FOR NOT FOUND RETURN return_val;
      LOOP
           FETCH GROUP NEXT ROW; // fetches next row from table
           other instructions
      END LOOP;
END
</pre><p>Stored aggregate functions were a <a href="https://mariadb.com/kb/en/google-summer-of-code-2016/">2016 Google Summer of Code</a> project by Varun Gupta.</p>
<h3 class="anchored_heading" id="stored-aggregate-functionsusing-sqlpl">Using SQL/PL</h3>
<pre class="fixed">SET sql_mode=Oracle;
DELIMITER //

CREATE AGGREGATE FUNCTION function_name (parameters) RETURN return_type
   declarations
BEGIN
   LOOP
      FETCH GROUP NEXT ROW; -- fetches next row from table
      -- other instructions

   END LOOP;
EXCEPTION
   WHEN NO_DATA_FOUND THEN
      RETURN return_val;
END //

DELIMITER ;
</pre><h2 class="anchored_heading" id="stored-aggregate-functionsexamples">Examples</h2>
<p>First a simplified example:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">marks</span><span class="p">(</span><span class="n">stud_id</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">grade_count</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">marks</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">marks</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+-------------+</span>
<span class="o">|</span> <span class="n">stud_id</span> <span class="o">|</span> <span class="n">grade_count</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+-------------+</span>
<span class="o">|</span>       <span class="mi">1</span> <span class="o">|</span>           <span class="mi">6</span> <span class="o">|</span>
<span class="o">|</span>       <span class="mi">2</span> <span class="o">|</span>           <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>       <span class="mi">3</span> <span class="o">|</span>           <span class="mi">7</span> <span class="o">|</span>
<span class="o">|</span>       <span class="mi">4</span> <span class="o">|</span>           <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>       <span class="mi">5</span> <span class="o">|</span>           <span class="mi">8</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+-------------+</span>

<span class="k">DELIMITER</span> <span class="o">//</span>
<span class="k">CREATE</span> <span class="k">AGGREGATE</span> <span class="k">FUNCTION</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">aggregate_count</span><span class="p">(</span><span class="n">x</span> <span class="nb">INT</span><span class="p">)</span> <span class="k">RETURNS</span> <span class="nb">INT</span>
<span class="k">BEGIN</span>
 <span class="k">DECLARE</span> <span class="n">count_students</span> <span class="nb">INT</span> <span class="k">DEFAULT</span> <span class="mi">0</span><span class="p">;</span>
 <span class="k">DECLARE</span> <span class="k">CONTINUE</span> <span class="k">HANDLER</span> <span class="k">FOR</span> <span class="k">NOT</span> <span class="k">FOUND</span>
 <span class="k">RETURN</span> <span class="n">count_students</span><span class="p">;</span>
      <span class="n">LOOP</span>
          <span class="k">FETCH</span> <span class="k">GROUP</span> <span class="k">NEXT</span> <span class="k">ROW</span><span class="p">;</span>
          <span class="k">IF</span> <span class="n">x</span>  <span class="k">THEN</span>
            <span class="k">SET</span> <span class="n">count_students</span> <span class="o">=</span> <span class="n">count_students</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
          <span class="k">END</span> <span class="k">IF</span><span class="p">;</span>
      <span class="k">END</span> <span class="n">LOOP</span><span class="p">;</span>
<span class="k">END</span> <span class="o">//</span>
<span class="k">DELIMITER</span> <span class="p">;</span>
</pre><p>A non-trivial example that cannot easily be rewritten using existing functions:</p>
<pre class="fixed"><span class="k">DELIMITER</span> <span class="o">//</span>
<span class="k">CREATE</span> <span class="k">AGGREGATE</span> <span class="k">FUNCTION</span> <span class="n">medi_int</span><span class="p">(</span><span class="n">x</span> <span class="nb">INT</span><span class="p">)</span> <span class="k">RETURNS</span> <span class="n">DOUBLE</span>
<span class="k">BEGIN</span>
  <span class="k">DECLARE</span> <span class="k">CONTINUE</span> <span class="k">HANDLER</span> <span class="k">FOR</span> <span class="k">NOT</span> <span class="k">FOUND</span>
    <span class="k">BEGIN</span>
      <span class="k">DECLARE</span> <span class="n">res</span> <span class="n">DOUBLE</span><span class="p">;</span>
      <span class="k">DECLARE</span> <span class="n">cnt</span> <span class="nb">INT</span> <span class="k">DEFAULT</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">tt</span><span class="p">);</span>
      <span class="k">DECLARE</span> <span class="n">lim</span> <span class="nb">INT</span> <span class="k">DEFAULT</span> <span class="p">(</span><span class="n">cnt</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="n">DIV</span> <span class="mi">2</span><span class="p">;</span>
      <span class="k">IF</span> <span class="n">cnt</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">THEN</span>
        <span class="k">SET</span> <span class="n">res</span> <span class="o">=</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">AVG</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">a</span> <span class="k">FROM</span> <span class="n">tt</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">a</span> <span class="k">LIMIT</span> <span class="n">lim</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="n">ttt</span><span class="p">);</span>
      <span class="k">ELSE</span>
        <span class="k">SET</span> <span class="n">res</span> <span class="o">=</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">a</span> <span class="k">FROM</span> <span class="n">tt</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">a</span> <span class="k">LIMIT</span> <span class="n">lim</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
      <span class="k">END</span> <span class="k">IF</span><span class="p">;</span>
      <span class="k">DROP</span> <span class="k">TEMPORARY</span> <span class="k">TABLE</span> <span class="n">tt</span><span class="p">;</span>
      <span class="k">RETURN</span> <span class="n">res</span><span class="p">;</span>
    <span class="k">END</span><span class="p">;</span>
  <span class="k">CREATE</span> <span class="k">TEMPORARY</span> <span class="k">TABLE</span> <span class="n">tt</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">);</span>
  <span class="n">LOOP</span>
    <span class="k">FETCH</span> <span class="k">GROUP</span> <span class="k">NEXT</span> <span class="k">ROW</span><span class="p">;</span>
    <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tt</span> <span class="k">VALUES</span> <span class="p">(</span><span class="n">x</span><span class="p">);</span>
  <span class="k">END</span> <span class="n">LOOP</span><span class="p">;</span>
<span class="k">END</span> <span class="o">//</span>
<span class="k">DELIMITER</span> <span class="p">;</span>
</pre><h3 class="anchored_heading" id="stored-aggregate-functionssqlpl-example">SQL/PL Example</h3>
<p>This uses the same marks table as created above.</p>
<pre class="fixed"><span class="k">SET</span> <span class="n">sql_mode</span><span class="o">=</span><span class="n">Oracle</span><span class="p">;</span>
<span class="k">DELIMITER</span> <span class="o">//</span>

<span class="k">CREATE</span> <span class="k">AGGREGATE</span> <span class="k">FUNCTION</span> <span class="n">aggregate_count</span><span class="p">(</span><span class="n">x</span> <span class="nb">INT</span><span class="p">)</span> <span class="k">RETURN</span> <span class="nb">INT</span> <span class="k">AS</span> <span class="n">count_students</span> <span class="nb">INT</span> <span class="k">DEFAULT</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">BEGIN</span>
   <span class="n">LOOP</span>
      <span class="k">FETCH</span> <span class="k">GROUP</span> <span class="k">NEXT</span> <span class="k">ROW</span><span class="p">;</span>
      <span class="k">IF</span> <span class="n">x</span>  <span class="k">THEN</span>
        <span class="k">SET</span> <span class="n">count_students</span> <span class="p">:</span><span class="o">=</span> <span class="n">count_students</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
      <span class="k">END</span> <span class="k">IF</span><span class="p">;</span>
   <span class="k">END</span> <span class="n">LOOP</span><span class="p">;</span>
<span class="k">EXCEPTION</span>
   <span class="k">WHEN</span> <span class="n">NO_DATA_FOUND</span> <span class="k">THEN</span>
      <span class="k">RETURN</span> <span class="n">count_students</span><span class="p">;</span>
<span class="k">END</span> <span class="n">aggregate_count</span> <span class="o">//</span>
<span class="k">DELIMITER</span> <span class="p">;</span>

<span class="k">SELECT</span> <span class="n">aggregate_count</span><span class="p">(</span><span class="n">stud_id</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">marks</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="stored-aggregate-functionssee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/stored-function-overview/">Stored Function Overview</a>
</li><li><a href="#create-function">CREATE FUNCTION</a>
</li><li><a href="#show-create-function">SHOW CREATE FUNCTION</a>
</li><li><a href="#drop-function">DROP FUNCTION</a>
</li><li><a href="https://mariadb.com/kb/en/stored-routine-privileges/">Stored Routine Privileges</a>
</li><li><a href="#show-function-status">SHOW FUNCTION STATUS</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-routines-table/">Information Schema ROUTINES Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="avg">AVG</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="avgsyntax">Syntax</h2>
<pre class="fixed">AVG([DISTINCT] expr)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#avgsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#avgdescription" title="Description">Description</a></li>
<li class=""><a href="#avgexamples" title="Examples">Examples</a></li>
<li class=""><a href="#avgsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="avgdescription">Description</h2>
<p>Returns the average value of expr. The DISTINCT option can be used to return the average of the distinct values of expr. NULL values are ignored. It is an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>, and so can be used with the <a href="#group-by">GROUP BY</a> clause.</p>
<p>AVG() returns NULL if there were no matching rows.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a>, AVG() can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>.</p>
<h2 class="anchored_heading" id="avgexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">sales</span> <span class="p">(</span><span class="n">sales_value</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">sales</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">10</span><span class="p">),(</span><span class="mi">20</span><span class="p">),(</span><span class="mi">20</span><span class="p">),(</span><span class="mi">40</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="k">AVG</span><span class="p">(</span><span class="n">sales_value</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">sales</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="k">AVG</span><span class="p">(</span><span class="n">sales_value</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>          <span class="mi">22</span><span class="p">.</span><span class="mi">5000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">SELECT</span> <span class="k">AVG</span><span class="p">(</span><span class="k">DISTINCT</span><span class="p">(</span><span class="n">sales_value</span><span class="p">))</span> <span class="k">FROM</span> <span class="n">sales</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span> <span class="k">AVG</span><span class="p">(</span><span class="k">DISTINCT</span><span class="p">(</span><span class="n">sales_value</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span>                    <span class="mi">23</span><span class="p">.</span><span class="mi">3333</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
</pre><p>Commonly, AVG() is used with a <a ">GROUP BY</a> clause:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">student</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">test</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">score</span> <span class="n">TINYINT</span><span class="p">);</span> 

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">87</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">83</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="k">AVG</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">student</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">name</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="k">AVG</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span>    <span class="mi">74</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span>    <span class="mi">37</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span>    <span class="mi">72</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span>    <span class="mi">85</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------------+</span>
</pre><p>Be careful to avoid this common mistake, not grouping correctly and returning mismatched data: </p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span><span class="n">test</span><span class="p">,</span><span class="k">AVG</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">student</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+------------+</span>
<span class="o">|</span> <span class="n">name</span> <span class="o">|</span> <span class="n">test</span> <span class="o">|</span> <span class="k">MIN</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------------+</span>
<span class="o">|</span> <span class="n">Chun</span> <span class="o">|</span> <span class="k">SQL</span>  <span class="o">|</span>         <span class="mi">31</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------------+</span>
</pre><p>As a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">student_test</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">test</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">score</span> <span class="n">TINYINT</span><span class="p">);</span> 

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student_test</span> <span class="k">VALUES</span> 
    <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">87</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">83</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="k">AVG</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">test</span><span class="p">)</span> 
    <span class="k">AS</span> <span class="n">average_by_test</span> <span class="k">FROM</span> <span class="n">student_test</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+--------+-------+-----------------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="n">test</span>   <span class="o">|</span> <span class="n">score</span> <span class="o">|</span> <span class="n">average_by_test</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+-----------------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">75</span> <span class="o">|</span>         <span class="mi">65</span><span class="p">.</span><span class="mi">2500</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">73</span> <span class="o">|</span>         <span class="mi">68</span><span class="p">.</span><span class="mi">7500</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">43</span> <span class="o">|</span>         <span class="mi">65</span><span class="p">.</span><span class="mi">2500</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">31</span> <span class="o">|</span>         <span class="mi">68</span><span class="p">.</span><span class="mi">7500</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">56</span> <span class="o">|</span>         <span class="mi">65</span><span class="p">.</span><span class="mi">2500</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">88</span> <span class="o">|</span>         <span class="mi">68</span><span class="p">.</span><span class="mi">7500</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">87</span> <span class="o">|</span>         <span class="mi">65</span><span class="p">.</span><span class="mi">2500</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">83</span> <span class="o">|</span>         <span class="mi">68</span><span class="p">.</span><span class="mi">7500</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+-----------------+</span>
</pre><h2 class="anchored_heading" id="avgsee-also">See Also</h2>
<ul start="1"><li><a href="#max">MAX</a> (maximum)
</li><li><a href="#min">MIN</a> (minimum)
</li><li><a href="#sum">SUM</a> (sum total)</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="bit_and">BIT_AND</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">BIT_AND(expr) [over_clause]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the bitwise AND of all bits in <em>expr</em>. The calculation is performed with 64-bit (<a href="#bigint">BIGINT</a>) precision. It is an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>, and so can be used with the <a href="#group-by">GROUP BY</a> clause.</p>
<p>If no rows match, <code>BIT_AND</code> will return a value with all bits set to 1. NULL values have no effect on the result unless all results are NULL, which is treated as no match.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a>, <code>BIT_AND</code> can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a> with the addition of the <em>over_clause</em>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">vals</span> <span class="p">(</span><span class="n">x</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">vals</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">111</span><span class="p">),(</span><span class="mi">110</span><span class="p">),(</span><span class="mi">100</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">BIT_AND</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">BIT_OR</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">BIT_XOR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">vals</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+-----------+------------+</span>
<span class="o">|</span> <span class="n">BIT_AND</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">BIT_OR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">BIT_XOR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+-----------+------------+</span>
<span class="o">|</span>        <span class="mi">100</span> <span class="o">|</span>       <span class="mi">111</span> <span class="o">|</span>        <span class="mi">101</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+-----------+------------+</span>
</pre><p>As an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">vals2</span> <span class="p">(</span><span class="n">category</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">x</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">vals2</span> <span class="k">VALUES</span>
  <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">111</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">110</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">100</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'b'</span><span class="p">,</span><span class="s1">'000'</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">001</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">011</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">category</span><span class="p">,</span> <span class="n">BIT_AND</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">BIT_OR</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">BIT_XOR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="n">vals</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">category</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+------------+-----------+------------+</span>
<span class="o">|</span> <span class="n">category</span> <span class="o">|</span> <span class="n">BIT_AND</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">BIT_OR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">BIT_XOR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+------------+-----------+------------+</span>
<span class="o">|</span> <span class="n">a</span>        <span class="o">|</span>        <span class="mi">100</span> <span class="o">|</span>       <span class="mi">111</span> <span class="o">|</span>        <span class="mi">101</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>        <span class="mi">11</span> <span class="o">|</span>         <span class="mi">10</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+------------+-----------+------------+</span>
</pre><p>No match:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">BIT_AND</span><span class="p">(</span><span class="k">NULL</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">BIT_AND</span><span class="p">(</span><span class="k">NULL</span><span class="p">)</span>        <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="mi">18446744073709551615</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#bit_or">BIT_OR</a>
</li><li><a href="#bit_xor">BIT_XOR</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="bit_or">BIT_OR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="bit_orsyntax">Syntax</h2>
<pre class="fixed">BIT_OR(expr) [over_clause]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#bit_orsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#bit_ordescription" title="Description">Description</a></li>
<li class=""><a href="#bit_orexamples" title="Examples">Examples</a></li>
<li class=""><a href="#bit_orsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="bit_ordescription">Description</h2>
<p>Returns the bitwise OR of all bits in <code>expr</code>. The calculation is performed with 64-bit (<a href="#bigint">BIGINT</a>) precision. It is an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>, and so can be used with the <a href="#group-by">GROUP BY</a> clause.</p>
<p>If no rows match, <code>BIT_OR</code> will return a value with all bits set to <code>0</code>. NULL values have no effect on the result unless all results are NULL, which is treated as no match.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a>, <code>BIT_OR</code> can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a> with the addition of the <em>over_clause</em>.</p>
<h2 class="anchored_heading" id="bit_orexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">vals</span> <span class="p">(</span><span class="n">x</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">vals</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">111</span><span class="p">),(</span><span class="mi">110</span><span class="p">),(</span><span class="mi">100</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">BIT_AND</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">BIT_OR</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">BIT_XOR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">vals</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+-----------+------------+</span>
<span class="o">|</span> <span class="n">BIT_AND</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">BIT_OR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">BIT_XOR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+-----------+------------+</span>
<span class="o">|</span>        <span class="mi">100</span> <span class="o">|</span>       <span class="mi">111</span> <span class="o">|</span>        <span class="mi">101</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+-----------+------------+</span>
</pre><p>As an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">vals2</span> <span class="p">(</span><span class="n">category</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">x</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">vals2</span> <span class="k">VALUES</span>
  <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">111</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">110</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">100</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'b'</span><span class="p">,</span><span class="s1">'000'</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">001</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">011</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">category</span><span class="p">,</span> <span class="n">BIT_AND</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">BIT_OR</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">BIT_XOR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="n">vals</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">category</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+------------+-----------+------------+</span>
<span class="o">|</span> <span class="n">category</span> <span class="o">|</span> <span class="n">BIT_AND</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">BIT_OR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">BIT_XOR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+------------+-----------+------------+</span>
<span class="o">|</span> <span class="n">a</span>        <span class="o">|</span>        <span class="mi">100</span> <span class="o">|</span>       <span class="mi">111</span> <span class="o">|</span>        <span class="mi">101</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>        <span class="mi">11</span> <span class="o">|</span>         <span class="mi">10</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+------------+-----------+------------+</span>
</pre><p>No match:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">BIT_OR</span><span class="p">(</span><span class="k">NULL</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">BIT_OR</span><span class="p">(</span><span class="k">NULL</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span>            <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
</pre><h2 class="anchored_heading" id="bit_orsee-also">See Also</h2>
<ul start="1"><li><a href="#bit_and">BIT_AND</a>
</li><li><a href="#bit_xor">BIT_XOR</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="close">CLOSE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="closesyntax">Syntax</h2>
<pre class="fixed">CLOSE cursor_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#closesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#closedescription" title="Description">Description</a></li>
<li class=""><a href="#closesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="closedescription">Description</h2>
<p>This statement closes a previously <a href="#open">opened</a> cursor. The cursor must have been previously opened or else an error occurs.</p>
<p>If not closed explicitly, a cursor is closed at the end of the
compound statement in which it was declared.</p>
<p>See <a href="https://mariadb.com/kb/en/cursor-overview/">Cursor Overview</a> for an example.</p>
<h2 class="anchored_heading" id="closesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/cursor-overview/">Cursor Overview</a>
</li><li><a href="#declare-cursor">DECLARE CURSOR</a>
</li><li><a href="#open">OPEN cursor_name</a>
</li><li><a href="#fetch">FETCH cursor_name</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#cursors">Cursors in Oracle mode</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="declare-cursor">DECLARE CURSOR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="declare-cursorsyntax">Syntax</h2>
<p>&lt;= <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">MariaDB 10.2</a></p>
<pre class="fixed">DECLARE cursor_name CURSOR FOR select_statement
</pre><p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a></p>
<pre class="fixed">DECLARE cursor_name CURSOR [(cursor_formal_parameter[,...])] FOR select_statement

cursor_formal_parameter:
    name type [collate clause]
</pre><p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-108/">MariaDB 10.8</a></p>
<pre class="fixed">DECLARE cursor_name CURSOR [(cursor_formal_parameter[,...])] FOR select_statement

cursor_formal_parameter:
    [IN] name type [collate clause]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_0"><a href="#declare-cursorsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_0"><a href="#declare-cursordescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_3_0"><a href="#declare-cursorparameters" title="Parameters">Parameters</a></li>
<li class="mariadb_from_10_3_0"><a href="#declare-cursorin" title="IN">IN</a> </li></ol>
</li>
<li class="mariadb_from_10_3_0"><a href="#declare-cursorsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="declare-cursordescription">Description</h2>
<p>This statement declares a <a href="https://mariadb.com/kb/en/programmatic-and-compound-statements-cursors/">cursor</a>. Multiple cursors may be declared in a <a href="https://mariadb.com/kb/en/stored-programs-and-views/">stored program</a>, but each cursor in a given block must have a unique name.</p>
<p><code>select_statement</code> is not executed until the <a href="#open">OPEN</a> statement is executed. It is important to remember this if the query produces an error, or calls functions which have side effects.</p>
<p>A <code>SELECT</code> associated to a cursor can use variables, but the query itself cannot be a variable, and cannot be dynamically composed. The <code>SELECT</code> statement cannot have an <code>INTO</code> clause.</p>
<p>Cursors must be declared before <a href="#declare-handler">HANDLERs</a>, but after local variables and <a href="#declare-condition">CONDITIONs</a>.</p>
<h3 class="anchored_heading" id="declare-cursorparameters">Parameters</h3>
<div class="mariadb_from_10_3_0 mariadb from_10_3_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">10.3.0</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">MariaDB 10.3.0</a>, cursors can have parameters. This is a non-standard SQL extension. Cursor parameters can appear in any part of the DECLARE CURSOR select_statement where a stored procedure variable is allowed (select list, WHERE, HAVING, LIMIT etc).</p>
</div><h3 class="anchored_heading" id="declare-cursorin">IN</h3>
<div class="mariadb_from_10_8_0 mariadb from_10_8_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1080-release-notes/">10.8.0</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1080-release-notes/">MariaDB 10.8.0</a> preview release, the <code>IN</code> qualifier is supported in the <code>cursor_format_parameter</code> part of the syntax.</p>
</div><p>See <a href="https://mariadb.com/kb/en/cursor-overview/">Cursor Overview</a> for an example.</p>
<h2 class="anchored_heading" id="declare-cursorsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/cursor-overview/">Cursor Overview</a>
</li><li><a href="#open">OPEN cursor_name</a>
</li><li><a href="#fetch">FETCH cursor_name</a>
</li><li><a href="#close">CLOSE cursor_name</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#cursors">Cursors in Oracle mode</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="fetch">FETCH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="fetchsyntax">Syntax</h2>
<pre class="fixed">FETCH cursor_name INTO var_name [, var_name] ...
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#fetchsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#fetchdescription" title="Description">Description</a></li>
<li class=""><a href="#fetchsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="fetchdescription">Description</h2>
<p>This statement fetches the next row (if a row exists) using the
specified <a href="#open">open</a> <a href="https://mariadb.com/kb/en/programmatic-and-compound-statements-cursors/">cursor</a>, and advances the cursor pointer.</p>
<p><code>var_name</code> can be a <a href="#declare-variable">local variable</a>, but <em>not</em> a <a href="https://mariadb.com/kb/en/user-defined-variables/">user-defined variable</a>.</p>
<p>If no more rows are available, a No Data condition occurs with
<code>SQLSTATE</code> value <code>02000</code>. To detect this condition, you can set up a
handler for it (or for a <code>NOT FOUND</code> condition).</p>
<p>See <a href="https://mariadb.com/kb/en/cursor-overview/">Cursor Overview</a> for an example.</p>
<h2 class="anchored_heading" id="fetchsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/cursor-overview/">Cursor Overview</a>
</li><li><a href="#declare-cursor">DECLARE CURSOR</a>
</li><li><a href="#open">OPEN cursor_name</a>
</li><li><a href="#close">CLOSE cursor_name</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#cursors">Cursors in Oracle mode</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="goto">GOTO</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>The GOTO statement was introduced in <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> for Oracle compatibility.</p>
</div><h2 class="anchored_heading" id="gotosyntax">Syntax</h2>
<pre class="fixed">GOTO label
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3"><a href="#gotosyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3"><a href="#gotodescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3"><a href="#gotoexample" title="Example">Example</a> </li></ol>

</div>
<h2 class="anchored_heading" id="gotodescription">Description</h2>
<p>The <code>GOTO</code> statement causes the code to jump to the specified label, and continue operating from there. It is only accepted when in <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle mode</a>.</p>
<h2 class="anchored_heading" id="gotoexample">Example</h2>
<pre class="fixed"><span class="k">SET</span> <span class="n">sql_mode</span><span class="o">=</span><span class="n">ORACLE</span><span class="p">;</span>

<span class="k">DELIMITER</span> <span class="o">//</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">PROCEDURE</span> <span class="n">p1</span> <span class="k">AS</span>

<span class="k">BEGIN</span>

  <span class="k">SELECT</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">GOTO</span> <span class="n">label</span><span class="p">;</span>
  <span class="k">SELECT</span> <span class="mi">2</span><span class="p">;</span>
  <span class="o">&lt;&lt;</span><span class="n">label</span><span class="o">&gt;&gt;</span>
  <span class="k">SELECT</span> <span class="mi">3</span><span class="p">;</span>

<span class="k">END</span><span class="p">;</span>

<span class="o">//</span>

<span class="k">DELIMITER</span> 

<span class="k">call</span> <span class="n">p1</span><span class="p">();</span>
<span class="o">+</span><span class="c1">---+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>

<span class="o">+</span><span class="c1">---+</span>
<span class="o">|</span> <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+</span>
<span class="o">|</span> <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="if">IF</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">IF search_condition THEN statement_list
    [ELSEIF search_condition THEN statement_list] ...
    [ELSE statement_list]
END IF;
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>IF</code> implements a basic conditional construct. If the <code>search_condition</code>
evaluates to true, the corresponding SQL statement list is executed.
If no <code>search_condition</code> matches, the statement list in the <code>ELSE</code> clause
is executed. Each statement_list consists of one or more statements.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li>The <a href="#if-function">IF() function</a>, which differs from the <code>IF</code> statement described above.
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#simple-syntax-compatibility">Changes in Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="bit_xor">BIT_XOR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="bit_xorsyntax">Syntax</h2>
<pre class="fixed">BIT_XOR(expr) [over_clause]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#bit_xorsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#bit_xordescription" title="Description">Description</a></li>
<li class=""><a href="#bit_xorexamples" title="Examples">Examples</a></li>
<li class=""><a href="#bit_xorsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="bit_xordescription">Description</h2>
<p>Returns the bitwise XOR of all bits in <code>expr</code>. The calculation is performed with 64-bit (<a href="#bigint">BIGINT</a>) precision. It is an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>, and so can be used with the <a href="#group-by">GROUP BY</a> clause.</p>
<p>If no rows match, <code>BIT_XOR</code> will return a value with all bits set to <code>0</code>. NULL values have no effect on the result unless all results are NULL, which is treated as no match.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a>, <code>BIT_XOR</code> can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a> with the addition of the <em>over_clause</em>.</p>
<h2 class="anchored_heading" id="bit_xorexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">vals</span> <span class="p">(</span><span class="n">x</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">vals</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">111</span><span class="p">),(</span><span class="mi">110</span><span class="p">),(</span><span class="mi">100</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">BIT_AND</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">BIT_OR</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">BIT_XOR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">vals</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+-----------+------------+</span>
<span class="o">|</span> <span class="n">BIT_AND</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">BIT_OR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">BIT_XOR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+-----------+------------+</span>
<span class="o">|</span>        <span class="mi">100</span> <span class="o">|</span>       <span class="mi">111</span> <span class="o">|</span>        <span class="mi">101</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+-----------+------------+</span>
</pre><p>As an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">vals2</span> <span class="p">(</span><span class="n">category</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">x</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">vals2</span> <span class="k">VALUES</span>
  <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">111</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">110</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">100</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'b'</span><span class="p">,</span><span class="s1">'000'</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">001</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">011</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">category</span><span class="p">,</span> <span class="n">BIT_AND</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">BIT_OR</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">BIT_XOR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="n">vals</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">category</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+------------+-----------+------------+</span>
<span class="o">|</span> <span class="n">category</span> <span class="o">|</span> <span class="n">BIT_AND</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">BIT_OR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">BIT_XOR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+------------+-----------+------------+</span>
<span class="o">|</span> <span class="n">a</span>        <span class="o">|</span>        <span class="mi">100</span> <span class="o">|</span>       <span class="mi">111</span> <span class="o">|</span>        <span class="mi">101</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>        <span class="mi">11</span> <span class="o">|</span>         <span class="mi">10</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+------------+-----------+------------+</span>
</pre><p>No match:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">BIT_XOR</span><span class="p">(</span><span class="k">NULL</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="n">BIT_XOR</span><span class="p">(</span><span class="k">NULL</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span>             <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
</pre><h2 class="anchored_heading" id="bit_xorsee-also">See Also</h2>
<ul start="1"><li><a href="#bit_and">BIT_AND</a>
</li><li><a href="#bit_or">BIT_OR</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="count">COUNT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="countsyntax">Syntax</h2>
<pre class="fixed">COUNT(expr)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#countsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#countdescription" title="Description">Description</a></li>
<li class=""><a href="#countexamples" title="Examples">Examples</a></li>
<li class=""><a href="#countsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="countdescription">Description</h2>
<p>Returns a count of the number of non-NULL values of expr in the rows retrieved by a <a href="#select">SELECT</a> statement. The result is a <a href="#bigint">BIGINT</a> value. It is an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>, and so can be used with the <a href="#group-by">GROUP BY</a> clause.</p>
<p>COUNT(*) counts the total number of rows in a table.</p>
<p>COUNT() returns 0 if there were no matching rows.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a>, COUNT() can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>.</p>
<h2 class="anchored_heading" id="countexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">student</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">test</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">score</span> <span class="n">TINYINT</span><span class="p">);</span> 

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">87</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">83</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">student</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span>        <span class="mi">8</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
</pre><p><a href="https://mariadb.com/kb/en/count-distinct/">COUNT(DISTINCT)</a> example:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="p">(</span><span class="n">name</span><span class="p">))</span> <span class="k">FROM</span> <span class="n">student</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="p">(</span><span class="n">name</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span>                      <span class="mi">4</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
</pre><p>As a <a href="https://mariadb.com/kb/en/window-functions/">window function</a></p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">student_test</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">test</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">score</span> <span class="n">TINYINT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student_test</span> <span class="k">VALUES</span> 
    <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">87</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">name</span><span class="p">)</span> 
    <span class="k">AS</span> <span class="n">tests_written</span> <span class="k">FROM</span> <span class="n">student_test</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+--------+-------+---------------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="n">test</span>   <span class="o">|</span> <span class="n">score</span> <span class="o">|</span> <span class="n">tests_written</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+---------------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">75</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">73</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">43</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">31</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">56</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">88</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">87</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+---------------+</span>
</pre><h2 class="anchored_heading" id="countsee-also">See Also</h2>
<ul start="1"><li><a href="#select">SELECT</a>
</li><li><a href="https://mariadb.com/kb/en/count-distinct/">COUNT DISTINCT</a>
</li><li><a href="https://mariadb.com/kb/en/window-functions/">Window Functions</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="max">MAX</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="maxsyntax">Syntax</h2>
<pre class="fixed">MAX([DISTINCT] expr)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#maxsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#maxdescription" title="Description">Description</a></li>
<li class=""><a href="#maxexamples" title="Examples">Examples</a></li>
<li class=""><a href="#maxsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="maxdescription">Description</h2>
<p>Returns the largest, or maximum, value of <em><code>expr</code></em>. <code>MAX()</code> can also take a string
argument in which case it returns the maximum string value. The <code>DISTINCT</code>
keyword can be used to find the maximum of the distinct values of <em><code>expr</code></em>,
however, this produces the same result as omitting <code>DISTINCT</code>.</p>
<p>Note that <a href="#set">SET</a> and <a href="#enum">ENUM</a> fields are currently compared by their string value rather than their relative position in the set, so MAX() may produce a different highest result than ORDER BY DESC.</p>
<p>It is an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>, and so can be used with the <a href="#group-by">GROUP BY</a> clause.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>, MAX() can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>.</p>
<p><code>MAX()</code> returns <code>NULL</code> if there were no matching rows.</p>
<h2 class="anchored_heading" id="maxexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">student</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">test</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">score</span> <span class="n">TINYINT</span><span class="p">);</span> 

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">87</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">83</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="k">MAX</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">student</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">name</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="k">MAX</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span>         <span class="mi">75</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span>         <span class="mi">43</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span>         <span class="mi">88</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span>         <span class="mi">87</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------------+</span>
</pre><p>MAX string:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">student</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="k">MAX</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="n">Tatiana</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
</pre><p>Be careful to avoid this common mistake, not grouping correctly and returning mismatched data: </p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span><span class="n">test</span><span class="p">,</span><span class="k">MAX</span><span class="p">(</span><span class="n">SCORE</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">student</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+------------+</span>
<span class="o">|</span> <span class="n">name</span> <span class="o">|</span> <span class="n">test</span> <span class="o">|</span> <span class="k">MAX</span><span class="p">(</span><span class="n">SCORE</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------------+</span>
<span class="o">|</span> <span class="n">Chun</span> <span class="o">|</span> <span class="k">SQL</span>  <span class="o">|</span>         <span class="mi">88</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------------+</span>
</pre><p>Difference between ORDER BY DESC and MAX():</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">student2</span><span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="n">grade</span> <span class="n">ENUM</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span><span class="s1">'c'</span><span class="p">,</span><span class="s1">'a'</span><span class="p">));</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student2</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span><span class="s1">'b'</span><span class="p">),(</span><span class="s1">'Esben'</span><span class="p">,</span><span class="s1">'c'</span><span class="p">),(</span><span class="s1">'Kaolin'</span><span class="p">,</span><span class="s1">'a'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="n">grade</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">student2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="k">MAX</span><span class="p">(</span><span class="n">grade</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="k">c</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SELECT</span> <span class="n">grade</span> <span class="k">FROM</span> <span class="n">student2</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">grade</span> <span class="k">DESC</span> <span class="k">LIMIT</span> <span class="mi">1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span> <span class="n">grade</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span> <span class="n">a</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
</pre><p>As a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">student_test</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">test</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">score</span> <span class="n">TINYINT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student_test</span> <span class="k">VALUES</span> 
    <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">87</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="k">MAX</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> 
  <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">name</span><span class="p">)</span> <span class="k">AS</span> <span class="n">highest_score</span> <span class="k">FROM</span> <span class="n">student_test</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+--------+-------+---------------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="n">test</span>   <span class="o">|</span> <span class="n">score</span> <span class="o">|</span> <span class="n">highest_score</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+---------------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">75</span> <span class="o">|</span>            <span class="mi">75</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">73</span> <span class="o">|</span>            <span class="mi">75</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">43</span> <span class="o">|</span>            <span class="mi">43</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">31</span> <span class="o">|</span>            <span class="mi">43</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">56</span> <span class="o">|</span>            <span class="mi">88</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">88</span> <span class="o">|</span>            <span class="mi">88</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">87</span> <span class="o">|</span>            <span class="mi">87</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+---------------+</span>
</pre><h2 class="anchored_heading" id="maxsee-also">See Also</h2>
<ul start="1"><li><a href="#avg">AVG</a> (average)
</li><li><a href="#min">MIN</a> (minimum)
</li><li><a href="#sum">SUM</a> (sum total)
</li><li><a href="https://mariadb.com/kb/en/minmax-optimization/">MIN/MAX optimization</a> used by the optimizer
</li><li><a href="#greatest">GREATEST()</a> returns the largest value from a list</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="iterate">ITERATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ITERATE label
</pre><p><code>ITERATE</code> can appear only within <a href="#loop">LOOP</a>, <a href="#repeat-loop">REPEAT</a>, and <a href="#while">WHILE</a> statements.
<code>ITERATE</code> means "do the loop again", and uses the statement's <a href="#labels">label</a> to determine which statements to repeat. The label must be in the same stored program, not in a caller procedure.</p>
<p>If you try to use <code>ITERATE</code> with a non-existing label, or if the label is associated to a construct which is not a loop, the following error will be produced:</p>
<pre class="fixed">ERROR 1308 (42000): ITERATE with no matching label: &lt;label_name&gt;
</pre><p>Below is an example of how <code>ITERATE</code> might be used:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">doiterate</span><span class="p">(</span><span class="n">p1</span> <span class="nb">INT</span><span class="p">)</span>
<span class="k">BEGIN</span>
  <span class="n">label1</span><span class="p">:</span> <span class="n">LOOP</span>
    <span class="k">SET</span> <span class="n">p1</span> <span class="o">=</span> <span class="n">p1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">IF</span> <span class="n">p1</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="k">THEN</span> <span class="k">ITERATE</span> <span class="n">label1</span><span class="p">;</span> <span class="k">END</span> <span class="k">IF</span><span class="p">;</span>
    <span class="n">LEAVE</span> <span class="n">label1</span><span class="p">;</span>
  <span class="k">END</span> <span class="n">LOOP</span> <span class="n">label1</span><span class="p">;</span>
  <span class="k">SET</span> <span class="o">@</span><span class="n">x</span> <span class="o">=</span> <span class="n">p1</span><span class="p">;</span>
<span class="k">END</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#leave">LEAVE</a> - Exits a loop (or any labeled code block)</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="looploop">LOOP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="loopsyntax">Syntax</h2>
<pre class="fixed">[begin_label:] LOOP
    statement_list
END LOOP [end_label]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#loopsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#loopdescription" title="Description">Description</a></li>
<li class=""><a href="#loopsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="loopdescription">Description</h2>
<p><code>LOOP</code> implements a simple loop construct, enabling repeated execution
of the statement list, which consists of one or more statements, each
terminated by a semicolon (i.e., <code>;</code>) statement delimiter. The statements
within the loop are repeated until the loop is exited; usually this is
accomplished with a <a href="#leave">LEAVE</a> statement.</p>
<p>A <code>LOOP</code> statement can be <a href="#labels">labeled</a>. <code>end_label</code> cannot be given unless
<code>begin_label</code> also is present. If both are present, they must be the
same.</p>
<p>See <a href="https://mariadb.com/kb/en/delimiters/">Delimiters</a> in the <a href="https://mariadb.com/kb/en/mysql-client/">mysql</a> client for more on delimiter usage in the client.</p>
<h2 class="anchored_heading" id="loopsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#loop">LOOP in Oracle mode</a>
</li><li><a href="#iterate">ITERATE</a>
</li><li><a href="#leave">LEAVE</a>
</li><li><a href="#for">FOR Loops</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="min">MIN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="minsyntax">Syntax</h2>
<pre class="fixed">MIN([DISTINCT] expr)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#minsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#mindescription" title="Description">Description</a></li>
<li class=""><a href="#minexamples" title="Examples">Examples</a></li>
<li class=""><a href="#minsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="mindescription">Description</h2>
<p>Returns the minimum value of <em><code>expr</code></em>. <code>MIN()</code> may take a string
argument, in which case it returns the minimum string value. The <code>DISTINCT</code>
keyword can be used to find the minimum of the distinct values of <em><code>expr</code></em>,
however, this produces the same result as omitting <code>DISTINCT</code>.</p>
<p>Note that <a href="#set">SET</a> and <a href="#enum">ENUM</a> fields are currently compared by their string value rather than their relative position in the set, so MIN() may produce a different lowest result than ORDER BY ASC.</p>
<p>It is an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>, and so can be used with the <a href="#group-by">GROUP BY</a> clause.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>, MIN() can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>.</p>
<p><code>MIN()</code> returns <code>NULL</code> if there were no matching rows.</p>
<h2 class="anchored_heading" id="minexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">student</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">test</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">score</span> <span class="n">TINYINT</span><span class="p">);</span> 

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">87</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">83</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="k">MIN</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">student</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">name</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="k">MIN</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span>         <span class="mi">73</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span>         <span class="mi">31</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span>         <span class="mi">56</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span>         <span class="mi">83</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------------+</span>
</pre><p>MIN() with a string:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">MIN</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">student</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="k">MIN</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="n">Chun</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
</pre><p>Be careful to avoid this common mistake, not grouping correctly and returning mismatched data: </p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span><span class="n">test</span><span class="p">,</span><span class="k">MIN</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">student</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+------------+</span>
<span class="o">|</span> <span class="n">name</span> <span class="o">|</span> <span class="n">test</span> <span class="o">|</span> <span class="k">MIN</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------------+</span>
<span class="o">|</span> <span class="n">Chun</span> <span class="o">|</span> <span class="k">SQL</span>  <span class="o">|</span>         <span class="mi">31</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------------+</span>
</pre><p>Difference between ORDER BY ASC and MIN():</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">student2</span><span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="n">grade</span> <span class="n">ENUM</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span><span class="s1">'c'</span><span class="p">,</span><span class="s1">'a'</span><span class="p">));</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student2</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span><span class="s1">'b'</span><span class="p">),(</span><span class="s1">'Esben'</span><span class="p">,</span><span class="s1">'c'</span><span class="p">),(</span><span class="s1">'Kaolin'</span><span class="p">,</span><span class="s1">'a'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="k">MIN</span><span class="p">(</span><span class="n">grade</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">student2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="k">MIN</span><span class="p">(</span><span class="n">grade</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">a</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SELECT</span> <span class="n">grade</span> <span class="k">FROM</span> <span class="n">student2</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">grade</span> <span class="k">ASC</span> <span class="k">LIMIT</span> <span class="mi">1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span> <span class="n">grade</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span> <span class="n">b</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
</pre><p>As a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">student_test</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">test</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">score</span> <span class="n">TINYINT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student_test</span> <span class="k">VALUES</span> 
    <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">87</span><span class="p">);</span>


<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="k">MIN</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> 
  <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">name</span><span class="p">)</span> <span class="k">AS</span> <span class="n">lowest_score</span> <span class="k">FROM</span> <span class="n">student_test</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+--------+-------+--------------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="n">test</span>   <span class="o">|</span> <span class="n">score</span> <span class="o">|</span> <span class="n">lowest_score</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+--------------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">75</span> <span class="o">|</span>           <span class="mi">73</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">73</span> <span class="o">|</span>           <span class="mi">73</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">43</span> <span class="o">|</span>           <span class="mi">31</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">31</span> <span class="o">|</span>           <span class="mi">31</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">56</span> <span class="o">|</span>           <span class="mi">56</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">88</span> <span class="o">|</span>           <span class="mi">56</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">87</span> <span class="o">|</span>           <span class="mi">87</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+--------------+</span>
</pre><h2 class="anchored_heading" id="minsee-also">See Also</h2>
<ul start="1"><li><a href="#avg">AVG</a> (average)
</li><li><a href="#max">MAX</a> (maximum)
</li><li><a href="#sum">SUM</a> (sum total)
</li><li><a href="https://mariadb.com/kb/en/minmax-optimization/">MIN/MAX optimization</a> used by the optimizer
</li><li><a href="#least">LEAST()</a> returns the smallest value from a list.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="std">STD</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">STD(expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the population standard deviation of <em><code>expr</code></em>. This is an extension
to standard SQL. The standard SQL function <code><a href="#stddev_pop">STDDEV_POP()</a></code> can
be used instead. </p>
<p>It is an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>, and so can be used with the <a href="#group-by">GROUP BY</a> clause.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>, STD() can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>.</p>
<p>This function returns <code>NULL</code> if there were no matching rows.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<p>As an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">stats</span> <span class="p">(</span><span class="n">category</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">x</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stats</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">20</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">60</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">category</span><span class="p">,</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">STDDEV_SAMP</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="n">stats</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">category</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
<span class="o">|</span> <span class="n">category</span> <span class="o">|</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">STDDEV_SAMP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
<span class="o">|</span> <span class="n">a</span>        <span class="o">|</span>        <span class="mi">0</span><span class="p">.</span><span class="mi">8165</span> <span class="o">|</span>         <span class="mi">1</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">6667</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>        <span class="o">|</span>       <span class="mi">18</span><span class="p">.</span><span class="mi">0400</span> <span class="o">|</span>        <span class="mi">20</span><span class="p">.</span><span class="mi">1693</span> <span class="o">|</span>   <span class="mi">325</span><span class="p">.</span><span class="mi">4400</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
</pre><p>As a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">student_test</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">test</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">score</span> <span class="n">TINYINT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student_test</span> <span class="k">VALUES</span> 
    <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">87</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> 
  <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">test</span><span class="p">)</span> <span class="k">AS</span> <span class="n">stddev_results</span> <span class="k">FROM</span> <span class="n">student_test</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+--------+-------+----------------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="n">test</span>   <span class="o">|</span> <span class="n">score</span> <span class="o">|</span> <span class="n">stddev_results</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+----------------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">75</span> <span class="o">|</span>        <span class="mi">16</span><span class="p">.</span><span class="mi">9466</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">73</span> <span class="o">|</span>        <span class="mi">24</span><span class="p">.</span><span class="mi">1247</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">43</span> <span class="o">|</span>        <span class="mi">16</span><span class="p">.</span><span class="mi">9466</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">31</span> <span class="o">|</span>        <span class="mi">24</span><span class="p">.</span><span class="mi">1247</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">56</span> <span class="o">|</span>        <span class="mi">16</span><span class="p">.</span><span class="mi">9466</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">88</span> <span class="o">|</span>        <span class="mi">24</span><span class="p">.</span><span class="mi">1247</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">87</span> <span class="o">|</span>        <span class="mi">16</span><span class="p">.</span><span class="mi">9466</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+----------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#stddev_pop">STDDEV_POP</a> (equivalent, standard SQL)
</li><li><a href="#stddev">STDDEV</a> (equivalent, Oracle-compatible non-standard SQL)
</li><li><a href="#var_pop">VAR_POP</a> (variance)
</li><li><a href="#stddev_samp">STDDEV_SAMP</a> (sample standard deviation)</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="stddev">STDDEV</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="stddevsyntax">Syntax</h2>
<pre class="fixed">STDDEV(expr)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#stddevsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#stddevdescription" title="Description">Description</a></li>
<li class=""><a href="#stddevexamples" title="Examples">Examples</a></li>
<li class=""><a href="#stddevsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="stddevdescription">Description</h2>
<p>Returns the population standard deviation of <em><code>expr</code></em>. This function is
provided for compatibility with Oracle. The standard SQL function
<code><a href="#stddev_pop">STDDEV_POP()</a></code> can be used instead.</p>
<p>It is an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>, and so can be used with the <a href="#group-by">GROUP BY</a> clause.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>, STDDEV() can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>.</p>
<p>This function returns <code>NULL</code> if there were no matching rows.</p>
<h2 class="anchored_heading" id="stddevexamples">Examples</h2>
<p>As an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">stats</span> <span class="p">(</span><span class="n">category</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">x</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stats</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">20</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">60</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">category</span><span class="p">,</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">STDDEV_SAMP</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="n">stats</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">category</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
<span class="o">|</span> <span class="n">category</span> <span class="o">|</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">STDDEV_SAMP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
<span class="o">|</span> <span class="n">a</span>        <span class="o">|</span>        <span class="mi">0</span><span class="p">.</span><span class="mi">8165</span> <span class="o">|</span>         <span class="mi">1</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">6667</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>        <span class="o">|</span>       <span class="mi">18</span><span class="p">.</span><span class="mi">0400</span> <span class="o">|</span>        <span class="mi">20</span><span class="p">.</span><span class="mi">1693</span> <span class="o">|</span>   <span class="mi">325</span><span class="p">.</span><span class="mi">4400</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
</pre><p>As a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">student_test</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">test</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">score</span> <span class="n">TINYINT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student_test</span> <span class="k">VALUES</span> 
    <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">87</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> 
  <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">test</span><span class="p">)</span> <span class="k">AS</span> <span class="n">stddev_results</span> <span class="k">FROM</span> <span class="n">student_test</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+--------+-------+----------------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="n">test</span>   <span class="o">|</span> <span class="n">score</span> <span class="o">|</span> <span class="n">stddev_results</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+----------------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">75</span> <span class="o">|</span>        <span class="mi">16</span><span class="p">.</span><span class="mi">9466</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">73</span> <span class="o">|</span>        <span class="mi">24</span><span class="p">.</span><span class="mi">1247</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">43</span> <span class="o">|</span>        <span class="mi">16</span><span class="p">.</span><span class="mi">9466</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">31</span> <span class="o">|</span>        <span class="mi">24</span><span class="p">.</span><span class="mi">1247</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">56</span> <span class="o">|</span>        <span class="mi">16</span><span class="p">.</span><span class="mi">9466</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">88</span> <span class="o">|</span>        <span class="mi">24</span><span class="p">.</span><span class="mi">1247</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">87</span> <span class="o">|</span>        <span class="mi">16</span><span class="p">.</span><span class="mi">9466</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+----------------+</span>
</pre><h2 class="anchored_heading" id="stddevsee-also">See Also</h2>
<ul start="1"><li><a href="#stddev_pop">STDDEV_POP</a> (equivalent, standard SQL)
</li><li><a href="#std">STD</a> (equivalent, non-standard SQL)
</li><li><a href="#var_pop">VAR_POP</a> (variance)
</li><li><a href="#stddev_samp">STDDEV_SAMP</a> (sample standard deviation)</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="open">OPEN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="opensyntax">Syntax</h2>
<p>&lt;= <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">MariaDB 10.2</a></p>
<pre class="fixed">OPEN cursor_name
</pre><p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a></p>
<pre class="fixed">OPEN cursor_name [expression[,...]];
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#opensyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#opendescription" title="Description">Description</a></li>
<li class=""><a href="#opensee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="opendescription">Description</h2>
<p>This statement opens a <a href="https://mariadb.com/kb/en/programmatic-and-compound-statements-cursors/">cursor</a> which was previously declared with <a href="#declare-cursor">DECLARE CURSOR</a>.</p>
<p>The query associated to the DECLARE CURSOR is executed when OPEN is executed. It is important to remember this if the query produces an error, or calls functions which have side effects.</p>
<p>This is necessary in order to <a href="#fetch">FETCH</a> rows from a cursor.</p>
<p>See <a href="https://mariadb.com/kb/en/cursor-overview/">Cursor Overview</a> for an example.</p>
<h2 class="anchored_heading" id="opensee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/cursor-overview/">Cursor Overview</a>
</li><li><a href="#declare-cursor">DECLARE CURSOR</a>
</li><li><a href="#fetch">FETCH cursor_name</a>
</li><li><a href="#close">CLOSE cursor_name</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#cursors">Cursors in Oracle mode</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="return">RETURN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">RETURN expr 
</pre><p>The <code>RETURN</code> statement terminates execution of a <a href="https://mariadb.com/kb/en/stored-functions/">stored function</a> and
returns the value <em><code>expr</code></em> to the function caller. There must be at least
one <code>RETURN</code> statement in a stored function. If the function has multiple exit points, all exit points must have a <code>RETURN</code>.</p>
<p>This statement is not used in <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedures</a>, <a href="https://mariadb.com/kb/en/triggers/">triggers</a>, or <a href="https://mariadb.com/kb/en/events/">events</a>. <a href="#leave">LEAVE</a> can be used instead.</p>
<p>The following example shows that <code>RETURN</code> can return the result of a <a href="https://mariadb.com/kb/en/subqueries-scalar-subqueries/">scalar subquery</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">FUNCTION</span> <span class="n">users_count</span><span class="p">()</span> <span class="k">RETURNS</span> <span class="n">BOOL</span>
   <span class="k">READS</span> <span class="k">SQL</span> <span class="k">DATA</span>
<span class="k">BEGIN</span>
   <span class="k">RETURN</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="k">User</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">mysql</span><span class="p">.</span><span class="k">user</span><span class="p">);</span>
<span class="k">END</span><span class="p">;</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="stddev_pop">STDDEV_POP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="stddev_popsyntax">Syntax</h2>
<pre class="fixed">STDDEV_POP(expr)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#stddev_popsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#stddev_popdescription" title="Description">Description</a></li>
<li class=""><a href="#stddev_popexamples" title="Examples">Examples</a></li>
<li class=""><a href="#stddev_popsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="stddev_popdescription">Description</h2>
<p>Returns the population standard deviation of <em><code>expr</code></em> (the square root of
<code><a href="#var_pop">VAR_POP()</a></code>). You can also use <code><a href="#std">STD()</a></code> or
<code><a href="#stddev">STDDEV()</a></code>, which are equivalent but not standard SQL.</p>
<p>It is an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>, and so can be used with the <a href="#group-by">GROUP BY</a> clause.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>, STDDEV_POP() can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>.</p>
<p>STDDEV_POP() returns <code>NULL</code> if there were no matching rows.</p>
<h2 class="anchored_heading" id="stddev_popexamples">Examples</h2>
<p>As an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">stats</span> <span class="p">(</span><span class="n">category</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">x</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stats</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">20</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">60</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">category</span><span class="p">,</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">STDDEV_SAMP</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="n">stats</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">category</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
<span class="o">|</span> <span class="n">category</span> <span class="o">|</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">STDDEV_SAMP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
<span class="o">|</span> <span class="n">a</span>        <span class="o">|</span>        <span class="mi">0</span><span class="p">.</span><span class="mi">8165</span> <span class="o">|</span>         <span class="mi">1</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">6667</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>        <span class="o">|</span>       <span class="mi">18</span><span class="p">.</span><span class="mi">0400</span> <span class="o">|</span>        <span class="mi">20</span><span class="p">.</span><span class="mi">1693</span> <span class="o">|</span>   <span class="mi">325</span><span class="p">.</span><span class="mi">4400</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
</pre><p>As a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">student_test</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">test</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">score</span> <span class="n">TINYINT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student_test</span> <span class="k">VALUES</span> 
    <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">87</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> 
  <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">test</span><span class="p">)</span> <span class="k">AS</span> <span class="n">stddev_results</span> <span class="k">FROM</span> <span class="n">student_test</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+--------+-------+----------------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="n">test</span>   <span class="o">|</span> <span class="n">score</span> <span class="o">|</span> <span class="n">stddev_results</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+----------------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">75</span> <span class="o">|</span>        <span class="mi">16</span><span class="p">.</span><span class="mi">9466</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">73</span> <span class="o">|</span>        <span class="mi">24</span><span class="p">.</span><span class="mi">1247</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">43</span> <span class="o">|</span>        <span class="mi">16</span><span class="p">.</span><span class="mi">9466</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">31</span> <span class="o">|</span>        <span class="mi">24</span><span class="p">.</span><span class="mi">1247</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">56</span> <span class="o">|</span>        <span class="mi">16</span><span class="p">.</span><span class="mi">9466</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">88</span> <span class="o">|</span>        <span class="mi">24</span><span class="p">.</span><span class="mi">1247</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">87</span> <span class="o">|</span>        <span class="mi">16</span><span class="p">.</span><span class="mi">9466</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+----------------+</span>
</pre><h2 class="anchored_heading" id="stddev_popsee-also">See Also</h2>
<ul start="1"><li><a href="#std">STD</a> (equivalent, non-standard SQL)
</li><li><a href="#stddev">STDDEV</a> (equivalent, Oracle-compatible non-standard SQL)
</li><li><a href="#var_pop">VAR_POP</a> (variance)
</li><li><a href="#stddev_samp">STDDEV_SAMP</a> (sample standard deviation)</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="sum">SUM</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="sumsyntax">Syntax</h2>
<pre class="fixed">SUM([DISTINCT] expr)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#sumsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#sumdescription" title="Description">Description</a></li>
<li class=""><a href="#sumexamples" title="Examples">Examples</a></li>
<li class=""><a href="#sumsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="sumdescription">Description</h2>
<p>Returns the sum of <em><code>expr</code></em>. If the return set has no rows, <code>SUM()</code> returns
<code>NULL</code>. The <code>DISTINCT</code> keyword can be used to sum only the distinct values
of <code>expr</code>.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a>, SUM() can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>, although not with the DISTINCT specifier.</p>
<h2 class="anchored_heading" id="sumexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">sales</span> <span class="p">(</span><span class="n">sales_value</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">sales</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">10</span><span class="p">),(</span><span class="mi">20</span><span class="p">),(</span><span class="mi">20</span><span class="p">),(</span><span class="mi">40</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="k">SUM</span><span class="p">(</span><span class="n">sales_value</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">sales</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="k">SUM</span><span class="p">(</span><span class="n">sales_value</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>               <span class="mi">90</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">SELECT</span> <span class="k">SUM</span><span class="p">(</span><span class="k">DISTINCT</span><span class="p">(</span><span class="n">sales_value</span><span class="p">))</span> <span class="k">FROM</span> <span class="n">sales</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span> <span class="k">SUM</span><span class="p">(</span><span class="k">DISTINCT</span><span class="p">(</span><span class="n">sales_value</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span>                         <span class="mi">70</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
</pre><p>Commonly, SUM is used with a <a ">GROUP BY</a> clause:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">sales</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="k">month</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">units</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">sales</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Jan'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Feb'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Jan'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Feb'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Jan'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Feb'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'Jan'</span><span class="p">,</span> <span class="mi">87</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'Feb'</span><span class="p">,</span> <span class="mi">83</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">units</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">sales</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">name</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="k">SUM</span><span class="p">(</span><span class="n">units</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span>        <span class="mi">148</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span>         <span class="mi">74</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span>        <span class="mi">144</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span>        <span class="mi">170</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------------+</span>
</pre><p>The <a ">GROUP BY</a> clause is required when using an aggregate function along with regular column data, otherwise the result will be a mismatch, as in the following common type of mistake:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span><span class="k">SUM</span><span class="p">(</span><span class="n">units</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">sales</span>
<span class="p">;</span><span class="o">+</span><span class="c1">------+------------+</span>
<span class="o">|</span> <span class="n">name</span> <span class="o">|</span> <span class="k">SUM</span><span class="p">(</span><span class="n">units</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------+</span>
<span class="o">|</span> <span class="n">Chun</span> <span class="o">|</span>        <span class="mi">536</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------+</span>
</pre><p>As a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">student_test</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">test</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">score</span> <span class="n">TINYINT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student_test</span> <span class="k">VALUES</span> 
    <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">87</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">name</span><span class="p">)</span> <span class="k">AS</span> <span class="n">total_score</span> <span class="k">FROM</span> <span class="n">student_test</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+--------+-------+-------------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="n">test</span>   <span class="o">|</span> <span class="n">score</span> <span class="o">|</span> <span class="n">total_score</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+-------------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">75</span> <span class="o">|</span>         <span class="mi">148</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">73</span> <span class="o">|</span>         <span class="mi">148</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">43</span> <span class="o">|</span>          <span class="mi">74</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">31</span> <span class="o">|</span>          <span class="mi">74</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">56</span> <span class="o">|</span>         <span class="mi">144</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">88</span> <span class="o">|</span>         <span class="mi">144</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">87</span> <span class="o">|</span>          <span class="mi">87</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+-------------+</span>
</pre><h2 class="anchored_heading" id="sumsee-also">See Also</h2>
<ul start="1"><li><a href="#avg">AVG</a> (average)
</li><li><a href="#max">MAX</a> (maximum)
</li><li><a href="#min">MIN</a> (minimum)</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="variance">VARIANCE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="variancesyntax">Syntax</h2>
<pre class="fixed">VARIANCE(expr) 
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#variancesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#variancedescription" title="Description">Description</a></li>
<li class=""><a href="#varianceexamples" title="Examples">Examples</a></li>
<li class=""><a href="#variancesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="variancedescription">Description</h2>
<p>Returns the population standard variance of <code>expr</code>. This is an extension to
standard SQL. The standard SQL function <a href="#var_pop">VAR_POP()</a> can be used
instead.</p>
<p>Variance is calculated by</p>
<ul start="1"><li>working out the mean for the set
</li><li>for each number, subtracting the mean and squaring the result
</li><li>calculate the average of the resulting differences
</li></ul>
<p>It is an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>, and so can be used with the <a href="#group-by">GROUP BY</a> clause.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>, VARIANCE() can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>.</p>
<p>VARIANCE() returns <code>NULL</code> if there were no matching rows.</p>
<h2 class="anchored_heading" id="varianceexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">v</span><span class="p">(</span><span class="n">i</span> <span class="n">tinyint</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">v</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">101</span><span class="p">),(</span><span class="mi">99</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">VARIANCE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">v</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="n">VARIANCE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>      <span class="mi">1</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">v</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">120</span><span class="p">),(</span><span class="mi">80</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">VARIANCE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">v</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="n">VARIANCE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>    <span class="mi">200</span><span class="p">.</span><span class="mi">5000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
</pre><p>As an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">stats</span> <span class="p">(</span><span class="n">category</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">x</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stats</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">20</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">60</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">category</span><span class="p">,</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">STDDEV_SAMP</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="n">stats</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">category</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
<span class="o">|</span> <span class="n">category</span> <span class="o">|</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">STDDEV_SAMP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
<span class="o">|</span> <span class="n">a</span>        <span class="o">|</span>        <span class="mi">0</span><span class="p">.</span><span class="mi">8165</span> <span class="o">|</span>         <span class="mi">1</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">6667</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>        <span class="o">|</span>       <span class="mi">18</span><span class="p">.</span><span class="mi">0400</span> <span class="o">|</span>        <span class="mi">20</span><span class="p">.</span><span class="mi">1693</span> <span class="o">|</span>   <span class="mi">325</span><span class="p">.</span><span class="mi">4400</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
</pre><p>As a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">student_test</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">test</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">score</span> <span class="n">TINYINT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student_test</span> <span class="k">VALUES</span> 
    <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">87</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> 
  <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">test</span><span class="p">)</span> <span class="k">AS</span> <span class="n">variance_results</span> <span class="k">FROM</span> <span class="n">student_test</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+--------+-------+------------------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="n">test</span>   <span class="o">|</span> <span class="n">score</span> <span class="o">|</span> <span class="n">variance_results</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+------------------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">75</span> <span class="o">|</span>         <span class="mi">287</span><span class="p">.</span><span class="mi">1875</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">73</span> <span class="o">|</span>         <span class="mi">582</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">43</span> <span class="o">|</span>         <span class="mi">287</span><span class="p">.</span><span class="mi">1875</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">31</span> <span class="o">|</span>         <span class="mi">582</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">56</span> <span class="o">|</span>         <span class="mi">287</span><span class="p">.</span><span class="mi">1875</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">88</span> <span class="o">|</span>         <span class="mi">582</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">87</span> <span class="o">|</span>         <span class="mi">287</span><span class="p">.</span><span class="mi">1875</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+------------------+</span>
</pre><h2 class="anchored_heading" id="variancesee-also">See Also</h2>
<ul start="1"><li><a href="#var_pop">VAR_POP</a> (equivalent, standard SQL)
</li><li><a href="#stddev_pop">STDDEV_POP</a> (population standard deviation)
</li><li><a href="#stddev_samp">STDDEV_SAMP</a> (sample standard deviation)</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="while">WHILE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">[begin_label:] WHILE search_condition DO
    statement_list
END WHILE [end_label]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The statement list within a <code>WHILE</code> statement is repeated as long as the
<code>search_condition</code> is true. statement_list consists of one or more
statements. If the loop must be executed at least once, <code><a href="#repeat-loop">REPEAT ... LOOP</a></code> can be used instead.</p>
<p>A <code>WHILE</code> statement can be <a href="#labels">labeled</a>. end_label cannot be given unless
begin_label also is present. If both are present, they must be the
same.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">dowhile</span><span class="p">()</span>
<span class="k">BEGIN</span>
  <span class="k">DECLARE</span> <span class="n">v1</span> <span class="nb">INT</span> <span class="k">DEFAULT</span> <span class="mi">5</span><span class="p">;</span>

  <span class="n">WHILE</span> <span class="n">v1</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">DO</span>
    <span class="p">...</span>
    <span class="k">SET</span> <span class="n">v1</span> <span class="o">=</span> <span class="n">v1</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">END</span> <span class="n">WHILE</span><span class="p">;</span>
<span class="k">END</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="var_pop">VAR_POP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="var_popsyntax">Syntax</h2>
<pre class="fixed">VAR_POP(expr)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#var_popsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#var_popdescription" title="Description">Description</a></li>
<li class=""><a href="#var_popexamples" title="Examples">Examples</a></li>
<li class=""><a href="#var_popsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="var_popdescription">Description</h2>
<p>Returns the population standard variance of <code>expr</code>. It considers rows as
the whole population, not as a sample, so it has the number of rows as
the denominator. You can also use <a href="#variance">VARIANCE()</a>, which is equivalent but
is not standard SQL.</p>
<p>Variance is calculated by</p>
<ul start="1"><li>working out the mean for the set
</li><li>for each number, subtracting the mean and squaring the result
</li><li>calculate the average of the resulting differences
</li></ul>
<p>It is an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>, and so can be used with the <a href="#group-by">GROUP BY</a> clause.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>, VAR_POP() can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>.</p>
<p>VAR_POP() returns <code>NULL</code> if there were no matching rows.</p>
<h2 class="anchored_heading" id="var_popexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">v</span><span class="p">(</span><span class="n">i</span> <span class="n">tinyint</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">v</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">101</span><span class="p">),(</span><span class="mi">99</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">v</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>     <span class="mi">1</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">v</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">120</span><span class="p">),(</span><span class="mi">80</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">v</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>   <span class="mi">200</span><span class="p">.</span><span class="mi">5000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><p>As an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">stats</span> <span class="p">(</span><span class="n">category</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">x</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stats</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">20</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">60</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">category</span><span class="p">,</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">STDDEV_SAMP</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="n">stats</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">category</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
<span class="o">|</span> <span class="n">category</span> <span class="o">|</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">STDDEV_SAMP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
<span class="o">|</span> <span class="n">a</span>        <span class="o">|</span>        <span class="mi">0</span><span class="p">.</span><span class="mi">8165</span> <span class="o">|</span>         <span class="mi">1</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">6667</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>        <span class="o">|</span>       <span class="mi">18</span><span class="p">.</span><span class="mi">0400</span> <span class="o">|</span>        <span class="mi">20</span><span class="p">.</span><span class="mi">1693</span> <span class="o">|</span>   <span class="mi">325</span><span class="p">.</span><span class="mi">4400</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
</pre><p>As a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">student_test</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">test</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">score</span> <span class="n">TINYINT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student_test</span> <span class="k">VALUES</span> 
    <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">87</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> 
  <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">test</span><span class="p">)</span> <span class="k">AS</span> <span class="n">variance_results</span> <span class="k">FROM</span> <span class="n">student_test</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+--------+-------+------------------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="n">test</span>   <span class="o">|</span> <span class="n">score</span> <span class="o">|</span> <span class="n">variance_results</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+------------------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">75</span> <span class="o">|</span>         <span class="mi">287</span><span class="p">.</span><span class="mi">1875</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">43</span> <span class="o">|</span>         <span class="mi">287</span><span class="p">.</span><span class="mi">1875</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">56</span> <span class="o">|</span>         <span class="mi">287</span><span class="p">.</span><span class="mi">1875</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">87</span> <span class="o">|</span>         <span class="mi">287</span><span class="p">.</span><span class="mi">1875</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">73</span> <span class="o">|</span>         <span class="mi">582</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">31</span> <span class="o">|</span>         <span class="mi">582</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">88</span> <span class="o">|</span>         <span class="mi">582</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+------------------+</span>
</pre><h2 class="anchored_heading" id="var_popsee-also">See Also</h2>
<ul start="1"><li><a href="#variance">VARIANCE</a> (equivalent, non-standard SQL)
</li><li><a href="#stddev_pop">STDDEV_POP</a> (population standard deviation)
</li><li><a href="#stddev_samp">STDDEV_SAMP</a> (sample standard deviation)</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="var_samp">VAR_SAMP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="var_sampsyntax">Syntax</h2>
<pre class="fixed">VAR_SAMP(expr)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#var_sampsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#var_sampdescription" title="Description">Description</a></li>
<li class=""><a href="#var_sampexamples" title="Examples">Examples</a></li>
<li class=""><a href="#var_sampsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="var_sampdescription">Description</h2>
<p>Returns the sample variance of <em><code>expr</code></em>. That is, the denominator is the number of rows minus one.</p>
<p>It is an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>, and so can be used with the <a href="#group-by">GROUP BY</a> clause.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>, VAR_SAMP() can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>.</p>
<p>VAR_SAMP() returns <code>NULL</code> if there were no matching rows.</p>
<h2 class="anchored_heading" id="var_sampexamples">Examples</h2>
<p>As an <a href="https://mariadb.com/kb/en/aggregate-functions/">aggregate function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">stats</span> <span class="p">(</span><span class="n">category</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">x</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stats</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">20</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">,</span><span class="mi">60</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">category</span><span class="p">,</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">STDDEV_SAMP</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="n">stats</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">category</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
<span class="o">|</span> <span class="n">category</span> <span class="o">|</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">STDDEV_SAMP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
<span class="o">|</span> <span class="n">a</span>        <span class="o">|</span>        <span class="mi">0</span><span class="p">.</span><span class="mi">8165</span> <span class="o">|</span>         <span class="mi">1</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">6667</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>        <span class="o">|</span>       <span class="mi">18</span><span class="p">.</span><span class="mi">0400</span> <span class="o">|</span>        <span class="mi">20</span><span class="p">.</span><span class="mi">1693</span> <span class="o">|</span>   <span class="mi">325</span><span class="p">.</span><span class="mi">4400</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+---------------+----------------+------------+</span>
</pre><p>As a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">student_test</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">test</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">score</span> <span class="n">TINYINT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student_test</span> <span class="k">VALUES</span> 
    <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Chun'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">73</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Esben'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Kaolin'</span><span class="p">,</span> <span class="s1">'Tuning'</span><span class="p">,</span> <span class="mi">88</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">'Tatiana'</span><span class="p">,</span> <span class="s1">'SQL'</span><span class="p">,</span> <span class="mi">87</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">VAR_SAMP</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> 
  <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">test</span><span class="p">)</span> <span class="k">AS</span> <span class="n">variance_results</span> <span class="k">FROM</span> <span class="n">student_test</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+--------+-------+------------------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="n">test</span>   <span class="o">|</span> <span class="n">score</span> <span class="o">|</span> <span class="n">variance_results</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+------------------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">75</span> <span class="o">|</span>         <span class="mi">382</span><span class="p">.</span><span class="mi">9167</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">73</span> <span class="o">|</span>         <span class="mi">873</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">43</span> <span class="o">|</span>         <span class="mi">382</span><span class="p">.</span><span class="mi">9167</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">31</span> <span class="o">|</span>         <span class="mi">873</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">56</span> <span class="o">|</span>         <span class="mi">382</span><span class="p">.</span><span class="mi">9167</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="n">Tuning</span> <span class="o">|</span>    <span class="mi">88</span> <span class="o">|</span>         <span class="mi">873</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span> <span class="k">SQL</span>    <span class="o">|</span>    <span class="mi">87</span> <span class="o">|</span>         <span class="mi">382</span><span class="p">.</span><span class="mi">9167</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+--------+-------+------------------+</span>
</pre><h2 class="anchored_heading" id="var_sampsee-also">See Also</h2>
<ul start="1"><li><a href="#var_pop">VAR_POP</a> (variance)
</li><li><a href="#stddev_pop">STDDEV_POP</a> (population standard deviation)</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="charset">CHARSET</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CHARSET(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set</a> of the string argument. If <code>str</code> is not a string, it is considered as a binary string (so the function returns 'binary'). This applies to <code>NULL</code>, too.  The return value is a string in the utf8 <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CHARSET</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">CHARSET</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">latin1</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>

<span class="k">SELECT</span> <span class="n">CHARSET</span><span class="p">(</span><span class="k">CONVERT</span><span class="p">(</span><span class="s1">'abc'</span> <span class="k">USING</span> <span class="n">utf8</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">CHARSET</span><span class="p">(</span><span class="k">CONVERT</span><span class="p">(</span><span class="s1">'abc'</span> <span class="k">USING</span> <span class="n">utf8</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">utf8</span>                               <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">CHARSET</span><span class="p">(</span><span class="k">USER</span><span class="p">());</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">CHARSET</span><span class="p">(</span><span class="k">USER</span><span class="p">())</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">utf8</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="buffer">BUFFER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_buffer">ST_BUFFER</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="convexhull">CONVEXHULL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_convexhull">ST_CONVEXHULL</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="geometrycollection">GEOMETRYCOLLECTION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">GeometryCollection(g1,g2,...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="https://mariadb.com/kb/en/wkb/">WKB</a> GeometryCollection. If any argument is not a well-formed WKB representation of a geometry, the return value is <code>NULL</code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_geometrycollection</span>  <span class="p">(</span><span class="k">g</span> <span class="n">GEOMETRYCOLLECTION</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="n">FIELDS</span> <span class="k">FROM</span> <span class="n">gis_geometrycollection</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_geometrycollection</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">GeomCollFromText</span><span class="p">(</span><span class="s1">'GEOMETRYCOLLECTION(POINT(0 0), LINESTRING(0 0,10 10))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">GeometryFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">GeometryCollection</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">44</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">)))))),</span>
    <span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'GeometryCollection()'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'GeometryCollection EMPTY'</span><span class="p">));</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="multilinestring">MULTILINESTRING</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MultiLineString(ls1,ls2,...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a WKB MultiLineString value using <a href="https://mariadb.com/kb/en/wkb/">WKB</a> <a href="#linestring">LineString</a> arguments.  If any argument is not a WKB LineString, the return value is
<code>NULL</code>.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_multi_line</span> <span class="p">(</span><span class="k">g</span> <span class="n">MULTILINESTRING</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_multi_line</span> <span class="k">VALUES</span>
 <span class="p">(</span><span class="n">MultiLineStringFromText</span><span class="p">(</span><span class="s1">'MULTILINESTRING((10 48,10 21,10 0),(16 0,16 23,16 48))'</span><span class="p">)),</span>
 <span class="p">(</span><span class="n">MLineFromText</span><span class="p">(</span><span class="s1">'MULTILINESTRING((10 48,10 21,10 0))'</span><span class="p">)),</span>
 <span class="p">(</span><span class="n">MLineFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">MultiLineString</span><span class="p">(</span><span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)),</span> <span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span><span class="n">Point</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span><span class="n">Point</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="mi">7</span><span class="p">))))));</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="multipoint">MULTIPOINT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MultiPoint(pt1,pt2,...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="https://mariadb.com/kb/en/wkb/">WKB</a> MultiPoint value using WKB <a href="#point">Point</a> arguments. If any argument is not a WKB Point, the return value is <code>NULL</code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'MultiPoint( 1 1, 2 2, 5 3, 7 2, 9 3, 8 4, 6 6, 6 9, 4 9, 1 5 )'</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_multi_point</span> <span class="p">(</span><span class="k">g</span> <span class="n">MULTIPOINT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_multi_point</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">MultiPointFromText</span><span class="p">(</span><span class="s1">'MULTIPOINT(0 0,10 10,10 20,20 20)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MPointFromText</span><span class="p">(</span><span class="s1">'MULTIPOINT(1 1,11 11,11 21,21 21)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MPointFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">MultiPoint</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">)))));</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="coercibility">COERCIBILITY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">COERCIBILITY(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the collation coercibility value of the string argument. Coercibility defines what will be converted to what in case of collation conflict, with an expression with higher coercibility being converted to the collation of an expression with lower coercibility.</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Coercibility</th><th>Description</th><th>Example</th></tr>
<tr><td>0</td><td>Explicit</td><td>Value using a COLLATE clause</td></tr>
<tr><td>1</td><td>No collation</td><td>Concatenated strings using different collations</td></tr>
<tr><td>2</td><td>Implicit</td><td>Column value</td></tr>
<tr><td>3</td><td>Constant</td><td>USER() return value</td></tr>
<tr><td>4</td><td>Coercible</td><td>Literal string</td></tr>
<tr><td>5</td><td>Ignorable</td><td>NULL or derived from NULL</td></tr>
</table>
</div><h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">COERCIBILITY</span><span class="p">(</span><span class="s1">'abc'</span> <span class="k">COLLATE</span> <span class="n">latin1_swedish_ci</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
<span class="o">|</span> <span class="n">COERCIBILITY</span><span class="p">(</span><span class="s1">'abc'</span> <span class="k">COLLATE</span> <span class="n">latin1_swedish_ci</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
<span class="o">|</span>                                             <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">COERCIBILITY</span><span class="p">(</span><span class="k">USER</span><span class="p">());</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">COERCIBILITY</span><span class="p">(</span><span class="k">USER</span><span class="p">())</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">COERCIBILITY</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">COERCIBILITY</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span>                   <span class="mi">4</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="current_role">CURRENT_ROLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CURRENT_ROLE, CURRENT_ROLE()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the current <a href="https://mariadb.com/kb/en/roles/">role</a> name. This determines your access privileges. The return value is a string in the
utf8 <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set</a>.</p>
<p>If there is no current role, NULL is returned.</p>
<p>The output of <code>SELECT CURRENT_ROLE</code> is equivalent to the contents of the <a href="https://mariadb.com/kb/en/information-schema-enabled_roles-table/">ENABLED_ROLES</a> Information Schema table.</p>
<p><a href="#user">USER()</a> returns the combination of user and host used to login. <a href="#current_user">CURRENT_USER()</a> returns the account used to determine current connection's privileges.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CURRENT_ROLE</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="k">CURRENT_ROLE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="k">NULL</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>

<span class="k">SET</span> <span class="k">ROLE</span> <span class="n">staff</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="k">CURRENT_ROLE</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="k">CURRENT_ROLE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">staff</span>        <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="current_user">CURRENT_USER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CURRENT_USER, CURRENT_USER()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the user name and host name combination for the MariaDB account
that the server used to authenticate the current client. This account
determines your access privileges. The return value is a string in the
utf8 <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set</a>.</p>
<p>The value of <code>CURRENT_USER()</code> can differ from the value of <a href="#user">USER()</a>. <a href="#current_role">CURRENT_ROLE()</a> returns the current active role.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">shell&gt; mysql --user="anonymous"

select user(),current_user();
+---------------------+----------------+
| user()              | current_user() |
+---------------------+----------------+
| anonymous@localhost | @localhost     |
+---------------------+----------------+
</pre><p>When calling <code>CURRENT_USER()</code> in a stored procedure, it returns the owner of the stored procedure, as defined with <code>DEFINER</code>.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#user">USER()</a>
</li><li><a href="#create-procedure">CREATE PROCEDURE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="database">DATABASE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DATABASE()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the default (current) database name as a string in the utf8 <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set</a>. If there is no default database, DATABASE() returns NULL. Within a <a href="https://mariadb.com/kb/en/stored-routines/">stored routine</a>, the default database is the database that the routine is associated with, which is not necessarily the same as the database that is the default in the calling context.</p>
<p>SCHEMA() is a synonym for DATABASE().</p>
<p>To select a default database, the <a href="https://mariadb.com/kb/en/use/">USE</a> statement can be run. Another way to set the default database is specifying its name at <a href="https://mariadb.com/kb/en/mysql-command-line-client/">mysql</a> command line client startup.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">DATABASE</span><span class="p">();</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="k">DATABASE</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="k">NULL</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="n">USE</span> <span class="n">test</span><span class="p">;</span>
<span class="k">Database</span> <span class="n">changed</span>

<span class="k">SELECT</span> <span class="k">DATABASE</span><span class="p">();</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="k">DATABASE</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">test</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="default">DEFAULT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DEFAULT(col_name)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the default value for a table column. If the column has no default value (and is not NULLABLE - NULLABLE fields have a NULL default), an error is returned.</p>
<p>For integer columns using <a href="#auto_increment">AUTO_INCREMENT</a>, <code>0</code> is returned.</p>
<p>When using <code>DEFAULT</code> as a value to set in an <a href="#insert">INSERT</a> or <a href="#update">UPDATE</a>
statement, you can use the bare keyword <code>DEFAULT</code> without the parentheses and argument to
refer to the column in context. You can only use <code>DEFAULT</code> as a bare keyword if you are using it
alone without a surrounding expression or function.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<p>Select only non-default values for a column:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">t</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">!=</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</pre><p>Update values to be one greater than the default value:</p>
<pre class="fixed"><span class="k">UPDATE</span> <span class="n">t</span> <span class="k">SET</span> <span class="n">i</span> <span class="o">=</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">;</span>
</pre><p>When referring to the default value exactly in <code>UPDATE</code> or <code>INSERT</code>,
you can omit the argument:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">DEFAULT</span><span class="p">);</span>
<span class="k">UPDATE</span> <span class="n">t</span> <span class="k">SET</span> <span class="n">i</span> <span class="o">=</span> <span class="k">DEFAULT</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">;</span>
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span>
  <span class="n">i</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span> 
  <span class="n">j</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span> 
  <span class="n">k</span> <span class="nb">INT</span> <span class="k">DEFAULT</span> <span class="mi">3</span><span class="p">,</span> 
  <span class="n">l</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">DEFAULT</span> <span class="mi">4</span><span class="p">,</span> 
  <span class="n">m</span> <span class="nb">INT</span><span class="p">,</span> 
  <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">DESC</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+---------+------+-----+---------+----------------+</span>
<span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="k">Type</span>    <span class="o">|</span> <span class="k">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+---------+------+-----+---------+----------------+</span>
<span class="o">|</span> <span class="n">i</span>     <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span> <span class="n">PRI</span> <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span> <span class="n">auto_increment</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">j</span>     <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">k</span>     <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="mi">3</span>       <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">l</span>     <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="mi">4</span>       <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">m</span>     <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+---------+------+-----+---------+----------------+</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">j</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---+---+------+---+------+</span>
<span class="o">|</span> <span class="n">i</span> <span class="o">|</span> <span class="n">j</span> <span class="o">|</span> <span class="n">k</span>    <span class="o">|</span> <span class="n">l</span> <span class="o">|</span> <span class="n">m</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">---+---+------+---+------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">4</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2</span> <span class="o">|</span> <span class="mi">2</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">4</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">3</span> <span class="o">|</span> <span class="mi">3</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">3</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+---+------+---+------+</span>

<span class="k">SELECT</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="k">DEFAULT</span> <span class="p">(</span><span class="n">l</span><span class="p">),</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+------------+-------------+------------+</span>
<span class="o">|</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">|</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">|</span> <span class="k">DEFAULT</span> <span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">|</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+------------+-------------+------------+</span>
<span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>          <span class="mi">3</span> <span class="o">|</span>           <span class="mi">4</span> <span class="o">|</span>       <span class="k">NULL</span> <span class="o">|</span>
<span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>          <span class="mi">3</span> <span class="o">|</span>           <span class="mi">4</span> <span class="o">|</span>       <span class="k">NULL</span> <span class="o">|</span>
<span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>          <span class="mi">3</span> <span class="o">|</span>           <span class="mi">4</span> <span class="o">|</span>       <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+------------+-------------+------------+</span>

<span class="k">SELECT</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="k">DEFAULT</span> <span class="p">(</span><span class="n">l</span><span class="p">),</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">m</span><span class="p">),</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>  <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1364</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="n">Field</span> <span class="s1">'j'</span> <span class="n">doesn</span><span class="s1">'t have a default value</span>

<span class="s1">SELECT * FROM t WHERE i = DEFAULT(i);</span>
<span class="s1">Empty set (0.001 sec)</span>

<span class="s1">SELECT * FROM t WHERE j = DEFAULT(j);</span>
<span class="s1">ERROR 1364 (HY000): Field '</span><span class="n">j</span><span class="s1">' doesn'</span><span class="n">t</span> <span class="n">have</span> <span class="n">a</span> <span class="k">default</span> <span class="n">value</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span> <span class="k">WHERE</span> <span class="n">k</span> <span class="o">=</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">k</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---+---+------+---+------+</span>
<span class="o">|</span> <span class="n">i</span> <span class="o">|</span> <span class="n">j</span> <span class="o">|</span> <span class="n">k</span>    <span class="o">|</span> <span class="n">l</span> <span class="o">|</span> <span class="n">m</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">---+---+------+---+------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">4</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2</span> <span class="o">|</span> <span class="mi">2</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">4</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">3</span> <span class="o">|</span> <span class="mi">3</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">3</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+---+------+---+------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span> <span class="k">WHERE</span> <span class="n">l</span> <span class="o">=</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">l</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---+---+------+---+------+</span>
<span class="o">|</span> <span class="n">i</span> <span class="o">|</span> <span class="n">j</span> <span class="o">|</span> <span class="n">k</span>    <span class="o">|</span> <span class="n">l</span> <span class="o">|</span> <span class="n">m</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">---+---+------+---+------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">4</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2</span> <span class="o">|</span> <span class="mi">2</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">4</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+---+------+---+------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span> <span class="k">WHERE</span> <span class="n">m</span> <span class="o">=</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
<span class="n">Empty</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">001</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span> <span class="k">WHERE</span> <span class="n">m</span> <span class="o">&lt;=&gt;</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---+---+------+---+------+</span>
<span class="o">|</span> <span class="n">i</span> <span class="o">|</span> <span class="n">j</span> <span class="o">|</span> <span class="n">k</span>    <span class="o">|</span> <span class="n">l</span> <span class="o">|</span> <span class="n">m</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">---+---+------+---+------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">4</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+---+------+---+------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a ">CREATE TABLE DEFAULT Clause</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="point">POINT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">Point(x,y)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="https://mariadb.com/kb/en/wkb/">WKB</a> Point using the given coordinates.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'Point(1 1)'</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_point</span>  <span class="p">(</span><span class="k">g</span> <span class="n">POINT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_point</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">PointFromText</span><span class="p">(</span><span class="s1">'POINT(10 10)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">PointFromText</span><span class="p">(</span><span class="s1">'POINT(20 10)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">PointFromText</span><span class="p">(</span><span class="s1">'POINT(20 20)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">PointFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">PointFromText</span><span class="p">(</span><span class="s1">'POINT(10 20)'</span><span class="p">))));</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="pointonsurface">PointOnSurface</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_pointonsurface">ST_PointOnSurface</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_intersection">ST_INTERSECTION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_INTERSECTION(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a geometry that is the intersection, or shared portion, of geometry <em><code>g1</code></em> and geometry <em><code>g2</code></em>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POINT(2 1)'</span><span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'LINESTRING(2 1, 0 2)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ASTEXT</span><span class="p">(</span><span class="n">ST_INTERSECTION</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="n">ASTEXT</span><span class="p">(</span><span class="n">ST_INTERSECTION</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">2</span> <span class="mi">1</span><span class="p">)</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_pointonsurface">ST_POINTONSURFACE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_1_2 mariadb from_10_1_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">10.1.2</a></h5><p>ST_POINTONSURFACE() was introduced in <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a></p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_PointOnSurface(g)
PointOnSurface(g)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Given a geometry, returns a <a href="#point">POINT</a> guaranteed to intersect a surface. However, see <a href="https://jira.mariadb.org/browse/MDEV-7514">MDEV-7514</a>.</p>
<p>ST_PointOnSurface() and PointOnSurface() are synonyms.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="binlog">BINLOG</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">BINLOG 'str'
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>BINLOG</code> is an internal-use statement. It is generated by the
<a href="https://mariadb.com/kb/en/mysqlbinlog/">mariadb-binlog/mysqlbinlog</a> program as the printable representation of certain events
in <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> files.  The <code class="highlight fixed" style="white-space:pre-wrap">'str'</code> value is a base 64-encoded
string the that server decodes to determine the data change indicated by the
corresponding event. This statement requires the <a ">SUPER</a> privilege (&lt;= <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>) or the<a ">BINLOG REPLAY</a> privilege (&gt;= <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>).</p>
<h2 class="anchored_heading" id="see-also">See also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/high-availability-performance-tuning-mariadb-replication/">MariaDB replication</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="decode_histogram">DECODE_HISTOGRAM</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DECODE_HISTOGRAM(hist_type,histogram)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a string of comma separated numeric values corresponding to a probability distribution represented by the histogram of type <code>hist_type</code> (<code>SINGLE_PREC_HB</code> or <code>DOUBLE_PREC_HB</code>). The <code>hist_type</code> and <code>histogram</code> would be commonly used from the <a href="https://mariadb.com/kb/en/mysqlcolumn_stats-table/">mysql.column_stats table</a>.</p>
<p>See <a href="https://mariadb.com/kb/en/histogram-based-statistics/">Histogram Based Statistics</a> for details.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">origin</span> <span class="p">(</span>
  <span class="n">i</span> <span class="nb">INT</span> <span class="n">UNSIGNED</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
  <span class="n">v</span> <span class="nb">INT</span> <span class="n">UNSIGNED</span> <span class="k">NOT</span> <span class="k">NULL</span>
<span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">origin</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">),(</span><span class="mi">5</span><span class="p">),(</span><span class="mi">10</span><span class="p">),(</span><span class="mi">20</span><span class="p">),</span>
  <span class="p">(</span><span class="mi">30</span><span class="p">),(</span><span class="mi">40</span><span class="p">),(</span><span class="mi">50</span><span class="p">),(</span><span class="mi">60</span><span class="p">),(</span><span class="mi">70</span><span class="p">),(</span><span class="mi">80</span><span class="p">),</span>
  <span class="p">(</span><span class="mi">90</span><span class="p">),(</span><span class="mi">100</span><span class="p">),(</span><span class="mi">200</span><span class="p">),(</span><span class="mi">400</span><span class="p">),(</span><span class="mi">800</span><span class="p">);</span>

<span class="k">SET</span> <span class="n">histogram_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">histogram_type</span><span class="o">=</span><span class="n">SINGLE_PREC_HB</span><span class="p">;</span>

<span class="k">ANALYZE</span> <span class="k">TABLE</span> <span class="n">origin</span> <span class="n">PERSISTENT</span> <span class="k">FOR</span> <span class="k">ALL</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------+---------+----------+-----------------------------------------+</span>
<span class="o">|</span> <span class="k">Table</span>       <span class="o">|</span> <span class="n">Op</span>      <span class="o">|</span> <span class="n">Msg_type</span> <span class="o">|</span> <span class="n">Msg_text</span>                                <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+---------+----------+-----------------------------------------+</span>
<span class="o">|</span> <span class="n">test</span><span class="p">.</span><span class="n">origin</span> <span class="o">|</span> <span class="k">analyze</span> <span class="o">|</span> <span class="n">status</span>   <span class="o">|</span> <span class="n">Engine</span><span class="o">-</span><span class="n">independent</span> <span class="k">statistics</span> <span class="n">collected</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span><span class="p">.</span><span class="n">origin</span> <span class="o">|</span> <span class="k">analyze</span> <span class="o">|</span> <span class="n">status</span>   <span class="o">|</span> <span class="n">OK</span>                                      <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+---------+----------+-----------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">db_name</span><span class="p">,</span><span class="k">table_name</span><span class="p">,</span><span class="k">column_name</span><span class="p">,</span><span class="n">hist_type</span><span class="p">,</span>
  <span class="n">hex</span><span class="p">(</span><span class="n">histogram</span><span class="p">),</span><span class="n">decode_histogram</span><span class="p">(</span><span class="n">hist_type</span><span class="p">,</span><span class="n">histogram</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="n">mysql</span><span class="p">.</span><span class="n">column_stats</span> <span class="k">WHERE</span> <span class="n">db_name</span><span class="o">=</span><span class="s1">'test'</span> <span class="k">and</span> <span class="k">table_name</span><span class="o">=</span><span class="s1">'origin'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------------+-------------+----------------+----------------------+-------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">db_name</span> <span class="o">|</span> <span class="k">table_name</span> <span class="o">|</span> <span class="k">column_name</span> <span class="o">|</span> <span class="n">hist_type</span>      <span class="o">|</span> <span class="n">hex</span><span class="p">(</span><span class="n">histogram</span><span class="p">)</span>       <span class="o">|</span> <span class="n">decode_histogram</span><span class="p">(</span><span class="n">hist_type</span><span class="p">,</span><span class="n">histogram</span><span class="p">)</span>                             <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------------+-------------+----------------+----------------------+-------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">test</span>    <span class="o">|</span> <span class="n">origin</span>     <span class="o">|</span> <span class="n">i</span>           <span class="o">|</span> <span class="n">SINGLE_PREC_HB</span> <span class="o">|</span> <span class="mi">0</span><span class="n">F2D3C5A7887A5C3D2F0</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">059</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">118</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">059</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">118</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">118</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">059</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">118</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">118</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">059</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">118</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">059</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span>    <span class="o">|</span> <span class="n">origin</span>     <span class="o">|</span> <span class="n">v</span>           <span class="o">|</span> <span class="n">SINGLE_PREC_HB</span> <span class="o">|</span> <span class="mi">000001060</span><span class="n">C0F161C1F7F</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">004</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">020</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">024</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">012</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">027</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">024</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">012</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">376</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">502</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------------+-------------+----------------+----------------------+-------------------------------------------------------------------+</span>

<span class="k">SET</span> <span class="n">histogram_size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">histogram_type</span><span class="o">=</span><span class="n">DOUBLE_PREC_HB</span><span class="p">;</span>

<span class="k">ANALYZE</span> <span class="k">TABLE</span> <span class="n">origin</span> <span class="n">PERSISTENT</span> <span class="k">FOR</span> <span class="k">ALL</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------+---------+----------+-----------------------------------------+</span>
<span class="o">|</span> <span class="k">Table</span>       <span class="o">|</span> <span class="n">Op</span>      <span class="o">|</span> <span class="n">Msg_type</span> <span class="o">|</span> <span class="n">Msg_text</span>                                <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+---------+----------+-----------------------------------------+</span>
<span class="o">|</span> <span class="n">test</span><span class="p">.</span><span class="n">origin</span> <span class="o">|</span> <span class="k">analyze</span> <span class="o">|</span> <span class="n">status</span>   <span class="o">|</span> <span class="n">Engine</span><span class="o">-</span><span class="n">independent</span> <span class="k">statistics</span> <span class="n">collected</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span><span class="p">.</span><span class="n">origin</span> <span class="o">|</span> <span class="k">analyze</span> <span class="o">|</span> <span class="n">status</span>   <span class="o">|</span> <span class="n">OK</span>                                      <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+---------+----------+-----------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">db_name</span><span class="p">,</span><span class="k">table_name</span><span class="p">,</span><span class="k">column_name</span><span class="p">,</span>
  <span class="n">hist_type</span><span class="p">,</span><span class="n">hex</span><span class="p">(</span><span class="n">histogram</span><span class="p">),</span><span class="n">decode_histogram</span><span class="p">(</span><span class="n">hist_type</span><span class="p">,</span><span class="n">histogram</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="n">mysql</span><span class="p">.</span><span class="n">column_stats</span> <span class="k">WHERE</span> <span class="n">db_name</span><span class="o">=</span><span class="s1">'test'</span> <span class="k">and</span> <span class="k">table_name</span><span class="o">=</span><span class="s1">'origin'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------------+-------------+----------------+------------------------------------------+-----------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">db_name</span> <span class="o">|</span> <span class="k">table_name</span> <span class="o">|</span> <span class="k">column_name</span> <span class="o">|</span> <span class="n">hist_type</span>      <span class="o">|</span> <span class="n">hex</span><span class="p">(</span><span class="n">histogram</span><span class="p">)</span>                           <span class="o">|</span> <span class="n">decode_histogram</span><span class="p">(</span><span class="n">hist_type</span><span class="p">,</span><span class="n">histogram</span><span class="p">)</span>                                                   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------------+-------------+----------------+------------------------------------------+-----------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">test</span>    <span class="o">|</span> <span class="n">origin</span>     <span class="o">|</span> <span class="n">i</span>           <span class="o">|</span> <span class="n">DOUBLE_PREC_HB</span> <span class="o">|</span> <span class="mi">0</span><span class="n">F0F2D2D3C3C5A5A78788787A5A5C3C3D2D2F0F0</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">05882</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">11765</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">05882</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">11765</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">11765</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">05882</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">11765</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">11765</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">05882</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">11765</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">05882</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span>    <span class="o">|</span> <span class="n">origin</span>     <span class="o">|</span> <span class="n">v</span>           <span class="o">|</span> <span class="n">DOUBLE_PREC_HB</span> <span class="o">|</span> <span class="mi">5200</span><span class="n">F600480116067E0CB30F1B16831CB81FD67F</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">00125</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">00250</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">00125</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">01877</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">02502</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">01253</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">02502</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">02502</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">01253</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">37546</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">50063</span> <span class="o">|</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="found_rows">FOUND_ROWS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">FOUND_ROWS()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A <a href="#select">SELECT</a> statement may include a <a ">LIMIT</a> clause to restrict the number
of rows the server returns to the client. In some cases, it is
desirable to know how many rows the statement would have returned
without the LIMIT, but without running the statement again. To obtain
this row count, include a <a ">SQL_CALC_FOUND_ROWS</a> option in the SELECT
statement, and then invoke FOUND_ROWS() afterwards.</p>
<p>You can also use FOUND_ROWS() to obtain the number of rows returned by a <a href="#select">SELECT</a> which does not contain a <a ">LIMIT</a> clause. In this case you don't need to use the <a ">SQL_CALC_FOUND_ROWS</a> option. This can be useful for example in a <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedure</a>.</p>
<p>Also, this function works with some other statements which return a resultset, including <a href="https://mariadb.com/kb/en/show/">SHOW</a>, <a href="#describe">DESC</a> and <a href="#help-command">HELP</a>. For <a href="#delete">DELETE ... RETURNING</a> you should use <a href="https://mariadb.com/kb/en/information-functions-row_count/">ROW_COUNT()</a>. It also works as a <a href="https://mariadb.com/kb/en/prepared-statements/">prepared statement</a>, or after executing a prepared statement.</p>
<p>Statements which don't return any results don't affect FOUND_ROWS() - the previous value will still be returned.</p>
<p><strong>Warning:</strong> When used after a <a href="#call">CALL</a> statement, this function returns the number of rows selected by the last query in the procedure, not by the whole procedure.</p>
<p>Statements using the FOUND_ROWS() function are not <a href="https://mariadb.com/kb/en/unsafe-statements-for-replication/">safe for replication</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">ENGINES</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span>
<span class="o">|</span> <span class="n">Engine</span>             <span class="o">|</span> <span class="n">Support</span> <span class="o">|</span> <span class="k">Comment</span>                                                        <span class="o">|</span> <span class="n">Transactions</span> <span class="o">|</span> <span class="n">XA</span>   <span class="o">|</span> <span class="n">Savepoints</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span>
<span class="o">|</span> <span class="n">InnoDB</span>             <span class="o">|</span> <span class="k">DEFAULT</span> <span class="o">|</span> <span class="n">Supports</span> <span class="n">transactions</span><span class="p">,</span> <span class="k">row</span><span class="o">-</span><span class="k">level</span> <span class="n">locking</span><span class="p">,</span> <span class="k">and</span> <span class="k">foreign</span> <span class="n">keys</span>     <span class="o">|</span> <span class="n">YES</span>          <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span> <span class="n">YES</span>        <span class="o">|</span>
<span class="p">...</span>
<span class="o">|</span> <span class="n">SPHINX</span>             <span class="o">|</span> <span class="n">YES</span>     <span class="o">|</span> <span class="n">Sphinx</span> <span class="k">storage</span> <span class="n">engine</span>                                          <span class="o">|</span> <span class="k">NO</span>           <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span> <span class="k">NO</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span>
<span class="mi">11</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SELECT</span> <span class="n">FOUND_ROWS</span><span class="p">();</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">FOUND_ROWS</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span>           <span class="mi">11</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>

<span class="k">SELECT</span> <span class="n">SQL_CALC_FOUND_ROWS</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">tbl_name</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="o">&gt;</span> <span class="mi">100</span> <span class="k">LIMIT</span> <span class="mi">10</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">FOUND_ROWS</span><span class="p">();</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">FOUND_ROWS</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span>           <span class="mi">23</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/information-functions-row_count/">ROW_COUNT()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="flush-query-cache">FLUSH QUERY CACHE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="description">Description</h2>
<p>You can defragment <a href="https://mariadb.com/kb/en/the-query-cache/">the query cache</a> to better utilize its memory with
the <code>FLUSH QUERY CACHE</code> statement. The statement does not remove any queries from the cache.</p>
<p>The <code><a href="#reset">RESET QUERY CACHE</a></code> statement removes all query results from the query cache.
The <code><a href="#flush">FLUSH TABLES</a></code> statement also does this.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="load-index">LOAD INDEX</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LOAD INDEX INTO CACHE
  tbl_index_list [, tbl_index_list] ...

tbl_index_list:
  tbl_name
    [[INDEX|KEY] (index_name[, index_name] ...)]
    [IGNORE LEAVES]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code class="fixed" style="white-space:pre-wrap">LOAD INDEX INTO CACHE</code> statement preloads a table index into the key
cache to which it has been assigned by an explicit <a href="#cache-index"><code class="fixed" style="white-space:pre-wrap">CACHE INDEX</code></a>
statement, or into the default key cache otherwise. 
<code class="fixed" style="white-space:pre-wrap">LOAD INDEX INTO CACHE</code> is used only for <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> or <a href="https://mariadb.com/kb/en/aria/">Aria</a> tables. Until <a href="https://mariadb.com/kb/en/what-is-mariadb-53/">MariaDB 5.3</a>, it was not supported for tables
having user-defined partitioning, but this limitation was removed in <a href="https://mariadb.com/kb/en/what-is-mariadb-55/">MariaDB 5.5</a>.</p>
<p>The <code class="fixed" style="white-space:pre-wrap">IGNORE LEAVES</code> modifier causes only blocks for the nonleaf nodes of
the index to be preloaded.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="last_insert_id">LAST_INSERT_ID</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="last_insert_idsyntax">Syntax</h2>
<pre class="fixed">LAST_INSERT_ID(), LAST_INSERT_ID(expr)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#last_insert_idsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#last_insert_iddescription" title="Description">Description</a></li>
<li class=""><a href="#last_insert_idexamples" title="Examples">Examples</a></li>
<li class=""><a href="#last_insert_idsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="last_insert_iddescription">Description</h2>
<p>LAST_INSERT_ID() (no arguments) returns
the first automatically generated value successfully inserted for an
<a href="#auto_increment">AUTO_INCREMENT</a> column as a result of the most recently executed INSERT
statement. The value of LAST_INSERT_ID() remains unchanged if no rows
are successfully inserted.</p>
<p>If one gives an argument to LAST_INSERT_ID(), then it will return the value of the expression and
the next call to LAST_INSERT_ID() will return the same value. The value will also be sent to the client
and can be accessed by the <a href="https://mariadb.com/kb/en/mysql_insert_id/">mysql_insert_id</a> function.</p>
<p>For example, after inserting a row that generates an AUTO_INCREMENT
value, you can get the value like this:</p>
<pre class="fixed">SELECT LAST_INSERT_ID();
+------------------+
| LAST_INSERT_ID() |
+------------------+
|                9 |
+------------------+
</pre><p>You can also use LAST_INSERT_ID() to delete the last inserted row:</p>
<pre class="fixed">DELETE FROM product WHERE id = LAST_INSERT_ID();
</pre><p>If no rows were successfully inserted, LAST_INSERT_ID() returns 0.</p>
<p>The value of LAST_INSERT_ID() will be consistent across all versions
if all rows in the <a href="#insert">INSERT</a> or <a href="#update">UPDATE</a> statement were successful.</p>
<p>The currently executing statement does not affect the value of
LAST_INSERT_ID(). Suppose that you generate an AUTO_INCREMENT value
with one statement, and then refer to LAST_INSERT_ID() in a
multiple-row INSERT statement that inserts rows into a table with its
own AUTO_INCREMENT column. The value of LAST_INSERT_ID() will remain
stable in the second statement; its value for the second and later
rows is not affected by the earlier row insertions. (However, if you
mix references to LAST_INSERT_ID() and LAST_INSERT_ID(expr), the
effect is undefined.)</p>
<p>If the previous statement returned an error, the value of
LAST_INSERT_ID() is undefined. For transactional tables, if the
statement is rolled back due to an error, the value of
LAST_INSERT_ID() is left undefined. For manual <a href="#rollback">ROLLBACK</a>, the value of
LAST_INSERT_ID() is not restored to that before the transaction; it
remains as it was at the point of the ROLLBACK.</p>
<p>Within the body of a stored routine (procedure or function) or a
trigger, the value of LAST_INSERT_ID() changes the same way as for
statements executed outside the body of these kinds of objects. The
effect of a stored routine or trigger upon the value of
LAST_INSERT_ID() that is seen by following statements depends on the
kind of routine:</p>
<ul start="1"><li>If a <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedure</a> executes statements that change the value of LAST_INSERT_ID(), the new value will be seen by statements that follow the procedure call.
</li></ul>
<ul start="1"><li>For <a href="https://mariadb.com/kb/en/stored-functions/">stored functions</a> and <a href="https://mariadb.com/kb/en/triggers/">triggers</a> that change the value, the value is restored when the function or trigger ends, so following statements will not see a changed value.
</li></ul>
<h2 class="anchored_heading" id="last_insert_idexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span>
  <span class="n">id</span> <span class="nb">INTEGER</span> <span class="n">UNSIGNED</span> <span class="n">AUTO_INCREMENT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span> 
  <span class="n">f</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> 
<span class="n">ENGINE</span> <span class="o">=</span> <span class="n">InnoDB</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'a'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">LAST_INSERT_ID</span><span class="p">();</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">LAST_INSERT_ID</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'b'</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'c'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">LAST_INSERT_ID</span><span class="p">();</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">LAST_INSERT_ID</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>                <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'d'</span><span class="p">),(</span><span class="s1">'e'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">LAST_INSERT_ID</span><span class="p">();</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">LAST_INSERT_ID</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>                <span class="mi">4</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">f</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="k">c</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="n">d</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span> <span class="n">e</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+</span>

<span class="k">SELECT</span> <span class="n">LAST_INSERT_ID</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">LAST_INSERT_ID</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span>                 <span class="mi">12</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SELECT</span> <span class="n">LAST_INSERT_ID</span><span class="p">();</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">LAST_INSERT_ID</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>               <span class="mi">12</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'f'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">LAST_INSERT_ID</span><span class="p">();</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">LAST_INSERT_ID</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>                <span class="mi">6</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">f</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="k">c</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="n">d</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span> <span class="n">e</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span> <span class="n">f</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+</span>

<span class="k">SELECT</span> <span class="n">LAST_INSERT_ID</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">LAST_INSERT_ID</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span>                 <span class="mi">12</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'g'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">f</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="k">c</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="n">d</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span> <span class="n">e</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span> <span class="n">f</span>    <span class="o">|</span>
<span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span> <span class="k">g</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+</span>
</pre><h2 class="anchored_heading" id="last_insert_idsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/mysql_insert_id/">mysql_insert_id</a>
</li><li><a href="#auto_increment">AUTO_INCREMENT</a>
</li><li><a href="https://mariadb.com/kb/en/auto_increment-handling-in-innodb/">AUTO_INCREMENT handling in InnoDB</a>
</li><li><a href="https://mariadb.com/kb/en/sequences/">Sequences</a> - an alternative to auto_increment available from <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="procedure-analyse">PROCEDURE ANALYSE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">analyse([max_elements[,max_memory]])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This procedure is defined in the sql/sql_analyse.cc file. It examines
the result from a query and returns an analysis of the results that
suggests optimal data types for each column. To obtain this analysis,
append PROCEDURE ANALYSE to the end of a <a href="#select">SELECT</a> statement:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="p">...</span> <span class="k">FROM</span> <span class="p">...</span> <span class="k">WHERE</span> <span class="p">...</span> <span class="k">PROCEDURE</span> <span class="k">ANALYSE</span><span class="p">([</span><span class="n">max_elements</span><span class="p">,[</span><span class="n">max_memory</span><span class="p">]])</span>
</pre><p>For example:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span> <span class="k">FROM</span> <span class="n">table1</span> <span class="k">PROCEDURE</span> <span class="k">ANALYSE</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2000</span><span class="p">);</span>
</pre><p>The results show some statistics for the values returned by the query,
and propose an optimal data type for the columns. This can be helpful
for checking your existing tables, or after importing new data. You
may need to try different settings for the arguments so that PROCEDURE
ANALYSE() does not suggest the ENUM data type when it is not
appropriate.</p>
<p>The arguments are optional and are used as follows:</p>
<ul start="1"><li>max_elements (default 256) is the maximum number of distinct values that analyse notices per column. This is used by analyse to check whether the optimal data type should be of type ENUM; if there are more than max_elements distinct values, then ENUM is not a suggested type.
</li><li>max_memory (default 8192) is the maximum amount of memory that analyse should allocate per column while trying to find all distinct values.
</li></ul>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#procedure">PROCEDURE</a>
</li><li><a href="#select">SELECT</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-function-code">SHOW FUNCTION CODE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW FUNCTION CODE func_name
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>SHOW FUNCTION CODE</code> shows a representation of the internal implementation of the stored function.</p>
<p>It  is similar to <code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-procedure-code">SHOW PROCEDURE CODE</a></code> but for <a href="https://mariadb.com/kb/en/stored-functions/">stored functions</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-profiles">SHOW PROFILES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW PROFILES
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">SHOW PROFILES</code> statement displays profiling information
that indicates resource usage for statements executed during the course of the
current session. It is used together with 
<code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-profile">SHOW PROFILE</a></code>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-query_response_time">SHOW QUERY_RESPONSE_TIME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>It is possible to use <code>SHOW QUERY_RESPONSE_TIME</code> as an alternative for retrieving information from the <a href="https://mariadb.com/kb/en/query_response_time-plugin/">QUERY_RESPONSE_TIME</a> plugin.</p>
<p>This was introduced as part of the <a href="https://mariadb.com/kb/en/information-schema-plugins-show-and-flush-statements/">Information Schema plugin extension</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-slave-status">SHOW SLAVE STATUS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-slave-statussyntax">Syntax</h2>
<pre class="fixed">SHOW SLAVE ["connection_name"] STATUS [FOR CHANNEL "connection_name"]
SHOW REPLICA ["connection_name"] STATUS -- From MariaDB 10.5.1
</pre><p>or</p>
<pre class="fixed">SHOW ALL SLAVES STATUS
SHOW ALL REPLICAS STATUS -- From MariaDB 10.5.1
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#show-slave-statussyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_7_0"><a href="#show-slave-statusdescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_7_0"><a href="#show-slave-statusmulti-source" title="Multi-Source">Multi-Source</a></li>
<li class="mariadb_from_10_7_0"><a href="#show-slave-statuscolumn-descriptions" title="Column Descriptions">Column Descriptions</a></li>
<li class="mariadb_from_10_7_0"><a href="#show-slave-statusshow-replica-status" title="SHOW REPLICA STATUS">SHOW REPLICA STATUS</a> </li></ol>
</li>
<li class="mariadb_from_10_7_0"><a href="#show-slave-statusexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_7_0"><a href="#show-slave-statussee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-slave-statusdescription">Description</h2>
<p>This statement is to be run on a replica and provides status information on essential parameters of the <a href="https://mariadb.com/kb/en/replication/">replica</a> threads.</p>
<p>This statement requires the <a ">SUPER</a> privilege, the <a ">REPLICATION_CLIENT</a> privilege, or, from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the <a ">REPLICATION SLAVE ADMIN</a> privilege, or, from <a href="https://mariadb.com/kb/en/mariadb-1059-release-notes/">MariaDB 10.5.9</a>, the <a ">REPLICA MONITOR</a> privilege.</p>
<h3 class="anchored_heading" id="show-slave-statusmulti-source">Multi-Source</h3>
<p>The <code>FULL</code> and <code>"connection_name"</code> options allow you to connect to <a href="https://mariadb.com/kb/en/multi-source-replication/">many primaries at the same time</a>.</p>
<p><code>ALL SLAVES</code> (or <code>ALL REPLICAS</code> from <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>) gives you a list of all connections to the primary nodes.</p>
<p>The rows will be sorted according to <code>Connection_name</code>.</p>
<p>If you specify a <code>connection_name</code>, you only get the information about that
connection. If <code>connection_name</code> is not used, then the name set by <code>default_master_connection</code> is used. If the connection name doesn't exist you will get an error:
<code>There is no master connection for 'xxx'</code>.</p>
<div class="mariadb_from_10_7_0 mariadb from_10_7_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1070-release-notes/">10.7.0</a></h5><p>The <code>FOR CHANNEL</code> keyword was added for MySQL compatibility. This is identical as
using the channel_name directly after <code>SHOW SLAVE</code>.</p>
</div><h3 class="anchored_heading" id="show-slave-statuscolumn-descriptions">Column Descriptions</h3>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Name</th><th>Description</th><th>Added</th></tr>
<tr><td>Connection_name</td><td>Name of the primary connection. Returned with <code>SHOW ALL SLAVES STATUS</code> (or <code>SHOW ALL REPLICAS STATUS</code> from <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>) only.</td><td></td></tr>
<tr><td>Slave_SQL_State</td><td>State of SQL thread. Returned with <code>SHOW ALL SLAVES STATUS</code> (or <code>SHOW ALL REPLICAS STATUS</code> from <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>) only. See <a href="https://mariadb.com/kb/en/slave-sql-thread-states/">Slave SQL Thread States</a>.</td><td></td></tr>
<tr><td>Slave_IO_State</td><td>State of I/O thread. See <a href="https://mariadb.com/kb/en/slave-io-thread-states/">Slave I/O Thread States</a>.</td><td></td></tr>
<tr><td>Master_host</td><td>Master host that the replica is connected to.</td><td></td></tr>
<tr><td>Master_user</td><td>Account user name being used to connect to the primary.</td><td></td></tr>
<tr><td>Master_port</td><td>The port being used to connect to the primary.</td><td></td></tr>
<tr><td>Connect_Retry</td><td>Time in seconds between retries to connect. The default is 60. The <a href="#change-master-to">CHANGE MASTER TO</a> statement can set this. The <a href="https://mariadb.com/kb/en/mysqld-options/#-master-retry-count">master-retry-count</a> option determines the maximum number of reconnection attempts.</td><td></td></tr>
<tr><td>Master_Log_File</td><td>Name of the primary <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> file that the I/O thread is currently reading from.</td><td></td></tr>
<tr><td>Read_Master_Log_Pos</td><td>Position up to which the I/O thread has read in the current primary <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> file.</td><td></td></tr>
<tr><td>Relay_Log_File</td><td>Name of the relay log file that the SQL thread is currently processing.</td><td></td></tr>
<tr><td>Relay_Log_Pos</td><td>Position up to which the SQL thread has finished processing in the current relay log file.</td><td></td></tr>
<tr><td>Relay_Master_Log_File</td><td>Name of the primary <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> file that contains the most recent event executed by the SQL thread.</td><td></td></tr>
<tr><td>Slave_IO_Running</td><td>Whether the replica I/O thread is running and connected (<code>Yes</code>), running but not connected to a primary (<code>Connecting</code>) or not running (<code>No</code>).</td><td></td></tr>
<tr><td>Slave_SQL_Running</td><td>Whether or not the SQL thread is running.</td><td></td></tr>
<tr><td>Replicate_Do_DB</td><td>Databases specified for replicating with the <code><a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#replicate_do_db">replicate_do_db</a></code> option.</td><td></td></tr>
<tr><td>Replicate_Ignore_DB</td><td>Databases specified for ignoring with the <code><a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#replicate_ignore_db">replicate_ignore_db</a></code> option.</td><td></td></tr>
<tr><td>Replicate_Do_Table</td><td>Tables specified for replicating with the <code><a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#replicate_do_table">replicate_do_table</a></code> option.</td><td></td></tr>
<tr><td>Replicate_Ignore_Table</td><td>Tables specified for ignoring with the <code><a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#replicate_ignore_table">replicate_ignore_table</a></code> option.</td><td></td></tr>
<tr><td>Replicate_Wild_Do_Table</td><td>Tables specified for replicating with the <code><a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#replicate_wild_do_table">replicate_wild_do_table</a></code> option.</td><td></td></tr>
<tr><td>Replicate_Wild_Ignore_Table</td><td>Tables specified for ignoring with the <code><a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#replicate_wild_ignore_table">replicate_wild_ignore_table</a></code> option.</td><td></td></tr>
<tr><td>Last_Errno</td><td>Alias for <code>Last_SQL_Errno</code> (see below)</td><td></td></tr>
<tr><td>Last Error</td><td>Alias for <code>Last_SQL_Error</code> (see below)</td><td></td></tr>
<tr><td>Skip_Counter</td><td>Number of events that a replica skips from the master, as recorded in the <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#sql_slave_skip_counter">sql_slave_skip_counter</a> system variable.</td><td></td></tr>
<tr><td>Exec_Master_Log_Pos</td><td>Position up to which the SQL thread has processed in the current master <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> file. Can be used to start a new replica from a current replica with the <a href="#change-master-to">CHANGE MASTER TO ... MASTER_LOG_POS</a> option.</td><td></td></tr>
<tr><td>Relay_Log_Space</td><td>Total size of all relay log files combined.</td><td></td></tr>
<tr><td>Until_Condition</td><td></td><td></td></tr>
<tr><td>Until_Log_File</td><td>The <code>MASTER_LOG_FILE</code> value of the <a href="#start-slave">START SLAVE UNTIL</a> condition.</td><td></td></tr>
<tr><td>Until_Log_Pos</td><td>The <code>MASTER_LOG_POS</code> value of the <a href="#start-slave">START SLAVE UNTIL</a> condition.</td><td></td></tr>
<tr><td>Master_SSL_Allowed</td><td>Whether an SSL connection is permitted (<code>Yes</code>), not permitted (<code>No</code>) or permitted but without the replica having SSL support enabled (<code>Ignored</code>)</td><td></td></tr>
<tr><td>Master_SSL_CA_File</td><td>The <code>MASTER_SSL_CA</code> option of the <code><a href="#change-master-to">CHANGE MASTER TO</a></code> statement.</td><td></td></tr>
<tr><td>Master_SSL_CA_Path</td><td>The <code>MASTER_SSL_CAPATH</code> option of the <code><a href="#change-master-to">CHANGE MASTER TO</a></code> statement.</td><td></td></tr>
<tr><td>Master_SSL_Cert</td><td>The <code>MASTER_SSL_CERT</code> option of the <code><a href="#change-master-to">CHANGE MASTER TO</a></code> statement.</td><td></td></tr>
<tr><td>Master_SSL_Cipher</td><td>The <code>MASTER_SSL_CIPHER</code> option of the <code><a href="#change-master-to">CHANGE MASTER TO</a></code> statement.</td><td></td></tr>
<tr><td>Master_SSL_Key</td><td>The <code>MASTER_SSL_KEY</code> option of the <code><a href="#change-master-to">CHANGE MASTER TO</a></code> statement.</td><td></td></tr>
<tr><td>Seconds_Behind_Master</td><td>Difference between the timestamp logged on the master for the event that the replica is currently processing, and the current timestamp on the replica. Zero if the replica is not currently processing an event. From <a href="https://mariadb.com/kb/en/mariadb-10023-release-notes/">MariaDB 10.0.23</a> and <a href="https://mariadb.com/kb/en/mariadb-1019-release-notes/">MariaDB 10.1.9</a>, with <a href="https://mariadb.com/kb/en/parallel-replication/">parallel replication</a>, <code>seconds_behind_master</code> is updated only after transactions commit.</td><td></td></tr>
<tr><td>Master_SSL_Verify_Server_Cert</td><td>The <code>MASTER_SSL_VERIFY_SERVER_CERT</code> option of the <code><a href="#change-master-to">CHANGE MASTER TO</a></code> statement.</td><td></td></tr>
<tr><td>Last_IO_Errno</td><td><a href="https://mariadb.com/kb/en/mariadb-error-codes/">Error code</a> of the most recent error that caused the I/O thread to stop (also recorded in the replica's error log). <code>0</code> means no error. <a href="https://mariadb.com/kb/en/reset-slave/">RESET SLAVE</a> or <a href="#reset-master">RESET MASTER</a> will reset this value.</td><td></td></tr>
<tr><td>Last_IO_Error</td><td><a href="https://mariadb.com/kb/en/mariadb-error-codes/">Error message</a> of the most recent error that caused the I/O thread to stop (also recorded in the replica's error log). An empty string means no error. <a href="https://mariadb.com/kb/en/reset-slave/">RESET SLAVE</a> or <a href="#reset-master">RESET MASTER</a> will reset this value.</td><td></td></tr>
<tr><td>Last_SQL_Errno</td><td><a href="https://mariadb.com/kb/en/mariadb-error-codes/">Error code</a> of the most recent error that caused the SQL thread to stop (also recorded in the replica's error log). <code>0</code> means no error. <a href="https://mariadb.com/kb/en/reset-slave/">RESET SLAVE</a> or <a href="#reset-master">RESET MASTER</a> will reset this value.</td><td></td></tr>
<tr><td>Last_SQL_Error</td><td><a href="https://mariadb.com/kb/en/mariadb-error-codes/">Error message</a> of the most recent error that caused the SQL thread to stop (also recorded in the replica's error log). An empty string means no error. <a href="https://mariadb.com/kb/en/reset-slave/">RESET SLAVE</a> or <a href="#reset-master">RESET MASTER</a> will reset this value.</td><td></td></tr>
<tr><td>Replicate_Ignore_Server_Ids</td><td>List of <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#server_id">server_ids</a> that are currently being ignored for replication purposes, or an empty string for none, as specified in the <code>IGNORE_SERVER_IDS</code> option of the <code><a ">CHANGE MASTER TO</a></code> statement.</td><td></td></tr>
<tr><td>Master_Server_Id</td><td>The master's <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#server_id">server_id</a> value.</td><td></td></tr>
<tr><td>Master_SSL_Crl</td><td>The <code>MASTER_SSL_CRL</code> option of the <code><a href="#change-master-to">CHANGE MASTER TO</a></code> statement.</td><td><a href="https://mariadb.com/kb/en/what-is-mariadb-100/">MariaDB 10.0</a></td></tr>
<tr><td>Master_SSL_Crlpath</td><td>The <code>MASTER_SSL_CRLPATH</code> option of the <code><a href="#change-master-to">CHANGE MASTER TO</a></code> statement.</td><td><a href="https://mariadb.com/kb/en/what-is-mariadb-100/">MariaDB 10.0</a></td></tr>
<tr><td>Using_Gtid</td><td>Whether or not <a href="https://mariadb.com/kb/en/global-transaction-id/">global transaction ID's</a> are being used for replication (can be <code>No</code>, <code>Slave_Pos</code>, or <code>Current_Pos</code>).</td><td><a href="https://mariadb.com/kb/en/mariadb-1002-release-notes/">MariaDB 10.0.2</a></td></tr>
<tr><td>Gtid_IO_Pos</td><td>Current <a href="https://mariadb.com/kb/en/global-transaction-id/">global transaction ID</a> value.</td><td><a href="https://mariadb.com/kb/en/mariadb-1002-release-notes/">MariaDB 10.0.2</a></td></tr>
<tr><td>Retried_transactions</td><td>Number of retried transactions for this connection. Returned with <code>SHOW ALL SLAVES STATUS</code> only.</td><td></td></tr>
<tr><td>Max_relay_log_size</td><td>Max <a href="https://mariadb.com/kb/en/relay-log/">relay log</a> size for this connection. Returned with <code>SHOW ALL SLAVES STATUS</code> only.</td><td></td></tr>
<tr><td>Executed_log_entries</td><td>How many log entries the replica has executed. Returned with <code>SHOW ALL SLAVES STATUS</code> only.</td><td></td></tr>
<tr><td>Slave_received_heartbeats</td><td>How many heartbeats we have got from the master. Returned with <code>SHOW ALL SLAVES STATUS</code> only.</td><td></td></tr>
<tr><td>Slave_heartbeat_period</td><td>How often to request a heartbeat packet from the master (in seconds). Returned with <code>SHOW ALL SLAVES STATUS</code> only.</td><td></td></tr>
<tr><td>Gtid_Slave_Pos</td><td>GTID of the last event group replicated on a replica server, for each replication domain, as stored in the <a href="https://mariadb.com/kb/en/global-transaction-id/#gtid_slave_pos">gtid_slave_pos</a> system variable. Returned with <code>SHOW ALL SLAVES STATUS</code> only.</td><td></td></tr>
<tr><td>SQL_Delay</td><td>Value specified by <code>MASTER_DELAY</code> in <code><a href="#change-master-to">CHANGE MASTER</a></code> (or 0 if none).</td><td><a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a></td></tr>
<tr><td>SQL_Remaining_Delay</td><td>When the replica is delaying the execution of an event due to <code>MASTER_DELAY</code>, this is the number of seconds of delay remaining before the event will be applied. Otherwise, the value is <code>NULL</code>.</td><td><a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a></td></tr>
<tr><td>Slave_SQL_Running_State</td><td>The state of the SQL driver threads, same as in <code><a href="#show-processlist">SHOW PROCESSLIST</a></code>. When the replica is delaying the execution of an event due to <code>MASTER_DELAY</code>, this field displays: "<code>Waiting until MASTER_DELAY seconds after master executed event</code>".</td><td><a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a></td></tr>
<tr><td>Slave_DDL_Groups</td><td>This status variable counts the occurrence of DDL statements.  This is a replica-side counter for optimistic parallel replication.</td><td><a href="https://mariadb.com/kb/en/mariadb-1037-release-notes/">MariaDB 10.3.7</a></td></tr>
<tr><td>Slave_Non_Transactional_Groups</td><td>This status variable counts the occurrence of non-transactional event groups.  This is a replica-side counter for optimistic parallel replication.</td><td><a href="https://mariadb.com/kb/en/mariadb-1037-release-notes/">MariaDB 10.3.7</a></td></tr>
<tr><td>Slave_Transactional_Groups</td><td>This status variable counts the occurrence of transactional event groups.  This is a replica-side counter for optimistic parallel replication.</td><td><a href="https://mariadb.com/kb/en/mariadb-1037-release-notes/">MariaDB 10.3.7</a></td></tr>
</table>
</div><h3 class="anchored_heading" id="show-slave-statusshow-replica-status">SHOW REPLICA STATUS</h3>
<div class="mariadb_from_10_5_1 mariadb from_10_5_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">10.5.1</a></h5><p><code>SHOW REPLICA STATUS</code> is an alias for <code>SHOW SLAVE STATUS</code> from <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>. </p>
</div><h2 class="anchored_heading" id="show-slave-statusexamples">Examples</h2>
<p>If you issue this statement using the <code><a href="https://mariadb.com/kb/en/mysql-client/">mysql</a></code> client,
you can use a <code><code>\G</code></code> statement terminator rather than a semicolon to
obtain a more readable vertical layout.</p>
<pre class="fixed">SHOW SLAVE STATUS\G
*************************** 1. row ***************************
               Slave_IO_State: Waiting for master to send event
                  Master_Host: db01.example.com
                  Master_User: replicant
                  Master_Port: 3306
                Connect_Retry: 60
              Master_Log_File: mariadb-bin.000010
          Read_Master_Log_Pos: 548
               Relay_Log_File: relay-bin.000004
                Relay_Log_Pos: 837
        Relay_Master_Log_File: mariadb-bin.000010
             Slave_IO_Running: Yes
            Slave_SQL_Running: Yes
              Replicate_Do_DB: 
          Replicate_Ignore_DB: 
           Replicate_Do_Table: 
       Replicate_Ignore_Table: 
      Replicate_Wild_Do_Table: 
  Replicate_Wild_Ignore_Table: 
                   Last_Errno: 0
                   Last_Error: 
                 Skip_Counter: 0
          Exec_Master_Log_Pos: 548
              Relay_Log_Space: 1497
              Until_Condition: None
               Until_Log_File: 
                Until_Log_Pos: 0
           Master_SSL_Allowed: No
           Master_SSL_CA_File: 
           Master_SSL_CA_Path: 
              Master_SSL_Cert: 
            Master_SSL_Cipher: 
               Master_SSL_Key: 
        Seconds_Behind_Master: 0
Master_SSL_Verify_Server_Cert: No
                Last_IO_Errno: 0
                Last_IO_Error: 
               Last_SQL_Errno: 0
               Last_SQL_Error: 
  Replicate_Ignore_Server_Ids: 
             Master_Server_Id: 101
               Master_SSL_Crl: 
           Master_SSL_Crlpath: 
                   Using_Gtid: No
                  Gtid_IO_Pos: 
</pre><pre class="fixed">SHOW ALL SLAVES STATUS\G
*************************** 1. row ***************************
              Connection_name: 
              Slave_SQL_State: Slave has read all relay log; waiting for the slave I/O thread to update it
               Slave_IO_State: Waiting for master to send event
                  Master_Host: db01.example.com
                  Master_User: replicant
                  Master_Port: 3306
                Connect_Retry: 60
              Master_Log_File: mariadb-bin.000010
          Read_Master_Log_Pos: 3608
               Relay_Log_File: relay-bin.000004
                Relay_Log_Pos: 3897
        Relay_Master_Log_File: mariadb-bin.000010
             Slave_IO_Running: Yes
            Slave_SQL_Running: Yes
              Replicate_Do_DB: 
          Replicate_Ignore_DB: 
           Replicate_Do_Table: 
       Replicate_Ignore_Table: 
      Replicate_Wild_Do_Table: 
  Replicate_Wild_Ignore_Table: 
                   Last_Errno: 0
                   Last_Error: 
                 Skip_Counter: 0
          Exec_Master_Log_Pos: 3608
              Relay_Log_Space: 4557
              Until_Condition: None
               Until_Log_File: 
                Until_Log_Pos: 0
           Master_SSL_Allowed: No
           Master_SSL_CA_File: 
           Master_SSL_CA_Path: 
              Master_SSL_Cert: 
            Master_SSL_Cipher: 
               Master_SSL_Key: 
        Seconds_Behind_Master: 0
Master_SSL_Verify_Server_Cert: No
                Last_IO_Errno: 0
                Last_IO_Error: 
               Last_SQL_Errno: 0
               Last_SQL_Error: 
  Replicate_Ignore_Server_Ids: 
             Master_Server_Id: 101
               Master_SSL_Crl: 
           Master_SSL_Crlpath: 
                   Using_Gtid: No
                  Gtid_IO_Pos:
         Retried_transactions: 0
           Max_relay_log_size: 104857600
         Executed_log_entries: 40
    Slave_received_heartbeats: 11
       Slave_heartbeat_period: 1800.000
               Gtid_Slave_Pos: 0-101-2320
</pre><p>You can also access some of the variables directly from status variables:</p>
<pre class="fixed">SET @@default_master_connection="test" ;
show status like "%slave%"

Variable_name   Value
Com_show_slave_hosts    0
Com_show_slave_status   0
Com_start_all_slaves    0
Com_start_slave 0
Com_stop_all_slaves     0
Com_stop_slave  0
Rpl_semi_sync_slave_status      OFF
Slave_connections       0
Slave_heartbeat_period  1800.000
Slave_open_temp_tables  0
Slave_received_heartbeats       0
Slave_retried_transactions      0
Slave_running   OFF
Slaves_connected        0
Slaves_running  1
</pre><h2 class="anchored_heading" id="show-slave-statussee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/high-availability-performance-tuning-mariadb-replication/">MariaDB replication</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-status">SHOW STATUS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed"><span class="k">SHOW</span> <span class="p">[</span><span class="k">GLOBAL</span> <span class="o">|</span> <span class="k">SESSION</span><span class="p">]</span> <span class="n">STATUS</span>
    <span class="p">[</span><span class="k">LIKE</span> <span class="s1">'pattern'</span> <span class="o">|</span> <span class="k">WHERE</span> <span class="n">expr</span><span class="p">]</span>
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code class="highlight fixed" style="white-space:pre-wrap">SHOW STATUS</code> provides server status information. This
information also can be obtained using the <code><a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin extended-status</a></code> command, or by querying the <a href="https://mariadb.com/kb/en/information-schema-global_status-and-session_status-tables/">Information Schema GLOBAL_STATUS and SESSION_STATUS</a> tables.
The <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clause, if present, indicates which variable names
to match. The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> clause can be given to select rows using
more general conditions.</p>
<p>With the <code class="highlight fixed" style="white-space:pre-wrap">GLOBAL</code> modifier, <code class="highlight fixed" style="white-space:pre-wrap">SHOW STATUS</code>
displays the status values for all connections to MariaDB. With
<code class="highlight fixed" style="white-space:pre-wrap">SESSION</code>, it displays the status values
for the current connection. If no modifier is present, the default is
 <code class="highlight fixed" style="white-space:pre-wrap">SESSION</code>. <code class="highlight fixed" style="white-space:pre-wrap">LOCAL</code> is a synonym for
 <code class="highlight fixed" style="white-space:pre-wrap">SESSION</code>. If you see a lot of 0 values, the reason is probably that you have used <code class="highlight fixed" style="white-space:pre-wrap">SHOW STATUS</code> with a new connection instead of <code class="highlight fixed" style="white-space:pre-wrap">SHOW GLOBAL STATUS</code>.</p>
<p>Some status variables have only a global value. For these, you get the
same value for both <code class="highlight fixed" style="white-space:pre-wrap">GLOBAL</code> and <code class="highlight fixed" style="white-space:pre-wrap">SESSION</code>.</p>
<p>See <a href="https://mariadb.com/kb/en/server-status-variables/">Server Status Variables</a> for a full list, scope and description of the variables that can be viewed with <code>SHOW STATUS</code>.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clause, if present on its own, indicates which variable name to match.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> and <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clauses can be given to select rows using more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<p>Full output from <a href="https://mariadb.com/kb/en/mariadb-10117-release-notes/">MariaDB 10.1.17</a>:</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="k">GLOBAL</span> <span class="n">STATUS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------+----------------------------------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>                                                <span class="o">|</span> <span class="n">Value</span>                                  <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------+----------------------------------------+</span>
<span class="o">|</span> <span class="n">Aborted_clients</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Aborted_connects</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Access_denied_errors</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Acl_column_grants</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Acl_database_grants</span>                                          <span class="o">|</span> <span class="mi">2</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Acl_function_grants</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Acl_procedure_grants</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Acl_proxy_users</span>                                              <span class="o">|</span> <span class="mi">2</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Acl_role_grants</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Acl_roles</span>                                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Acl_table_grants</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Acl_users</span>                                                    <span class="o">|</span> <span class="mi">6</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Aria_pagecache_blocks_not_flushed</span>                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Aria_pagecache_blocks_unused</span>                                 <span class="o">|</span> <span class="mi">15706</span>                                  <span class="o">|</span>
<span class="o">|</span> <span class="n">Aria_pagecache_blocks_used</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Aria_pagecache_read_requests</span>                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Aria_pagecache_reads</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Aria_pagecache_write_requests</span>                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Aria_pagecache_writes</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Aria_transaction_log_syncs</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Binlog_commits</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Binlog_group_commits</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Binlog_group_commit_trigger_count</span>                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Binlog_group_commit_trigger_lock_wait</span>                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Binlog_group_commit_trigger_timeout</span>                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Binlog_snapshot_file</span>                                         <span class="o">|</span>                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">Binlog_snapshot_position</span>                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Binlog_bytes_written</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Binlog_cache_disk_use</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Binlog_cache_use</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Binlog_stmt_cache_disk_use</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Binlog_stmt_cache_use</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Busy_time</span>                                                    <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">000000</span>                               <span class="o">|</span>
<span class="o">|</span> <span class="n">Bytes_received</span>                                               <span class="o">|</span> <span class="mi">432</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Bytes_sent</span>                                                   <span class="o">|</span> <span class="mi">15183</span>                                  <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_admin_commands</span>                                           <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_alter_db</span>                                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_alter_db_upgrade</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_alter_event</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_alter_function</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_alter_procedure</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_alter_server</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_alter_table</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_alter_tablespace</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_analyze</span>                                                  <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_assign_to_keycache</span>                                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_begin</span>                                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_binlog</span>                                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_call_procedure</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_change_db</span>                                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_change_master</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_check</span>                                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_checksum</span>                                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_commit</span>                                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_compound_sql</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_create_db</span>                                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_create_event</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_create_function</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_create_index</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_create_procedure</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_create_role</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_create_server</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_create_table</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_create_temporary_table</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_create_trigger</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_create_udf</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_create_user</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_create_view</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_dealloc_sql</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_delete</span>                                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_delete_multi</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_do</span>                                                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_drop_db</span>                                                  <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_drop_event</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_drop_function</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_drop_index</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_drop_procedure</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_drop_role</span>                                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_drop_server</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_drop_table</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_drop_temporary_table</span>                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_drop_trigger</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_drop_user</span>                                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_drop_view</span>                                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_empty_query</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_execute_sql</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_flush</span>                                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_get_diagnostics</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_grant</span>                                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_grant_role</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_ha_close</span>                                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_ha_open</span>                                                  <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_ha_read</span>                                                  <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_help</span>                                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_insert</span>                                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_insert_select</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_install_plugin</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_kill</span>                                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_load</span>                                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_lock_tables</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_optimize</span>                                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_preload_keys</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_prepare_sql</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_purge</span>                                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_purge_before_date</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_release_savepoint</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_rename_table</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_rename_user</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_repair</span>                                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_replace</span>                                                  <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_replace_select</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_reset</span>                                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_resignal</span>                                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_revoke</span>                                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_revoke_all</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_revoke_role</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_rollback</span>                                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_rollback_to_savepoint</span>                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_savepoint</span>                                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_select</span>                                                   <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_set_option</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_authors</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_binlog_events</span>                                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_binlogs</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_charsets</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_collations</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_contributors</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_create_db</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_create_event</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_create_func</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_create_proc</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_create_table</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_create_trigger</span>                                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_databases</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_engine_logs</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_engine_mutex</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_engine_status</span>                                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_errors</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_events</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_explain</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_fields</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_function_status</span>                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_generic</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_grants</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_keys</span>                                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_master_status</span>                                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_open_tables</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_plugins</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_privileges</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_procedure_status</span>                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_processlist</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_profile</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_profiles</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_relaylog_events</span>                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_slave_hosts</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_slave_status</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_status</span>                                              <span class="o">|</span> <span class="mi">2</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_storage_engines</span>                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_table_status</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_tables</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_triggers</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_variables</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_show_warnings</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_shutdown</span>                                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_signal</span>                                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_start_all_slaves</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_start_slave</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_stmt_close</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_stmt_execute</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_stmt_fetch</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_stmt_prepare</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_stmt_reprepare</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_stmt_reset</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_stmt_send_long_data</span>                                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_stop_all_slaves</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_stop_slave</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_truncate</span>                                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_uninstall_plugin</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_unlock_tables</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_update</span>                                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_update_multi</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_xa_commit</span>                                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_xa_end</span>                                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_xa_prepare</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_xa_recover</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_xa_rollback</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Com_xa_start</span>                                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Compression</span>                                                  <span class="o">|</span> <span class="k">OFF</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Connection_errors_accept</span>                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Connection_errors_internal</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Connection_errors_max_connections</span>                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Connection_errors_peer_address</span>                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Connection_errors_select</span>                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Connection_errors_tcpwrap</span>                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Connections</span>                                                  <span class="o">|</span> <span class="mi">4</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Cpu_time</span>                                                     <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">000000</span>                               <span class="o">|</span>
<span class="o">|</span> <span class="n">Created_tmp_disk_tables</span>                                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Created_tmp_files</span>                                            <span class="o">|</span> <span class="mi">6</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Created_tmp_tables</span>                                           <span class="o">|</span> <span class="mi">2</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Delayed_errors</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Delayed_insert_threads</span>                                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Delayed_writes</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Delete_scan</span>                                                  <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Empty_queries</span>                                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Executed_events</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Executed_triggers</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Feature_delay_key_write</span>                                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Feature_dynamic_columns</span>                                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Feature_fulltext</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Feature_gis</span>                                                  <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Feature_locale</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Feature_subquery</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Feature_timezone</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Feature_trigger</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Feature_xml</span>                                                  <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Flush_commands</span>                                               <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_commit</span>                                               <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_delete</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_discover</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_external_lock</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_icp_attempts</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_icp_match</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_mrr_init</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_mrr_key_refills</span>                                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_mrr_rowid_refills</span>                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_prepare</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_read_first</span>                                           <span class="o">|</span> <span class="mi">3</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_read_key</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_read_last</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_read_next</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_read_prev</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_read_retry</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_read_rnd</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_read_rnd_deleted</span>                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_read_rnd_next</span>                                        <span class="o">|</span> <span class="mi">537</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_rollback</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_savepoint</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_savepoint_rollback</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_tmp_update</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_tmp_write</span>                                            <span class="o">|</span> <span class="mi">516</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_update</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Handler_write</span>                                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_available_undo_logs</span>                                   <span class="o">|</span> <span class="mi">128</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_background_log_sync</span>                                   <span class="o">|</span> <span class="mi">222</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_bytes_data</span>                                <span class="o">|</span> <span class="mi">2523136</span>                                <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_bytes_dirty</span>                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_dump_status</span>                               <span class="o">|</span> <span class="n">Dumping</span> <span class="n">buffer</span> <span class="n">pool</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">not</span> <span class="n">yet</span> <span class="n">started</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_load_status</span>                               <span class="o">|</span> <span class="n">Loading</span> <span class="n">buffer</span> <span class="n">pool</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">not</span> <span class="n">yet</span> <span class="n">started</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_pages_data</span>                                <span class="o">|</span> <span class="mi">154</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_pages_dirty</span>                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_pages_flushed</span>                             <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_pages_free</span>                                <span class="o">|</span> <span class="mi">8037</span>                                   <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_pages_lru_flushed</span>                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_pages_made_not_young</span>                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_pages_made_young</span>                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_pages_misc</span>                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_pages_old</span>                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_pages_total</span>                               <span class="o">|</span> <span class="mi">8191</span>                                   <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_read_ahead</span>                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_read_ahead_evicted</span>                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_read_ahead_rnd</span>                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_read_requests</span>                             <span class="o">|</span> <span class="mi">558</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_reads</span>                                     <span class="o">|</span> <span class="mi">155</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_wait_free</span>                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_buffer_pool_write_requests</span>                            <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_checkpoint_age</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_checkpoint_max_age</span>                                    <span class="o">|</span> <span class="mi">80826164</span>                               <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_data_fsyncs</span>                                           <span class="o">|</span> <span class="mi">5</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_data_pending_fsyncs</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_data_pending_reads</span>                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_data_pending_writes</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_data_read</span>                                             <span class="o">|</span> <span class="mi">2609664</span>                                <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_data_reads</span>                                            <span class="o">|</span> <span class="mi">172</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_data_writes</span>                                           <span class="o">|</span> <span class="mi">5</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_data_written</span>                                          <span class="o">|</span> <span class="mi">34304</span>                                  <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_dblwr_pages_written</span>                                   <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_dblwr_writes</span>                                          <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_deadlocks</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_have_atomic_builtins</span>                                  <span class="o">|</span> <span class="k">ON</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_history_list_length</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_ibuf_discarded_delete_marks</span>                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_ibuf_discarded_deletes</span>                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_ibuf_discarded_inserts</span>                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_ibuf_free_list</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_ibuf_merged_delete_marks</span>                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_ibuf_merged_deletes</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_ibuf_merged_inserts</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_ibuf_merges</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_ibuf_segment_size</span>                                     <span class="o">|</span> <span class="mi">2</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_ibuf_size</span>                                             <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_log_waits</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_log_write_requests</span>                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_log_writes</span>                                            <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_lsn_current</span>                                           <span class="o">|</span> <span class="mi">1616829</span>                                <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_lsn_flushed</span>                                           <span class="o">|</span> <span class="mi">1616829</span>                                <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_lsn_last_checkpoint</span>                                   <span class="o">|</span> <span class="mi">1616829</span>                                <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_master_thread_active_loops</span>                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_master_thread_idle_loops</span>                              <span class="o">|</span> <span class="mi">222</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_max_trx_id</span>                                            <span class="o">|</span> <span class="mi">2308</span>                                   <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_mem_adaptive_hash</span>                                     <span class="o">|</span> <span class="mi">2217568</span>                                <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_mem_dictionary</span>                                        <span class="o">|</span> <span class="mi">630703</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_mem_total</span>                                             <span class="o">|</span> <span class="mi">140771328</span>                              <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_mutex_os_waits</span>                                        <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_mutex_spin_rounds</span>                                     <span class="o">|</span> <span class="mi">30</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_mutex_spin_waits</span>                                      <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_oldest_view_low_limit_trx_id</span>                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_os_log_fsyncs</span>                                         <span class="o">|</span> <span class="mi">3</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_os_log_pending_fsyncs</span>                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_os_log_pending_writes</span>                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_os_log_written</span>                                        <span class="o">|</span> <span class="mi">512</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_page_size</span>                                             <span class="o">|</span> <span class="mi">16384</span>                                  <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_pages_created</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_pages_read</span>                                            <span class="o">|</span> <span class="mi">154</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_pages_written</span>                                         <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_purge_trx_id</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_purge_undo_no</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_read_views_memory</span>                                     <span class="o">|</span> <span class="mi">88</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_row_lock_current_waits</span>                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_row_lock_time</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_row_lock_time_avg</span>                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_row_lock_time_max</span>                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_row_lock_waits</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_rows_deleted</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_rows_inserted</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_rows_read</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_rows_updated</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_system_rows_deleted</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_system_rows_inserted</span>                                  <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_system_rows_read</span>                                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_system_rows_updated</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_s_lock_os_waits</span>                                       <span class="o">|</span> <span class="mi">2</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_s_lock_spin_rounds</span>                                    <span class="o">|</span> <span class="mi">60</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_s_lock_spin_waits</span>                                     <span class="o">|</span> <span class="mi">2</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_truncated_status_writes</span>                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_x_lock_os_waits</span>                                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_x_lock_spin_rounds</span>                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_x_lock_spin_waits</span>                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_page_compression_saved</span>                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_page_compression_trim_sect512</span>                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_page_compression_trim_sect1024</span>                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_page_compression_trim_sect2048</span>                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_page_compression_trim_sect4096</span>                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_page_compression_trim_sect8192</span>                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_page_compression_trim_sect16384</span>                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_page_compression_trim_sect32768</span>                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_num_index_pages_written</span>                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_num_non_index_pages_written</span>                           <span class="o">|</span> <span class="mi">5</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_num_pages_page_compressed</span>                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_num_page_compressed_trim_op</span>                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_num_page_compressed_trim_op_saved</span>                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_num_pages_page_decompressed</span>                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_num_pages_page_compression_error</span>                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_num_pages_encrypted</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_num_pages_decrypted</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_have_lz4</span>                                              <span class="o">|</span> <span class="k">OFF</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_have_lzo</span>                                              <span class="o">|</span> <span class="k">OFF</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_have_lzma</span>                                             <span class="o">|</span> <span class="k">OFF</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_have_bzip2</span>                                            <span class="o">|</span> <span class="k">OFF</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_have_snappy</span>                                           <span class="o">|</span> <span class="k">OFF</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_defragment_compression_failures</span>                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_defragment_failures</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_defragment_count</span>                                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_onlineddl_rowlog_rows</span>                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_onlineddl_rowlog_pct_used</span>                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_onlineddl_pct_progress</span>                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_secondary_index_triggered_cluster_reads</span>               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_secondary_index_triggered_cluster_reads_avoided</span>       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_encryption_rotation_pages_read_from_cache</span>             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_encryption_rotation_pages_read_from_disk</span>              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_encryption_rotation_pages_modified</span>                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_encryption_rotation_pages_flushed</span>                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_encryption_rotation_estimated_iops</span>                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_scrub_background_page_reorganizations</span>                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_scrub_background_page_splits</span>                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_scrub_background_page_split_failures_underflow</span>        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_scrub_background_page_split_failures_out_of_filespace</span> <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_scrub_background_page_split_failures_missing_index</span>    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Innodb_scrub_background_page_split_failures_unknown</span>          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Key_blocks_not_flushed</span>                                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Key_blocks_unused</span>                                            <span class="o">|</span> <span class="mi">107163</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">Key_blocks_used</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Key_blocks_warm</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Key_read_requests</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Key_reads</span>                                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Key_write_requests</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Key_writes</span>                                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Last_query_cost</span>                                              <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">000000</span>                               <span class="o">|</span>
<span class="o">|</span> <span class="n">Master_gtid_wait_count</span>                                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Master_gtid_wait_time</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Master_gtid_wait_timeouts</span>                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Max_statement_time_exceeded</span>                                  <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Max_used_connections</span>                                         <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Memory_used</span>                                                  <span class="o">|</span> <span class="mi">273614696</span>                              <span class="o">|</span>
<span class="o">|</span> <span class="n">Not_flushed_delayed_rows</span>                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Open_files</span>                                                   <span class="o">|</span> <span class="mi">25</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">Open_streams</span>                                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Open_table_definitions</span>                                       <span class="o">|</span> <span class="mi">18</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">Open_tables</span>                                                  <span class="o">|</span> <span class="mi">11</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">Opened_files</span>                                                 <span class="o">|</span> <span class="mi">77</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">Opened_plugin_libraries</span>                                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Opened_table_definitions</span>                                     <span class="o">|</span> <span class="mi">18</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">Opened_tables</span>                                                <span class="o">|</span> <span class="mi">18</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">Opened_views</span>                                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_accounts_lost</span>                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_cond_classes_lost</span>                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_cond_instances_lost</span>                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_digest_lost</span>                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_file_classes_lost</span>                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_file_handles_lost</span>                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_file_instances_lost</span>                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_hosts_lost</span>                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_locker_lost</span>                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_mutex_classes_lost</span>                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_mutex_instances_lost</span>                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_rwlock_classes_lost</span>                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_rwlock_instances_lost</span>                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_session_connect_attrs_lost</span>                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_socket_classes_lost</span>                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_socket_instances_lost</span>                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_stage_classes_lost</span>                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_statement_classes_lost</span>                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_table_handles_lost</span>                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_table_instances_lost</span>                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_thread_classes_lost</span>                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_thread_instances_lost</span>                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Performance_schema_users_lost</span>                                <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Prepared_stmt_count</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Qcache_free_blocks</span>                                           <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Qcache_free_memory</span>                                           <span class="o">|</span> <span class="mi">1031336</span>                                <span class="o">|</span>
<span class="o">|</span> <span class="n">Qcache_hits</span>                                                  <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Qcache_inserts</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Qcache_lowmem_prunes</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Qcache_not_cached</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Qcache_queries_in_cache</span>                                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Qcache_total_blocks</span>                                          <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Queries</span>                                                      <span class="o">|</span> <span class="mi">4</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Questions</span>                                                    <span class="o">|</span> <span class="mi">4</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Rows_read</span>                                                    <span class="o">|</span> <span class="mi">10</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">Rows_sent</span>                                                    <span class="o">|</span> <span class="mi">517</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Rows_tmp_read</span>                                                <span class="o">|</span> <span class="mi">516</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Rpl_status</span>                                                   <span class="o">|</span> <span class="n">AUTH_MASTER</span>                            <span class="o">|</span>
<span class="o">|</span> <span class="n">Select_full_join</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Select_full_range_join</span>                                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Select_range</span>                                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Select_range_check</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Select_scan</span>                                                  <span class="o">|</span> <span class="mi">2</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Slave_connections</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Slave_heartbeat_period</span>                                       <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">000</span>                                  <span class="o">|</span>
<span class="o">|</span> <span class="n">Slave_open_temp_tables</span>                                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Slave_received_heartbeats</span>                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Slave_retried_transactions</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Slave_running</span>                                                <span class="o">|</span> <span class="k">OFF</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Slave_skipped_errors</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Slaves_connected</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Slaves_running</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Slow_launch_threads</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Slow_queries</span>                                                 <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Sort_merge_passes</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Sort_priority_queue_sorts</span>                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Sort_range</span>                                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Sort_rows</span>                                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Sort_scan</span>                                                    <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_accept_renegotiates</span>                                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_accepts</span>                                                  <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_callback_cache_hits</span>                                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_cipher</span>                                                   <span class="o">|</span>                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_cipher_list</span>                                              <span class="o">|</span>                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_client_connects</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_connect_renegotiates</span>                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_ctx_verify_depth</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_ctx_verify_mode</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_default_timeout</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_finished_accepts</span>                                         <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_finished_connects</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_server_not_after</span>                                         <span class="o">|</span>                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_server_not_before</span>                                        <span class="o">|</span>                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_session_cache_hits</span>                                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_session_cache_misses</span>                                     <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_session_cache_mode</span>                                       <span class="o">|</span> <span class="k">NONE</span>                                   <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_session_cache_overflows</span>                                  <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_session_cache_size</span>                                       <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_session_cache_timeouts</span>                                   <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_sessions_reused</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_used_session_cache_entries</span>                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_verify_depth</span>                                             <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_verify_mode</span>                                              <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Ssl_version</span>                                                  <span class="o">|</span>                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">Subquery_cache_hit</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Subquery_cache_miss</span>                                          <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Syncs</span>                                                        <span class="o">|</span> <span class="mi">2</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Table_locks_immediate</span>                                        <span class="o">|</span> <span class="mi">21</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">Table_locks_waited</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Tc_log_max_pages_used</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Tc_log_page_size</span>                                             <span class="o">|</span> <span class="mi">4096</span>                                   <span class="o">|</span>
<span class="o">|</span> <span class="n">Tc_log_page_waits</span>                                            <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Threadpool_idle_threads</span>                                      <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Threadpool_threads</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Threads_cached</span>                                               <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Threads_connected</span>                                            <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Threads_created</span>                                              <span class="o">|</span> <span class="mi">2</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Threads_running</span>                                              <span class="o">|</span> <span class="mi">1</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Update_scan</span>                                                  <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">Uptime</span>                                                       <span class="o">|</span> <span class="mi">223</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">Uptime_since_flush_status</span>                                    <span class="o">|</span> <span class="mi">223</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">wsrep_cluster_conf_id</span>                                        <span class="o">|</span> <span class="mi">18446744073709551615</span>                   <span class="o">|</span>
<span class="o">|</span> <span class="n">wsrep_cluster_size</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">wsrep_cluster_state_uuid</span>                                     <span class="o">|</span>                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">wsrep_cluster_status</span>                                         <span class="o">|</span> <span class="n">Disconnected</span>                           <span class="o">|</span>
<span class="o">|</span> <span class="n">wsrep_connected</span>                                              <span class="o">|</span> <span class="k">OFF</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">wsrep_local_bf_aborts</span>                                        <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">wsrep_local_index</span>                                            <span class="o">|</span> <span class="mi">18446744073709551615</span>                   <span class="o">|</span>
<span class="o">|</span> <span class="n">wsrep_provider_name</span>                                          <span class="o">|</span>                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">wsrep_provider_vendor</span>                                        <span class="o">|</span>                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">wsrep_provider_version</span>                                       <span class="o">|</span>                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">wsrep_ready</span>                                                  <span class="o">|</span> <span class="k">OFF</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">wsrep_thread_count</span>                                           <span class="o">|</span> <span class="mi">0</span>                                      <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------+----------------------------------------+</span>
<span class="mi">516</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>Example of filtered output:</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">STATUS</span> <span class="k">LIKE</span> <span class="s1">'Key%'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------------+--------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>          <span class="o">|</span> <span class="n">Value</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+--------+</span>
<span class="o">|</span> <span class="n">Key_blocks_not_flushed</span> <span class="o">|</span> <span class="mi">0</span>      <span class="o">|</span>
<span class="o">|</span> <span class="n">Key_blocks_unused</span>      <span class="o">|</span> <span class="mi">107163</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Key_blocks_used</span>        <span class="o">|</span> <span class="mi">0</span>      <span class="o">|</span>
<span class="o">|</span> <span class="n">Key_blocks_warm</span>        <span class="o">|</span> <span class="mi">0</span>      <span class="o">|</span>
<span class="o">|</span> <span class="n">Key_read_requests</span>      <span class="o">|</span> <span class="mi">0</span>      <span class="o">|</span>
<span class="o">|</span> <span class="n">Key_reads</span>              <span class="o">|</span> <span class="mi">0</span>      <span class="o">|</span>
<span class="o">|</span> <span class="n">Key_write_requests</span>     <span class="o">|</span> <span class="mi">0</span>      <span class="o">|</span>
<span class="o">|</span> <span class="n">Key_writes</span>             <span class="o">|</span> <span class="mi">0</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+--------+</span>
<span class="mi">8</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="do">DO</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DO expr [, expr] ...
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p> <code class="highlight fixed" style="white-space:pre-wrap">DO</code> executes the expressions but does not return any
results. In most respects, <code class="highlight fixed" style="white-space:pre-wrap">DO</code> is shorthand for
 <code class="highlight fixed" style="white-space:pre-wrap">SELECT expr, ...,</code> but has the advantage that it is slightly
faster when you do not care about the result.</p>
<p> <code class="highlight fixed" style="white-space:pre-wrap">DO</code> is useful primarily with functions that have side
 effects, such as <code class="highlight fixed" style="white-space:pre-wrap"><a href="#release_lock">RELEASE_LOCK()</a></code>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="last_value">LAST_VALUE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="last_valuesyntax">Syntax</h2>
<pre class="fixed">LAST_VALUE(expr,[expr,...])
</pre><pre class="fixed">LAST_VALUE(expr) OVER (
  [ PARTITION BY partition_expression ]
  [ ORDER BY order_list ]
) 
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#last_valuesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#last_valuedescription" title="Description">Description</a></li>
<li class=""><a href="#last_valueexamples" title="Examples">Examples</a></li>
<li class=""><a href="#last_valuesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="last_valuedescription">Description</h2>
<p><code class="highlight fixed" style="white-space:pre-wrap">LAST_VALUE()</code> evaluates all expressions and returns the last.</p>
<p>This is useful together with <a href="#set">setting user variables to a value with @var:=expr</a>, for example when you want to get data of rows updated/deleted without having to do two queries against the table.</p>
<p>Since <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>, LAST_VALUE can be used as a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>.</p>
<p>Returns NULL if no last value exists.</p>
<h2 class="anchored_heading" id="last_valueexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span> <span class="nb">int</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">20</span><span class="p">);</span>
<span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span> <span class="k">AND</span> <span class="n">last_value</span><span class="p">(</span><span class="o">@</span><span class="n">a</span><span class="p">:</span><span class="o">=</span><span class="n">a</span><span class="p">,</span><span class="o">@</span><span class="n">b</span><span class="p">:</span><span class="o">=</span><span class="n">b</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="o">@</span><span class="n">a</span><span class="p">,</span><span class="o">@</span><span class="n">b</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span> <span class="o">@</span><span class="n">a</span>   <span class="o">|</span> <span class="o">@</span><span class="n">b</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
</pre><p>As a <a href="https://mariadb.com/kb/en/window-functions/">window function</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span>
  <span class="n">pk</span> <span class="nb">int</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span>
  <span class="n">a</span> <span class="nb">int</span><span class="p">,</span>
  <span class="n">b</span> <span class="nb">int</span><span class="p">,</span>
  <span class="k">c</span> <span class="nb">char</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
  <span class="n">d</span> <span class="nb">decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
  <span class="n">e</span> <span class="nb">real</span>
<span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span>
<span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>    <span class="s1">'one'</span><span class="p">,</span>    <span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">001</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>    <span class="s1">'two'</span><span class="p">,</span>    <span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">002</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span>    <span class="s1">'three'</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">3</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">003</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>    <span class="s1">'three'</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">004</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>    <span class="s1">'two'</span><span class="p">,</span>    <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">005</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>    <span class="s1">'one'</span><span class="p">,</span>    <span class="mi">0</span><span class="p">.</span><span class="mi">6</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">006</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="s1">'n_one'</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">007</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>    <span class="s1">'n_two'</span><span class="p">,</span>  <span class="k">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">008</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>    <span class="k">NULL</span><span class="p">,</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">7</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">009</span><span class="p">),</span>
<span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>    <span class="s1">'n_four'</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">010</span><span class="p">),</span>
<span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span>   <span class="k">NULL</span><span class="p">,</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">9</span><span class="p">,</span>  <span class="k">NULL</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">pk</span><span class="p">,</span> <span class="n">FIRST_VALUE</span><span class="p">(</span><span class="n">pk</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span><span class="p">)</span> <span class="k">AS</span> <span class="n">first_asc</span><span class="p">,</span>
           <span class="n">LAST_VALUE</span><span class="p">(</span><span class="n">pk</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span><span class="p">)</span> <span class="k">AS</span> <span class="n">last_asc</span><span class="p">,</span>
           <span class="n">FIRST_VALUE</span><span class="p">(</span><span class="n">pk</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span> <span class="k">DESC</span><span class="p">)</span> <span class="k">AS</span> <span class="n">first_desc</span><span class="p">,</span>
           <span class="n">LAST_VALUE</span><span class="p">(</span><span class="n">pk</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span> <span class="k">DESC</span><span class="p">)</span> <span class="k">AS</span> <span class="n">last_desc</span>
<span class="k">FROM</span> <span class="n">t1</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span> <span class="k">DESC</span><span class="p">;</span>

<span class="o">+</span><span class="c1">----+-----------+----------+------------+-----------+</span>
<span class="o">|</span> <span class="n">pk</span> <span class="o">|</span> <span class="n">first_asc</span> <span class="o">|</span> <span class="n">last_asc</span> <span class="o">|</span> <span class="n">first_desc</span> <span class="o">|</span> <span class="n">last_desc</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------+----------+------------+-----------+</span>
<span class="o">|</span> <span class="mi">11</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>       <span class="mi">11</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>        <span class="mi">11</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">10</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>       <span class="mi">10</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>        <span class="mi">10</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">9</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">9</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">9</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">8</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">8</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">7</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">7</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">6</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">6</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">5</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------+----------+------------+-----------+</span>
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">i</span> <span class="nb">int</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">),(</span><span class="mi">5</span><span class="p">),(</span><span class="mi">6</span><span class="p">),(</span><span class="mi">7</span><span class="p">),(</span><span class="mi">8</span><span class="p">),(</span><span class="mi">9</span><span class="p">),(</span><span class="mi">10</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">i</span><span class="p">,</span>
  <span class="n">FIRST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="k">CURRENT</span> <span class="k">ROW</span> <span class="k">and</span> <span class="mi">1</span> <span class="n">FOLLOWING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">f_1f</span><span class="p">,</span>
  <span class="n">LAST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="k">CURRENT</span> <span class="k">ROW</span> <span class="k">and</span> <span class="mi">1</span> <span class="n">FOLLOWING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">l_1f</span><span class="p">,</span>
  <span class="n">FIRST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="mi">1</span> <span class="n">PRECEDING</span> <span class="k">AND</span> <span class="mi">1</span> <span class="n">FOLLOWING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">f_1p1f</span><span class="p">,</span>
  <span class="n">LAST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="mi">1</span> <span class="n">PRECEDING</span> <span class="k">AND</span> <span class="mi">1</span> <span class="n">FOLLOWING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">f_1p1f</span><span class="p">,</span>
  <span class="n">FIRST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="mi">2</span> <span class="n">PRECEDING</span> <span class="k">AND</span> <span class="mi">1</span> <span class="n">PRECEDING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">f_2p1p</span><span class="p">,</span>
  <span class="n">LAST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="mi">2</span> <span class="n">PRECEDING</span> <span class="k">AND</span> <span class="mi">1</span> <span class="n">PRECEDING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">f_2p1p</span><span class="p">,</span>
  <span class="n">FIRST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="mi">1</span> <span class="n">FOLLOWING</span> <span class="k">AND</span> <span class="mi">2</span> <span class="n">FOLLOWING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">f_1f2f</span><span class="p">,</span>
  <span class="n">LAST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="mi">1</span> <span class="n">FOLLOWING</span> <span class="k">AND</span> <span class="mi">2</span> <span class="n">FOLLOWING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">f_1f2f</span>
<span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>

<span class="o">+</span><span class="c1">------+------+------+--------+--------+--------+--------+--------+--------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span> <span class="n">f_1f</span> <span class="o">|</span> <span class="n">l_1f</span> <span class="o">|</span> <span class="n">f_1p1f</span> <span class="o">|</span> <span class="n">f_1p1f</span> <span class="o">|</span> <span class="n">f_2p1p</span> <span class="o">|</span> <span class="n">f_2p1p</span> <span class="o">|</span> <span class="n">f_1f2f</span> <span class="o">|</span> <span class="n">f_1f2f</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+--------+--------+--------+--------+--------+--------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>      <span class="mi">2</span> <span class="o">|</span>   <span class="k">NULL</span> <span class="o">|</span>   <span class="k">NULL</span> <span class="o">|</span>      <span class="mi">2</span> <span class="o">|</span>      <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>      <span class="mi">3</span> <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>      <span class="mi">3</span> <span class="o">|</span>      <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>      <span class="mi">2</span> <span class="o">|</span>      <span class="mi">4</span> <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>      <span class="mi">2</span> <span class="o">|</span>      <span class="mi">4</span> <span class="o">|</span>      <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>      <span class="mi">3</span> <span class="o">|</span>      <span class="mi">5</span> <span class="o">|</span>      <span class="mi">2</span> <span class="o">|</span>      <span class="mi">3</span> <span class="o">|</span>      <span class="mi">5</span> <span class="o">|</span>      <span class="mi">6</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>      <span class="mi">4</span> <span class="o">|</span>      <span class="mi">6</span> <span class="o">|</span>      <span class="mi">3</span> <span class="o">|</span>      <span class="mi">4</span> <span class="o">|</span>      <span class="mi">6</span> <span class="o">|</span>      <span class="mi">7</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>      <span class="mi">5</span> <span class="o">|</span>      <span class="mi">7</span> <span class="o">|</span>      <span class="mi">4</span> <span class="o">|</span>      <span class="mi">5</span> <span class="o">|</span>      <span class="mi">7</span> <span class="o">|</span>      <span class="mi">8</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>      <span class="mi">6</span> <span class="o">|</span>      <span class="mi">8</span> <span class="o">|</span>      <span class="mi">5</span> <span class="o">|</span>      <span class="mi">6</span> <span class="o">|</span>      <span class="mi">8</span> <span class="o">|</span>      <span class="mi">9</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span>      <span class="mi">7</span> <span class="o">|</span>      <span class="mi">9</span> <span class="o">|</span>      <span class="mi">6</span> <span class="o">|</span>      <span class="mi">7</span> <span class="o">|</span>      <span class="mi">9</span> <span class="o">|</span>     <span class="mi">10</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>      <span class="mi">8</span> <span class="o">|</span>     <span class="mi">10</span> <span class="o">|</span>      <span class="mi">7</span> <span class="o">|</span>      <span class="mi">8</span> <span class="o">|</span>     <span class="mi">10</span> <span class="o">|</span>     <span class="mi">10</span> <span class="o">|</span>
<span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>      <span class="mi">9</span> <span class="o">|</span>     <span class="mi">10</span> <span class="o">|</span>      <span class="mi">8</span> <span class="o">|</span>      <span class="mi">9</span> <span class="o">|</span>   <span class="k">NULL</span> <span class="o">|</span>   <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+--------+--------+--------+--------+--------+--------+</span>
</pre><h2 class="anchored_heading" id="last_valuesee-also">See Also</h2>
<ul start="1"><li><a href="#set">Setting a variable to a value</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="row_count">ROW_COUNT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ROW_COUNT()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>ROW_COUNT() returns the number of rows updated, inserted or deleted
by the preceding statement. This is the same as the row count that the
mysql client displays and the value from the <a href="https://mariadb.com/kb/en/mysql_affected_rows/">mysql_affected_rows()</a> C
API function.</p>
<p>Generally:</p>
<ul start="1"><li>For statements which return a result set (such as <a href="#select">SELECT</a>, <a href="https://mariadb.com/kb/en/show/">SHOW</a>, <a href="#describe">DESC</a> or <a href="#help-command">HELP</a>), returns -1, even when the result set is empty. This is also true for administrative statements, such as <a href="#optimize-table">OPTIMIZE</a>.
</li><li>For DML statements other than <a href="#select">SELECT</a> and for <a href="https://mariadb.com/kb/en/alter/">ALTER TABLE</a>, returns the number of affected rows.
</li><li>For DDL statements (including <a href="#truncate">TRUNCATE</a>) and for other statements which don't return any result set (such as <a href="https://mariadb.com/kb/en/use/">USE</a>, <a href="#do">DO</a>, <a href="#signal">SIGNAL</a> or <a href="#deallocate-drop-prepared-statement">DEALLOCATE PREPARE</a>), returns 0.
</li></ul>
<p>For <a href="#update">UPDATE</a>, affected rows is by default the number of rows that were actually changed. If the CLIENT_FOUND_ROWS flag to <a href="https://mariadb.com/kb/en/mysql_real_connect/">mysql_real_connect()</a> is specified when connecting to mysqld, affected rows is instead the number of rows matched by the WHERE clause. </p>
<p>For <a href="#replace">REPLACE</a>, deleted rows are also counted. So, if REPLACE deletes a row and adds a new row, ROW_COUNT() returns 2.</p>
<p>For <a href="#insert-on-duplicate-key-update">INSERT ... ON DUPLICATE KEY</a>, updated rows are counted twice. So, if INSERT adds a new rows and modifies another row, ROW_COUNT() returns 3.</p>
<p>ROW_COUNT() does not take into account rows that are not directly deleted/updated by the last statement. This means that rows deleted by foreign keys or triggers are not counted.</p>
<p><strong>Warning:</strong> You can use ROW_COUNT() with prepared statements, but you need to call it after EXECUTE, not after <a href="#deallocate-drop-prepared-statement">DEALLOCATE PREPARE</a>, because the row count for allocate prepare is always 0.</p>
<p><strong>Warning:</strong> When used after a <a href="#call">CALL</a> statement, this function returns the number of rows affected by the last statement in the procedure, not by the whole procedure.</p>
<p><strong>Warning:</strong> After <a href="#insert-delayed">INSERT DELAYED</a>, ROW_COUNT() returns the number of the rows you tried to insert, not the number of the successful writes.</p>
<p>This information can also be found in the <a href="https://mariadb.com/kb/en/diagnostics-area/">diagnostics area</a>.</p>
<p>Statements using the ROW_COUNT() function are not <a href="https://mariadb.com/kb/en/unsafe-statements-for-replication/">safe for replication</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span><span class="n">A</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="k">ROW_COUNT</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="k">ROW_COUNT</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>           <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>

<span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">t</span> <span class="k">WHERE</span> <span class="n">A</span> <span class="k">IN</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="k">ROW_COUNT</span><span class="p">();</span> 
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="k">ROW_COUNT</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>           <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
</pre><p>Example with prepared statements:</p>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">q</span> <span class="o">=</span> <span class="s1">'INSERT INTO t VALUES(1),(2),(3);'</span><span class="p">;</span>

<span class="k">PREPARE</span> <span class="n">stmt</span> <span class="k">FROM</span> <span class="o">@</span><span class="n">q</span><span class="p">;</span>

<span class="k">EXECUTE</span> <span class="n">stmt</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">3</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">39</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Records</span><span class="p">:</span> <span class="mi">3</span>  <span class="n">Duplicates</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Warnings</span><span class="p">:</span> <span class="mi">0</span>

<span class="k">SELECT</span> <span class="k">ROW_COUNT</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="k">ROW_COUNT</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>           <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#found_rows">FOUND_ROWS()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="dual">DUAL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="description">Description</h2>
<p>You are allowed to specify <code class="highlight fixed" style="white-space:pre-wrap">DUAL</code> as a dummy table name in
situations where no tables are referenced, such as the following <a href="#select">SELECT</a> statement:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">FROM</span> <span class="n">DUAL</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span>     <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
</pre><p> <code class="highlight fixed" style="white-space:pre-wrap">DUAL</code> is purely for the convenience of people who require
 that all <code class="highlight fixed" style="white-space:pre-wrap">SELECT</code> statements should have
 <code class="highlight fixed" style="white-space:pre-wrap">FROM</code> and possibly other clauses. MariaDB ignores the
 clauses. MariaDB does not require <code class="highlight fixed" style="white-space:pre-wrap">FROM DUAL</code> if no tables
 are referenced.</p>
<p>FROM DUAL could be used when you only SELECT computed values, but require a WHERE clause, perhaps to test that a script correctly handles empty resultsets:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">1</span> <span class="k">FROM</span> <span class="n">DUAL</span> <span class="k">WHERE</span> <span class="k">FALSE</span><span class="p">;</span>
<span class="n">Empty</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#select">SELECT</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="for-update">FOR UPDATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>InnoDB supports row-level locking. Selected rows can be locked using <a href="#lock-in-share-mode">LOCK IN SHARE MODE</a> or FOR UPDATE. In both cases, a lock is acquired on the rows read by the query, and it will be released when the current transaction is committed.</p>
<p>The <code>FOR UPDATE</code> clause of <a href="#select">SELECT</a> applies only when <a href="https://mariadb.com/kb/en/server-system-variables/#autocommit">autocommit</a> is set to 0 or the <code>SELECT</code> is enclosed in a transaction. A lock is acquired on the rows, and other transactions are prevented from writing the rows, acquire locks, and from reading them (unless their isolation level is <code><a href="https://mariadb.com/kb/en/set-transaction-isolation-level/#read-uncommitted">READ UNCOMMITTED</a></code>).</p>
<p>If <code>autocommit</code> is set to 1, the <a href="#lock-in-share-mode">LOCK IN SHARE MODE</a> and <code>FOR UPDATE</code> clauses have no effect.</p>
<p>If the isolation level is set to <a href="https://mariadb.com/kb/en/set-transaction-isolation-level/#serializable">SERIALIZABLE</a>, all plain <code>SELECT</code> statements are converted to <code>SELECT ... LOCK IN SHARE MODE</code>.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed">SELECT * FROM trans WHERE period=2001 FOR UPDATE;
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#select">SELECT</a>
</li><li><a href="#lock-in-share-mode">LOCK IN SHARE MODE</a>
</li><li><a href="https://mariadb.com/kb/en/innodb-lock-modes/">InnoDB Lock Modes</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="user">USER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">USER()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the current MariaDB user name and host name, given when authenticating to MariaDB,  as a string in the utf8 <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set</a>.</p>
<p>Note that the value of USER() may differ from the value of <a href="#current_user">CURRENT_USER()</a>, which is the user used to authenticate the current client. 
<code><a href="#current_role">CURRENT_ROLE()</a></code> returns the current active role.</p>
<p><code>SYSTEM_USER()</code> and <code>SESSION_USER</code> are synonyms for <code>USER()</code>.</p>
<p>Statements using the <code>USER()</code> function or one of its synonyms are not <a href="https://mariadb.com/kb/en/unsafe-statements-for-replication/">safe for statement level replication</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">shell&gt; mysql --user="anonymous"

SELECT USER(),CURRENT_USER();
+---------------------+----------------+
| USER()              | CURRENT_USER() |
+---------------------+----------------+
| anonymous@localhost | @localhost     |
+---------------------+----------------+
</pre><p>To select only the IP address, use <a href="#substring_index">SUBSTRING_INDEX()</a>,</p>
<pre class="fixed">SELECT SUBSTRING_INDEX(USER(), '@', -1);
+----------------------------------+
| SUBSTRING_INDEX(USER(), '@', -1) |
+----------------------------------+
| 192.168.0.101                    |
+----------------------------------+
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#current_user">CURRENT_USER()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="versionversion">VERSION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">VERSION()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a string that indicates the MariaDB server version. The string
uses the utf8 <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">VERSION</span><span class="p">();</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="k">VERSION</span><span class="p">()</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="mi">10</span><span class="p">.</span><span class="mi">4</span><span class="p">.</span><span class="mi">7</span><span class="o">-</span><span class="n">MariaDB</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
</pre><p>The <code class="fixed" style="white-space:pre-wrap">VERSION()</code> string may have one or more of the following suffixes:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Suffix</th><th>Description</th></tr>
<tr><td>-embedded</td><td>The server is an embedded server (libmysqld).</td></tr>
<tr><td>-log</td><td>General logging, slow logging or binary (replication) logging is enabled.</td></tr>
<tr><td>-debug</td><td>The server is compiled for debugging.</td></tr>
<tr><td>-valgrind</td><td> The server is compiled to be instrumented with valgrind.</td></tr>
</table>
</div><h2 class="anchored_heading" id="changing-the-version-string">Changing the Version String</h2>
<p>Some old legacy code may break because they are parsing the
<code>VERSION</code> string and expecting a MySQL string or a simple version
string like Joomla til API17, see <a href="https://jira.mariadb.org/browse/MDEV-7780">MDEV-7780</a>.</p>
<p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">MariaDB 10.2</a>, one can fool these applications by setting the version string from the command line or the my.cnf files with <a href="https://mariadb.com/kb/en/server-system-variables/#version">--version=...</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="not-equal">Not Equal Operator: !=</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="not-equalsyntax">Syntax</h2>
<pre class="fixed">&lt;&gt;, !=
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#not-equalsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#not-equaldescription" title="Description">Description</a></li>
<li class=""><a href="#not-equalexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="not-equaldescription">Description</h2>
<p>Not equal operator.  Evaluates both SQL expressions and returns 1 if they are not equal and 0 if they are equal, or <code>NULL</code> if either expression is NULL.  If the expressions return different data types, (for instance, a number and a string), performs type conversion.</p>
<p>When used in row comparisons these two queries return the same results:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">t1</span><span class="p">.</span><span class="n">b</span><span class="p">)</span> <span class="o">!=</span> <span class="p">(</span><span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">t2</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> 
<span class="k">FROM</span> <span class="n">t1</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">t2</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span> <span class="o">!=</span> <span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="k">OR</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">b</span> <span class="o">!=</span> <span class="n">t2</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">t1</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">t2</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="not-equalexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="s1">'.01'</span> <span class="o">&lt;&gt;</span> <span class="s1">'0.01'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="s1">'.01'</span> <span class="o">&lt;&gt;</span> <span class="s1">'0.01'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span>               <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>

<span class="k">SELECT</span> <span class="p">.</span><span class="mi">01</span> <span class="o">&lt;&gt;</span> <span class="s1">'0.01'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="p">.</span><span class="mi">01</span> <span class="o">&lt;&gt;</span> <span class="s1">'0.01'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span>             <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>

<span class="k">SELECT</span> <span class="s1">'zapp'</span> <span class="o">&lt;&gt;</span> <span class="s1">'zappp'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="s1">'zapp'</span> <span class="o">&lt;&gt;</span> <span class="s1">'zappp'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span>                 <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="null-safe-equal">&lt;=&gt;</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">&lt;=&gt;
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>NULL-safe equal operator. It performs an equality comparison like
the <a href="#equal">= operator</a>, but returns 1 rather than NULL if both operands are
NULL, and 0 rather than NULL if one operand is NULL.</p>
<p><code>a &lt;=&gt; b</code> is equivalent to <code>a = b OR (a IS NULL AND b IS NULL)</code>.</p>
<p>When used in row comparisons these two queries return the same results:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">t1</span><span class="p">.</span><span class="n">b</span><span class="p">)</span> <span class="o">&lt;=&gt;</span> <span class="p">(</span><span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">t2</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> 
<span class="k">FROM</span> <span class="n">t1</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">t2</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span> <span class="o">&lt;=&gt;</span> <span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="k">AND</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">b</span> <span class="o">&lt;=&gt;</span> <span class="n">t2</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">t1</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">t2</span><span class="p">;</span>
</pre><p>See also <a href="https://mariadb.com/kb/en/null-values-in-mariadb/">NULL Values in MariaDB</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">1</span> <span class="o">&lt;=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="k">NULL</span> <span class="o">&lt;=&gt;</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">1</span> <span class="o">&lt;=&gt;</span> <span class="k">NULL</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+---------------+------------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">&lt;=&gt;</span> <span class="mi">1</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">&lt;=&gt;</span> <span class="k">NULL</span> <span class="o">|</span> <span class="mi">1</span> <span class="o">&lt;=&gt;</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+---------------+------------+</span>
<span class="o">|</span>       <span class="mi">1</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+---------------+------------+</span>

<span class="k">SELECT</span> <span class="mi">1</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="k">NULL</span> <span class="o">=</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">1</span> <span class="o">=</span> <span class="k">NULL</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+-------------+----------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">=</span> <span class="k">NULL</span> <span class="o">|</span> <span class="mi">1</span> <span class="o">=</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------------+----------+</span>
<span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>        <span class="k">NULL</span> <span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------------+----------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="equal">=</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="equalsyntax">Syntax</h2>
<pre class="fixed">left_expr = right_expr
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#equalsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#equaldescription" title="Description">Description</a></li>
<li class=""><a href="#equalexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="equaldescription">Description</h2>
<p>Equal operator. Evaluates both SQL expressions and returns 1 if they are equal, 0 if they are not equal, or <code><a href="https://mariadb.com/kb/en/null-values-in-mariadb/">NULL</a></code> if either expression is NULL. If the expressions return different data types (for example, a number and a string), a type conversion is performed.</p>
<p>When used in row comparisons these two queries are synonymous and return the same results:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">t1</span><span class="p">.</span><span class="n">b</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">t2</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">t2</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="k">AND</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">b</span> <span class="o">=</span> <span class="n">t2</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">t2</span><span class="p">;</span>
</pre><p>To perform a NULL-safe comparison, use the <code><a href="#null-safe-equal">&lt;=&gt;</a></code> operator.</p>
<p><code>=</code> can also be used as an <a href="#assignment-operators-assignment-operator">assignment operator</a>.</p>
<h2 class="anchored_heading" id="equalexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>

<span class="k">SELECT</span> <span class="s1">'0'</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="s1">'0'</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>       <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">SELECT</span> <span class="s1">'0.0'</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="s1">'0.0'</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="s1">'0.01'</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="s1">'0.01'</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SELECT</span> <span class="s1">'.01'</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="s1">'.01'</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>

<span class="k">SELECT</span> <span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'1'</span><span class="p">,</span> <span class="s1">'0'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span> <span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'1'</span><span class="p">,</span> <span class="s1">'0'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span>                          <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>

<span class="k">SELECT</span> <span class="mi">1</span> <span class="o">=</span> <span class="k">NULL</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">=</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>

<span class="k">SELECT</span> <span class="k">NULL</span> <span class="o">=</span> <span class="k">NULL</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="k">NULL</span> <span class="o">=</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>        <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="handler-commands">HANDLER Commands</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="handler-commandssyntax">Syntax</h2>
<pre class="fixed">HANDLER tbl_name OPEN [ [AS] alias]
HANDLER tbl_name READ index_name { = | &gt;= | &lt;= | &lt; } (value1,value2,...)
    [ WHERE where_condition ] [LIMIT ... ]
HANDLER tbl_name READ index_name { FIRST | NEXT | PREV | LAST }
    [ WHERE where_condition ] [LIMIT ... ]
HANDLER tbl_name READ { FIRST | NEXT }
    [ WHERE where_condition ] [LIMIT ... ]
HANDLER tbl_name CLOSE
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#handler-commandssyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#handler-commandsdescription" title="Description">Description</a></li>
<li class=""><a href="#handler-commandskey-lookup" title="Key Lookup">Key Lookup</a></li>
<li class=""><a href="#handler-commandskey-scans" title="Key Scans">Key Scans</a></li>
<li class=""><a href="#handler-commandstable-scans" title="Table Scans">Table Scans</a></li>
<li class=""><a href="#handler-commandslimitations" title="Limitations">Limitations</a> <ol class="toc">
<li class=""><a href="#handler-commandsfinding-old-rows" title="Finding 'Old Rows'">Finding 'Old Rows'</a></li>
<li class=""><a href="#handler-commandsinvisible-columns" title="Invisible Columns">Invisible Columns</a></li>
<li class=""><a href="#handler-commandssystem-versioned-tables" title="System-Versioned Tables">System-Versioned Tables</a></li>
<li class=""><a href="#handler-commandsother-limitations" title="Other Limitations">Other Limitations</a> </li></ol>
</li>
<li class=""><a href="#handler-commandserror-codes" title="Error Codes">Error Codes</a></li>
<li class=""><a href="#handler-commandssee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="handler-commandsdescription">Description</h2>
<p>The <code>HANDLER</code> statement provides direct access to table
storage engine interfaces for key lookups and key or table scans. It is available for at least <a href="https://mariadb.com/kb/en/aria-formerly-known-as-maria/">Aria</a>, <a href="https://mariadb.com/kb/en/memory-storage-engine/">Memory</a>, <a href="https://mariadb.com/kb/en/myisam-storage-engine/">MyISAM</a> and <a href="https://mariadb.com/kb/en/xtradb-and-innodb/">InnoDB</a> tables (and should work with most 'normal' storage engines, but not with system tables, <a href="#merge">MERGE</a> or <a href="https://mariadb.com/kb/en/views/">views</a>).</p>
<p><code>HANDLER ... OPEN</code> opens a table, allowing it to be accessible to subsequent <code>HANDLER ... READ</code> statements. The table can either be opened using an alias (which must then be used by <code>HANDLER ... READ</code>, or a table name.</p>
<p>The table object is only closed when <code>HANDLER ... CLOSE</code> is called by the session, and is not shared by other sessions.</p>
<p><a href="https://mariadb.com/kb/en/prepared-statements/">Prepared statements</a> work with <code>HANDLER READ</code>, which gives a much higher performance (50% speedup) as there is no parsing and all data is transformed in binary (without conversions to text, as with the normal protocol).</p>
<p>The HANDLER command does not work with <a href="https://mariadb.com/kb/en/managing-mariadb-partitioning/">partitioned tables</a>.</p>
<h2 class="anchored_heading" id="handler-commandskey-lookup">Key Lookup</h2>
<p>A key lookup is started with:</p>
<pre class="fixed">HANDLER tbl_name READ index_name { = | &gt;= | &lt;= | &lt; }  (value,value) [LIMIT...]
</pre><p>The values stands for the value of each of the key columns. For most key types (except for HASH keys in MEMORY storage engine) you can use a prefix subset of it's columns.</p>
<p>If you are using LIMIT, then in case of &gt;= or &gt; then there is an implicit NEXT implied, while if you are using &lt;= or &lt; then there is an implicit PREV implied.</p>
<p>After the initial read, you can use</p>
<pre class="fixed">HANDLER tbl_name READ index_name NEXT [ LIMIT ... ]
or
HANDLER tbl_name READ index_name PREV [ LIMIT ... ]
</pre><p>to scan the rows in key order.</p>
<p>Note that the row order is not defined for keys with duplicated values and will vary from engine to engine.</p>
<h2 class="anchored_heading" id="handler-commandskey-scans">Key Scans</h2>
<p>You can scan a table in key order by doing:</p>
<pre class="fixed">HANDLER tbl_name READ index_name FIRST [ LIMIT ... ]
HANDLER tbl_name READ index_name NEXT  [ LIMIT ... ]
</pre><p>or, if the handler supports backwards key scans (most do):</p>
<pre class="fixed">HANDLER tbl_name READ index_name LAST [ LIMIT ... ]
HANDLER tbl_name READ index_name PREV [ LIMIT ... ]
</pre><h2 class="anchored_heading" id="handler-commandstable-scans">Table Scans</h2>
<p>You can scan a table in row order by doing:</p>
<pre class="fixed">HANDLER tbl_name READ FIRST [ LIMIT ... ]
HANDLER tbl_name READ NEXT  [ LIMIT ... ]
</pre><h2 class="anchored_heading" id="handler-commandslimitations">Limitations</h2>
<p>As this is a direct interface to the storage engine, some limitations may apply for what you can do and what happens if the table changes. Here follows some of the common limitations:</p>
<h3 class="anchored_heading" id="handler-commandsfinding-old-rows">Finding 'Old Rows'</h3>
<p>HANDLER READ is not transaction safe, consistent or atomic.  It's ok for the storage engine to returns rows that existed when you started the scan but that were later deleted. This can happen as the storage engine may cache rows as part of the scan from a previous read.</p>
<p>You may also find rows committed since the scan originally started.</p>
<h3 class="anchored_heading" id="handler-commandsinvisible-columns">Invisible Columns</h3>
<p><code>HANDLER ... READ</code> also reads the data of <a href="https://mariadb.com/kb/en/invisible-columns/">invisible-columns</a>.</p>
<h3 class="anchored_heading" id="handler-commandssystem-versioned-tables">System-Versioned Tables</h3>
<p><code>HANDLER ... READ</code> reads everything from <a href="https://mariadb.com/kb/en/system-versioned-tables/">system-versioned tables</a>, and so includes <code>row_start</code> and <code>row_end</code> fields, as well as all rows that have since been deleted or changed, including when history partitions are used. </p>
<h3 class="anchored_heading" id="handler-commandsother-limitations">Other Limitations</h3>
<ul start="1"><li>If you do an <a href="https://mariadb.com/kb/en/alter-table-statement/">ALTER TABLE</a>, all your HANDLER's for that table are automatically closed.
</li><li>If you do an ALTER TABLE for a table that is used by some other connection with HANDLER, the ALTER TABLE will wait for the HANDLER to be closed.
</li><li>For HASH keys, you must use all key parts when searching for a row.
</li><li>For HASH keys, you can't do a key scan of all values. You can only find all rows with the same key value.
</li><li>While each HANDLER READ command is atomic, if you do a scan in many steps, then some engines may give you error 1020 if the table changed between the commands. Please refer to the <a href="https://mariadb.com/kb/en/handler-handler/">specific engine handler page</a> if this happens.
</li></ul>
<h2 class="anchored_heading" id="handler-commandserror-codes">Error Codes</h2>
<ul start="1"><li>Error 1031 (ER_ILLEGAL_HA) Table storage engine for 't1' doesn't have this option
<ul start="1"><li>If you get this for HANDLER OPEN it means the storage engine doesn't support HANDLER calls.
</li><li>If you get this for HANDLER READ it means you are trying to use an incomplete HASH key.
</li></ul>
</li><li>Error 1020 (ER_CHECKREAD) Record has changed since last read in table '...'
<ul start="1"><li>This means that the table changed between two reads and the handler can't handle this case for the given scan.
</li></ul>
</li></ul>
<h2 class="anchored_heading" id="handler-commandssee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/what-is-mariadb-53/">What is MariaDB 5.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="lock-in-share-mode">LOCK IN SHARE MODE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>InnoDB supports row-level locking. Selected rows can be locked using <code>LOCK IN SHARE MODE</code> or <a href="#for-update">FOR UPDATE</a>. In both cases, a lock is acquired on the rows read by the query, and it will be released when the current transaction is committed.</p>
<p>When <code>LOCK IN SHARE MODE</code> is specified in a <a href="#select">SELECT</a> statement, MariaDB will wait until all transactions that have modified the rows are committed. Then, a write lock is acquired. All transactions can read the rows, but if they want to modify them, they have to wait until your transaction is committed.</p>
<p>If <code>autocommit</code> is set to 1, the LOCK IN SHARE MODE and <a href="#for-update">FOR UPDATE</a> clauses have no effect.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#select">SELECT</a>
</li><li><a href="#for-update">FOR UPDATE</a>
</li><li><a href="https://mariadb.com/kb/en/innodb-lock-modes/">InnoDB Lock Modes</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="procedure">PROCEDURE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>The <code>PROCEDURE</code> clause of <a href="#select">SELECT</a> passes the whole result set to a Procedure which will process it. These Procedures are not <a href="https://mariadb.com/kb/en/stored-procedures/">Stored Procedures</a>, and can only be written in the C language, so it is necessary to recompile the server.</p>
<p>Currently, the only available procedure is <a href="#procedure-analyse">ANALYSE</a>, which examines the resultset and suggests the optimal datatypes for each column. It is defined in the <code>sql/sql_analyse.cc</code> file, and can be used as an example to create more Procedures.</p>
<p>This clause cannot be used in a <a href="https://mariadb.com/kb/en/views/">view</a>'s definition.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#select">SELECT</a>
</li><li><a href="https://mariadb.com/kb/en/stored-procedures/">Stored Procedures</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="greater-than">&gt;</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="greater-thansyntax">Syntax</h2>
<pre class="fixed">&gt;
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#greater-thansyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#greater-thandescription" title="Description">Description</a></li>
<li class=""><a href="#greater-thanexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="greater-thandescription">Description</h2>
<p>Greater than operator. Evaluates both SQL expressions and returns 1 if the left value is greater than the right value and 0 if it is not, or <code>NULL</code> if either expression is NULL. If the expressions return different data types, (for instance, a number and a string), performs type conversion.</p>
<p>When used in row comparisons these two queries return the same results:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">t1</span><span class="p">.</span><span class="n">b</span><span class="p">)</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">t2</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> 
<span class="k">FROM</span> <span class="n">t1</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">t2</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="k">OR</span> <span class="p">((</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="k">AND</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">b</span> <span class="o">&gt;</span> <span class="n">t2</span><span class="p">.</span><span class="n">y</span><span class="p">))</span>
<span class="k">FROM</span> <span class="n">t1</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">t2</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="greater-thanexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">2</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span> <span class="mi">2</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>

<span class="k">SELECT</span> <span class="s1">'b'</span> <span class="o">&gt;</span> <span class="s1">'a'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="s1">'b'</span> <span class="o">&gt;</span> <span class="s1">'a'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="greater-than-or-equal">&gt;=</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="greater-than-or-equalsyntax">Syntax</h2>
<pre class="fixed">&gt;=
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#greater-than-or-equalsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#greater-than-or-equaldescription" title="Description">Description</a></li>
<li class=""><a href="#greater-than-or-equalexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="greater-than-or-equaldescription">Description</h2>
<p>Greater than or equal operator. Evaluates both SQL expressions and returns 1 if the left value is greater than or equal to the right value and 0 if it is not, or <code>NULL</code> if either expression is NULL. If the expressions return different data types, (for instance, a number and a string), performs type conversion.</p>
<p>When used in row comparisons these two queries return the same results:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">t1</span><span class="p">.</span><span class="n">b</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">t2</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> 
<span class="k">FROM</span> <span class="n">t1</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">t2</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="k">OR</span> <span class="p">((</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">t2</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="k">AND</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">b</span> <span class="o">&gt;=</span> <span class="n">t2</span><span class="p">.</span><span class="n">y</span><span class="p">))</span>
<span class="k">FROM</span> <span class="n">t1</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">t2</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="greater-than-or-equalexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">2</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="mi">2</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>

<span class="k">SELECT</span> <span class="s1">'A'</span> <span class="o">&gt;=</span> <span class="s1">'a'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="s1">'A'</span> <span class="o">&gt;=</span> <span class="s1">'a'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="coalesce">COALESCE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">COALESCE(value,...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the first non-NULL value in the list, or NULL if there are no
non-NULL values. At least one parameter must be passed.</p>
<p>The function is useful when substituting a default value for null values when displaying data.</p>
<p>See also <a href="https://mariadb.com/kb/en/null-values-in-mariadb/">NULL Values in MariaDB</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">COALESCE</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">COALESCE</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">COALESCE</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="k">NULL</span><span class="p">,</span><span class="k">NULL</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span> <span class="n">COALESCE</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="k">NULL</span><span class="p">,</span><span class="k">NULL</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span>                     <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
</pre><p>When two arguments are given, COALESCE() is the same as <a href="#ifnull">IFNULL()</a>:</p>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">a</span><span class="o">=</span><span class="k">NULL</span><span class="p">,</span> <span class="o">@</span><span class="n">b</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">COALESCE</span><span class="p">(</span><span class="o">@</span><span class="n">a</span><span class="p">,</span> <span class="o">@</span><span class="n">b</span><span class="p">),</span> <span class="n">IFNULL</span><span class="p">(</span><span class="o">@</span><span class="n">a</span><span class="p">,</span> <span class="o">@</span><span class="n">b</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------+----------------+</span>
<span class="o">|</span> <span class="n">COALESCE</span><span class="p">(</span><span class="o">@</span><span class="n">a</span><span class="p">,</span> <span class="o">@</span><span class="n">b</span><span class="p">)</span> <span class="o">|</span> <span class="n">IFNULL</span><span class="p">(</span><span class="o">@</span><span class="n">a</span><span class="p">,</span> <span class="o">@</span><span class="n">b</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+----------------+</span>
<span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>              <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+----------------+</span>
</pre><p>Hex type confusion:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">b</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">0</span><span class="n">x31</span><span class="p">,</span> <span class="mi">0</span><span class="n">x61</span><span class="p">),(</span><span class="n">COALESCE</span><span class="p">(</span><span class="mi">0</span><span class="n">x31</span><span class="p">),</span> <span class="n">COALESCE</span><span class="p">(</span><span class="mi">0</span><span class="n">x61</span><span class="p">));</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span>   <span class="mi">49</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
</pre><p>The reason for the differing results above is that when 0x31 is inserted directly to the column, it's treated as a number (see <a href="https://mariadb.com/kb/en/hexadecimal-literals/">Hexadecimal Literals</a>), while when 0x31 is passed to COALESCE(), it's treated as a string, because:</p>
<ul start="1"><li>HEX values have a string data type by default.
</li><li>COALESCE() has the same data type as the argument. 
</li></ul>
<p>Substituting zero for NULL (in this case when the aggregate function returns NULL after finding no rows):</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">SUM</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">student</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="k">SUM</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>       <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SELECT</span> <span class="n">COALESCE</span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">score</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">student</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="n">COALESCE</span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">score</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span>                      <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/null-values/">NULL values</a>
</li><li><a href="#is-null">IS NULL operator</a>
</li><li><a href="#is-not-null">IS NOT NULL operator</a>
</li><li><a href="#ifnull">IFNULL function</a>
</li><li><a href="#nullif">NULLIF function</a>
</li><li><a href="https://mariadb.com/kb/en/connect-data-types/#null-handling">CONNECT data types</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="in">IN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">expr IN (value,...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns 1 if <em><code>expr</code></em> is equal to any of the values in the IN list, else
returns 0. If all values are constants, they are evaluated according
to the type of <em><code>expr</code></em> and sorted. The search for the item then is done
using a binary search. This means IN is very quick if the IN value
list consists entirely of constants. Otherwise, type conversion takes
place according to the rules described at <a href="https://mariadb.com/kb/en/type-conversion/">Type Conversion</a>, but
applied to all the arguments.</p>
<p>If <em><code>expr</code></em> is NULL, IN always returns NULL. If at least one of the values in the list is NULL, and one of the comparisons is true, the result is 1. If at least one of the values in the list is NULL and none of the comparisons is true, the result is NULL.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT 2 IN (0,3,5,7);
+----------------+
| 2 IN (0,3,5,7) |
+----------------+
|              0 |
+----------------+
</pre><pre class="fixed">SELECT 'wefwf' IN ('wee','wefwf','weg');
+----------------------------------+
| 'wefwf' IN ('wee','wefwf','weg') |
+----------------------------------+
|                                1 |
+----------------------------------+ 
</pre><p>Type conversion:</p>
<pre class="fixed">SELECT 1 IN ('1', '2', '3');
+----------------------+
| 1 IN ('1', '2', '3') |
+----------------------+
|                    1 |
+----------------------+
</pre><pre class="fixed">SELECT NULL IN (1, 2, 3);
+-------------------+
| NULL IN (1, 2, 3) |
+-------------------+
|              NULL |
+-------------------+

MariaDB [(none)]&gt; SELECT 1 IN (1, 2, NULL);
+-------------------+
| 1 IN (1, 2, NULL) |
+-------------------+
|                 1 |
+-------------------+

MariaDB [(none)]&gt; SELECT 5 IN (1, 2, NULL);
+-------------------+
| 5 IN (1, 2, NULL) |
+-------------------+
|              NULL |
+-------------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="explain">EXPLAIN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="explainsyntax">Syntax</h2>
<pre class="fixed">EXPLAIN tbl_name
</pre><p>Or</p>
<pre class="fixed">EXPLAIN [EXTENDED | PARTITIONS] 
  {SELECT select_options | UPDATE update_options | DELETE delete_options}
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#explainsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#explaindescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#explaincolumns-in-explain-select" title="Columns in EXPLAIN ... SELECT">Columns in EXPLAIN ... SELECT</a> <ol class="toc">
<li class=""><a href="#explainselect_type-column" title='"Select_type" Column'>"Select_type" Column</a></li>
<li class=""><a href="#explaintype-column" title='"Type" Column'>"Type" Column</a></li>
<li class=""><a href="#explainextra-column" title='"Extra" Column'>"Extra" Column</a> </li></ol>
</li>
<li class=""><a href="#explainexplain-extended" title="EXPLAIN EXTENDED">EXPLAIN EXTENDED</a> </li></ol>
</li>
<li class=""><a href="#explainexamples" title="Examples">Examples</a> <ol class="toc">
<li class=""><a href="#explainexample-of-fixedref_or_nullfixed-optimization" title="Example of ref_or_null Optimization">Example of ref_or_null Optimization</a> </li></ol>
</li>
<li class=""><a href="#explainsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="explaindescription">Description</h2>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">EXPLAIN</code> statement can be used either as a synonym for
<code class="highlight fixed" style="white-space:pre-wrap">DESCRIBE</code> or as a way to obtain information about how MariaDB
executes a <code class="highlight fixed" style="white-space:pre-wrap">SELECT</code>, <code>UPDATE</code> or <code>DELETE</code> statement:</p>
<ul start="1"><li><code class="highlight fixed" style="white-space:pre-wrap">'EXPLAIN tbl_name'</code> is synonymous with 
  <code class="highlight fixed" style="white-space:pre-wrap">'<a href="https://mariadb.com/kb/en/describe-command/">DESCRIBE</a> tbl_name'</code> or 
  <code class="highlight fixed" style="white-space:pre-wrap">'<a href="#show-columns">SHOW COLUMNS</a> FROM tbl_name'</code>.
</li><li>When you precede a <code class="highlight fixed" style="white-space:pre-wrap">SELECT</code>, <code>UPDATE</code> or a <code>DELETE</code> statement with the keyword 
  <code class="highlight fixed" style="white-space:pre-wrap">EXPLAIN</code>, MariaDB displays information from the optimizer
  about the query execution plan. That is, MariaDB explains how it would
  process the <code class="highlight fixed" style="white-space:pre-wrap">SELECT</code>, <code>UPDATE</code> or <code>DELETE</code>, including information about how tables
  are joined and in which order. <code class="highlight fixed" style="white-space:pre-wrap">EXPLAIN EXTENDED</code> can be
  used to provide additional information.<br/>
</li><li><code class="highlight fixed" style="white-space:pre-wrap">EXPLAIN PARTITIONS</code> is useful only when examining queries involving partitioned tables.<br/> For details, see <a href="https://mariadb.com/kb/en/partition-pruning-and-selection/">Partition pruning and selection</a>.
</li><li><a href="https://mariadb.com/kb/en/analyze-statement/">ANALYZE statement</a> performs the query as well as producing EXPLAIN output, and provides actual as well as estimated statistics.
</li><li><code>EXPLAIN</code> output can be printed in the <a href="https://mariadb.com/kb/en/slow-query-log/">slow query log</a>. See <a href="https://mariadb.com/kb/en/explain-in-the-slow-query-log/">EXPLAIN in the Slow Query Log</a> for details.
</li></ul>
<p><a href="#show-explain">SHOW EXPLAIN</a> shows the output of a running statement. In some cases, its output can be closer to reality than <code>EXPLAIN</code>.</p>
<p>The <a href="https://mariadb.com/kb/en/analyze-statement/">ANALYZE statement</a> runs a statement and returns information about its execution plan. It also shows additional columns, to check how much the optimizer's estimation about filtering and found rows are close to reality.</p>
<p>There is an online <a href="https://mariadb.com/kb/en/explain-analyzer/">EXPLAIN Analyzer</a> that you can use to share <code>EXPLAIN</code> and <code>EXPLAIN EXTENDED</code> output with others.</p>
<div class="cstm-style graybox"><p><code>EXPLAIN</code> can acquire metadata locks in the same way that <code>SELECT</code> does, as it needs to know table metadata and, sometimes, data as well.</p>
</div><h3 class="anchored_heading" id="explaincolumns-in-explain-select">Columns in EXPLAIN ... SELECT</h3>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Column name</th><th>Description</th></tr>
<tr><td><code>id</code></td><td>Sequence number that shows in which order tables are joined.</td></tr>
<tr><td><code>select_type</code></td><td>What kind of <code>SELECT</code> the table comes from.</td></tr>
<tr><td><code>table</code></td><td>Alias name of table. Materialized temporary tables for sub queries are named &lt;subquery#&gt;</td></tr>
<tr><td><code>type</code></td><td>How rows are found from the table (join type).</td></tr>
<tr><td><code>possible_keys</code></td><td>keys in table that could be used to find rows in the table</td></tr>
<tr><td><code>key</code></td><td>The name of the key that is used to retrieve rows. <code>NULL</code> is no key was used.</td></tr>
<tr><td><code>key_len</code></td><td>How many bytes of the key that was used (shows if we are using only parts of the multi-column key).</td></tr>
<tr><td><code>ref</code></td><td>The reference that is used as the key value.</td></tr>
<tr><td><code>rows</code></td><td>An estimate of how many rows we will find in the table for each key lookup.</td></tr>
<tr><td><code>Extra</code></td><td>Extra information about this join.</td></tr>
</table>
</div><p>Here are descriptions of the values for some of the more complex columns in <code>EXPLAIN ... SELECT</code>:</p>
<h4 class="anchored_heading" id="explainselect_type-column">"Select_type" Column</h4>
<p>The <code>select_type</code> column can have the following values:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Value</th><th>Description</th><th>Comment</th></tr>
<tr><td><code>DEPENDENT SUBQUERY</code></td><td>The <code>SUBQUERY</code> is <code>DEPENDENT</code>.</td></tr>
<tr><td><code>DEPENDENT UNION</code></td><td>The <code>UNION</code> is <code>DEPENDENT</code>.</td></tr>
<tr><td><code>DERIVED</code></td><td>The <code>SELECT</code> is <code>DERIVED</code> from the <code>PRIMARY</code>.</td></tr>
<tr><td><code>MATERIALIZED</code></td><td>The <code>SUBQUERY</code> is <code><a href="https://mariadb.com/kb/en/semi-join-materialization-strategy/">MATERIALIZED</a></code>.</td><td>Materialized tables will be populated at first access and will be accessed by the primary key (= one key lookup). Number of rows in EXPLAIN shows the cost of populating the table</td></tr>
<tr><td><code>PRIMARY</code></td><td>The <code>SELECT</code> is a <code>PRIMARY</code> one.</td></tr>
<tr><td><code>SIMPLE</code></td><td>The <code>SELECT</code> is a <code>SIMPLE</code> one.</td></tr>
<tr><td><code>SUBQUERY</code></td><td>The <code>SELECT</code> is a <code>SUBQUERY</code> of the <code>PRIMARY</code>.</td></tr>
<tr><td><code>UNCACHEABLE SUBQUERY</code></td><td>The <code>SUBQUERY</code> is <code>UNCACHEABLE</code>.</td></tr>
<tr><td><code>UNCACHEABLE UNION</code></td><td>The <code>UNION</code> is <code>UNCACHEABLE</code>.</td></tr>
<tr><td><code>UNION</code></td><td>The <code>SELECT</code> is a <code>UNION</code> of the <code>PRIMARY</code>.</td></tr>
<tr><td><code>UNION RESULT</code></td><td>The result of the <code>UNION</code>.</td></tr>
<tr><td><code>LATERAL DERIVED</code></td><td>The <code>SELECT</code> uses a <a href="https://mariadb.com/kb/en/lateral-derived-optimization/">Lateral Derived optimization</a></td></tr>
</table>
</div><h4 class="anchored_heading" id="explaintype-column">"Type" Column</h4>
<p>This column contains information on how the table is accessed.</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Value</th><th>Description</th></tr>
<tr><td><code>ALL</code></td><td>A full table scan is done for the table (all rows are read). This is bad if the table is large and the table is joined against a previous table!  This happens when the optimizer could not find any usable index to access rows.</td></tr>
<tr><td><code>const</code></td><td>There is only one possibly matching row in the table. The row is read before the optimization phase and all columns in the table are treated as constants.</td></tr>
<tr><td><code>eq_ref</code></td><td>A unique index is used to find the rows. This is the best possible plan to find the row.</td></tr>
<tr><td><code>fulltext</code></td><td>A fulltext index is used to access the rows.</td></tr>
<tr><td><code>index_merge</code></td><td>A 'range' access is done for for several index and the found rows are merged. The key column shows which keys are used.</td></tr>
<tr><td><code>index_subquery</code></td><td>This is similar as ref, but used for sub queries that are transformed to key lookups.</td></tr>
<tr><td><code>index</code></td><td>A full scan over the used index.  Better than ALL but still bad if index is large and the table is joined against a previous table.</td></tr>
<tr><td><code>range</code></td><td>The table will be accessed with a key over one or more value ranges.</td></tr>
<tr><td><code>ref_or_null</code></td><td>Like 'ref' but in addition another search for the 'null' value is done if the first value was not found. This happens usually with sub queries.</td></tr>
<tr><td><code>ref</code></td><td>A non unique index or prefix of an unique index is used to find the rows. Good if the prefix doesn't match many rows.</td></tr>
<tr><td><code>system</code></td><td>The table has 0 or 1 rows.</td></tr>
<tr><td><code>unique_subquery</code></td><td>This is similar as eq_ref, but used for sub queries that are transformed to key lookups</td></tr>
</table>
</div><h4 class="anchored_heading" id="explainextra-column">"Extra" Column</h4>
<p>This column consists of one or more of the following values, separated by ';'</p>
<p> <em>Note that some of these values are detected after the optimization phase.</em></p>
<p>The optimization phase can do the following changes to the <code>WHERE</code> clause:</p>
<ul start="1"><li>Add the expressions from the <code>ON</code> and <code>USING</code> clauses to the <code>WHERE</code>
  clause.
</li><li>Constant propagation:  If there is <code>column=constant</code>, replace all column
  instances with this constant.
</li><li>Replace all columns from '<code>const</code>' tables with their values.
</li><li>Remove the used key columns from the <code>WHERE</code> (as this will be tested as
  part of the key lookup).
</li><li>Remove impossible constant sub expressions.
  For example <code>WHERE '(a=1 and a=2) OR b=1'</code> becomes <code>'b=1'</code>.
</li><li>Replace columns with other columns that has identical values:
  Example:  <code>WHERE</code> <code>a=b</code> and <code>a=c</code> may be treated
  as <code>'WHERE a=b and a=c and b=c'</code>.
</li><li>Add extra conditions to detect impossible row conditions earlier. This
  happens mainly with <code>OUTER JOIN</code> where we in some cases add detection
  of <code>NULL</code> values in the <code>WHERE</code> (Part of '<code>Not exists</code>' optimization).
  This can cause an unexpected '<code>Using where</code>' in the Extra column.
</li><li>For each table level we remove expressions that have already been tested when
  we read the previous row. Example: When joining tables <code>t1</code> with <code>t2</code>
  using the following <code>WHERE 't1.a=1 and t1.a=t2.b'</code>, we don't have to
  test <code>'t1.a=1'</code> when checking rows in <code>t2</code> as we already know that this
  expression is true. 
</li></ul>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Value</th><th>Description</th></tr>
<tr><td><code>const row not found</code></td><td>The table was a system table (a table with should exactly one row), but no row was found.</td></tr>
<tr><td><code>Distinct</code></td><td>If distinct optimization (remove duplicates) was used. This is marked only for the last table in the <code>SELECT</code>.</td></tr>
<tr><td><code>Full scan on NULL key</code></td><td>The table is a part of the sub query and if the value that is used to match the sub query will be <code>NULL</code>, we will do a full table scan.</td></tr>
<tr><td><code>Impossible HAVING</code></td><td>The used <code>HAVING</code> clause is always false so the <code>SELECT</code> will return no rows.</td></tr>
<tr><td><code>Impossible WHERE</code> <code>noticed</code> <code>after</code> <code>reading</code> <code>const</code> <code>tables.</code></td><td>The used <code>WHERE</code> clause is always false so the <code>SELECT</code> will return no rows. This case was detected after we had read all 'const' tables and used the column values as constant in the <code>WHERE</code> clause. For example: <code>WHERE const_column=5</code> and <code>const_column</code> had a value of 4.</td></tr>
<tr><td><code>Impossible WHERE</code></td><td>The used <code>WHERE</code> clause is always false so the <code>SELECT</code> will return no rows. For example: <code>WHERE 1=2</code></td></tr>
<tr><td><code>No matching min/max row</code></td><td>During early optimization of <code>MIN()</code>/<code>MAX()</code> values it was detected that no row could match the <code>WHERE</code> clause. The <code>MIN()</code>/<code>MAX()</code> function will return <code>NULL</code>.</td></tr>
<tr><td><code>no matching row</code> <code>in</code> <code>const</code> <code>table</code></td><td>The table was a const table (a table with only one possible matching row), but no row was found.</td></tr>
<tr><td><code>No tables used</code></td><td>The <code>SELECT</code> was a sub query that did not use any tables. For example a there was no <code>FROM</code> clause or a <code>FROM DUAL</code> clause.</td></tr>
<tr><td><code>Not exists</code></td><td>Stop searching after more row if we find one single matching row. This optimization is used with <code>LEFT JOIN</code> where one is explicitly searching for rows that doesn't exists in the <code>LEFT JOIN TABLE</code>. Example: <code>SELECT * FROM t1 LEFT JOIN t2 on (...) WHERE t2.not_null_column IS NULL</code>.  As <code>t2.not_null_column</code> can only be <code>NULL</code> if there was no matching row for on condition, we can stop searching if we find a single matching row.</td></tr>
<tr><td><code>Open_frm_only</code></td><td>For <code>information_schema</code> tables.  Only the <code>frm</code> (table definition file was opened) was opened for each matching row.</td></tr>
<tr><td><code>Open_full_table</code></td><td>For <code>information_schema</code> tables. A full table open for each matching row is done to retrieve the requested information. (Slow)</td></tr>
<tr><td><code>Open_trigger_only</code></td><td>For <code>information_schema</code> tables. Only the trigger file definition was opened for each matching row.</td></tr>
<tr><td><code>Range checked</code> <code>for</code> <code>each</code> <code>record</code> <code>(index map: ...)</code></td><td>This only happens when there was no good default index to use but there may some index that could be used when we can treat all columns from previous table as constants.  For each row combination the optimizer will decide which index to use (if any) to fetch a row from this table. This is not fast, but faster than a full table scan that is the only other choice. The index map is a bitmask that shows which index are considered for each row condition.</td></tr>
<tr><td><code>Scanned 0/1/all databases</code></td><td>For <code>information_schema</code> tables. Shows how many times we had to do a directory scan.</td></tr>
<tr><td><code>Select tables</code> <code>optimized</code> <code>away</code></td><td>All tables in the join was optimized away. This happens when we are only using <code>COUNT(*)</code>, <code>MIN()</code> and <code>MAX()</code> functions in the <code>SELECT</code> and we where able to replace all of these with constants.</td></tr>
<tr><td><code>Skip_open_table</code></td><td>For <code>information_schema</code> tables. The queried table didn't need to be opened.</td></tr>
<tr><td><code>unique row not found</code></td><td>The table was detected to be a const table (a table with only one possible matching row) during the early optimization phase, but no row was found.</td></tr>
<tr><td><code>Using filesort</code></td><td>Filesort is needed to resolve the query. This means an extra phase where we first collect all columns to sort, sort them with a disk based merge sort and then use the sorted set to retrieve the rows in sorted order. If the column set is small, we store all the columns in the sort file to not have to go to the database to retrieve them again.</td></tr>
<tr><td><code>Using index</code></td><td>Only the index is used to retrieve the needed information from the table. There is no need to perform an extra seek to retrieve the actual record.</td></tr>
<tr><td><code>Using index condition</code></td><td>Like '<code>Using where</code>' but the where condition is pushed down to the table engine for internal optimization at the index level.</td></tr>
<tr><td><code>Using index condition(BKA)</code></td><td>Like '<code>Using index condition</code>' but in addition we use batch key access to retrieve rows.</td></tr>
<tr><td><code>Using index for group-by</code></td><td>The index is being used to resolve a <code>GROUP BY</code> or <code>DISTINCT</code> query. The rows are not read.  This is very efficient if the table has a lot of identical index entries as duplicates are quickly jumped over.</td></tr>
<tr><td><code>Using intersect(...)</code></td><td>For <code>index_merge</code> joins. Shows which index are part of the intersect.</td></tr>
<tr><td><code>Using join buffer</code></td><td>We store previous row combinations in a row buffer to be able to match each row against all of the rows combinations in the join buffer at one go.</td></tr>
<tr><td><code>Using sort_union(...)</code></td><td>For <code>index_merge</code> joins. Shows which index are part of the union.</td></tr>
<tr><td><code>Using temporary</code></td><td>A temporary table is created to hold the result. This typically happens if you are using <code>GROUP BY</code>, <code>DISTINCT</code> or <code>ORDER BY</code>.</td></tr>
<tr><td><code>Using where</code></td><td>A <code>WHERE</code> expression (in additional to the possible key lookup) is used to check if the row should be accepted. If you don't have 'Using where' together with a join type of <code>ALL</code>, you are probably doing something wrong!</td></tr>
<tr><td><code>Using where</code> <code>with</code> <code>pushed</code> <code>condition</code></td><td>Like '<code>Using where</code>' but the where condition is pushed down to the table engine for internal optimization at the row level.</td></tr>
<tr><td><code>Using buffer</code></td><td>The <code>UPDATE</code> statement will first buffer the rows, and then run the updates, rather than do updates on the fly. See <a href="https://mariadb.com/kb/en/using-buffer-update-algorithm/">Using Buffer UPDATE Algorithm</a> for a detailed explanation.</td></tr>
</table>
</div><h3 class="anchored_heading" id="explainexplain-extended">EXPLAIN EXTENDED</h3>
<p>The <code>EXTENDED</code> keyword adds another column, <em>filtered</em>, to the output. This is a percentage estimate of the table rows that will be filtered by the condition.</p>
<p>An <code>EXPLAIN EXTENDED</code> will always throw a warning, as it adds extra <em>Message</em> information to a subsequent <code><a href="#show-warnings">SHOW WARNINGS</a></code> statement. This includes what the <code>SELECT</code> query would look like after optimizing and rewriting rules are applied and how the optimizer qualifies columns and tables.</p>
<h2 class="anchored_heading" id="explainexamples">Examples</h2>
<p>As synonym for <code>DESCRIBE</code> or <code>SHOW COLUMNS FROM</code>:</p>
<pre class="fixed"><span class="k">DESCRIBE</span> <span class="n">city</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+----------+------+-----+---------+----------------+</span>
<span class="o">|</span> <span class="n">Field</span>      <span class="o">|</span> <span class="k">Type</span>     <span class="o">|</span> <span class="k">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+----------+------+-----+---------+----------------+</span>
<span class="o">|</span> <span class="n">Id</span>         <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>  <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span> <span class="n">PRI</span> <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span> <span class="n">auto_increment</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Name</span>       <span class="o">|</span> <span class="nb">char</span><span class="p">(</span><span class="mi">35</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">Country</span>    <span class="o">|</span> <span class="nb">char</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span> <span class="n">UNI</span> <span class="o">|</span>         <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">District</span>   <span class="o">|</span> <span class="nb">char</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span> <span class="n">MUL</span> <span class="o">|</span>         <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">Population</span> <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>  <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+----------+------+-----+---------+----------------+</span>
</pre><p>A simple set of examples to see how <code>EXPLAIN</code> can identify poor index usage:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="o">`</span><span class="n">employees_example</span><span class="o">`</span> <span class="p">(</span>
  <span class="o">`</span><span class="n">id</span><span class="o">`</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
  <span class="o">`</span><span class="n">first_name</span><span class="o">`</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="n">last_name</span><span class="o">`</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="k">position</span><span class="o">`</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="n">home_address</span><span class="o">`</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="n">home_phone</span><span class="o">`</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="n">employee_code</span><span class="o">`</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">),</span>
  <span class="k">UNIQUE</span> <span class="k">KEY</span> <span class="o">`</span><span class="n">employee_code</span><span class="o">`</span> <span class="p">(</span><span class="o">`</span><span class="n">employee_code</span><span class="o">`</span><span class="p">),</span>
  <span class="k">KEY</span> <span class="o">`</span><span class="n">first_name</span><span class="o">`</span> <span class="p">(</span><span class="o">`</span><span class="n">first_name</span><span class="o">`</span><span class="p">,</span><span class="o">`</span><span class="n">last_name</span><span class="o">`</span><span class="p">)</span>
<span class="p">)</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">Aria</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="o">`</span><span class="n">employees_example</span><span class="o">`</span> <span class="p">(</span><span class="o">`</span><span class="n">first_name</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">last_name</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="k">position</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">home_address</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">home_phone</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">employee_code</span><span class="o">`</span><span class="p">)</span>
  <span class="k">VALUES</span>
  <span class="p">(</span><span class="s1">'Mustapha'</span><span class="p">,</span> <span class="s1">'Mond'</span><span class="p">,</span> <span class="s1">'Chief Executive Officer'</span><span class="p">,</span> <span class="s1">'692 Promiscuous Plaza'</span><span class="p">,</span> <span class="s1">'326-555-3492'</span><span class="p">,</span> <span class="s1">'MM1'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Henry'</span><span class="p">,</span> <span class="s1">'Foster'</span><span class="p">,</span> <span class="s1">'Store Manager'</span><span class="p">,</span> <span class="s1">'314 Savage Circle'</span><span class="p">,</span> <span class="s1">'326-555-3847'</span><span class="p">,</span> <span class="s1">'HF1'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Bernard'</span><span class="p">,</span> <span class="s1">'Marx'</span><span class="p">,</span> <span class="s1">'Cashier'</span><span class="p">,</span> <span class="s1">'1240 Ambient Avenue'</span><span class="p">,</span> <span class="s1">'326-555-8456'</span><span class="p">,</span> <span class="s1">'BM1'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Lenina'</span><span class="p">,</span> <span class="s1">'Crowne'</span><span class="p">,</span> <span class="s1">'Cashier'</span><span class="p">,</span> <span class="s1">'281 Bumblepuppy Boulevard'</span><span class="p">,</span> <span class="s1">'328-555-2349'</span><span class="p">,</span> <span class="s1">'LC1'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Fanny'</span><span class="p">,</span> <span class="s1">'Crowne'</span><span class="p">,</span> <span class="s1">'Restocker'</span><span class="p">,</span> <span class="s1">'1023 Bokanovsky Lane'</span><span class="p">,</span> <span class="s1">'326-555-6329'</span><span class="p">,</span> <span class="s1">'FC1'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Helmholtz'</span><span class="p">,</span> <span class="s1">'Watson'</span><span class="p">,</span> <span class="s1">'Janitor'</span><span class="p">,</span> <span class="s1">'944 Soma Court'</span><span class="p">,</span> <span class="s1">'329-555-2478'</span><span class="p">,</span> <span class="s1">'HW1'</span><span class="p">);</span>

<span class="k">SHOW</span> <span class="n">INDEXES</span> <span class="k">FROM</span> <span class="n">employees_example</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------------+------------+---------------+--------------+---------------+-----------+-------------+----------+--------+------+------------+---------+---------------+</span>
<span class="o">|</span> <span class="k">Table</span>             <span class="o">|</span> <span class="n">Non_unique</span> <span class="o">|</span> <span class="n">Key_name</span>      <span class="o">|</span> <span class="n">Seq_in_index</span> <span class="o">|</span> <span class="k">Column_name</span>   <span class="o">|</span> <span class="k">Collation</span> <span class="o">|</span> <span class="k">Cardinality</span> <span class="o">|</span> <span class="n">Sub_part</span> <span class="o">|</span> <span class="n">Packed</span> <span class="o">|</span> <span class="k">Null</span> <span class="o">|</span> <span class="n">Index_type</span> <span class="o">|</span> <span class="k">Comment</span> <span class="o">|</span> <span class="n">Index_comment</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+------------+---------------+--------------+---------------+-----------+-------------+----------+--------+------+------------+---------+---------------+</span>
<span class="o">|</span> <span class="n">employees_example</span> <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span> <span class="k">PRIMARY</span>       <span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span> <span class="n">id</span>            <span class="o">|</span> <span class="n">A</span>         <span class="o">|</span>           <span class="mi">7</span> <span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span>      <span class="o">|</span> <span class="n">BTREE</span>      <span class="o">|</span>         <span class="o">|</span>               <span class="o">|</span>
<span class="o">|</span> <span class="n">employees_example</span> <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span> <span class="n">employee_code</span> <span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span> <span class="n">employee_code</span> <span class="o">|</span> <span class="n">A</span>         <span class="o">|</span>           <span class="mi">7</span> <span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span>      <span class="o">|</span> <span class="n">BTREE</span>      <span class="o">|</span>         <span class="o">|</span>               <span class="o">|</span>
<span class="o">|</span> <span class="n">employees_example</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span> <span class="n">first_name</span>    <span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span> <span class="n">first_name</span>    <span class="o">|</span> <span class="n">A</span>         <span class="o">|</span>        <span class="k">NULL</span> <span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span>      <span class="o">|</span> <span class="n">BTREE</span>      <span class="o">|</span>         <span class="o">|</span>               <span class="o">|</span>
<span class="o">|</span> <span class="n">employees_example</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span> <span class="n">first_name</span>    <span class="o">|</span>            <span class="mi">2</span> <span class="o">|</span> <span class="n">last_name</span>     <span class="o">|</span> <span class="n">A</span>         <span class="o">|</span>        <span class="k">NULL</span> <span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span>      <span class="o">|</span> <span class="n">BTREE</span>      <span class="o">|</span>         <span class="o">|</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+------------+---------------+--------------+---------------+-----------+-------------+----------+--------+------+------------+---------+---------------+</span>
</pre><p><code>SELECT</code> on a primary key:</p>
<pre class="fixed"><span class="k">EXPLAIN</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees_example</span> <span class="k">WHERE</span> <span class="n">id</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+-------------+-------------------+-------+---------------+---------+---------+-------+------+-------+</span>
<span class="o">|</span> <span class="n">id</span>   <span class="o">|</span> <span class="n">select_type</span> <span class="o">|</span> <span class="k">table</span>             <span class="o">|</span> <span class="k">type</span>  <span class="o">|</span> <span class="n">possible_keys</span> <span class="o">|</span> <span class="k">key</span>     <span class="o">|</span> <span class="n">key_len</span> <span class="o">|</span> <span class="k">ref</span>   <span class="o">|</span> <span class="k">rows</span> <span class="o">|</span> <span class="n">Extra</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------+-------------------+-------+---------------+---------+---------+-------+------+-------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="k">SIMPLE</span>      <span class="o">|</span> <span class="n">employees_example</span> <span class="o">|</span> <span class="n">const</span> <span class="o">|</span> <span class="k">PRIMARY</span>       <span class="o">|</span> <span class="k">PRIMARY</span> <span class="o">|</span> <span class="mi">4</span>       <span class="o">|</span> <span class="n">const</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------+-------------------+-------+---------------+---------+---------+-------+------+-------+</span>
</pre><p>The type is <em>const</em>, which means that only one possible result could be returned. 
Now, returning the same record but searching by their phone number:</p>
<pre class="fixed"><span class="k">EXPLAIN</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees_example</span> <span class="k">WHERE</span> <span class="n">home_phone</span><span class="o">=</span><span class="s1">'326-555-3492'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+-------------+-------------------+------+---------------+------+---------+------+------+-------------+</span>
<span class="o">|</span> <span class="n">id</span>   <span class="o">|</span> <span class="n">select_type</span> <span class="o">|</span> <span class="k">table</span>             <span class="o">|</span> <span class="k">type</span> <span class="o">|</span> <span class="n">possible_keys</span> <span class="o">|</span> <span class="k">key</span>  <span class="o">|</span> <span class="n">key_len</span> <span class="o">|</span> <span class="k">ref</span>  <span class="o">|</span> <span class="k">rows</span> <span class="o">|</span> <span class="n">Extra</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------+-------------------+------+---------------+------+---------+------+------+-------------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="k">SIMPLE</span>      <span class="o">|</span> <span class="n">employees_example</span> <span class="o">|</span> <span class="k">ALL</span>  <span class="o">|</span> <span class="k">NULL</span>          <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span> <span class="k">Using</span> <span class="k">where</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------+-------------------+------+---------------+------+---------+------+------+-------------+</span>
</pre><p>Here, the type is <em>All</em>, which means no index could be used. Looking at the rows count, a full table scan (all six rows) had to be performed in order to retrieve the record. If it's a requirement to search by phone number, an index will have to be created.</p>
<p><code><a href="#show-explain">SHOW EXPLAIN</a></code> example:</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="k">EXPLAIN</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+-------------+-------+-------+---------------+------+---------+------+---------+-------------+</span>
<span class="o">|</span> <span class="n">id</span>   <span class="o">|</span> <span class="n">select_type</span> <span class="o">|</span> <span class="k">table</span> <span class="o">|</span> <span class="k">type</span>  <span class="o">|</span> <span class="n">possible_keys</span> <span class="o">|</span> <span class="k">key</span>  <span class="o">|</span> <span class="n">key_len</span> <span class="o">|</span> <span class="k">ref</span>  <span class="o">|</span> <span class="k">rows</span>    <span class="o">|</span> <span class="n">Extra</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------+-------+-------+---------------+------+---------+------+---------+-------------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="k">SIMPLE</span>      <span class="o">|</span> <span class="n">tbl</span>   <span class="o">|</span> <span class="k">index</span> <span class="o">|</span> <span class="k">NULL</span>          <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="mi">5</span>       <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span> <span class="mi">1000107</span> <span class="o">|</span> <span class="k">Using</span> <span class="k">index</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------+-------+-------+---------------+------+---------+------+---------+-------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><h3 class="anchored_heading" id="explainexample-of-fixedref_or_nullfixed-optimization">Example of <code class="highlight fixed" style="white-space:pre-wrap">ref_or_null</code> Optimization</h3>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="k">table_name</span>
  <span class="k">WHERE</span> <span class="n">key_column</span><span class="o">=</span><span class="n">expr</span> <span class="k">OR</span> <span class="n">key_column</span> <span class="k">IS</span> <span class="k">NULL</span><span class="p">;</span>
</pre><p><code class="highlight fixed" style="white-space:pre-wrap">ref_or_null</code> is something that often happens when you use subqueries with <code class="highlight fixed" style="white-space:pre-wrap">NOT IN</code> as then one has to do an extra check for <code>NULL</code> values if the first value didn't have a matching row. </p>
<h2 class="anchored_heading" id="explainsee-also">See Also</h2>
<ul start="1"><li><a href="#show-explain">SHOW EXPLAIN</a>
</li><li><a href="https://mariadb.com/kb/en/ignored-indexes/">Ignored Indexes</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="explain-analyze">EXPLAIN ANALYZE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>The syntax for the <code>EXPLAIN ANALYZE</code> feature was changed to <code>ANALYZE statement</code>, available since <a href="https://mariadb.com/kb/en/mariadb-1010-release-notes/">MariaDB 10.1.0</a>.  See <a href="https://mariadb.com/kb/en/analyze-statement/">ANALYZE statement</a>. </p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="contains">CONTAINS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">Contains(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> or <code>0</code> to indicate whether a geometry <code>g1</code> completely contains geometry <code>g2</code>. CONTAINS() is based on the original MySQL implementation and uses object bounding rectangles, while <a href="https://mariadb.com/kb/en/st_contains/">ST_CONTAINS()</a> uses object shapes. </p>
<p>This tests the opposite relationship to <a href="#within">Within()</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="disjoint">DISJOINT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">Disjoint(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> or <code>0</code> to indicate whether <code>g1</code> is spatially disjoint from
(does not intersect) <code>g2</code>.</p>
<p>DISJOINT() tests the opposite relationship to <a href="#intersects">INTERSECTS()</a>.</p>
<p>DISJOINT() is based on the original MySQL implementation and uses object bounding rectangles, while <a href="#st_disjoint">ST_DISJOINT()</a> uses object shapes.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="equals">EQUALS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">Equals(g1,g2)
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>:</p>
<pre class="fixed">MBREQUALS(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> or <code>0</code> to indicate whether <em><code>g1</code></em> is spatially equal to <em><code>g2</code></em>.</p>
<p>EQUALS() is based on the original MySQL implementation and uses object bounding rectangles, while <a href="#equals">ST_EQUALS()</a> uses object shapes.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>, <code>MBREQUALS</code> is a synonym for <code>Equals</code>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="intersects">INTERSECTS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">INTERSECTS(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> or <code>0</code> to indicate whether geometry <em><code>g1</code></em> spatially intersects geometry <em><code>g2</code></em>.</p>
<p>INTERSECTS() is based on the original MySQL implementation and uses object bounding rectangles, while <a href="https://mariadb.com/kb/en/st_intersects/">ST_INTERSECTS()</a> uses object shapes.</p>
<p>INTERSECTS() tests the opposite relationship to <a href="#disjoint">DISJOINT()</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="overlaps">OVERLAPS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">OVERLAPS(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> or <code>0</code> to indicate whether <code>g1</code> spatially overlaps <code>g2</code>.
The term spatially overlaps is used if two geometries intersect and their
intersection results in a geometry of the same dimension but not equal to
either of the given geometries.</p>
<p>OVERLAPS() is based on the original MySQL implementation and uses object bounding rectangles, while <a href="https://mariadb.com/kb/en/st_overlaps/">ST_OVERLAPS()</a> uses object shapes.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="is">IS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">IS boolean_value
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Tests a value against a boolean value, where <code>boolean_value</code> can be
TRUE, FALSE, or UNKNOWN.</p>
<p>There is an important difference between using IS TRUE or comparing a value with TRUE using <code>=</code>. When using <code>=</code>, only <code>1</code> equals to TRUE. But when using IS TRUE, all values which are logically true (like a number &gt; 1) return TRUE.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">1</span> <span class="k">IS</span> <span class="k">TRUE</span><span class="p">,</span> <span class="mi">0</span> <span class="k">IS</span> <span class="k">FALSE</span><span class="p">,</span> <span class="k">NULL</span> <span class="k">IS</span> <span class="k">UNKNOWN</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+------------+-----------------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="k">IS</span> <span class="k">TRUE</span> <span class="o">|</span> <span class="mi">0</span> <span class="k">IS</span> <span class="k">FALSE</span> <span class="o">|</span> <span class="k">NULL</span> <span class="k">IS</span> <span class="k">UNKNOWN</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+------------+-----------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span>               <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+------------+-----------------+</span>
</pre><p>Difference between <code>=</code> and <code>IS TRUE</code>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="mi">2</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">,</span> <span class="mi">2</span> <span class="k">IS</span> <span class="k">TRUE</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+-----------+</span>
<span class="o">|</span> <span class="mi">2</span> <span class="o">=</span> <span class="k">TRUE</span> <span class="o">|</span> <span class="mi">2</span> <span class="k">IS</span> <span class="k">TRUE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+-----------+</span>
<span class="o">|</span>        <span class="mi">0</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+-----------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/sql-language-structure-boolean-literals/">Boolean Literals</a>
</li><li><a href="#boolean">BOOLEAN Data Type</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="is-not">IS NOT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">IS NOT boolean_value
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Tests a value against a boolean value, where boolean_value can be
TRUE, FALSE, or UNKNOWN. </p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT 1 IS NOT UNKNOWN, 0 IS NOT UNKNOWN, NULL IS NOT UNKNOWN;
+------------------+------------------+---------------------+
| 1 IS NOT UNKNOWN | 0 IS NOT UNKNOWN | NULL IS NOT UNKNOWN |
+------------------+------------------+---------------------+
|                1 |                1 |                   0 |
+------------------+------------------+---------------------+
</pre><pre class="fixed">SELECT NULL IS NOT TRUE, NULL IS NOT FALSE;
+------------------+-------------------+
| NULL IS NOT TRUE | NULL IS NOT FALSE |
+------------------+-------------------+
|                1 |                 1 |
+------------------+-------------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="is-null">IS NULL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">IS NULL
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Tests whether a value is NULL. See also <a href="https://mariadb.com/kb/en/null-values-in-mariadb/">NULL Values in MariaDB</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT 1 IS NULL, 0 IS NULL, NULL IS NULL;
+-----------+-----------+--------------+
| 1 IS NULL | 0 IS NULL | NULL IS NULL |
+-----------+-----------+--------------+
|         0 |         0 |            1 |
+-----------+-----------+--------------+
</pre><h2 class="anchored_heading" id="compatibility">Compatibility</h2>
<p>Some <code class="highlight fixed" style="white-space:pre-wrap">ODBC</code> applications use the syntax <code class="highlight fixed" style="white-space:pre-wrap">auto_increment_field IS NOT NULL</code> to find the latest row that was inserted with an autogenerated key value. If your applications need this, you can set the <a href="https://mariadb.com/kb/en/server-system-variables/#sql_auto_is_null">sql_auto_is_null</a> variable to 1.</p>
<pre class="fixed">SET @@sql_auto_is_null=1;
CREATE TABLE t1 (auto_increment_column INT NOT NULL AUTO_INCREMENT PRIMARY KEY);
INSERT INTO t1 VALUES (NULL);
SELECT * FROM t1 WHERE auto_increment_column IS NULL;

+-----------------------+
| auto_increment_column |
+-----------------------+
|                     1 |
+-----------------------+
</pre><h2 class="anchored_heading" id="see-also">See also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/null-values/">NULL values</a>
</li><li><a href="#is-not-null">IS NOT NULL operator</a>
</li><li><a href="#coalesce">COALESCE function</a>
</li><li><a href="#ifnull">IFNULL function</a>
</li><li><a href="#nullif">NULLIF function</a>
</li><li><a href="https://mariadb.com/kb/en/connect-data-types/#null-handling">CONNECT data types</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="least">LEAST</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LEAST(value1,value2,...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>With two or more arguments, returns the smallest (minimum-valued)
argument. The arguments are compared using the following rules:</p>
<ul start="1"><li>If the return value is used in an INTEGER context or all arguments are integer-valued, they are compared as integers.
</li><li>If the return value is used in a REAL context or all arguments are real-valued, they are compared as reals.
</li><li>If any argument is a case-sensitive string, the arguments are compared as case-sensitive strings.
</li><li>In all other cases, the arguments are compared as case-insensitive strings.
</li></ul>
<p>LEAST() returns NULL if any argument is NULL.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">LEAST</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">LEAST</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">LEAST</span><span class="p">(</span><span class="mi">34</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">767</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="n">LEAST</span><span class="p">(</span><span class="mi">34</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">767</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span>                       <span class="mi">3</span><span class="p">.</span><span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">LEAST</span><span class="p">(</span><span class="s1">'B'</span><span class="p">,</span><span class="s1">'A'</span><span class="p">,</span><span class="s1">'C'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">LEAST</span><span class="p">(</span><span class="s1">'B'</span><span class="p">,</span><span class="s1">'A'</span><span class="p">,</span><span class="s1">'C'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">A</span>                  <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="not-between">NOT BETWEEN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">expr NOT BETWEEN min AND max
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This is the same as NOT (expr <a href="#between-and">BETWEEN</a> min AND max).</p>
<p>Note that the meaning of the alternative form <code class="highlight fixed" style="white-space:pre-wrap">NOT expr BETWEEN min AND max</code> is affected by the <code>HIGH_NOT_PRECEDENCE</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> flag.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT 1 NOT BETWEEN 2 AND 3;
+-----------------------+
| 1 NOT BETWEEN 2 AND 3 |
+-----------------------+
|                     1 |
+-----------------------+
</pre><pre class="fixed">SELECT 'b' NOT BETWEEN 'a' AND 'c';
+-----------------------------+
| 'b' NOT BETWEEN 'a' AND 'c' |
+-----------------------------+
|                           0 |
+-----------------------------+
</pre><p>NULL:</p>
<pre class="fixed">SELECT 1 NOT BETWEEN 1 AND NULL;
+--------------------------+
| 1 NOT BETWEEN 1 AND NULL |
+--------------------------+
|                     NULL |
+--------------------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="not-in">NOT IN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">expr NOT IN (value,...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This is the same as NOT (expr <a href="#in">IN</a> (value,...)).</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT 2 NOT IN (0,3,5,7);
+--------------------+
| 2 NOT IN (0,3,5,7) |
+--------------------+
|                  1 |
+--------------------+
</pre><pre class="fixed">SELECT 'wefwf' NOT IN ('wee','wefwf','weg');
+--------------------------------------+
| 'wefwf' NOT IN ('wee','wefwf','weg') |
+--------------------------------------+
|                                    0 |
+--------------------------------------+
</pre><pre class="fixed">SELECT 1 NOT IN ('1', '2', '3');
+--------------------------+
| 1 NOT IN ('1', '2', '3') |
+--------------------------+
|                        0 |
+--------------------------+
</pre><p>NULL:</p>
<pre class="fixed">SELECT NULL NOT IN (1, 2, 3);
+-----------------------+
| NULL NOT IN (1, 2, 3) |
+-----------------------+
|                  NULL |
+-----------------------+

SELECT 1 NOT IN (1, 2, NULL);
+-----------------------+
| 1 NOT IN (1, 2, NULL) |
+-----------------------+
|                     0 |
+-----------------------+

SELECT 5 NOT IN (1, 2, NULL);
+-----------------------+
| 5 NOT IN (1, 2, NULL) |
+-----------------------+
|                  NULL |
+-----------------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_difference">ST_DIFFERENCE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_DIFFERENCE(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a geometry representing the point set difference of the given geometry values.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_Difference</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span> <span class="o">@</span><span class="n">g2</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_Difference</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span> <span class="o">@</span><span class="n">g2</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">10</span> <span class="mi">10</span><span class="p">)</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_distance">ST_DISTANCE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_DISTANCE(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the distance between two geometries, or null if not given valid inputs.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">ST_Distance</span><span class="p">(</span><span class="n">POINT</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">POINT</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">ST_Distance</span><span class="p">(</span><span class="n">POINT</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">POINT</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span>                                  <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_length">ST_LENGTH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_LENGTH(ls)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns as a double-precision number the length of the
<a href="#linestring">LineString</a> value <em><code>ls</code></em> in its associated spatial reference.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">ls</span> <span class="o">=</span> <span class="s1">'LineString(1 1,2 2,3 3)'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">ST_LENGTH</span><span class="p">(</span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">));</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span> <span class="n">ST_LENGTH</span><span class="p">(</span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span>                <span class="mi">2</span><span class="p">.</span><span class="mi">82842712474619</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="parentheses">Parentheses</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>Parentheses are sometimes called precedence operators - this means that they can be used to change the other <a href="#operator-precedence">operator's precedence</a> in an expression. The expressions that are written between parentheses are computed before the expressions that are written outside. Parentheses must always contain an expression (that is, they cannot be empty), and can be nested.</p>
<p>For example, the following expressions could return different results:</p>
<ul start="1"><li><code>NOT a OR b</code>
</li><li><code>NOT (a OR b)</code>
</li></ul>
<p>In the first case, <code>NOT</code> applies to <code>a</code>, so if <code>a</code> is <code>FALSE</code> or <code>b</code> is <code>TRUE</code>, the expression returns <code>TRUE</code>. In the second case, <code>NOT</code> applies to the result of <code>a OR b</code>, so if at least one of <code>a</code> or <code>b</code> is <code>TRUE</code>, the expression is <code>TRUE</code>.</p>
<p>When the precedence of operators is not intuitive, you can use parentheses to make it immediately clear for whoever reads the statement.</p>
<p>The precedence of the <code>NOT</code> operator can also be affected by the <code>HIGH_NOT_PRECEDENCE</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> flag.</p>
<h2 class="anchored_heading" id="other-uses">Other uses</h2>
<p>Parentheses must always be used to enclose <a href="https://mariadb.com/kb/en/subqueries/">subqueries</a>.</p>
<p>Parentheses can also be used in a <code><a href="https://mariadb.com/kb/en/join/">JOIN</a></code> statement between multiple tables to determine which tables must be joined first.</p>
<p>Also, parentheses are used to enclose the list of parameters to be passed to built-in functions, user-defined functions and stored routines. However, when no parameter is passed to a stored procedure, parentheses are optional. For builtin functions and user-defined functions, spaces are not allowed between the function name and the open parenthesis, unless the <code>IGNORE_SPACE</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is set. For stored routines (and for functions if <code>IGNORE_SPACE</code> is set) spaces are allowed before the open parenthesis, including tab characters and new line characters.</p>
<h2 class="anchored_heading" id="syntax-errors">Syntax errors</h2>
<p>If there are more open parentheses than closed parentheses, the error usually looks like this:</p>
<pre class="fixed">ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that
corresponds to your MariaDB server version for the right syntax to use near '' a
t line 1
</pre><p>Note the empty string.</p>
<p>If there are more closed parentheses than open parentheses, the error usually looks like this:</p>
<pre class="fixed">ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that
corresponds to your MariaDB server version for the right syntax to use near ')'
at line 1
</pre><p>Note the quoted closed parenthesis.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="analyze-table">ANALYZE TABLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="analyze-tablesyntax">Syntax</h2>
<pre class="fixed">ANALYZE [NO_WRITE_TO_BINLOG | LOCAL] TABLE tbl_name [,tbl_name ...] 
  [PERSISTENT FOR [ALL|COLUMNS ([col_name [,col_name ...]])] 
    [INDEXES ([index_name [,index_name ...]])]]           
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#analyze-tablesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#analyze-tabledescription" title="Description">Description</a></li>
<li class=""><a href="#analyze-tableengine-independent-statistics" title="Engine-Independent Statistics">Engine-Independent Statistics</a></li>
<li class=""><a href="#analyze-tablesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="analyze-tabledescription">Description</h2>
<p><code>ANALYZE TABLE</code> analyzes and stores the key distribution for a
table (<a href="https://mariadb.com/kb/en/index-statistics/">index statistics</a>). This statement works with <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a>, <a href="https://mariadb.com/kb/en/aria/">Aria</a> and <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a> tables. During the analysis, InnoDB will allow reads/writes, and MyISAM/Aria reads/inserts. For MyISAM tables, this statement is equivalent to using <a href="https://mariadb.com/kb/en/myisamchk/">myisamchk --analyze</a>.</p>
<p>For more information on how the analysis works within InnoDB, see
<a href="https://mariadb.com/kb/en/innodb-limitations/#table-analysis">InnoDB Limitations</a>.</p>
<p>MariaDB uses the stored key distribution to decide the order in which
tables should be joined when you perform a join on something other than
a constant. In addition, key distributions can be used when deciding
which indexes to use for a specific table within a query.</p>
<p>This statement requires <a href="#grant">SELECT and INSERT privileges</a> for the table.</p>
<p>By default, ANALYZE TABLE statements are written to the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> and will be <a href="https://mariadb.com/kb/en/replication/">replicated</a>. The <code>NO_WRITE_TO_BINLOG</code> keyword (<code>LOCAL</code> is an alias) will ensure the statement is not written to the binary log. </p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-10319-release-notes/">MariaDB 10.3.19</a>, <code>ANALYZE TABLE</code> statements are not logged to the binary log if <a href="https://mariadb.com/kb/en/server-system-variables/#read_only">read_only</a> is set. See also <a href="https://mariadb.com/kb/en/read-only-replicas/">Read-Only Replicas</a>.</p>
<p><code>ANALYZE TABLE</code> is also supported for partitioned tables. You
can use <code><a href="#alter-table">ALTER TABLE</a> ... ANALYZE PARTITION</code> to analyze one or
more partitions.</p>
<p>The <a href="https://mariadb.com/kb/en/aria/">Aria</a> storage engine supports <a href="https://mariadb.com/kb/en/progress-reporting/">progress reporting</a> for the <code>ANALYZE TABLE</code> statement.</p>
<h2 class="anchored_heading" id="analyze-tableengine-independent-statistics">Engine-Independent Statistics</h2>
<p><code>ANALYZE TABLE</code> supports <a href="https://mariadb.com/kb/en/engine-independent-table-statistics/">engine-independent statistics</a>. See <a href="https://mariadb.com/kb/en/engine-independent-table-statistics/#collecting-statistics-with-the-analyze-table-statement">Engine-Independent Table Statistics: Collecting Statistics with the ANALYZE TABLE Statement</a> for more information.</p>
<h2 class="anchored_heading" id="analyze-tablesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/index-statistics/">Index Statistics</a>
</li><li><a href="https://mariadb.com/kb/en/innodb-persistent-statistics/">InnoDB Persistent Statistics</a>
</li><li><a href="https://mariadb.com/kb/en/progress-reporting/">Progress Reporting</a>
</li><li><a href="https://mariadb.com/kb/en/engine-independent-table-statistics/">Engine-independent Statistics</a>
</li><li><a href="https://mariadb.com/kb/en/histogram-based-statistics/">Histogram-based Statistics</a>
</li><li><a href="https://mariadb.com/kb/en/analyze-statement/">ANALYZE Statement</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st-overlaps">ST_OVERLAPS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_OVERLAPS(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> or <code>0</code> to indicate whether geometry <em><code>g1</code></em> spatially overlaps geometry <em><code>g2</code></em>.</p>
<p>The term spatially overlaps is used if two geometries intersect and their
intersection results in a geometry of the same dimension but not equal to
either of the given geometries.</p>
<p>ST_OVERLAPS() uses object shapes, while <a href="#overlaps">OVERLAPS()</a>, based on the original MySQL implementation, uses object bounding rectangles.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="touches">TOUCHES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">Touches(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> or <code>0</code> to indicate whether <code>g1</code> spatially touches <code>g2</code>. Two
geometries spatially touch if the interiors of the geometries do not intersect,
but the boundary of one of the geometries intersects either the boundary or the
interior of the other.</p>
<p>TOUCHES() is based on the original MySQL implementation and uses object bounding rectangles, while <a href="https://mariadb.com/kb/en/st_touches/">ST_TOUCHES()</a> uses object shapes.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="current_date">CURRENT_DATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CURRENT_DATE, CURRENT_DATE()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>CURRENT_DATE</code> and <code>CURRENT_DATE()</code> are synonyms for <a href="#curdate">CURDATE()</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="sql-commands-check-table">CHECK TABLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CHECK TABLE tbl_name [, tbl_name] ... [option] ...

option = {FOR UPGRADE | QUICK | FAST | MEDIUM | EXTENDED | CHANGED}
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>CHECK TABLE</code> checks a table or tables for errors. <code>CHECK TABLE</code> works for
<a href="https://mariadb.com/kb/en/archive/">Archive</a>, <a href="https://mariadb.com/kb/en/aria/">Aria</a>, <a href="https://mariadb.com/kb/en/csv/">CSV</a>, <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>, and <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> tables. For Aria and MyISAM tables, the
key statistics are updated as well. For CSV, see also <a href="https://mariadb.com/kb/en/checking-and-repairing-csv-tables/">Checking and Repairing CSV Tables</a>.</p>
<p>As an alternative, <a href="https://mariadb.com/kb/en/myisamchk/">myisamchk</a> is a commandline tool for checking MyISAM tables when the tables are not being accessed.</p>
<p>For checking <a href="https://mariadb.com/kb/en/dynamic-columns/">dynamic columns</a> integrity, <code><a href="https://mariadb.com/kb/en/dynamic-columns-in-mariadb-10/#column_check">COLUMN_CHECK()</a></code> can be used.</p>
<p><code>CHECK TABLE</code> can also check views for problems, such as tables
that are referenced in the view definition that no longer exist.</p>
<p><code>CHECK TABLE</code> is also supported for partitioned tables. You can
use <code class="highlight fixed" style="white-space:pre-wrap"><a href="#alter-table">ALTER TABLE</a> ... CHECK PARTITION</code> 
to check one or more partitions.</p>
<p>The meaning of the different options are as follows - note that this can vary a bit between
storage engines:</p>
<div class="cstm-style borders"><table><tr><td>FOR UPGRADE</td><td>Do a very quick check if the storage format for the table has changed so that one needs to do a REPAIR. This is only needed when one upgrades between major versions of MariaDB or MySQL. This is usually done by <a href="https://mariadb.com/kb/en/upgrading-to-mariadb-from-mysql/">running mysql_upgrade</a>.</td></tr>
<tr><td>FAST</td><td>Only check tables that has not been closed properly or are marked as corrupt. Only supported by the MyISAM and Aria engines. For other  engines the table is checked normally</td></tr>
<tr><td>CHANGED</td><td>Check only tables that has changed since last REPAIR / CHECK. Only supported by the MyISAM and Aria engines. For other  engines the table is checked normally.</td></tr>
<tr><td>QUICK</td><td>Do a fast check. For MyISAM and Aria engine this means we skip checking the delete link chain which may take some time.</td></tr>
<tr><td>MEDIUM</td><td>Scan also the data files. Checks integrity between data and index files with checksums. In most cases this should find all possible errors.</td></tr>
<tr><td>EXTENDED</td><td>Does a full check to verify every possible error. For MyISAM and Aria we verify for each row that all it keys exists and points to the row. This may take a long time on big tables!</td></tr>
</table>
</div><p>For most cases running <code>CHECK TABLE</code> without options or <code>MEDIUM</code> should be
good enough.</p>
<p>The <a href="https://mariadb.com/kb/en/aria/">Aria</a> storage engine supports <a href="https://mariadb.com/kb/en/progress-reporting/">progress reporting</a> for this statement.</p>
<p>If you want to know if two tables are identical, take a look
at <code class="highlight fixed" style="white-space:pre-wrap"><a href="#checksum-table">CHECKSUM TABLE</a></code>.</p>
<h2 class="anchored_heading" id="innodb">InnoDB</h2>
<p>If <code>CHECK TABLE</code> finds an error in an InnoDB table, MariaDB might shutdown to prevent the error propagation. In this case, the problem will be reported in the error log. Otherwise the table or an index might be marked as corrupted, to prevent use. This does not happen with some minor problems, like a wrong number of entries in a secondary index. Those problems are reported in the output of <code>CHECK TABLE</code>.</p>
<p>Each tablespace contains a header with metadata. This header is not checked by this statement.</p>
<p>During the execution of <code>CHECK TABLE</code>, other threads may be blocked.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="checksum-table">CHECKSUM TABLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="checksum-tablesyntax">Syntax</h2>
<pre class="fixed">CHECKSUM TABLE tbl_name [, tbl_name] ... [ QUICK | EXTENDED ]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#checksum-tablesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#checksum-tabledescription" title="Description">Description</a></li>
<li class=""><a href="#checksum-tabledifferences-between-mariadb-and-mysql" title="Differences Between MariaDB and MySQL">Differences Between MariaDB and MySQL</a> </li></ol>

</div>
<h2 class="anchored_heading" id="checksum-tabledescription">Description</h2>
<p><code class="fixed" style="white-space:pre-wrap">CHECKSUM TABLE</code> reports a table checksum.  This is very
useful if you want to know if two tables are the same (for example on a master
and slave).</p>
<p>With <code class="fixed" style="white-space:pre-wrap">QUICK</code>, the live table checksum is reported if it is
available, or <code class="fixed" style="white-space:pre-wrap">NULL</code> otherwise. This is very fast. A live
checksum is enabled by specifying the <code class="fixed" style="white-space:pre-wrap">CHECKSUM=1</code> table
option when you <a href="#create-table">create the table</a>; currently, this is supported
only for <a href="https://mariadb.com/kb/en/aria/">Aria</a> and <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> tables.</p>
<p>With <code class="fixed" style="white-space:pre-wrap">EXTENDED</code>, the entire table is read row by row and the
checksum is calculated. This can be very slow for large tables.</p>
<p>If neither <code class="fixed" style="white-space:pre-wrap">QUICK</code> nor <code class="fixed" style="white-space:pre-wrap">EXTENDED</code> is
specified, MariaDB returns a live checksum if the table storage engine supports
it and scans the table otherwise.</p>
<p><code>CHECKSUM TABLE</code> requires the <a ">SELECT privilege</a> for the table.</p>
<p>For a nonexistent table, <code class="fixed" style="white-space:pre-wrap">CHECKSUM TABLE</code> returns
<code class="fixed" style="white-space:pre-wrap">NULL</code> and generates a warning.</p>
<p>The table row format affects the checksum value. If the row format changes, the checksum will change. This means that when a table created with a MariaDB/MySQL version is upgraded to another version, the checksum value will probably change.</p>
<p>Two identical tables should always match to the same checksum value; however, also for non-identical tables there is a very slight chance that they will return the same value as the hashing algorithm is not completely collision-free.</p>
<h2 class="anchored_heading" id="checksum-tabledifferences-between-mariadb-and-mysql">Differences Between MariaDB and MySQL</h2>
<p><code class="fixed" style="white-space:pre-wrap">CHECKSUM TABLE</code> may give a different result as MariaDB doesn't
ignore <code class="fixed" style="white-space:pre-wrap">NULL</code>s in the columns as MySQL 5.1 does (Later MySQL
versions should calculate checksums the same way as MariaDB). You can get the
'old style' checksum in MariaDB by starting mysqld with the
<code class="fixed" style="white-space:pre-wrap">--old</code> option. Note however that that the MyISAM and Aria
storage engines in MariaDB are using the new checksum internally, so if you are
using <code class="fixed" style="white-space:pre-wrap">--old</code>, the <code class="fixed" style="white-space:pre-wrap">CHECKSUM</code> command will be
slower as it needs to calculate the checksum row by row.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="current_time">CURRENT_TIME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CURRENT_TIME
CURRENT_TIME([precision])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>CURRENT_TIME</code> and <code>CURRENT_TIME()</code> are synonyms for <code><a href="#curtime">CURTIME()</a></code>.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="current_timestamp">CURRENT_TIMESTAMP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CURRENT_TIMESTAMP
CURRENT_TIMESTAMP([precision])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>CURRENT_TIMESTAMP</code> and <code>CURRENT_TIMESTAMP()</code> are synonyms for <code><a href="#now">NOW()</a></code>.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a>
</li><li>The <a href="#timestamp">TIMESTAMP</a> data type</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="curtime">CURTIME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CURTIME([precision])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the current time as a value in 'HH:MM:SS' or HHMMSS.uuuuuu format, depending on whether the function is used in a string or numeric context. The value is expressed in the current <a href="https://mariadb.com/kb/en/time-zones/">time zone</a>.</p>
<p>The optional <em>precision</em> determines the microsecond precision. See <a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CURTIME</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="n">CURTIME</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">12</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">39</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="n">CURTIME</span><span class="p">()</span> <span class="o">+</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="n">CURTIME</span><span class="p">()</span> <span class="o">+</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="mi">124545</span><span class="p">.</span><span class="mi">000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
</pre><p>With precision:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CURTIME</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="n">CURTIME</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="mi">09</span><span class="p">:</span><span class="mi">49</span><span class="p">:</span><span class="mi">08</span><span class="p">.</span><span class="mi">09</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="date-function">DATE FUNCTION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DATE(expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Extracts the date part of the date or datetime expression expr.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="nb">DATE</span><span class="p">(</span><span class="s1">'2013-07-18 12:21:32'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="nb">DATE</span><span class="p">(</span><span class="s1">'2013-07-18 12:21:32'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">18</span>                  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
</pre><h2 class="anchored_heading" id="error-handling">Error Handling</h2>
<p>Until <a href="https://mariadb.com/kb/en/mariadb-5532-release-notes/">MariaDB 5.5.32</a>, some versions of MariaDB returned <code>0000-00-00</code> when passed an invalid date. From 5.5.32, NULL is returned.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="day">DAY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DAY(date)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>DAY()</code> is a synonym for <code><a href="#dayofmonth">DAYOFMONTH()</a></code>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="optimize-tableoptimize-table">OPTIMIZE TABLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="optimize-tablesyntax">Syntax</h2>
<pre class="fixed">OPTIMIZE [NO_WRITE_TO_BINLOG | LOCAL] TABLE
    tbl_name [, tbl_name] ...
    [WAIT n | NOWAIT]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_0"><a href="#optimize-tablesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_0"><a href="#optimize-tabledescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_3_0"><a href="#optimize-tablewaitnowait" title="WAIT/NOWAIT">WAIT/NOWAIT</a></li>
<li class="mariadb_from_10_3_0"><a href="#optimize-tabledefragmenting" title="Defragmenting">Defragmenting</a></li>
<li class="mariadb_from_10_3_0"><a href="#optimize-tableupdating-an-innodb-fulltext-index" title="Updating an InnoDB fulltext index">Updating an InnoDB fulltext index</a></li>
<li class="mariadb_from_10_3_0"><a href="#optimize-tabledefragmenting-innodb-tablespaces" title="Defragmenting InnoDB tablespaces">Defragmenting InnoDB tablespaces</a> </li></ol>
</li>
<li class="mariadb_from_10_3_0"><a href="#optimize-tablesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="optimize-tabledescription">Description</h2>
<p><code class="fixed" style="white-space:pre-wrap">OPTIMIZE TABLE</code> has two main functions. It can either be used to defragment tables, or to update the InnoDB fulltext index.</p>
<div class="mariadb_from_10_3_0 mariadb from_10_3_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">10.3.0</a></h5><h4 class="anchored_heading" id="optimize-tablewaitnowait">WAIT/NOWAIT</h4>
<p>Set the lock wait timeout. See <a href="#wait-and-nowait">WAIT and NOWAIT</a>.</p>
</div><h3 class="anchored_heading" id="optimize-tabledefragmenting">Defragmenting</h3>
<p><code>OPTIMIZE TABLE</code> works for <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a> (before <a href="https://mariadb.com/kb/en/mariadb-1011-release-notes/">MariaDB 10.1.1</a>, only if the <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_file_per_table">innodb_file_per_table</a> server system variable is set), <a href="https://mariadb.com/kb/en/aria/">Aria</a>, <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> and <a href="https://mariadb.com/kb/en/archive/">ARCHIVE</a> tables, and should be used if you have deleted a large part of a table or if you have made many changes to a table with variable-length
rows (tables that have <a href="#varchar">VARCHAR</a>, <a href="#varbinary">VARBINARY</a>, <a href="#blob">BLOB</a>, or <a href="#text">TEXT</a> columns).  Deleted rows are maintained in a
linked list and subsequent <code class="fixed" style="white-space:pre-wrap">INSERT</code> operations reuse old row positions.</p>
<p>This statement requires <a href="#grant">SELECT and INSERT privileges</a> for the table.</p>
<p>By default, <code>OPTIMIZE TABLE</code> statements are written to the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> and will be <a href="https://mariadb.com/kb/en/replication/">replicated</a>. The <code>NO_WRITE_TO_BINLOG</code> keyword (<code>LOCAL</code> is an alias) will ensure the statement is not written to the binary log.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-10319-release-notes/">MariaDB 10.3.19</a>, <code>OPTIMIZE TABLE</code> statements are not logged to the binary log if <a href="https://mariadb.com/kb/en/server-system-variables/#read_only">read_only</a> is set. See also <a href="https://mariadb.com/kb/en/read-only-replicas/">Read-Only Replicas</a>.</p>
<p><code class="fixed" style="white-space:pre-wrap">OPTIMIZE TABLE</code> is also supported for partitioned tables. You
can use 
<code class="highlight fixed" style="white-space:pre-wrap"><a href="#alter-table">ALTER TABLE</a> ... OPTIMIZE PARTITION</code> 
to optimize one or more partitions.</p>
<p>You can use <code class="fixed" style="white-space:pre-wrap">OPTIMIZE TABLE</code> to reclaim the unused
space and to defragment the data file. With other storage engines, <code>OPTIMIZE TABLE</code> does nothing by default, and returns this message: " The storage engine for the table doesn't support optimize". However, if the server has been started with the <code>--skip-new</code> option, <code>OPTIMIZE TABLE</code> is linked to <a href="#alter-table">ALTER TABLE</a>, and recreates the table. This operation frees the unused space and updates index statistics.</p>
<p>The <a href="https://mariadb.com/kb/en/aria/">Aria</a> storage engine supports <a href="https://mariadb.com/kb/en/progress-reporting/">progress reporting</a> for this statement.</p>
<p>If a <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> table is fragmented, <a href="#concurrent-inserts">concurrent inserts</a> will not be performed until an <code>OPTIMIZE TABLE</code> statement is executed on that table, unless the <a href="https://mariadb.com/kb/en/server-system-variables/#concurrent_insert">concurrent_insert</a> server system variable is set to <code>ALWAYS</code>.</p>
<h3 class="anchored_heading" id="optimize-tableupdating-an-innodb-fulltext-index">Updating an InnoDB fulltext index</h3>
<p>When rows are added or deleted to an InnoDB <a href="https://mariadb.com/kb/en/full-text-indexes/">fulltext index</a>, the index is not immediately re-organized, as this can be an expensive operation. Change statistics are stored in a separate location . The  fulltext index is only fully re-organized when an <code>OPTIMIZE TABLE</code> statement is run.</p>
<p>By default, an OPTIMIZE TABLE will defragment a table. In order to use it to update fulltext index statistics, the <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_optimize_fulltext_only">innodb_optimize_fulltext_only</a> system variable must be set to <code>1</code>. This is intended to be a temporary setting, and should be reset to <code>0</code> once the fulltext index has been re-organized.</p>
<p>Since fulltext re-organization can take a long time, the <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_ft_num_word_optimize">innodb_ft_num_word_optimize</a> variable limits the re-organization to a number of words (2000 by default).  You can run multiple OPTIMIZE statements to fully re-organize the index.</p>
<h3 class="anchored_heading" id="optimize-tabledefragmenting-innodb-tablespaces">Defragmenting InnoDB tablespaces</h3>
<p><a href="https://mariadb.com/kb/en/mariadb-1011-release-notes/">MariaDB 10.1.1</a> merged the Facebook/Kakao defragmentation patch, allowing one to use <code>OPTIMIZE TABLE</code> to defragment InnoDB tablespaces. For this functionality to be enabled, the <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_defragment">innodb_defragment</a> system variable must be enabled. No new tables are created and there is no need to copy data from old tables to new tables. Instead, this feature loads <code>n</code> pages (determined by <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_defragment_n_pages">innodb-defragment-n-pages</a>) and tries to move records so that pages would be full of records and then frees pages that are fully empty after the operation. Note that tablespace files (including ibdata1) will not shrink as the result of defragmentation, but one will get better memory utilization in the InnoDB buffer pool as there are fewer data pages in use.</p>
<p>See <a href="https://mariadb.com/kb/en/defragmenting-innodb-tablespaces/">Defragmenting InnoDB Tablespaces</a> for more details.</p>
<h2 class="anchored_heading" id="optimize-tablesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/innodb-online-ddl-operations-with-the-inplace-alter-algorithm/#optimize-table">Optimize Table in InnoDB with ALGORITHM set to INPLACE</a>
</li><li><a href="https://mariadb.com/kb/en/innodb-online-ddl-operations-with-the-nocopy-alter-algorithm/#optimize-table">Optimize Table in InnoDB with ALGORITHM set to NOCOPY</a>
</li><li><a href="https://mariadb.com/kb/en/innodb-online-ddl-operations-with-the-instant-alter-algorithm/#optimize-table">Optimize Table in InnoDB with ALGORITHM set to INSTANT</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="repair-table">REPAIR TABLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">REPAIR [NO_WRITE_TO_BINLOG | LOCAL] TABLE
    tbl_name [, tbl_name] ...
    [QUICK] [EXTENDED] [USE_FRM]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code class="fixed" style="white-space:pre-wrap">REPAIR TABLE</code> repairs a possibly corrupted table. By default,
it has the same effect as</p>
<pre class="fixed">myisamchk --recover tbl_name
</pre><p>or</p>
<pre class="fixed">aria_chk --recover tbl_name
</pre><p>See <a href="https://mariadb.com/kb/en/aria_chk/">aria_chk</a> and <a href="https://mariadb.com/kb/en/myisamchk/">myisamchk</a> for more.</p>
<p><code class="fixed" style="white-space:pre-wrap">REPAIR TABLE</code> works for <a href="https://mariadb.com/kb/en/archive/">Archive</a>, <a href="https://mariadb.com/kb/en/aria/">Aria</a>, <a href="https://mariadb.com/kb/en/csv/">CSV</a> and <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> tables. For <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>, see <a href="https://mariadb.com/kb/en/innodb-recovery-modes/">recovery modes</a>. For CSV, see also <a href="https://mariadb.com/kb/en/checking-and-repairing-csv-tables/">Checking and Repairing CSV Tables</a>. For Archive, this statement also improves compression. If the storage engine does not support this statement, a warning is issued.</p>
<p>This statement requires <a href="#grant">SELECT and INSERT privileges</a> for the table.</p>
<p>By default, <code>REPAIR TABLE</code> statements are written to the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> and will be <a href="https://mariadb.com/kb/en/replication/">replicated</a>. The <code>NO_WRITE_TO_BINLOG</code> keyword (<code>LOCAL</code> is an alias) will ensure the statement is not written to the binary log.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-10319-release-notes/">MariaDB 10.3.19</a>, <code>REPAIR TABLE</code> statements are not logged to the binary log if <a href="https://mariadb.com/kb/en/server-system-variables/#read_only">read_only</a> is set. See also <a href="https://mariadb.com/kb/en/read-only-replicas/">Read-Only Replicas</a>.</p>
<p>When an index is recreated, the storage engine may use a configurable buffer in the process. Incrementing the buffer speeds up the index creation. <a href="https://mariadb.com/kb/en/aria/">Aria</a> and <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> allocate a buffer whose size is defined by <code><a href="https://mariadb.com/kb/en/aria-server-system-variables/#aria_sort_buffer_size">aria_sort_buffer_size</a></code> or <code><a href="https://mariadb.com/kb/en/myisam-server-system-variables/#myisam_sort_buffer_size">myisam_sort_buffer_size</a></code>, also used for <code><a href="#alter-table">ALTER TABLE</a></code>.</p>
<p><code class="fixed" style="white-space:pre-wrap">REPAIR TABLE</code> is also supported for partitioned tables.
However, the <code class="fixed" style="white-space:pre-wrap">USE_FRM</code> option cannot be used with this statement
on a partitioned table.</p>
<p> <code class="highlight fixed" style="white-space:pre-wrap"><a href="#alter-table">ALTER TABLE ... REPAIR PARTITION</a></code> can be used
to repair one or more partitions.</p>
<p>The <a href="https://mariadb.com/kb/en/aria/">Aria</a> storage engine supports <a href="https://mariadb.com/kb/en/progress-reporting/">progress reporting</a> for this statement.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="dayofyear">DAYOFYEAR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DAYOFYEAR(date)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the day of the year for date, in the range 1 to 366.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">DAYOFYEAR</span><span class="p">(</span><span class="s1">'2018-02-16'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">DAYOFYEAR</span><span class="p">(</span><span class="s1">'2018-02-16'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span>                      <span class="mi">47</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="from_days">FROM_DAYS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">FROM_DAYS(N)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Given a day number N, returns a DATE value. The day count is based on the number of days from the start of the standard calendar (0000-00-00). </p>
<p>The function is not designed for use with dates before the advent of the Gregorian calendar in October 1582. Results will not be reliable since it doesn't account for the lost days when the calendar changed from the Julian calendar.</p>
<p>This is the converse of the <a href="#to_days">TO_DAYS()</a> function.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">FROM_DAYS</span><span class="p">(</span><span class="mi">730669</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">FROM_DAYS</span><span class="p">(</span><span class="mi">730669</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="mi">2000</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">03</span>        <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="localtime">LOCALTIME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LOCALTIME
LOCALTIME([precision])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>LOCALTIME</code> and <code>LOCALTIME()</code> are synonyms for <code><a href="#now">NOW()</a></code>.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="localtimestamp">LOCALTIMESTAMP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LOCALTIMESTAMP
LOCALTIMESTAMP([precision])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>LOCALTIMESTAMP</code> and <code>LOCALTIMESTAMP()</code> are synonyms for <code><a href="#now">NOW()</a></code>.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="minute">MINUTE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MINUTE(time)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the minute for <em>time</em>, in the range 0 to 59. </p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">MINUTE</span><span class="p">(</span><span class="s1">'2013-08-03 11:04:03'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="k">MINUTE</span><span class="p">(</span><span class="s1">'2013-08-03 11:04:03'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span>                             <span class="mi">4</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>

 <span class="k">SELECT</span> <span class="k">MINUTE</span> <span class="p">(</span><span class="s1">'23:12:50'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="k">MINUTE</span> <span class="p">(</span><span class="s1">'23:12:50'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span>                  <span class="mi">12</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="repair-view">REPAIR VIEW</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="repair-viewsyntax">Syntax</h2>
<pre class="fixed">REPAIR [NO_WRITE_TO_BINLOG | LOCAL] VIEW  view_name[, view_name] ... [FROM MYSQL]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#repair-viewsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#repair-viewdescription" title="Description">Description</a></li>
<li class=""><a href="#repair-viewsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="repair-viewdescription">Description</h2>
<p>The <code>REPAIR VIEW</code> statement was introduced to assist with fixing <a href="https://jira.mariadb.org/browse/MDEV-6916">MDEV-6916</a>, an issue introduced in <a href="https://mariadb.com/kb/en/what-is-mariadb-52/">MariaDB 5.2</a> where the view algorithms were swapped compared to their MySQL on disk representation. It checks whether the view algorithm is correct. It is run as part of <a href="https://mariadb.com/kb/en/mysql_upgrade/">mysql_upgrade</a>, and should not normally be required in regular use.</p>
<p>By default it corrects the checksum and if necessary adds the mariadb-version field. If the optional <code>FROM MYSQL</code> clause is used, and no mariadb-version field is present, the MERGE and TEMPTABLE algorithms are toggled.</p>
<p>By default, <code>REPAIR VIEW</code> statements are written to the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> and will be <a href="https://mariadb.com/kb/en/replication/">replicated</a>. The <code>NO_WRITE_TO_BINLOG</code> keyword (<code>LOCAL</code> is an alias) will ensure the statement is not written to the binary log.</p>
<h2 class="anchored_heading" id="repair-viewsee-also">See Also</h2>
<ul start="1"><li><a href="#check-view">CHECK VIEW</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-function-udf">CREATE FUNCTION UDF</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="create-function-udfsyntax">Syntax</h2>
<pre class="fixed">CREATE [OR REPLACE] [AGGREGATE] FUNCTION [IF NOT EXISTS] function_name
    RETURNS {STRING|INTEGER|REAL|DECIMAL}
    SONAME shared_library_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_4"><a href="#create-function-udfsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_4"><a href="#create-function-udfdescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_4"><a href="#create-function-udfreturns" title="RETURNS">RETURNS</a></li>
<li class="mariadb_from_10_4"><a href="#create-function-udfshared_library_name" title="create-function-udfshared_library_name">shared_library_name</a></li>
<li class="mariadb_from_10_4"><a href="#create-function-udfaggregate" title="AGGREGATE">AGGREGATE</a></li>
<li class="mariadb_from_10_4"><a href="#create-function-udfor-replace" title="OR REPLACE">OR REPLACE</a></li>
<li class="mariadb_from_10_4"><a href="#create-function-udfif-not-exists" title="IF NOT EXISTS">IF NOT EXISTS</a></li>
<li class="mariadb_from_10_4"><a href="#create-function-udfupgrading-a-udf" title="Upgrading a UDF">Upgrading a UDF</a></li>
<li class="mariadb_from_10_4"><a href="#create-function-udfexamples" title="Examples">Examples</a> </li></ol>
</li>
<li class="mariadb_from_10_4"><a href="#create-function-udfsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-function-udfdescription">Description</h2>
<p>A user-defined function (UDF) is a way to extend MariaDB with a new function
that works like a native (built-in) MariaDB function such as <a href="#abs">ABS()</a> or
<a href="#concat">CONCAT()</a>.</p>
<p><code>function_name</code> is the name that should be used in SQL statements to invoke
the function. </p>
<p>To create a function, you must have the <a href="#grant">INSERT privilege</a> for the
mysql database. This is necessary because<code>CREATE FUNCTION</code> adds a row to the
<a href="#mysqlfunc-table">mysql.func system table</a> that records the function's name,
type, and shared library name. If you do not have this table, you should run
the <a href="https://mariadb.com/kb/en/mysql_upgrade/">mysql_upgrade</a> command to create it.</p>
<p>UDFs need to be written in C, C++ or another language that uses C calling
conventions, MariaDB needs to have been dynamically compiled, and your
operating system must support dynamic loading.</p>
<p>For an example, see <code>sql/udf_example.cc</code> in the source tree. For a collection of existing UDFs see <a href="http://www.mysqludf.org/">http://www.mysqludf.org/</a>.</p>
<p>Statements making use of user-defined functions are not
<a href="https://mariadb.com/kb/en/unsafe-statements-for-replication/">safe for replication</a>.</p>
<p>For creating a stored function as opposed to a user-defined function, see
<a href="#create-function">CREATE FUNCTION</a>.</p>
<p>For valid identifiers to use as function names, see <a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>.</p>
<h4 class="anchored_heading" id="create-function-udfreturns">RETURNS</h4>
<p>The <code>RETURNS</code> clause indicates the type of the function's
return value, and can be one of <a href="string">STRING</a>, <a href="https://mariadb.com/kb/en/integer/">INTEGER</a>, <a href="real">REAL</a> or <a href="#decimal">DECIMAL</a>. <code>DECIMAL</code> functions currently return string values and should be written like <a href="https://mariadb.com/kb/en/string-data-types/">STRING</a> functions.</p>
<h4 class="anchored_heading" id="create-function-udfshared_library_name">shared_library_name</h4>
<p><code>shared_library_name</code> is the basename of the shared object file that contains
the code that implements the function. The file must be located in the plugin
directory. This directory is given by the value of the
<a href="https://mariadb.com/kb/en/server-system-variables/#plugin_dir">plugin_dir</a> system variable. Note that
before MariaDB/MySQL 5.1, the shared object could be located in any directory
that was searched by your system's dynamic linker.</p>
<h4 class="anchored_heading" id="create-function-udfaggregate">AGGREGATE</h4>
<p>Aggregate functions are summary functions such as <a href="#sum">SUM()</a> and
<a href="#avg">AVG()</a>.</p>
<div class="mariadb_from_10_4 mariadb from_10_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">10.4</a></h5><p>Aggregate UDF functions can be used as <a href="https://mariadb.com/kb/en/window-functions/">window functions</a>.</p>
</div><h4 class="anchored_heading" id="create-function-udfor-replace">OR REPLACE</h4>
<div class="mariadb_from_10_1_3 mariadb from_10_1_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1013-release-notes/">10.1.3</a></h5><p>The <code>OR REPLACE</code> clause was added in <a href="https://mariadb.com/kb/en/mariadb-1013-release-notes/">MariaDB 10.1.3</a></p>
</div><p>If the optional <code>OR REPLACE</code> clause is used, it acts as a shortcut for:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="n">FUNCTION</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">function_name</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="n">FUNCTION</span> <span class="n">name</span> <span class="p">...;</span>
</pre><h4 class="anchored_heading" id="create-function-udfif-not-exists">IF NOT EXISTS</h4>
<div class="mariadb_from_10_1_3 mariadb from_10_1_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1013-release-notes/">10.1.3</a></h5><p>The <code>IF NOT EXISTS</code> clause was added in <a href="https://mariadb.com/kb/en/mariadb-1013-release-notes/">MariaDB 10.1.3</a></p>
</div><p>When the IF NOT EXISTS clause is used, MariaDB will return a warning instead of an error if the specified function already exists. Cannot be used together with OR REPLACE.</p>
<h3 class="anchored_heading" id="create-function-udfupgrading-a-udf">Upgrading a UDF</h3>
<p>To upgrade the UDF's shared library, first run a
<a href="#drop-function">DROP FUNCTION</a> statement, then upgrade the shared library and
finally run the CREATE FUNCTION statement. If you upgrade without following
this process, you may crash the server.</p>
<h3 class="anchored_heading" id="create-function-udfexamples">Examples</h3>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">FUNCTION</span> <span class="n">jsoncontains_path</span> <span class="k">RETURNS</span> <span class="nb">integer</span> <span class="n">SONAME</span> <span class="s1">'ha_connect.so'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>OR REPLACE and IF NOT EXISTS:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">FUNCTION</span> <span class="n">jsoncontains_path</span> <span class="k">RETURNS</span> <span class="nb">integer</span> <span class="n">SONAME</span> <span class="s1">'ha_connect.so'</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1125</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="k">Function</span> <span class="s1">'jsoncontains_path'</span> <span class="n">already</span> <span class="k">exists</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">FUNCTION</span> <span class="n">jsoncontains_path</span> <span class="k">RETURNS</span> <span class="nb">integer</span> <span class="n">SONAME</span> <span class="s1">'ha_connect.so'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">CREATE</span> <span class="k">FUNCTION</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">jsoncontains_path</span> <span class="k">RETURNS</span> <span class="nb">integer</span> <span class="n">SONAME</span> <span class="s1">'ha_connect.so'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+---------------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                     <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+---------------------------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1125</span> <span class="o">|</span> <span class="k">Function</span> <span class="s1">'jsoncontains_path'</span> <span class="n">already</span> <span class="k">exists</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+---------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="create-function-udfsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>
</li><li><a href="#drop-function">DROP FUNCTION</a>
</li><li><a href="#create-function">CREATE FUNCTION</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="month">MONTH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MONTH(date)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the month for <code>date</code> in the range 1 to 12 for January to
December, or 0 for dates such as '0000-00-00' or '2008-00-00' that
have a zero month part.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">MONTH</span><span class="p">(</span><span class="s1">'2019-01-03'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="k">MONTH</span><span class="p">(</span><span class="s1">'2019-01-03'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span>                   <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>

<span class="k">SELECT</span> <span class="k">MONTH</span><span class="p">(</span><span class="s1">'2019-00-03'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="k">MONTH</span><span class="p">(</span><span class="s1">'2019-00-03'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span>                   <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="monthname">MONTHNAME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MONTHNAME(date)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the full name of the month for date. The language used for the name is controlled by the value of the <a href="https://mariadb.com/kb/en/server-system-variables/#lc_time_names">lc_time_names</a> system variable. See <a href="https://mariadb.com/kb/en/server-locale/">server locale</a> for more on the supported locales.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">MONTHNAME</span><span class="p">(</span><span class="s1">'2019-02-03'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">MONTHNAME</span><span class="p">(</span><span class="s1">'2019-02-03'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">February</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
</pre><p>Changing the locale:</p>
<pre class="fixed"><span class="k">SET</span> <span class="n">lc_time_names</span> <span class="o">=</span> <span class="s1">'fr_CA'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">MONTHNAME</span><span class="p">(</span><span class="s1">'2019-05-21'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">MONTHNAME</span><span class="p">(</span><span class="s1">'2019-05-21'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">mai</span>                     <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="quarter">QUARTER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">QUARTER(date)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the quarter of the year for <code>date</code>, in the range 1 to 4. Returns 0 if month contains a zero value, or <code>NULL</code> if the given value is not otherwise a valid date (zero values are accepted).</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">QUARTER</span><span class="p">(</span><span class="s1">'2008-04-01'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">QUARTER</span><span class="p">(</span><span class="s1">'2008-04-01'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                     <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>

<span class="k">SELECT</span> <span class="n">QUARTER</span><span class="p">(</span><span class="s1">'2019-00-01'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">QUARTER</span><span class="p">(</span><span class="s1">'2019-00-01'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                     <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="second">SECOND</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SECOND(time)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the second for a given <code>time</code> (which can include <a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">microseconds</a>), in the range 0 to 59, or <code>NULL</code> if not given a valid time value.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">SECOND</span><span class="p">(</span><span class="s1">'10:05:03'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="k">SECOND</span><span class="p">(</span><span class="s1">'10:05:03'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span>                  <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SELECT</span> <span class="k">SECOND</span><span class="p">(</span><span class="s1">'10:05:01.999999'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="k">SECOND</span><span class="p">(</span><span class="s1">'10:05:01.999999'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span>                         <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-function-udf">DROP FUNCTION UDF</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="drop-function-udfsyntax">Syntax</h2>
<pre class="fixed">DROP FUNCTION [IF EXISTS] function_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#drop-function-udfsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#drop-function-udfdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#drop-function-udfupgrading-a-udf" title="Upgrading a UDF">Upgrading a UDF</a> </li></ol>
</li>
<li class=""><a href="#drop-function-udfexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="drop-function-udfdescription">Description</h2>
<p>This statement drops the <a href="https://mariadb.com/kb/en/user-defined-functions/">user-defined function</a> (UDF) named <code class="highlight fixed" style="white-space:pre-wrap">function_name</code>.</p>
<p>To drop a function, you must have the <code class="highlight fixed" style="white-space:pre-wrap"><a href="#grant">DELETE privilege</a></code> for the mysql database. This is because <code class="highlight fixed" style="white-space:pre-wrap">DROP FUNCTION</code> removes the row from the <a href="#mysqlfunc-table">mysql.func</a> system table that records the function's name, type and shared library name.</p>
<p>For dropping a stored function, see <a href="#drop-function">DROP FUNCTION</a>.</p>
<h3 class="anchored_heading" id="drop-function-udfupgrading-a-udf">Upgrading a UDF</h3>
<p>To upgrade the UDF's shared library, first run a <a href="#drop-function">DROP FUNCTION</a> statement, then upgrade the shared library and finally run the CREATE FUNCTION statement. If you upgrade without following this process, you may crash the server.</p>
<h2 class="anchored_heading" id="drop-function-udfexamples">Examples</h2>
<pre class="fixed"><span class="k">DROP</span> <span class="k">FUNCTION</span> <span class="n">jsoncontains_path</span><span class="p">;</span>
</pre><p>IF EXISTS:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="k">FUNCTION</span> <span class="n">jsoncontains_path</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1305</span> <span class="p">(</span><span class="mi">42000</span><span class="p">):</span> <span class="k">FUNCTION</span> <span class="n">test</span><span class="p">.</span><span class="n">jsoncontains_path</span> <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span>

<span class="k">DROP</span> <span class="k">FUNCTION</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">jsoncontains_path</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+------------------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                        <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1305</span> <span class="o">|</span> <span class="k">FUNCTION</span> <span class="n">test</span><span class="p">.</span><span class="n">jsoncontains_path</span> <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="creating-user-defined-functions">Creating User-Defined Functions</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#creating-user-defined-functionssimple-functions" title="Simple Functions">Simple Functions</a> <ol class="toc">
<li class=""><a href="#creating-user-defined-functionsx" title="x()">x()</a></li>
<li class=""><a href="#creating-user-defined-functionsx_init" title="x_init()">x_init()</a></li>
<li class=""><a href="#creating-user-defined-functionsx_deinit" title="x_deinit()">x_deinit()</a></li>
<li class=""><a href="#creating-user-defined-functionsdescription" title="Description">Description</a> </li></ol>
</li>
<li class=""><a href="#creating-user-defined-functionsaggregate-functions" title="Aggregate Functions">Aggregate Functions</a> <ol class="toc">
<li class=""><a href="#creating-user-defined-functionsx_clear" title="x_clear()">x_clear()</a></li>
<li class=""><a href="#creating-user-defined-functionsx_add" title="x_add()">x_add()</a></li>
<li class=""><a href="#creating-user-defined-functionsx_remove" title="x_remove()">x_remove()</a></li>
<li class=""><a href="#creating-user-defined-functionsdescription" title="Description">Description</a> </li></ol>
</li>
<li class=""><a href="#creating-user-defined-functionsexamples" title="Examples">Examples</a></li>
<li class=""><a href="#creating-user-defined-functionssee-also" title="See Also">See Also</a> </li></ol>

</div>
<p><a href="https://mariadb.com/kb/en/user-defined-functions/">User-defined functions</a> allow MariaDB to be extended with a new function that works like a native (built-in) MariaDB function such as <a href="#abs">ABS()</a> or <a href="#concat">CONCAT()</a>. There are alternative ways to add a new function: writing a native function (which requires modifying and compiling the server source code), or writing a stored function.</p>
<p>Statements making use of user-defined functions are not safe for replication.</p>
<p>Functions are written in C or C++, and to make use of them, the operating system must support dynamic loading. </p>
<p>Each new SQL function requires corresponding functions written in C/C++. In the list below, at least the main function - x() - and one other, are required. <em>x</em> should be replaced by the name of the function you are creating.</p>
<p>All functions need to be thread-safe, so not global or static variables that change can be allocated. Memory is allocated in <em>x_init()/ and freed in </em>x_deinit()<em>. </em></p>
<h2 class="anchored_heading" id="creating-user-defined-functionssimple-functions">Simple Functions</h2>
<h3 class="anchored_heading" id="creating-user-defined-functionsx">x()</h3>
<p>Required for all UDFs; this is where the results are calculated.</p>
<p><span class="cstm-style darkheader-nospace-borders"></span></p>
<table><tr><th>C/C++ type</th><th>SQL type</th></tr>
<tr><td>char *</td><td><a href="https://mariadb.com/kb/en/string-data-types/">STRING</a></td></tr>
<tr><td>long long</td><td><a href="https://mariadb.com/kb/en/integer/">INTEGER</a></td></tr>
<tr><td>double</td><td><a href="https://mariadb.com/kb/en/data-types-numeric-data-types/">REAL</a></td></tr>
</table>
<p><span class="cstm-style"></span></p>
<p>DECIMAL functions return string values, and so should be written accordingly. It is not possible to create ROW functions.</p>
<h3 class="anchored_heading" id="creating-user-defined-functionsx_init">x_init()</h3>
<p>Initialization function for x(). Can be used for the following:</p>
<ul start="1"><li>Check the number of arguments to X() (the SQL equivalent).
</li><li>Verify the argument types, or to force arguments to be of a particular type after the function is called.
</li><li>Specify whether the result can be NULL.
</li><li>Specify the maximum result length.
</li><li>For REAL functions, specify the maximum number of decimals for the result.
</li><li>Allocate any required memory.
</li></ul>
<h3 class="anchored_heading" id="creating-user-defined-functionsx_deinit">x_deinit()</h3>
<p>De-initialization function for x(). Used to de-allocate memory that was allocated in x_init().</p>
<h3 class="anchored_heading" id="creating-user-defined-functionsdescription">Description</h3>
<p>Each time the SQL function <em>X()</em> is called:</p>
<ul start="1"><li>MariaDB will first call the C/C++ initialization function, <em>x_init()</em>, assuming it exists. All setup will be performed, and if it returns an error, the SQL statement is aborted and no further functions are called.
</li><li>If there is no <em>x_init()</em> function, or it has been called and did not return an error, <em>x()</em> is then called once per row.
</li><li>After all rows have finished processing, <em>x_deinit()</em> is called, if present, to clean up by de-allocating any memory that was allocated in <em>x_init()</em>.
</li><li>See <a href="#user-defined-functions-calling-sequences">User-defined Functions Calling Sequences</a> for more details on the functions.
</li></ul>
<h2 class="anchored_heading" id="creating-user-defined-functionsaggregate-functions">Aggregate Functions</h2>
<p>The following functions are required for aggregate functions, such as <a href="#avg">AVG()</a> and <a href="#sum">SUM()</a>. When using <a href="#create-function-udf">CREATE FUNCTION</a>, the  <a ">AGGREGATE</a> keyword is required.</p>
<h3 class="anchored_heading" id="creating-user-defined-functionsx_clear">x_clear()</h3>
<p>Used to reset the current aggregate, but without inserting the argument as the initial aggregate value for the new group.</p>
<h3 class="anchored_heading" id="creating-user-defined-functionsx_add">x_add()</h3>
<p>Used to add the argument to the current aggregate. </p>
<h3 class="anchored_heading" id="creating-user-defined-functionsx_remove">x_remove()</h3>
<p>Starting from <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>, improves the support of <a href="https://mariadb.com/kb/en/window-functions/">window functions</a> (so it is not obligatory to add it) and should remove the argument from the current aggregate.</p>
<h3 class="anchored_heading" id="creating-user-defined-functionsdescription">Description</h3>
<p>Each time the aggregate SQL function <em>X()</em> is called:</p>
<ul start="1"><li>MariaDB will first call the C/C++ initialization function, <em>x_init()</em>, assuming it exists. All setup will be performed, and if it returns an error, the SQL statement is aborted and no further functions are called.
</li><li>If there is no <em>x_init()</em> function, or it has been called and did not return an error, <em>x()</em> is then called once per row.
</li><li>After all rows have finished processing, <em>x_deinit()</em> is called, if present, to clean up by de-allocating any memory that was allocated in <em>x_init()</em>.
</li></ul>
<ul start="1"><li>MariaDB will first call the C/C++ initialization function, <em>x_init()</em>, assuming it exists. All setup will be performed, and if it returns an error, the SQL statement is aborted and no further functions are called.
</li><li>The table is sorted according to the <a href="#group-by">GROUP BY</a> expression.
</li><li><em>x_clear()</em> is called for the first row of each new group.
</li><li><em>x_add()</em> is called once per row for each row in the same group.
</li><li><em>x()</em> is called when the group changes, or after the last row, to get the aggregate result. 
</li><li>The latter three steps are repeated until all rows have been processed.
</li><li>After all rows have finished processing, <em>x_deinit()</em> is called, if present, to clean up by de-allocating any memory that was allocated in <em>x_init()</em>.
</li></ul>
<h2 class="anchored_heading" id="creating-user-defined-functionsexamples">Examples</h2>
<p>For an example, see <code>sql/udf_example.cc</code> in the source tree. For a collection of existing UDFs see <a href="https://github.com/mysqludf">https://github.com/mysqludf</a>.</p>
<h2 class="anchored_heading" id="creating-user-defined-functionssee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/stored-functions/">Stored Functions</a>
</li><li><a href="#stored-aggregate-functions">Stored Aggregate Functions</a>
</li><li><a href="#user-defined-functions-calling-sequences">User-defined Functions Calling Sequences</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="time-function">TIME Function</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">TIME(expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Extracts the time part of the time or datetime expression <code>expr</code> and
returns it as a string.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">TIME</span><span class="p">(</span><span class="s1">'2003-12-31 01:02:03'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="n">TIME</span><span class="p">(</span><span class="s1">'2003-12-31 01:02:03'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="mi">01</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">03</span>                    <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>

<span class="k">SELECT</span> <span class="n">TIME</span><span class="p">(</span><span class="s1">'2003-12-31 01:02:03.000123'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">TIME</span><span class="p">(</span><span class="s1">'2003-12-31 01:02:03.000123'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="mi">01</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">03</span><span class="p">.</span><span class="mi">000123</span>                    <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="time_format">TIME_FORMAT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">TIME_FORMAT(time,format)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This is used like the <a href="#date_format">DATE_FORMAT()</a> function, but the format string
may contain format specifiers only for hours, minutes, and seconds.
Other specifiers produce a NULL value or 0.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">TIME_FORMAT</span><span class="p">(</span><span class="s1">'100:00:00'</span><span class="p">,</span> <span class="s1">'%H %k %h %I %l'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
<span class="o">|</span> <span class="n">TIME_FORMAT</span><span class="p">(</span><span class="s1">'100:00:00'</span><span class="p">,</span> <span class="s1">'%H %k %h %I %l'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
<span class="o">|</span> <span class="mi">100</span> <span class="mi">100</span> <span class="mi">04</span> <span class="mi">04</span> <span class="mi">4</span>                            <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="user-defined-functions-calling-sequences">User-Defined Functions Calling Sequences</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#user-defined-functions-calling-sequencessimple-functions" title="Simple Functions">Simple Functions</a> <ol class="toc">
<li class=""><a href="#user-defined-functions-calling-sequencesx" title="x()">x()</a></li>
<li class=""><a href="#user-defined-functions-calling-sequencesx_init" title="x_init()">x_init()</a></li>
<li class=""><a href="#user-defined-functions-calling-sequencesx_deinit" title="x_deinit()">x_deinit()</a></li>
<li class=""><a href="#user-defined-functions-calling-sequencesdescription" title="Description">Description</a> </li></ol>
</li>
<li class=""><a href="#user-defined-functions-calling-sequencesaggregate-functions" title="Aggregate Functions">Aggregate Functions</a> <ol class="toc">
<li class=""><a href="#user-defined-functions-calling-sequencesx_clear" title="x_clear()">x_clear()</a></li>
<li class=""><a href="#user-defined-functions-calling-sequencesx_reset" title="x_reset()">x_reset()</a></li>
<li class=""><a href="#user-defined-functions-calling-sequencesx_add" title="x_add()">x_add()</a></li>
<li class=""><a href="#user-defined-functions-calling-sequencesx_remove" title="x_remove()">x_remove()</a> </li></ol>
</li></ol>

</div>
<p>The functions described in <a href="#creating-user-defined-functions">Creating User-defined Functions</a> are expanded on this page. They are declared as follows:</p>
<h2 class="anchored_heading" id="user-defined-functions-calling-sequencessimple-functions">Simple Functions</h2>
<h3 class="anchored_heading" id="user-defined-functions-calling-sequencesx">x()</h3>
<p>If x() returns an integer, it is declared as follows:</p>
<pre class="fixed">long long x(UDF_INIT *initid, UDF_ARGS *args,
              char *is_null, char *error);
</pre><p>If x() returns a string (DECIMAL functions also return string values), it is declared as follows:</p>
<pre class="fixed">char *x(UDF_INIT *initid, UDF_ARGS *args,
          char *result, unsigned long *length,
          char *is_null, char *error);
</pre><p>If x() returns a real, it is declared as follows:</p>
<pre class="fixed">double x(UDF_INIT *initid, UDF_ARGS *args,
              char *is_null, char *error);
</pre><h3 class="anchored_heading" id="user-defined-functions-calling-sequencesx_init">x_init()</h3>
<pre class="fixed">my_bool x_init(UDF_INIT *initid, UDF_ARGS *args, char *message);
</pre><h3 class="anchored_heading" id="user-defined-functions-calling-sequencesx_deinit">x_deinit()</h3>
<pre class="fixed">void x_deinit(UDF_INIT *initid);
</pre><h3 class="anchored_heading" id="user-defined-functions-calling-sequencesdescription">Description</h3>
<p><em>initid</em> is a parameter passed to all three functions that points to a <em>UDF_INIT</em> structure, used for communicating information between the functions. Its structure members are:</p>
<ul start="1"><li>my_bool maybe_null
<ul start="1"><li><em>maybe_null</em> should be set to <em>1</em> if x_init can return a NULL value, Defaults to <em>1</em> if any arguments are declared <em>maybe_null</em>.
</li></ul>
</li><li>unsigned int decimals
<ul start="1"><li>Number of decimals after the decimal point. The default, if an explicit number of decimals is passed in the arguments to the main function, is the maximum number of decimals, so if <em>9.5</em>, <em>9.55</em> and <em>9.555</em> are passed to the function, the default would be three (based on <em>9.555</em>, the maximum).  If there are no explicit number of decimals, the default is set to 31, or one more than the maximum for the DOUBLE, FLOAT and DECIMAL types. This default can be changed in the function to suit the actual calculation.
</li></ul>
</li><li>unsigned int max_length
<ul start="1"><li>Maximum length of the result. For integers, the default is 21. For strings, the length of the longest argument. For reals, the default is 13 plus the number of decimals indicated by <em>initid-&gt;decimals</em>. The length includes any signs or decimal points. Can also be set to 65KB or 16MB in order to return a BLOB. The memory remains unallocated, but this is used to decide on the data type to use if the data needs to be temporarily stored.
</li></ul>
</li><li>char *ptr
<ul start="1"><li>A pointer for use as required by the function. Commonly, <em>initid-&gt;ptr</em> is used to communicate allocated memory, with <em>x_init()</em> allocating the memory and assigning it to this pointer, <em>x()</em> using it, and <em>x_deinit()</em> de-allocating it.
</li></ul>
</li><li>my_bool const_item
<ul start="1"><li>Should be set to <em>1</em> in <em>x_init()</em> if <em>x()</em> always returns the same value, otherwise <em>0</em>.
</li></ul>
</li></ul>
<h2 class="anchored_heading" id="user-defined-functions-calling-sequencesaggregate-functions">Aggregate Functions</h2>
<h3 class="anchored_heading" id="user-defined-functions-calling-sequencesx_clear">x_clear()</h3>
<p><em>x_clear()</em> is a required function for aggregate functions, and is declared as follows:</p>
<pre class="fixed">void x_clear(UDF_INIT *initid, char *is_null, char *error);
</pre><p>It is called when the summary results need to be reset, that is at the beginning of each new group. but also to reset the values when there were no matching rows.</p>
<p><em>is_null</em> is set to point to CHAR(0) before calling x_clear().</p>
<p>In the case of an error, you can store the value to which the error argument points (a single-byte variable, not a string string buffer) in the variable.</p>
<h3 class="anchored_heading" id="user-defined-functions-calling-sequencesx_reset">x_reset()</h3>
<p><em>x_reset()</em> is declared as follows:</p>
<pre class="fixed">void x_reset(UDF_INIT *initid, UDF_ARGS *args,
               char *is_null, char *error);
</pre><p>It is called on finding the first row in a new group. Should reset the summary variables, and then use <em>UDF_ARGS</em> as the first value in the group's internal summary value. The function is not required if the UDF interface uses <em>x_clear()</em>.</p>
<h3 class="anchored_heading" id="user-defined-functions-calling-sequencesx_add">x_add()</h3>
<p><em>x_add()</em> is declared as follows:</p>
<pre class="fixed">void x_add(UDF_INIT *initid, UDF_ARGS *args,
             char *is_null, char *error);
</pre><p>It is called for all rows belonging to the same group, and should be used to add the value in <em>UDF_ARGS</em> to the internal summary variable.</p>
<h3 class="anchored_heading" id="user-defined-functions-calling-sequencesx_remove">x_remove()</h3>
<p><em>x_remove()</em> was added in <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> and is declared as follows (same as <em>x_add()</em>):</p>
<pre class="fixed">void x_remove(UDF_INIT* initid, UDF_ARGS* args,
               char* is_null, char *error );
</pre><p>It adds more efficient support of aggregate UDFs as <a href="https://mariadb.com/kb/en/window-functions/">window functions</a>. <em>x_remove()</em> should "subtract" the row (reverse <em>x_add()</em>). In <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> aggregate UDFs will work as WINDOW functions without <em>x_remove()</em> but it will not be so efficient.</p>
<p>If <em>x_remove()</em> supported (defined) detected automatically.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="user-defined-functions-security">User-Defined Functions Security</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>The MariaDB server imposes a number of limitations on <a href="https://mariadb.com/kb/en/user-defined-functions/">user-defined functions</a> for security purposes.</p>
<ul start="1"><li>The INSERT privilege for the mysql database is required to run <a href="#create-function-udf">CREATE FUNCTION</a>, as a record will be added to the <a href="#mysqlfunc-table">mysql.func-table</a>.
</li><li>The DELETE privilege for the mysql database is required to run <a href="#drop-function-udf">DROP FUNCTION</a> as the corresponding record will be removed from the <a href="#mysqlfunc-table">mysql.func-table</a>.
</li><li>UDF object files can only be placed in the plugin directory, as specified by the value of the <a href="https://mariadb.com/kb/en/server-system-variables/#plugin_dir">plugin_dir</a> system variable.
</li><li>At least one symbol, beyond the required <em>x()</em> - corresponding to an SQL function <em>X())</em> - is required. These can be <em>x_init()</em>, <em>x_deinit()</em>, <em>xxx_reset()</em>, <em>x_clear()</em> and <em>x_add()</em> functions (see <a href="#creating-user-defined-functions">Creating User-defined Functions</a>). The <a href="https://mariadb.com/kb/en/mysqld-options/#-allow-suspicious-udfs">allow-suspicious-udfs</a> mysqld option (by default unset) provides a workaround, permitting only one symbol to be used. This is not recommended, as it opens the possibility of loading shared objects that are not legitimate user-defined functions.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="time_to_sec">TIME_TO_SEC</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">TIME_TO_SEC(time)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the time argument, converted to seconds.</p>
<p>The value returned by <code>TIME_TO_SEC</code> is of type <code><a href="#double">DOUBLE</a></code>. Before <a href="https://mariadb.com/kb/en/what-is-mariadb-53/">MariaDB 5.3</a> (and MySQL 5.6), the type was <code><a href="https://mariadb.com/kb/en/int/">INT</a></code>. The returned value preserves microseconds of the argument. See also <a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">TIME_TO_SEC</span><span class="p">(</span><span class="s1">'22:23:00'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">TIME_TO_SEC</span><span class="p">(</span><span class="s1">'22:23:00'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span>                   <span class="mi">80580</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">TIME_TO_SEC</span><span class="p">(</span><span class="s1">'00:39:38'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">TIME_TO_SEC</span><span class="p">(</span><span class="s1">'00:39:38'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span>                    <span class="mi">2378</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">TIME_TO_SEC</span><span class="p">(</span><span class="s1">'09:12:55.2355'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="n">TIME_TO_SEC</span><span class="p">(</span><span class="s1">'09:12:55.2355'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span>                   <span class="mi">33175</span><span class="p">.</span><span class="mi">2355</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="utc_date">UTC_DATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">UTC_DATE, UTC_DATE()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the current <a href="https://mariadb.com/kb/en/coordinated-universal-time/">UTC date</a> as a value in 'YYYY-MM-DD' or YYYYMMDD
format, depending on whether the function is used in a string or numeric context. </p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">UTC_DATE</span><span class="p">(),</span> <span class="n">UTC_DATE</span><span class="p">()</span> <span class="o">+</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+----------------+</span>
<span class="o">|</span> <span class="n">UTC_DATE</span><span class="p">()</span> <span class="o">|</span> <span class="n">UTC_DATE</span><span class="p">()</span> <span class="o">+</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+----------------+</span>
<span class="o">|</span> <span class="mi">2010</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">27</span> <span class="o">|</span>       <span class="mi">20100327</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+----------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="utc_time">UTC_TIME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">UTC_TIME
UTC_TIME([precision])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the current <a href="https://mariadb.com/kb/en/coordinated-universal-time/">UTC time</a> as a value in 'HH:MM:SS' or HHMMSS.uuuuuu format, depending on whether the function is used in a string or numeric context. </p>
<p>The optional <em>precision</em> determines the microsecond precision. See <a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">UTC_TIME</span><span class="p">(),</span> <span class="n">UTC_TIME</span><span class="p">()</span> <span class="o">+</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+----------------+</span>
<span class="o">|</span> <span class="n">UTC_TIME</span><span class="p">()</span> <span class="o">|</span> <span class="n">UTC_TIME</span><span class="p">()</span> <span class="o">+</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+----------------+</span>
<span class="o">|</span> <span class="mi">17</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">34</span>   <span class="o">|</span>  <span class="mi">173234</span><span class="p">.</span><span class="mi">000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+----------------+</span>
</pre><p>With precision:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">UTC_TIME</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">UTC_TIME</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="mi">07</span><span class="p">:</span><span class="mi">52</span><span class="p">:</span><span class="mi">50</span><span class="p">.</span><span class="mi">78369</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mysqlfunc-table">mysql.func Table</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>The <code>mysql.func</code> table stores information about <a href="https://mariadb.com/kb/en/user-defined-functions/">user-defined functions</a> (UDFs) created with the <a href="#create-function-udf">CREATE FUNCTION UDF</a> statement.</p>
<div class="mariadb_from_10_4 mariadb from_10_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">10.4</a></h5><p>In <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> and later, this table uses the <a href="https://mariadb.com/kb/en/aria/">Aria</a> storage engine.</p>
</div><div class="mariadb_to_10_3 mariadb to_10_3 product"><h5 class="product_title">MariaDB until <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>In <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> and before, this table uses the <a href="https://mariadb.com/kb/en/myisam-storage-engine/">MyISAM</a> storage engine.</p>
</div><p>The <code>mysql.func</code> table contains the following fields:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Field</th><th>Type</th><th>Null</th><th>Key</th><th>Default</th><th>Description</th></tr>
<tr><td><code>name</code></td><td><code>char(64)</code></td><td>NO</td><td>PRI</td><td></td><td>UDF name</td></tr>
<tr><td><code>ret</code></td><td><code>tinyint(1)</code></td><td>NO</td><td></td><td>0</td><td></td></tr>
<tr><td><code>dl</code></td><td><code>char(128)</code></td><td>NO</td><td></td><td></td><td>Shared library name</td></tr>
<tr><td><code>type</code></td><td><code>enum('function','aggregate')</code></td><td>NO</td><td></td><td><code>NULL</code></td><td>Type, either <code>function</code> or <code>aggregate</code>. Aggregate functions are summary functions such as <a href="#sum">SUM()</a> and <a href="#avg">AVG()</a>.</td></tr>
</table>
</div><h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed">SELECT * FROM mysql.func;
+------------------------------+-----+--------------+-----------+
| name                         | ret | dl           | type      |
+------------------------------+-----+--------------+-----------+
| spider_direct_sql            |   2 | ha_spider.so | function  |
| spider_bg_direct_sql         |   2 | ha_spider.so | aggregate |
| spider_ping_table            |   2 | ha_spider.so | function  |
| spider_copy_tables           |   2 | ha_spider.so | function  |
| spider_flush_table_mon_cache |   2 | ha_spider.so | function  |
+------------------------------+-----+--------------+-----------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="auto_increment">AUTO_INCREMENT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#auto_incrementdescription" title="Description">Description</a></li>
<li class=""><a href="#auto_incrementsetting-or-changing-the-auto_increment-value" title="Setting or Changing the Auto_Increment Value">Setting or Changing the Auto_Increment Value</a></li>
<li class=""><a href="#auto_incrementinnodb" title="InnoDB">InnoDB</a></li>
<li class=""><a href="#auto_incrementsetting-explicit-values" title="Setting Explicit Values">Setting Explicit Values</a></li>
<li class=""><a href="#auto_incrementmissing-values" title="Missing Values">Missing Values</a></li>
<li class=""><a href="#auto_incrementreplication" title="Replication">Replication</a></li>
<li class=""><a href="#auto_incrementcheck-constraints-default-values-and-virtual-columns" title="CHECK Constraints, DEFAULT Values and Virtual Columns">CHECK Constraints, DEFAULT Values and Virtual Columns</a></li>
<li class=""><a href="#auto_incrementgenerating-auto_increment-values-when-adding-the-attribute" title="Generating Auto_Increment Values When Adding the Attribute">Generating Auto_Increment Values When Adding the Attribute</a></li>
<li class=""><a href="#auto_incrementsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="auto_incrementdescription">Description</h2>
<p>The <code>AUTO_INCREMENT</code> attribute can be used to generate a unique identity for new rows. When you insert a new record to the table (or upon adding an <a href="#auto_increment">AUTO_INCREMENT</a> attribute with the <a href="#alter-table">ALTER TABLE</a> statement), and the auto_increment field is <a href="https://mariadb.com/kb/en/null-values/">NULL</a> or DEFAULT (in the case of an INSERT), the value will automatically be incremented. This also applies to 0, unless the <a href="https://mariadb.com/kb/en/sql-mode/#no_auto_value_on_zero">NO_AUTO_VALUE_ON_ZERO SQL_MODE</a> is enabled.</p>
<p><code>AUTO_INCREMENT</code> columns start from 1 by default. The automatically generated value can never be lower than 0.</p>
<p>Each table can have only one <code>AUTO_INCREMENT</code> column. It must defined as a key (not necessarily the <code>PRIMARY KEY</code> or <code>UNIQUE</code> key). In some storage engines (including the default <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>), if the key consists of multiple columns, the <code>AUTO_INCREMENT</code> column must be the first column. Storage engines that permit the column to be placed elsewhere are <a href="https://mariadb.com/kb/en/aria/">Aria</a>, <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a>, <a href="#merge">MERGE</a>, <a href="https://mariadb.com/kb/en/spider/">Spider</a>, <a href="https://mariadb.com/kb/en/tokudb/">TokuDB</a>, <a href="https://mariadb.com/kb/en/blackhole/">BLACKHOLE</a>, <a href="https://mariadb.com/kb/en/federatedx/">FederatedX</a> and <a href="https://mariadb.com/kb/en/federated-storage-engine/">Federated</a>.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">animals</span> <span class="p">(</span>
     <span class="n">id</span> <span class="n">MEDIUMINT</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
     <span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
     <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">id</span><span class="p">)</span>
 <span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">animals</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="s1">'dog'</span><span class="p">),(</span><span class="s1">'cat'</span><span class="p">),(</span><span class="s1">'penguin'</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'fox'</span><span class="p">),(</span><span class="s1">'whale'</span><span class="p">),(</span><span class="s1">'ostrich'</span><span class="p">);</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">animals</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+---------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">name</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">----+---------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">dog</span>     <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">cat</span>     <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">penguin</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="n">fox</span>     <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span> <span class="n">whale</span>   <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span> <span class="n">ostrich</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+---------+</span>
</pre><p><code>SERIAL</code> is an alias for <code>BIGINT UNSIGNED NOT NULL AUTO_INCREMENT UNIQUE</code>.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span><span class="n">id</span> <span class="nb">SERIAL</span><span class="p">,</span> <span class="k">c</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="p">;</span>

<span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="err">\</span><span class="k">G</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
       <span class="k">Table</span><span class="p">:</span> <span class="n">t</span>
<span class="k">Create</span> <span class="k">Table</span><span class="p">:</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="o">`</span><span class="n">t</span><span class="o">`</span> <span class="p">(</span>
  <span class="o">`</span><span class="n">id</span><span class="o">`</span> <span class="nb">bigint</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="n">unsigned</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
  <span class="o">`</span><span class="k">c</span><span class="o">`</span> <span class="nb">char</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="k">UNIQUE</span> <span class="k">KEY</span> <span class="o">`</span><span class="n">id</span><span class="o">`</span> <span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">)</span>
<span class="p">)</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span> <span class="k">DEFAULT</span> <span class="n">CHARSET</span><span class="o">=</span><span class="n">latin1</span>
</pre><h2 class="anchored_heading" id="auto_incrementsetting-or-changing-the-auto_increment-value">Setting or Changing the Auto_Increment Value</h2>
<p>You can use an <code><a href="#alter-table">ALTER TABLE</a></code> statement to assign a new value to the <code>auto_increment</code> table option, or set the <a href="https://mariadb.com/kb/en/server-system-variables/#insert_id">insert_id</a> server system variable to change the next <code>AUTO_INCREMENT</code> value inserted by the current session.</p>
<p><code><a href="#last_insert_id">LAST_INSERT_ID()</a></code> can be used to see the last <code>AUTO_INCREMENT</code> value inserted by the current session.</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">animals</span> <span class="n">AUTO_INCREMENT</span><span class="o">=</span><span class="mi">8</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">animals</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'aardvark'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">animals</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+-----------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">name</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">dog</span>       <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">cat</span>       <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">penguin</span>   <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="n">fox</span>       <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span> <span class="n">whale</span>     <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span> <span class="n">ostrich</span>   <span class="o">|</span>
<span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span> <span class="n">aardvark</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------+</span>

<span class="k">SET</span> <span class="n">insert_id</span><span class="o">=</span><span class="mi">12</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">animals</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'gorilla'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">animals</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+-----------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">name</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">dog</span>       <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">cat</span>       <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">penguin</span>   <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="n">fox</span>       <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span> <span class="n">whale</span>     <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span> <span class="n">ostrich</span>   <span class="o">|</span>
<span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span> <span class="n">aardvark</span>  <span class="o">|</span>
<span class="o">|</span> <span class="mi">12</span> <span class="o">|</span> <span class="n">gorilla</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------+</span>
</pre><h2 class="anchored_heading" id="auto_incrementinnodb">InnoDB</h2>
<p>Until <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>, InnoDB used an auto-increment counter that is stored in memory. When the server restarts, the counter is re-initialized to the highest value used in the table, which cancels the effects of any AUTO_INCREMENT = N option in the table statements.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">MariaDB 10.2.4</a>, this restriction has been lifted and AUTO_INCREMENT is persistent.</p>
<p>See also <a href="https://mariadb.com/kb/en/auto_increment-handling-in-innodb/">AUTO_INCREMENT Handling in InnoDB</a>.</p>
<h2 class="anchored_heading" id="auto_incrementsetting-explicit-values">Setting Explicit Values</h2>
<p>It is possible to specify a value for an <code>AUTO_INCREMENT</code> column. If the key is primary or unique, the value must not already exist in the key.</p>
<p>If the new value is higher than the current maximum value, the <code>AUTO_INCREMENT</code> value is updated, so the next value will be higher. If the new value is lower than the current maximum value,  the <code>AUTO_INCREMENT</code> value remains unchanged.</p>
<p>The following example demonstrates these behaviors:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span><span class="n">id</span> <span class="nb">INTEGER</span> <span class="n">UNSIGNED</span> <span class="n">AUTO_INCREMENT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">)</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">InnoDB</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">NULL</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">id</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">-- higher value</span>
<span class="k">SELECT</span> <span class="n">id</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">10</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="c1">-- lower value</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">NULL</span><span class="p">);</span> <span class="c1">-- auto value</span>
<span class="k">SELECT</span> <span class="n">id</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">10</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">11</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+</span>
</pre><p>The <a href="https://mariadb.com/kb/en/archive/">ARCHIVE</a> storage engine does not allow to insert a value that is lower than the current maximum.</p>
<h2 class="anchored_heading" id="auto_incrementmissing-values">Missing Values</h2>
<p>An AUTO_INCREMENT column normally has missing values. This happens because if a row is deleted, or an AUTO_INCREMENT value is explicitly updated, old values are never re-used. The REPLACE statement also deletes a row, and its value is wasted. With InnoDB, values can be reserved by a transaction; but if the transaction fails (for example, because of a ROLLBACK) the reserved value will be lost.</p>
<p>Thus AUTO_INCREMENT values can be used to sort results in a chronological order, but not to create a numeric sequence.</p>
<h2 class="anchored_heading" id="auto_incrementreplication">Replication</h2>
<p>To make master-master or Galera safe to use <code>AUTO_INCREMENT</code> one should use the system variables 
 <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#auto_increment_increment">auto_increment_increment</a> and <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#auto_increment_offset">auto_increment_offset</a> to generate unique values for each server.</p>
<h2 class="anchored_heading" id="auto_incrementcheck-constraints-default-values-and-virtual-columns">CHECK Constraints, DEFAULT Values and Virtual Columns</h2>
<div class="mariadb_from_10_2_6 mariadb from_10_2_6 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1026-release-notes/">10.2.6</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1026-release-notes/">MariaDB 10.2.6</a> auto_increment columns are no longer permitted in <a href="#constraint">CHECK constraints</a>, <a ">DEFAULT value expressions</a> and <a href="https://mariadb.com/kb/en/virtual-computed-columns/">virtual columns</a>. They were permitted in earlier versions, but did not work correctly. See <a href="https://jira.mariadb.org/browse/MDEV-11117">MDEV-11117</a>.</p>
</div><h2 class="anchored_heading" id="auto_incrementgenerating-auto_increment-values-when-adding-the-attribute">Generating Auto_Increment Values When Adding the Attribute</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">);</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">MODIFY</span> <span class="n">a</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---+</span>
<span class="o">|</span> <span class="n">a</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+</span>
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">5</span><span class="p">),(</span><span class="mi">0</span><span class="p">),(</span><span class="mi">8</span><span class="p">),(</span><span class="mi">0</span><span class="p">);</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">MODIFY</span> <span class="n">a</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---+</span>
<span class="o">|</span> <span class="n">a</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+</span>
<span class="o">|</span> <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">6</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">8</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">9</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+</span>
</pre><p>If the <a href="https://mariadb.com/kb/en/sql-mode/#no_auto_value_on_zero">NO_AUTO_VALUE_ON_ZERO SQL_MODE</a>  is set, zero values will not be automatically incremented: </p>
<pre class="fixed"><span class="k">SET</span> <span class="n">SQL_MODE</span><span class="o">=</span><span class="s1">'no_auto_value_on_zero'</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">MODIFY</span> <span class="n">a</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---+</span>
<span class="o">|</span> <span class="n">a</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+</span>
<span class="o">|</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+</span>
</pre><h2 class="anchored_heading" id="auto_incrementsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/getting-started-with-indexes/">Getting Started with Indexes</a>
</li><li><a href="https://mariadb.com/kb/en/sequences/">Sequences</a> - an alternative to auto_increment available from <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>
</li><li><a href="https://mariadb.com/kb/en/autoincrement-faq/">AUTO_INCREMENT FAQ</a>
</li><li><a href="#last_insert_id">LAST_INSERT_ID()</a>
</li><li><a href="https://mariadb.com/kb/en/auto_increment-handling-in-innodb/">AUTO_INCREMENT handling in InnoDB</a>
</li><li><a href="https://mariadb.com/kb/en/blackhole/#blackhole-and-auto_increment">BLACKHOLE and AUTO_INCREMENT</a>
</li><li><a href="#uuid_short">UUID_SHORT()</a> - Generate unique ids
</li><li><a href="https://www.percona.com/community-blog/2018/10/12/generating-identifiers-auto_increment-sequence/">Generating Identifiers – from AUTO_INCREMENT to Sequence (percona.com)</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="wkb-asbinary">AsBinary</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_asbinary">ST_AsBinary()</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="aswkb">AsWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_asbinary">ST_AsBinary()</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mlinefromwkb">MLineFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MLineFromWKB(wkb[,srid])
MultiLineStringFromWKB(wkb[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="#multilinestring">MULTILINESTRING</a> value using its <a href="#well-known-binary-wkb-format">WKB</a>  representation and <a href="https://mariadb.com/kb/en/srid/">SRID</a>.</p>
<p><code>MLineFromWKB()</code> and <code>MultiLineStringFromWKB()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="n">ST_AsBinary</span><span class="p">(</span><span class="n">MLineFromText</span><span class="p">(</span><span class="s1">'MULTILINESTRING((10 48,10 21,10 0),(16 0,16 23,16 48))'</span><span class="p">));</span>

<span class="k">SELECT</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">MLineFromWKB</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">));</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">MLineFromWKB</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">))</span>                            <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">MULTILINESTRING</span><span class="p">((</span><span class="mi">10</span> <span class="mi">48</span><span class="p">,</span><span class="mi">10</span> <span class="mi">21</span><span class="p">,</span><span class="mi">10</span> <span class="mi">0</span><span class="p">),(</span><span class="mi">16</span> <span class="mi">0</span><span class="p">,</span><span class="mi">16</span> <span class="mi">23</span><span class="p">,</span><span class="mi">16</span> <span class="mi">48</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="bigint">BIGINT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">BIGINT[(M)] [SIGNED | UNSIGNED | ZEROFILL]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A large integer. The signed range is <code>-9223372036854775808</code> to
<code>9223372036854775807</code>. The unsigned range is <code>0</code> to
<code>18446744073709551615</code>.</p>
<p>If a column has been set to ZEROFILL, all values will be prepended by zeros so that the BIGINT value contains a number of M digits.</p>
<p><strong>Note:</strong> If the ZEROFILL attribute has been specified, the column will automatically become UNSIGNED.</p>
<p>For more details on the attributes, see <a href="#numeric-data-type-overview">Numeric Data Type Overview</a>.</p>
<p><code>SERIAL</code> is an alias for:</p>
<pre class="fixed"><span class="kt">BIGINT</span> <span class="k">UNSIGNED</span> <span class="k">NOT</span> <span class="no">NULL</span> <span class="kp">AUTO_INCREMENT</span> <span class="k">UNIQUE</span>
</pre><p><code>INT8</code> is a synonym for <code>BIGINT</code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">bigints</span> <span class="p">(</span><span class="n">a</span> <span class="nb">BIGINT</span><span class="p">,</span><span class="n">b</span> <span class="nb">BIGINT</span> <span class="n">UNSIGNED</span><span class="p">,</span><span class="k">c</span> <span class="nb">BIGINT</span> <span class="n">ZEROFILL</span><span class="p">);</span>
</pre><p>With <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> set, the default from <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">MariaDB 10.2.4</a>:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">bigints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1264</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'b'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">bigints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1264</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'c'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">bigints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">bigints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">9223372036854775808</span><span class="p">,</span><span class="mi">9223372036854775808</span><span class="p">,</span><span class="mi">9223372036854775808</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1264</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'a'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">bigints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">9223372036854775807</span><span class="p">,</span><span class="mi">9223372036854775808</span><span class="p">,</span><span class="mi">9223372036854775808</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">bigints</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+---------------------+----------------------+</span>
<span class="o">|</span> <span class="n">a</span>                   <span class="o">|</span> <span class="n">b</span>                   <span class="o">|</span> <span class="k">c</span>                    <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+---------------------+----------------------+</span>
<span class="o">|</span>                 <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>                  <span class="mi">10</span> <span class="o">|</span> <span class="mi">00000000000000000010</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">9223372036854775807</span> <span class="o">|</span> <span class="mi">9223372036854775808</span> <span class="o">|</span> <span class="mi">09223372036854775808</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+---------------------+----------------------+</span>
</pre><p>With <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> unset, the default until <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">bigints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">2</span> <span class="n">warnings</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">08</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'b'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'c'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">bigints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">08</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'c'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">bigints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">bigints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">9223372036854775808</span><span class="p">,</span><span class="mi">9223372036854775808</span><span class="p">,</span><span class="mi">9223372036854775808</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">07</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'a'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">bigints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">9223372036854775807</span><span class="p">,</span><span class="mi">9223372036854775808</span><span class="p">,</span><span class="mi">9223372036854775808</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">bigints</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+---------------------+----------------------+</span>
<span class="o">|</span> <span class="n">a</span>                   <span class="o">|</span> <span class="n">b</span>                   <span class="o">|</span> <span class="k">c</span>                    <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+---------------------+----------------------+</span>
<span class="o">|</span>                 <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>                   <span class="mi">0</span> <span class="o">|</span> <span class="mi">00000000000000000000</span> <span class="o">|</span>
<span class="o">|</span>                 <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>                  <span class="mi">10</span> <span class="o">|</span> <span class="mi">00000000000000000000</span> <span class="o">|</span>
<span class="o">|</span>                 <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>                  <span class="mi">10</span> <span class="o">|</span> <span class="mi">00000000000000000010</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">9223372036854775807</span> <span class="o">|</span> <span class="mi">9223372036854775808</span> <span class="o">|</span> <span class="mi">09223372036854775808</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">9223372036854775807</span> <span class="o">|</span> <span class="mi">9223372036854775808</span> <span class="o">|</span> <span class="mi">09223372036854775808</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+---------------------+----------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#numeric-data-type-overview">Numeric Data Type Overview</a>
</li><li><a href="#tinyint">TINYINT</a>
</li><li><a href="#smallint">SMALLINT</a>
</li><li><a href="#mediumint">MEDIUMINT</a>
</li><li><a href="https://mariadb.com/kb/en/int/">INTEGER</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="binary">BINARY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="cstm-style bluebox"><p>This page describes the BINARY data type. For details about the operator, see <a href="#binary-operator">Binary Operator</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">BINARY(M)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#binarydescription" title="Description">Description</a></li>
<li class=""><a href="#binaryexamples" title="Examples">Examples</a></li>
<li class=""><a href="#binarysee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="binarydescription">Description</h2>
<p>The <code>BINARY</code> type is similar to the <code><a href="#char">CHAR</a></code> type, but stores binary
byte strings rather than non-binary character strings. <code>M</code> represents the
column length in bytes.</p>
<p>It contains no character set, and comparison and sorting are based on the numeric value of the bytes.</p>
<p>If the maximum length is exceeded, and <a href="https://mariadb.com/kb/en/sql-mode/">SQL strict mode</a> is not enabled , the extra characters will be dropped with a warning. If strict mode is enabled, an error will occur.</p>
<p>BINARY values are right-padded with <code>0x00</code> (the zero byte) to the specified length when inserted. The padding is <em>not</em> removed on select, so this needs to be taken into account when sorting and comparing, where all bytes are significant. The zero byte, <code>0x00</code> is less than a space for comparison purposes.</p>
<h2 class="anchored_heading" id="binaryexamples">Examples</h2>
<p>Inserting too many characters, first with strict mode off, then with it on:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">bins</span> <span class="p">(</span><span class="n">a</span> <span class="nb">BINARY</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">bins</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'12345678901'</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">bins</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">a</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="mi">1234567890</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SET</span> <span class="n">sql_mode</span><span class="o">=</span><span class="s1">'STRICT_ALL_TABLES'</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">bins</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'12345678901'</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1406</span> <span class="p">(</span><span class="mi">22001</span><span class="p">):</span> <span class="k">Data</span> <span class="n">too</span> <span class="n">long</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'a'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>
</pre><p>Sorting is performed with the byte value:</p>
<pre class="fixed"><span class="k">TRUNCATE</span> <span class="n">bins</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">bins</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'A'</span><span class="p">),(</span><span class="s1">'B'</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">bins</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">a</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">A</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">B</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>Using <a href="#cast">CAST</a> to sort as a <a href="#char">CHAR</a> instead:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">bins</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="k">CAST</span><span class="p">(</span><span class="n">a</span> <span class="k">AS</span> <span class="nb">CHAR</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">A</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">B</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>The field is a BINARY(10), so padding of two '\0's are inserted, causing comparisons that don't take this into account to fail:</p>
<pre class="fixed"><span class="k">TRUNCATE</span> <span class="n">bins</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">bins</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'12345678'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">a</span> <span class="o">=</span> <span class="s1">'12345678'</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="s1">'12345678\0\0'</span> <span class="k">from</span> <span class="n">bins</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------+--------------------+</span>
<span class="o">|</span> <span class="n">a</span> <span class="o">=</span> <span class="s1">'12345678'</span> <span class="o">|</span> <span class="n">a</span> <span class="o">=</span> <span class="s1">'12345678\0\0'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+--------------------+</span>
<span class="o">|</span>              <span class="mi">0</span> <span class="o">|</span>                  <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+--------------------+</span>
</pre><h2 class="anchored_heading" id="binarysee-also">See Also</h2>
<ul start="1"><li><a href="#char">CHAR</a>
</li><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="bit">BIT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">BIT[(M)]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A bit-field type. <code>M</code> indicates the number of bits per value, from <code>1</code> to
<code>64</code>. The default is <code>1</code> if <code>M</code> is omitted.</p>
<p>Bit values can be inserted with <code>b'value'</code> notation, where <code>value</code> is the bit value in 0's and 1's.</p>
<p>Bit fields are automatically zero-padded from the left to the full length of the bit, so for example in a BIT(4) field, '10' is equivalent to '0010'.</p>
<p>Bits are returned as binary, so to display them, either add 0, or use a function such as <a href="#hex">HEX</a>, <a href="#oct">OCT</a> or <a href="#bin">BIN</a> to convert them.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">b</span> <span class="p">(</span> <span class="n">b1</span> <span class="nb">BIT</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="p">);</span>
</pre><p>With <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> set, the default from <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">MariaDB 10.2.4</a>:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">b</span> <span class="k">VALUES</span> <span class="p">(</span><span class="n">b</span><span class="s1">'11111111'</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">b</span> <span class="k">VALUES</span> <span class="p">(</span><span class="n">b</span><span class="s1">'01010101'</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">b</span> <span class="k">VALUES</span> <span class="p">(</span><span class="n">b</span><span class="s1">'1111111111111'</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1406</span> <span class="p">(</span><span class="mi">22001</span><span class="p">):</span> <span class="k">Data</span> <span class="n">too</span> <span class="n">long</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'b1'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">SELECT</span> <span class="n">b1</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span> <span class="n">HEX</span><span class="p">(</span><span class="n">b1</span><span class="p">),</span> <span class="n">OCT</span><span class="p">(</span><span class="n">b1</span><span class="p">),</span> <span class="n">BIN</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">b</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+---------+---------+----------+</span>
<span class="o">|</span> <span class="n">b1</span><span class="o">+</span><span class="mi">0</span> <span class="o">|</span> <span class="n">HEX</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span> <span class="o">|</span> <span class="n">OCT</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span> <span class="o">|</span> <span class="n">BIN</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------+---------+----------+</span>
<span class="o">|</span>  <span class="mi">255</span> <span class="o">|</span> <span class="n">FF</span>      <span class="o">|</span> <span class="mi">377</span>     <span class="o">|</span> <span class="mi">11111111</span> <span class="o">|</span>
<span class="o">|</span>   <span class="mi">85</span> <span class="o">|</span> <span class="mi">55</span>      <span class="o">|</span> <span class="mi">125</span>     <span class="o">|</span> <span class="mi">1010101</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------+---------+----------+</span>
</pre><p>With <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> unset, the default until <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">b</span> <span class="k">VALUES</span> <span class="p">(</span><span class="n">b</span><span class="s1">'11111111'</span><span class="p">),(</span><span class="n">b</span><span class="s1">'01010101'</span><span class="p">),(</span><span class="n">b</span><span class="s1">'1111111111111'</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">3</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">10</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Records</span><span class="p">:</span> <span class="mi">3</span>  <span class="n">Duplicates</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Warnings</span><span class="p">:</span> <span class="mi">1</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------+---------------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span>   <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                     <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+---------------------------------------------+</span>
<span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1264</span> <span class="o">|</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'b1'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+---------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">b1</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span> <span class="n">HEX</span><span class="p">(</span><span class="n">b1</span><span class="p">),</span> <span class="n">OCT</span><span class="p">(</span><span class="n">b1</span><span class="p">),</span> <span class="n">BIN</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">b</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+---------+---------+----------+</span>
<span class="o">|</span> <span class="n">b1</span><span class="o">+</span><span class="mi">0</span> <span class="o">|</span> <span class="n">HEX</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span> <span class="o">|</span> <span class="n">OCT</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span> <span class="o">|</span> <span class="n">BIN</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------+---------+----------+</span>
<span class="o">|</span>  <span class="mi">255</span> <span class="o">|</span> <span class="n">FF</span>      <span class="o">|</span> <span class="mi">377</span>     <span class="o">|</span> <span class="mi">11111111</span> <span class="o">|</span>
<span class="o">|</span>   <span class="mi">85</span> <span class="o">|</span> <span class="mi">55</span>      <span class="o">|</span> <span class="mi">125</span>     <span class="o">|</span> <span class="mi">1010101</span>  <span class="o">|</span>
<span class="o">|</span>  <span class="mi">255</span> <span class="o">|</span> <span class="n">FF</span>      <span class="o">|</span> <span class="mi">377</span>     <span class="o">|</span> <span class="mi">11111111</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+---------+---------+----------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mpointfromwkb">MPointFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MPointFromWKB(wkb[,srid])
MultiPointFromWKB(wkb[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="#multipoint">MULTIPOINT</a> value using its <a href="#well-known-binary-wkb-format">WKB</a> representation and <a href="https://mariadb.com/kb/en/srid/">SRID</a>.</p>
<p><code>MPointFromWKB()</code> and <code>MultiPointFromWKB()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="n">ST_AsBinary</span><span class="p">(</span><span class="n">MPointFromText</span><span class="p">(</span><span class="s1">'MultiPoint( 1 1, 2 2, 5 3, 7 2, 9 3, 8 4, 6 6, 6 9, 4 9, 1 5 )'</span><span class="p">));</span>

<span class="k">SELECT</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">MPointFromWKB</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
<span class="o">|</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">MPointFromWKB</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">))</span>                        <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
<span class="o">|</span> <span class="n">MULTIPOINT</span><span class="p">(</span><span class="mi">1</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span> <span class="mi">2</span><span class="p">,</span><span class="mi">5</span> <span class="mi">3</span><span class="p">,</span><span class="mi">7</span> <span class="mi">2</span><span class="p">,</span><span class="mi">9</span> <span class="mi">3</span><span class="p">,</span><span class="mi">8</span> <span class="mi">4</span><span class="p">,</span><span class="mi">6</span> <span class="mi">6</span><span class="p">,</span><span class="mi">6</span> <span class="mi">9</span><span class="p">,</span><span class="mi">4</span> <span class="mi">9</span><span class="p">,</span><span class="mi">1</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="wkb-geomcollfromwkb">GeomCollFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_geomcollfromwkb">ST_GeomCollFromWKB</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="geometrycollectionfromwkb">GeometryCollectionFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_geomcollfromwkb">ST_GeomCollFromWKB</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="geometryfromwkb">GeometryFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_geomfromwkb">ST_GeomFromWKB</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="wkb-geomfromwkb">GeomFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_geomfromwkb">ST_GeomFromWKB</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="wkb-linefromwkb">LineFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_linefromwkb">ST_LineFromWKB</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="linestringfromwkb">LineStringFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_linefromwkb">ST_LineFromWKB</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="blob">BLOB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="blobsyntax">Syntax</h2>
<pre class="fixed">BLOB[(M)]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_4"><a href="#blobsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_4"><a href="#blobdescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_4"><a href="#blobindexing" title="Indexing">Indexing</a></li>
<li class="mariadb_from_10_4"><a href="#bloboracle-mode" title="Oracle Mode">Oracle Mode</a> </li></ol>
</li>
<li class="mariadb_from_10_4"><a href="#blobsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="blobdescription">Description</h2>
<p>A <code>BLOB</code> column with a maximum length of <code>65,535</code> (<code>2<sup>16</sup> - 1</code>) bytes. Each
<code>BLOB</code> value is stored using a two-byte length prefix that indicates the
number of bytes in the value.</p>
<p>An optional length <code>M</code> can be given for this type. If this is done,
MariaDB creates the column as the smallest <code>BLOB</code> type large enough to
hold values <em><code>M</code></em> bytes long.</p>
<p>BLOBS can also be used to store <a href="https://mariadb.com/kb/en/dynamic-columns/">dynamic columns</a>.</p>
<p>Before <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a>, <code>BLOB</code> and <code>TEXT</code> columns could not be assigned a <a ">DEFAULT</a> value. This restriction was lifted in <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a>.</p>
<h3 class="anchored_heading" id="blobindexing">Indexing</h3>
<div class="mariadb_from_10_4 mariadb from_10_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">10.4</a></h5><p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>, it is possible to set a <a href="https://mariadb.com/kb/en/getting-started-with-indexes/#unique-index">unique index</a> on a column that uses the <code>BLOB</code> data type.  In previous releases this was not possible, as the index would only guarantee the uniqueness of a fixed number of characters.</p>
</div><h3 class="anchored_heading" id="bloboracle-mode">Oracle Mode</h3>
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#synonyms-for-basic-sql-types">Oracle mode from MariaDB 10.3</a>, <code>BLOB</code> is a synonym for <code>LONGBLOB</code>.</p>
</div><h2 class="anchored_heading" id="blobsee-also">See Also</h2>
<ul start="1"><li><a href="#blob-and-text-data-types">BLOB and TEXT Data Types</a>
</li><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#synonyms-for-basic-sql-types">Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="boolean">BOOLEAN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">BOOL, BOOLEAN
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>These types are synonyms for <a href="https://mariadb.com/kb/en/sql_language-data_types-tinyint/">TINYINT(1)</a>. 
A value of zero is considered false. Non-zero values are considered true.</p>
<p>However, the values TRUE and FALSE are merely aliases for 1 and 0. See <a href="https://mariadb.com/kb/en/sql-language-structure-boolean-literals/">Boolean Literals</a>, as well as the <a href="#is">IS operator</a> for testing values against a boolean.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">boo</span> <span class="p">(</span><span class="n">i</span> <span class="nb">BOOLEAN</span><span class="p">);</span>

<span class="k">DESC</span> <span class="n">boo</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------------+------+-----+---------+-------+</span>
<span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="k">Type</span>       <span class="o">|</span> <span class="k">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------------+------+-----+---------+-------+</span>
<span class="o">|</span> <span class="n">i</span>     <span class="o">|</span> <span class="n">tinyint</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------------+------+-----+---------+-------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="k">IF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">,</span> <span class="s1">'false'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="k">IF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">,</span> <span class="s1">'false'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="k">false</span>                  <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>

<span class="k">SELECT</span> <span class="k">IF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">,</span> <span class="s1">'false'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="k">IF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">,</span> <span class="s1">'false'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="k">true</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>

<span class="k">SELECT</span> <span class="k">IF</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">,</span> <span class="s1">'false'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="k">IF</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">,</span> <span class="s1">'false'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="k">true</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
</pre><p>TRUE and FALSE as aliases for 1 and 0:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">IF</span><span class="p">(</span><span class="mi">0</span> <span class="o">=</span> <span class="k">FALSE</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">,</span> <span class="s1">'false'</span><span class="p">);</span>

<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="k">IF</span><span class="p">(</span><span class="mi">0</span> <span class="o">=</span> <span class="k">FALSE</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">,</span> <span class="s1">'false'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="k">true</span>                           <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>

<span class="k">SELECT</span> <span class="k">IF</span><span class="p">(</span><span class="mi">1</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">,</span> <span class="s1">'false'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="k">IF</span><span class="p">(</span><span class="mi">1</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">,</span> <span class="s1">'false'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="k">true</span>                          <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>

<span class="k">SELECT</span> <span class="k">IF</span><span class="p">(</span><span class="mi">2</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">,</span> <span class="s1">'false'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="k">IF</span><span class="p">(</span><span class="mi">2</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">,</span> <span class="s1">'false'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="k">false</span>                         <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>

<span class="k">SELECT</span> <span class="k">IF</span><span class="p">(</span><span class="mi">2</span> <span class="o">=</span> <span class="k">FALSE</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">,</span> <span class="s1">'false'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="k">IF</span><span class="p">(</span><span class="mi">2</span> <span class="o">=</span> <span class="k">FALSE</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">,</span> <span class="s1">'false'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="k">false</span>                          <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
</pre><p>The last two statements display the results shown because 2 is equal
to neither 1 nor 0.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/sql-language-structure-boolean-literals/">Boolean Literals</a>
</li><li><a href="#is">IS operator</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="char">CHAR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>This article covers the CHAR data type. See <a href="#char-function">CHAR Function</a> for the function.</p>
<h2 class="anchored_heading" id="charsyntax">Syntax</h2>
<pre class="fixed">[NATIONAL] CHAR[(M)] [CHARACTER SET charset_name] [COLLATE collation_name]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#charsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#chardescription" title="Description">Description</a></li>
<li class=""><a href="#charexamples" title="Examples">Examples</a></li>
<li class=""><a href="#charno-pad-collations" title="NO PAD Collations">NO PAD Collations</a></li>
<li class=""><a href="#charsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="chardescription">Description</h2>
<p>A fixed-length string that is always right-padded with spaces to the specified
length when stored. <code>M</code> represents the column length in characters. The range
of <code>M</code> is <code>0</code> to <code>255</code>. If <code>M</code> is omitted, the length is <code>1</code>.</p>
<p>CHAR(0) columns can contain 2 values: an empty string or NULL. Such columns cannot be part of an index. The <a href="https://mariadb.com/kb/en/connect/">CONNECT</a> storage engine does not support CHAR(0).</p>
<p><strong>Note:</strong> Trailing spaces are removed when <code>CHAR</code> values are retrieved
unless the <code>PAD_CHAR_TO_FULL_LENGTH</code> <a href="https://mariadb.com/kb/en/sql_mode/">SQL mode</a> is enabled.</p>
<p>Before <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">MariaDB 10.2</a>, all collations were of type PADSPACE, meaning that CHAR (as well as <a href="#varchar">VARCHAR</a> and <a href="#text">TEXT</a>) values are compared without regard for trailing spaces. This does not apply to the <a href="#like">LIKE</a> pattern-matching operator, which takes into account trailing spaces.</p>
<p>If a unique index consists of a column where trailing pad characters are stripped or ignored, inserts into that column where values differ only by the number of trailing pad characters will result in a duplicate-key error.</p>
<h2 class="anchored_heading" id="charexamples">Examples</h2>
<p>Trailing spaces:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">strtest</span> <span class="p">(</span><span class="k">c</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">strtest</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'Maria   '</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="k">c</span><span class="o">=</span><span class="s1">'Maria'</span><span class="p">,</span><span class="k">c</span><span class="o">=</span><span class="s1">'Maria   '</span> <span class="k">FROM</span> <span class="n">strtest</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+--------------+</span>
<span class="o">|</span> <span class="k">c</span><span class="o">=</span><span class="s1">'Maria'</span> <span class="o">|</span> <span class="k">c</span><span class="o">=</span><span class="s1">'Maria   '</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+--------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+--------------+</span>

<span class="k">SELECT</span> <span class="k">c</span> <span class="k">LIKE</span> <span class="s1">'Maria'</span><span class="p">,</span><span class="k">c</span> <span class="k">LIKE</span> <span class="s1">'Maria   '</span> <span class="k">FROM</span> <span class="n">strtest</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------+-------------------+</span>
<span class="o">|</span> <span class="k">c</span> <span class="k">LIKE</span> <span class="s1">'Maria'</span> <span class="o">|</span> <span class="k">c</span> <span class="k">LIKE</span> <span class="s1">'Maria   '</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+-------------------+</span>
<span class="o">|</span>              <span class="mi">1</span> <span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+-------------------+</span>
</pre><h2 class="anchored_heading" id="charno-pad-collations">NO PAD Collations</h2>
<div class="mariadb_from_10_2 mariadb from_10_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">10.2</a></h5><p>NO PAD collations regard trailing spaces as normal characters. You can get a list of all NO PAD collations by querying the <a href="https://mariadb.com/kb/en/information-schema-collations-table/">Information Schema Collations table</a>, for example:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">collation_name</span> <span class="k">FROM</span> <span class="n">information_schema</span><span class="p">.</span><span class="n">collations</span> 
  <span class="k">WHERE</span> <span class="k">collation_name</span> <span class="k">LIKE</span> <span class="ss">"%nopad%"</span><span class="p">;</span>  
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="k">collation_name</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="n">big5_chinese_nopad_ci</span>        <span class="o">|</span>
<span class="o">|</span> <span class="n">big5_nopad_bin</span>               <span class="o">|</span>
<span class="p">...</span>
</pre></div><h2 class="anchored_heading" id="charsee-also">See Also</h2>
<ul start="1"><li><a href="#char-function">CHAR Function</a>
</li><li><a href="#varchar">VARCHAR</a>
</li><li><a href="#binary">BINARY</a>
</li><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="multilinestringfromwkb">MultiLineStringFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#mlinefromwkb">MLineFromWKB()</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="multipointfromwkb">MultiPointFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#mpointfromwkb">MPointFromWKB</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="multipolygonfromwkb">MultiPolygonFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>Synonym for <a href="#mpolyfromwkb">MPolyFromWKB</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="wkb-pointfromwkb">PointFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_pointfromwkb">ST_PointFromWKB</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="wkb-polyfromwkb">PolyFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_polyfromwkb">ST_PolyFromWKB</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="polygonfromwkb">PolygonFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_polyfromwkb">ST_PolyFromWKB</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_asbinary">ST_AsBinary</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_AsBinary(g)
AsBinary(g)
ST_AsWKB(g)
AsWKB(g)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Converts a value in internal geometry format to its <a href="#well-known-binary-wkb-format">WKB</a> representation and returns the binary result.</p>
<p><code>ST_AsBinary()</code>, <code>AsBinary()</code>, <code>ST_AsWKB()</code> and <code>AsWKB()</code> are synonyms,</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">poly</span> <span class="o">=</span> <span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">'POLYGON((0 0,0 1,1 1,1 0,0 0))'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">ST_AsBinary</span><span class="p">(</span><span class="o">@</span><span class="n">poly</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_GeomFromWKB</span><span class="p">(</span><span class="n">ST_AsWKB</span><span class="p">(</span><span class="o">@</span><span class="n">poly</span><span class="p">)));</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
<span class="o">|</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_GeomFromWKB</span><span class="p">(</span><span class="n">ST_AsWKB</span><span class="p">(</span><span class="o">@</span><span class="n">poly</span><span class="p">)))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
<span class="o">|</span> <span class="n">POLYGON</span><span class="p">((</span><span class="mi">0</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="mi">0</span><span class="p">))</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_aswkb">ST_AsWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_asbinary">ST_AsBinary()</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_geometrycollectionfromwkb">ST_GeometryCollectionFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_geomcollfromwkb">ST_GeomCollFromWKB</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_geometryfromwkb">ST_GeometryFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_geomfromwkb">ST_GeomFromWKB</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="date">DATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#datesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#datedescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#dateoracle-mode" title="Oracle Mode">Oracle Mode</a> </li></ol>
</li>
<li class=""><a href="#dateexamples" title="Examples">Examples</a></li>
<li class=""><a href="#datesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="datesyntax">Syntax</h2>
<pre class="fixed">DATE
</pre><h2 class="anchored_heading" id="datedescription">Description</h2>
<p>A date. The supported range is '<code>1000-01-01</code>' to '<code>9999-12-31</code>'. MariaDB
displays <code>DATE</code> values in '<code>YYYY-MM-DD</code>' format, but can be assigned dates in looser formats, including strings or numbers, as long as they make sense. These include a short year, <code>YY-MM-DD</code>, no delimiters, <code>YYMMDD</code>, or any other acceptable delimiter, for example <code>YYYY/MM/DD</code>. For details, see <a href="https://mariadb.com/kb/en/date-and-time-literals/">date and time literals</a>.</p>
<p>'<code>0000-00-00</code>' is a permitted special value (zero-date), unless the <a href="https://mariadb.com/kb/en/sql-mode/#no_zero_date">NO_ZERO_DATE</a> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is used. Also, individual components of a date can be set to 0 (for example: '<code>2015-00-12</code>'), unless the <a href="https://mariadb.com/kb/en/sql-mode/#no_zero_in_date">NO_ZERO_IN_DATE</a> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is used. In many cases, the result of en expression involving a zero-date, or a date with zero-parts, is <code>NULL</code>. If the <a href="https://mariadb.com/kb/en/sql-mode/#allow_invalid_dates">ALLOW_INVALID_DATES</a> SQL_MODE is enabled, if the day part is in the range between 1 and 31, the date does not produce any error, even for months that have less than 31 days.</p>
<h3 class="anchored_heading" id="dateoracle-mode">Oracle Mode</h3>
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#synonyms-for-basic-sql-types">Oracle mode from MariaDB 10.3</a>, <code>DATE</code> with a time portion is a synonym for <a href="#datetime">DATETIME</a>. See also <a href="https://mariadb.com/kb/en/mariadb_schema/">mariadb_schema</a>.</p>
</div><h2 class="anchored_heading" id="dateexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">d</span> <span class="nb">DATE</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="ss">"2010-01-12"</span><span class="p">),</span> <span class="p">(</span><span class="ss">"2011-2-28"</span><span class="p">),</span> <span class="p">(</span><span class="s1">'120314'</span><span class="p">),(</span><span class="s1">'13*04*21'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">d</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="mi">2010</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">28</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2012</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">14</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><h2 class="anchored_heading" id="datesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/mariadb_schema/">mariadb_schema</a> data type qualifier</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="datetime">DATETIME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#datetimesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#datetimedescription" title="Description">Description</a></li>
<li class=""><a href="#datetimesupported-values" title="Supported Values">Supported Values</a></li>
<li class=""><a href="#datetimetime-zones" title="Time Zones">Time Zones</a></li>
<li class=""><a href="#datetimeoracle-mode" title="Oracle Mode">Oracle Mode</a></li>
<li class=""><a href="#datetimeinternal-format" title="Internal Format">Internal Format</a></li>
<li class=""><a href="#datetimeexamples" title="Examples">Examples</a></li>
<li class=""><a href="#datetimesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="datetimesyntax">Syntax</h2>
<pre class="fixed">DATETIME [(microsecond precision)]
</pre><h2 class="anchored_heading" id="datetimedescription">Description</h2>
<p>A date and time combination.</p>
<p>MariaDB displays <code>DATETIME</code> values in '<code>YYYY-MM-DD HH:MM:SS.ffffff</code>' format, but
allows assignment of values to <code>DATETIME</code> columns using either strings or
numbers. For details, see <a href="https://mariadb.com/kb/en/date-and-time-literals/">date and time literals</a>.</p>
<p>DATETIME columns also accept <a href="#now">CURRENT_TIMESTAMP</a> as the default value.</p>
<p><a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a> introduced the <a href="https://mariadb.com/kb/en/server-system-variables/#mysql56_temporal_format">--mysql56-temporal-format</a> option, on by default, which allows MariaDB to store DATETMEs using the same low-level format MySQL 5.6 uses.  For more information, see <a href="#datetimeinternal-format">Internal Format</a>, below.</p>
<p>For storage requirements, see <a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a>.</p>
<h2 class="anchored_heading" id="datetimesupported-values">Supported Values</h2>
<p>MariaDB stores values that use the <code>DATETIME</code> data type in a format that supports values between <code>1000-01-01 00:00:00.000000</code> and <code>9999-12-31 23:59:59.999999</code>.</p>
<p>MariaDB can also store <a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">microseconds</a> with a precision between 0 and 6. If no microsecond precision is specified, then 0 is used by default.</p>
<p>MariaDB also supports '<code>0000-00-00</code>' as a special <em>zero-date</em> value, unless <a href="https://mariadb.com/kb/en/sql-mode/#no_zero_date">NO_ZERO_DATE</a> is specified in the <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a>. Similarly, individual components of a date can be set to <code>0</code> (for example: '<code>2015-00-12</code>'), unless <a href="https://mariadb.com/kb/en/sql-mode/#no_zero_date">NO_ZERO_DATE</a> is specified in the <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a>. In many cases, the result of en expression involving a zero-date, or a date with zero-parts, is <code>NULL</code>. If the <a href="https://mariadb.com/kb/en/sql-mode/#allow_invalid_dates">ALLOW_INVALID_DATES</a> SQL_MODE is enabled, if the day part is in the range between 1 and 31, the date does not produce any error, even for months that have less than 31 days.</p>
<h2 class="anchored_heading" id="datetimetime-zones">Time Zones</h2>
<p>If a column uses the <code>DATETIME</code> data type, then any inserted values are stored as-is, so no automatic time zone conversions are performed.</p>
<p>MariaDB also does not currently support time zone literals that contain time zone identifiers. See <a href="https://jira.mariadb.org/browse/MDEV-11829">MDEV-11829</a> for more information.</p>
<p>MariaDB validates <code>DATETIME</code> literals against the session's time zone. For example, if a specific time range never occurred in a specific time zone due to daylight savings time, then <code>DATETIME</code> values within that range would be invalid for that time zone.</p>
<p>For example, daylight savings time started on March 10, 2019 in the US, so the time range between 02:00:00 and 02:59:59 is invalid for that day in US time zones:</p>
<pre class="fixed"><span class="k">SET</span> <span class="n">time_zone</span> <span class="o">=</span> <span class="s1">'America/New_York'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">timestamp_test</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2019-03-10 02:55:05'</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1292</span> <span class="p">(</span><span class="mi">22007</span><span class="p">):</span> <span class="n">Incorrect</span> <span class="n">datetime</span> <span class="n">value</span><span class="p">:</span> <span class="s1">'2019-03-10 02:55:05'</span> <span class="k">for</span> <span class="k">column</span> <span class="o">`</span><span class="n">db1</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">timestamp_test</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">timestamp_test</span><span class="o">`</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>
</pre><p>But that same time range is fine in other time zones, such as <a href="https://mariadb.com/kb/en/coordinated-universal-time/">Coordinated Universal Time (UTC)</a>. For example:</p>
<pre class="fixed"><span class="k">SET</span> <span class="n">time_zone</span> <span class="o">=</span> <span class="s1">'UTC'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">timestamp_test</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2019-03-10 02:55:05'</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">002</span> <span class="n">sec</span><span class="p">)</span>
</pre><h2 class="anchored_heading" id="datetimeoracle-mode">Oracle Mode</h2>
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#synonyms-for-basic-sql-types">Oracle mode from MariaDB 10.3</a>, <code>DATE</code> with a time portion is a synonym for <code>DATETIME</code>. See also <a href="https://mariadb.com/kb/en/mariadb_schema/">mariadb_schema</a>.</p>
</div><h2 class="anchored_heading" id="datetimeinternal-format">Internal Format</h2>
<p>In <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a> a new temporal format was introduced from MySQL 5.6 that alters how the <code>TIME</code>, <code>DATETIME</code> and <code>TIMESTAMP</code> columns operate at lower levels.  These changes allow these temporal data types to have fractional parts and negative values.  You can disable this feature using the <a href="https://mariadb.com/kb/en/server-system-variables/#mysql56_temporal_format">mysql56_temporal_format</a> system variable.</p>
<p>Tables that include <code>TIMESTAMP</code> values that were created on an older version of MariaDB or that were created while the <a href="https://mariadb.com/kb/en/server-system-variables/#mysql56_temporal_format">mysql56_temporal_format</a> system variable was disabled continue to store data using the older data type format.</p>
<p>In order to update table columns from the older format to the newer format, execute an <a ">ALTER TABLE... MODIFY COLUMN</a> statement that changes the column to the *same* data type. This change may be needed if you want to export the table's tablespace and import it onto a server that has <code>mysql56_temporal_format=ON</code> set (see <a href="https://jira.mariadb.org/browse/MDEV-15225">MDEV-15225</a>).</p>
<p>For instance, if you have a <code>DATETIME</code> column in your table: </p>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'mysql56_temporal_format'</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-------------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>           <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+-------+</span>
<span class="o">|</span> <span class="n">mysql56_temporal_format</span> <span class="o">|</span> <span class="k">ON</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+-------+</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">example_table</span> <span class="k">MODIFY</span> <span class="n">ts_col</span> <span class="n">DATETIME</span><span class="p">;</span>
</pre><p>When MariaDB executes the <a href="#alter-table">ALTER TABLE</a> statement, it converts the data from the older temporal format to the newer one. </p>
<p>In the event that you have several tables and columns using temporal data types that you want to switch over to the new format, make sure the system variable is enabled, then perform a dump and restore using <code>mysqldump</code>.  The columns using relevant temporal data types are restored using the new temporal format.</p>
<p>Starting from <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a> columns with old temporal formats are marked with a <code>/* mariadb-5.3 */</code>  comment in the output of <a href="#show-create-table">SHOW CREATE TABLE</a>, <a href="#show-columns">SHOW COLUMNS</a>, <a href="#describe">DESCRIBE</a> statements, as well as in the <code>COLUMN_TYPE</code> column of the <a href="https://mariadb.com/kb/en/information-schema-columns-table/">INFORMATION_SCHEMA.COLUMNS Table</a>.</p>
<pre class="fixed">SHOW CREATE TABLE mariadb5312_datetime\G
*************************** 1. row ***************************
       Table: mariadb5312_datetime
Create Table: CREATE TABLE `mariadb5312_datetime` (
  `dt0` datetime /* mariadb-5.3 */ DEFAULT NULL,
  `dt6` datetime(6) /* mariadb-5.3 */ DEFAULT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1
</pre><h2 class="anchored_heading" id="datetimeexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">d</span> <span class="n">DATETIME</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="ss">"2011-03-11"</span><span class="p">),</span> <span class="p">(</span><span class="ss">"2012-04-19 13:08:22"</span><span class="p">),</span>
 <span class="p">(</span><span class="ss">"2013-07-18 13:44:22.123456"</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">11</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2012</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">08</span><span class="p">:</span><span class="mi">22</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">18</span> <span class="mi">13</span><span class="p">:</span><span class="mi">44</span><span class="p">:</span><span class="mi">22</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t2</span> <span class="p">(</span><span class="n">d</span> <span class="n">DATETIME</span><span class="p">(</span><span class="mi">6</span><span class="p">));</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t2</span> <span class="k">VALUES</span> <span class="p">(</span><span class="ss">"2011-03-11"</span><span class="p">),</span> <span class="p">(</span><span class="ss">"2012-04-19 13:08:22"</span><span class="p">),</span>
 <span class="p">(</span><span class="ss">"2013-07-18 13:44:22.123456"</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span> <span class="n">d</span>                          <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">11</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">.</span><span class="mi">000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2012</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">08</span><span class="p">:</span><span class="mi">22</span><span class="p">.</span><span class="mi">000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">18</span> <span class="mi">13</span><span class="p">:</span><span class="mi">44</span><span class="p">:</span><span class="mi">22</span><span class="p">.</span><span class="mi">123456</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------++</span>
</pre><p>Strings used in datetime context are automatically converted to datetime(6). If you want to have a datetime without seconds, you should use <a href="#convert">CONVERT(..,datetime)</a>.</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CONVERT</span><span class="p">(</span><span class="s1">'2007-11-30 10:30:19'</span><span class="p">,</span><span class="n">datetime</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>
<span class="o">|</span> <span class="k">CONVERT</span><span class="p">(</span><span class="s1">'2007-11-30 10:30:19'</span><span class="p">,</span><span class="n">datetime</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">30</span> <span class="mi">10</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">19</span>                     <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>

<span class="k">SELECT</span> <span class="k">CONVERT</span><span class="p">(</span><span class="s1">'2007-11-30 10:30:19'</span><span class="p">,</span><span class="n">datetime</span><span class="p">(</span><span class="mi">6</span><span class="p">));</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
<span class="o">|</span> <span class="k">CONVERT</span><span class="p">(</span><span class="s1">'2007-11-30 10:30:19'</span><span class="p">,</span><span class="n">datetime</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">30</span> <span class="mi">10</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">19</span><span class="p">.</span><span class="mi">000000</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="datetimesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a>
</li><li><a href="#convert">CONVERT()</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#synonyms-for-basic-sql-types">Oracle mode from MariaDB 10.3</a>
</li><li><a href="https://mariadb.com/kb/en/mariadb_schema/">mariadb_schema</a> data type qualifier</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_geomfromwkb">ST_GeomFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_GeomFromWKB(wkb[,srid])
ST_GeometryFromWKB(wkb[,srid])
GeomFromWKB(wkb[,srid])
GeometryFromWKB(wkb[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a geometry value of any type using its <a href="#well-known-binary-wkb-format">WKB</a>  representation and SRID.</p>
<p><code>ST_GeomFromWKB()</code>, <code>ST_GeometryFromWKB()</code>, <code>GeomFromWKB()</code> and <code>GeometryFromWKB()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="n">ST_AsBinary</span><span class="p">(</span><span class="n">ST_LineFromText</span><span class="p">(</span><span class="s1">'LINESTRING(0 4, 4 6)'</span><span class="p">));</span>

<span class="k">SELECT</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_GeomFromWKB</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_GeomFromWKB</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mi">0</span> <span class="mi">4</span><span class="p">,</span><span class="mi">4</span> <span class="mi">6</span><span class="p">)</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_linefromwkb">ST_LineFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_LineFromWKB(wkb[,srid])
LineFromWKB(wkb[,srid])
ST_LineStringFromWKB(wkb[,srid])
LineStringFromWKB(wkb[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a LINESTRING value using its <a href="#well-known-binary-wkb-format">WKB</a>  representation and SRID.</p>
<p><code>ST_LineFromWKB()</code>, <code>LineFromWKB()</code>, <code>ST_LineStringFromWKB()</code>, and <code>LineStringFromWKB()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="n">ST_AsBinary</span><span class="p">(</span><span class="n">ST_LineFromText</span><span class="p">(</span><span class="s1">'LineString(0 4,4 6)'</span><span class="p">));</span>

<span class="k">SELECT</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_LineFromWKB</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">))</span> <span class="k">AS</span> <span class="n">l</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">l</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mi">0</span> <span class="mi">4</span><span class="p">,</span><span class="mi">4</span> <span class="mi">6</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="decimal">DECIMAL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="decimalsyntax">Syntax</h2>
<pre class="fixed">DECIMAL[(M[,D])] [SIGNED | UNSIGNED | ZEROFILL]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#decimalsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#decimaldescription" title="Description">Description</a></li>
<li class=""><a href="#decimalexamples" title="Examples">Examples</a></li>
<li class=""><a href="#decimalsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="decimaldescription">Description</h2>
<p>A packed "exact" fixed-point number. <code>M</code> is the total number of digits (the
precision) and <code>D</code> is the number of digits after the decimal point (the
scale). </p>
<ul start="1"><li>The decimal point and (for negative numbers) the "-" sign are not
counted in <code>M</code>. 
</li><li>If <code>D</code> is <code>0</code>, values have no decimal point or fractional
part and on <a href="#insert">INSERT</a> the value will be rounded to the nearest <code>DECIMAL</code>. 
</li><li>The maximum number of digits (<code>M</code>) for <code>DECIMAL</code> is 65. 
</li><li>The maximum number of supported decimals (<code>D</code>) is <code>30</code> before <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariadB 10.2.1</a> and <code>38</code> afterwards. 
</li><li>If <code>D</code> is omitted, the default is <code>0</code>. If <code>M</code> is omitted, the default is <code>10</code>.
</li></ul>
<p><code>UNSIGNED</code>, if specified, disallows negative values.</p>
<p><code>ZEROFILL</code>, if specified, pads the number with zeros, up to the total number
of digits specified by <code>M</code>.</p>
<p>All basic calculations (+, -, *, /) with <code>DECIMAL</code> columns are done with
a precision of 65 digits.</p>
<p>For more details on the attributes, see <a href="#numeric-data-type-overview">Numeric Data Type Overview</a>.</p>
<p><code>DEC</code>, <code>NUMERIC</code> and <code>FIXED</code> are synonyms, as well as <code>NUMBER</code> in <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#synonyms-for-basic-sql-types">Oracle mode from MariaDB 10.3</a>.</p>
<h2 class="anchored_heading" id="decimalexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">d</span> <span class="nb">DECIMAL</span> <span class="n">UNSIGNED</span> <span class="n">ZEROFILL</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">.</span><span class="mi">0</span><span class="p">),(</span><span class="mi">5</span><span class="p">.</span><span class="mi">2</span><span class="p">),(</span><span class="mi">5</span><span class="p">.</span><span class="mi">7</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">6</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">2</span> <span class="n">warnings</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">16</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Records</span><span class="p">:</span> <span class="mi">6</span>  <span class="n">Duplicates</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Warnings</span><span class="p">:</span> <span class="mi">2</span>

<span class="n">Note</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1265</span><span class="p">):</span> <span class="k">Data</span> <span class="n">truncated</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'d'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">5</span>
<span class="n">Note</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1265</span><span class="p">):</span> <span class="k">Data</span> <span class="n">truncated</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'d'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">6</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">d</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="mi">0000000001</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0000000002</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0000000003</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0000000004</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0000000005</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0000000006</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><p>With <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> set, the default from <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">MariaDB 10.2.4</a>:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">7</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1264</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'d'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>
</pre><p>With <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> unset, the default until <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">7</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'d'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">d</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="mi">0000000001</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0000000002</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0000000003</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0000000004</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0000000005</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0000000006</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><h2 class="anchored_heading" id="decimalsee-also">See Also</h2>
<ul start="1"><li><a href="#numeric-data-type-overview">Numeric Data Type Overview</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#synonyms-for-basic-sql-types">Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="enum">ENUM</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="enumsyntax">Syntax</h2>
<pre class="fixed">ENUM('value1','value2',...) [CHARACTER SET charset_name] [COLLATE collation_name]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#enumsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#enumdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#enumnull-and-empty-values" title="NULL and empty values">NULL and empty values</a></li>
<li class=""><a href="#enumnumeric-index" title="Numeric index">Numeric index</a> </li></ol>
</li>
<li class=""><a href="#enumexamples" title="Examples">Examples</a></li>
<li class=""><a href="#enumsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="enumdescription">Description</h2>
<p>An enumeration. A string object that can have only one value, chosen
from the list of values 'value1', 'value2', ..., NULL or the special 
'' error value. In theory, an <code>ENUM</code> column can have a maximum of 65,535 distinct
values; in practice, the real maximum depends on many factors. <code>ENUM</code> values are represented internally as integers.</p>
<p>Trailing spaces are automatically stripped from ENUM values on table creation.</p>
<p>ENUMs require relatively little storage space compared to strings, either one or two bytes depending on the number of enumeration values.</p>
<h3 class="anchored_heading" id="enumnull-and-empty-values">NULL and empty values</h3>
<p>An ENUM can also contain NULL and empty values. If the ENUM column is declared to permit NULL values, NULL becomes a valid value, as well as the default value (see below). If <a href="https://mariadb.com/kb/en/sql_mode/">strict SQL Mode</a> is not enabled, and an invalid value is inserted into an ENUM, a special empty string, with an index value of zero (see Numeric index, below), is inserted, with a warning. This may be confusing, because the empty string is also a possible value, and the only difference if that is this case its index is not 0. Inserting will fail with an error if strict mode is active.</p>
<p>If a <code>DEFAULT</code> clause is missing, the default value will be:</p>
<ul><li><code>NULL</code> if the column is nullable;
</li><li>otherwise, the first value in the enumeration.
</li></ul>
<h3 class="anchored_heading" id="enumnumeric-index">Numeric index</h3>
<p>ENUM values are indexed numerically in the order they are defined, and sorting will be performed in this numeric order. We suggest not using ENUM to store numerals, as there is little to no storage space benefit, and it is easy to confuse the enum integer with the enum numeral value by leaving out the quotes.</p>
<p>An ENUM defined as ENUM('apple','orange','pear') would have the following index values:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Index</th><th>Value</th></tr>
<tr><td>NULL</td><td>NULL</td></tr>
<tr><td>0</td><td>''</td></tr>
<tr><td>1</td><td>'apple'</td></tr>
<tr><td>2</td><td>'orange'</td></tr>
<tr><td>3</td><td>'pear'</td></tr>
</table>
</div><h2 class="anchored_heading" id="enumexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">fruits</span> <span class="p">(</span>
  <span class="n">id</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">auto_increment</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
  <span class="n">fruit</span> <span class="n">ENUM</span><span class="p">(</span><span class="s1">'apple'</span><span class="p">,</span><span class="s1">'orange'</span><span class="p">,</span><span class="s1">'pear'</span><span class="p">),</span>
  <span class="n">bushels</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">DESCRIBE</span> <span class="n">fruits</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+-------------------------------+------+-----+---------+----------------+</span>
<span class="o">|</span> <span class="n">Field</span>   <span class="o">|</span> <span class="k">Type</span>                          <span class="o">|</span> <span class="k">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+-------------------------------+------+-----+---------+----------------+</span>
<span class="o">|</span> <span class="n">id</span>      <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>                       <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span> <span class="n">PRI</span> <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span> <span class="n">auto_increment</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">fruit</span>   <span class="o">|</span> <span class="n">enum</span><span class="p">(</span><span class="s1">'apple'</span><span class="p">,</span><span class="s1">'orange'</span><span class="p">,</span><span class="s1">'pear'</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">bushels</span> <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>                       <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+-------------------------------+------+-----+---------+----------------+</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">fruits</span>
    <span class="p">(</span><span class="n">fruit</span><span class="p">,</span><span class="n">bushels</span><span class="p">)</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="s1">'pear'</span><span class="p">,</span><span class="mi">20</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'apple'</span><span class="p">,</span><span class="mi">100</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'orange'</span><span class="p">,</span><span class="mi">25</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">fruits</span>
    <span class="p">(</span><span class="n">fruit</span><span class="p">,</span><span class="n">bushels</span><span class="p">)</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="s1">'avocado'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1265</span> <span class="p">(</span><span class="mi">01000</span><span class="p">):</span> <span class="k">Data</span> <span class="n">truncated</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'fruit'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">fruits</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+--------+---------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">fruit</span>  <span class="o">|</span> <span class="n">bushels</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+--------+---------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">pear</span>   <span class="o">|</span>      <span class="mi">20</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">apple</span>  <span class="o">|</span>     <span class="mi">100</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">orange</span> <span class="o">|</span>      <span class="mi">25</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+--------+---------+</span>
</pre><p>Selecting by numeric index:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">fruits</span> <span class="k">WHERE</span> <span class="n">fruit</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+--------+---------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">fruit</span>  <span class="o">|</span> <span class="n">bushels</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+--------+---------+</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">orange</span> <span class="o">|</span>      <span class="mi">25</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+--------+---------+</span>
</pre><p>Sorting is according to the index value:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">enums</span> <span class="p">(</span><span class="n">a</span> <span class="n">ENUM</span><span class="p">(</span><span class="s1">'2'</span><span class="p">,</span><span class="s1">'1'</span><span class="p">));</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">enums</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'1'</span><span class="p">),(</span><span class="s1">'2'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">enums</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">a</span> <span class="k">ASC</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="mi">2</span>    <span class="o">|</span>
<span class="o">|</span> <span class="mi">1</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>It's easy to get confused between returning the enum integer with the stored value, so we don't suggest using ENUM to store numerals. The first example returns the 1st indexed field ('2' has an index value of 1, as it's defined first), while the second example returns the string value '1'.</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">enums</span> <span class="k">WHERE</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="mi">2</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">enums</span> <span class="k">WHERE</span> <span class="n">a</span><span class="o">=</span><span class="s1">'1'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="mi">1</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><h2 class="anchored_heading" id="enumsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_linestringfromwkb">ST_LineStringFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_linefromwkb">ST_LineFromWKB</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_pointfromwkb">ST_PointFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_PointFromWKB(wkb[,srid])
PointFromWKB(wkb[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="#point">POINT</a> value using its <a href="#well-known-binary-wkb-format">WKB</a> representation and <a href="https://mariadb.com/kb/en/srid/">SRID</a>.</p>
<p><code>ST_PointFromWKB()</code> and <code>PointFromWKB()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="n">ST_AsBinary</span><span class="p">(</span><span class="n">ST_PointFromText</span><span class="p">(</span><span class="s1">'POINT(0 4)'</span><span class="p">));</span>

<span class="k">SELECT</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_PointFromWKB</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">))</span> <span class="k">AS</span> <span class="n">p</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">p</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">0</span> <span class="mi">4</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_polyfromwkb">ST_PolyFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_PolyFromWKB(wkb[,srid])
ST_PolygonFromWKB(wkb[,srid])
PolyFromWKB(wkb[,srid])
PolygonFromWKB(wkb[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="#polygon">POLYGON</a> value using its <a href="#well-known-binary-wkb-format">WKB</a> representation and <a href="https://mariadb.com/kb/en/srid/">SRID</a>.</p>
<p><code>ST_PolyFromWKB()</code>, <code>ST_PolygonFromWKB()</code>, <code>PolyFromWKB()</code> and <code>PolygonFromWKB()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="n">ST_AsBinary</span><span class="p">(</span><span class="n">ST_PolyFromText</span><span class="p">(</span><span class="s1">'POLYGON((1 1,1 5,4 9,6 9,9 3,7 2,1 1))'</span><span class="p">));</span>

<span class="k">SELECT</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_PolyFromWKB</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">))</span> <span class="k">AS</span> <span class="n">p</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span> <span class="n">p</span>                                      <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span> <span class="n">POLYGON</span><span class="p">((</span><span class="mi">1</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span> <span class="mi">5</span><span class="p">,</span><span class="mi">4</span> <span class="mi">9</span><span class="p">,</span><span class="mi">6</span> <span class="mi">9</span><span class="p">,</span><span class="mi">9</span> <span class="mi">3</span><span class="p">,</span><span class="mi">7</span> <span class="mi">2</span><span class="p">,</span><span class="mi">1</span> <span class="mi">1</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_polygonfromwkb">ST_PolygonFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_polyfromwkb">ST_PolyFromWKB</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="double">DOUBLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="doublesyntax">Syntax</h2>
<pre class="fixed">DOUBLE[(M,D)] [SIGNED | UNSIGNED | ZEROFILL]
DOUBLE PRECISION[(M,D)] [SIGNED | UNSIGNED | ZEROFILL]
REAL[(M,D)] [SIGNED | UNSIGNED | ZEROFILL]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#doublesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#doubledescription" title="Description">Description</a></li>
<li class=""><a href="#doubleexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="doubledescription">Description</h2>
<p>A normal-size (double-precision) floating-point number (see <a href="#float">FLOAT</a> for a single-precision floating-point number).</p>
<p>Allowable values are:</p>
<ul start="1"><li><code>-1.7976931348623157E+308</code> <em>to</em> <code>-2.2250738585072014E-308</code>
</li><li><code>0</code>
</li><li><code>2.2250738585072014E-308</code> <em>to</em> <code>1.7976931348623157E+308</code>
</li></ul>
<p>These are the theoretical limits, based on the IEEE standard. The actual range
might be slightly smaller depending on your hardware or operating system.</p>
<p><code>M</code> is the total number of digits and <code>D</code> is the number of digits
following the decimal point. If <code>M</code> and <code>D</code> are omitted, values are stored
to the limits allowed by the hardware. A double-precision
floating-point number is accurate to approximately 15 decimal places.</p>
<p><code>UNSIGNED</code>, if specified, disallows negative values.</p>
<p><code>ZEROFILL</code>, if specified, pads the number with zeros, up to the total number
of digits specified by <code>M</code>.</p>
<p>REAL and DOUBLE PRECISION are synonyms, unless the REAL_AS_FLOAT <a href="https://mariadb.com/kb/en/sql_mode/">SQL mode</a> is enabled, in which case REAL is a synonym for <a href="#float">FLOAT</a> rather than DOUBLE.</p>
<p>See <a href="https://mariadb.com/kb/en/floating-point-accuracy/">Floating Point Accuracy</a> for issues when using floating-point numbers.</p>
<p>For more details on the attributes, see <a href="#numeric-data-type-overview">Numeric Data Type Overview</a>.</p>
<h2 class="anchored_heading" id="doubleexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="nf">t1</span> <span class="p">(</span><span class="n">d</span> <span class="kt">DOUBLE</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="k">zerofill</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+-------+</span>
<span class="o">|</span> <span class="n">d</span>     <span class="o">|</span>
<span class="o">+-------+</span>
<span class="o">|</span> <span class="mi">00001</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">00002</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">00003</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">00004</span> <span class="o">|</span>
<span class="o">+-------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="float">FLOAT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="floatsyntax">Syntax</h2>
<pre class="fixed">FLOAT[(M,D)] [SIGNED | UNSIGNED | ZEROFILL]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#floatsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#floatdescription" title="Description">Description</a> </li></ol>

</div>
<h2 class="anchored_heading" id="floatdescription">Description</h2>
<p>A small (single-precision) floating-point number (see <a href="#double">DOUBLE</a> for a regular-size floating point number). Allowable values are:</p>
<ul><li>-3.402823466E+38 to -1.175494351E-38
</li><li>0
</li><li>1.175494351E-38 to 3.402823466E+38. 
</li></ul>
<p>These are the theoretical limits, based on the IEEE 
standard. The actual range might be slightly smaller depending on your
hardware or operating system.</p>
<p>M is the total number of digits and D is the number of digits
following the decimal point. If M and D are omitted, values are stored
to the limits allowed by the hardware. A single-precision
floating-point number is accurate to approximately 7 decimal places.</p>
<p>UNSIGNED, if specified, disallows negative values.</p>
<p>Using FLOAT might give you some unexpected problems because all
calculations in MariaDB are done with double precision. See <a href="https://mariadb.com/kb/en/floating-point-accuracy/">Floating Point Accuracy</a>.</p>
<p>For more details on the attributes, see <a href="#numeric-data-type-overview">Numeric Data Type Overview</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json-data-type">JSON Data Type</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_7 mariadb from_10_2_7 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1027-release-notes/">10.2.7</a></h5><p>The JSON alias was added in <a href="https://mariadb.com/kb/en/mariadb-1027-release-notes/">MariaDB 10.2.7</a>. This was done to make it possible to use JSON columns in <a href="https://mariadb.com/kb/en/binary-log-formats/#statement-based">statement based</a> <a href="https://mariadb.com/kb/en/high-availability-performance-tuning-mariadb-replication/">replication</a> from MySQL to MariaDB and to make it possible for MariaDB to read <a href="https://mariadb.com/kb/en/mysqldump/">mysqldumps</a> from MySQL.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_7"><a href="#json-data-typeexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_2_7"><a href="#json-data-typereplicating-json-data-between-mysql-and-mariadb" title="Replicating JSON Data Between MySQL and MariaDB">Replicating JSON Data Between MySQL and MariaDB</a></li>
<li class="mariadb_from_10_2_7"><a href="#json-data-typeconverting-a-mysql-table-with-json-fields-to-mariadb" title="Converting a MySQL TABLE with JSON Fields to MariaDB">Converting a MySQL TABLE with JSON Fields to MariaDB</a></li>
<li class="mariadb_from_10_2_7"><a href="#json-data-typedifferences-between-mysql-json-strings-and-mariadb-json-strings" title="Differences Between MySQL JSON Strings and MariaDB JSON Strings">Differences Between MySQL JSON Strings and MariaDB JSON Strings</a></li>
<li class="mariadb_from_10_2_7"><a href="#json-data-typesee-also" title="See Also">See Also</a> </li></ol>

</div>
<p>JSON is an alias for <a href="#longtext">LONGTEXT</a> introduced for compatibility reasons with MySQL's JSON data type. MariaDB implements this as a LONGTEXT rather, as the JSON data type contradicts the SQL standard, and MariaDB's benchmarks indicate that performance is at least equivalent.</p>
<p>In order to ensure that a a valid json document is inserted, the <a href="#json_valid">JSON_VALID</a> function can be used as a <a ">CHECK constraint</a>. This constraint is automatically included for types using the JSON alias from <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">MariaDB 10.4.3</a>.</p>
<h2 class="anchored_heading" id="json-data-typeexamples">Examples</h2>
<pre class="fixed">CREATE TABLE t (j JSON);

DESC t;
+-------+----------+------+-----+---------+-------+
| Field | Type     | Null | Key | Default | Extra |
+-------+----------+------+-----+---------+-------+
| j     | longtext | YES  |     | NULL    |       |
+-------+----------+------+-----+---------+-------+
</pre><p>With validation:</p>
<pre class="fixed">CREATE TABLE t2 (
  j JSON 
  CHECK (JSON_VALID(j))
);

INSERT INTO t2 VALUES ('invalid');
ERROR 4025 (23000): CONSTRAINT `j` failed for `test`.`t2`

INSERT INTO t2 VALUES ('{"id": 1, "name": "Monty"}');
Query OK, 1 row affected (0.13 sec)
</pre><h2 class="anchored_heading" id="json-data-typereplicating-json-data-between-mysql-and-mariadb">Replicating JSON Data Between MySQL and MariaDB</h2>
<p>The JSON type in MySQL stores the JSON object in a compact form, not as <a href="#longtext">LONGTEXT</a> as in MariaDB.
This means that row based replication will not work for JSON types from MySQL to MariaDB.</p>
<p>There are a a few different ways to solve this:</p>
<ul start="1"><li>Use statement based replication.
</li><li>Change the JSON column to type TEXT in MySQL
</li><li>If you must use row-based replication and cannot change the MySQL master from JSON to TEXT, you can try to introduce an intermediate MySQL slave and change the column type from JSON to TEXT on it. Then you replicate from this intermediate slave to MariaDB.
</li></ul>
<h2 class="anchored_heading" id="json-data-typeconverting-a-mysql-table-with-json-fields-to-mariadb">Converting a MySQL TABLE with JSON Fields to MariaDB</h2>
<p>MariaDB can't directly access MySQL's JSON format.</p>
<p>There are a a few different ways to move the table to MariaDB:</p>
<ul start="1"><li>Change the JSON column to type TEXT in MySQL.  After this, MariaDB can directly use the table without any need for a dump and restore.
</li><li><a href="https://mariadb.com/kb/en/mysqldump/#examples">Use mariadb-dump/mysqldump to copy the table</a>.
</li></ul>
<h2 class="anchored_heading" id="json-data-typedifferences-between-mysql-json-strings-and-mariadb-json-strings">Differences Between MySQL JSON Strings and MariaDB JSON Strings</h2>
<ul start="1"><li>In MySQL, JSON is an object and is <a href="https://dev.mysql.com/doc/refman/8.0/en/json.html#json-comparison">compared according to json values</a>. In MariaDB JSON strings are normal strings and compared as strings. One exception is when using <a href="#json_extract">JSON_EXTRACT()</a> in which case strings are unescaped before comparison.
</li></ul>
<h2 class="anchored_heading" id="json-data-typesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/json-functions/">JSON Functions</a>
</li><li><a href="https://mariadb.com/kb/en/connect-json-table-type/">CONNECT JSON Table Type</a>
</li><li><a href="https://jira.mariadb.org/browse/MDEV-9144">MDEV-9144</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="geometry-properties-boundary">BOUNDARY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_boundary">ST_BOUNDARY</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="dimension">DIMENSION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_dimension">ST_DIMENSION</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="geometry-properties-envelope">ENVELOPE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_envelope">ST_ENVELOPE</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="geometry-properties-geometryn">GeometryN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_geometryn">ST_GeometryN</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="geometry-properties-geometrytype">GeometryType</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_geometrytype">ST_GeometryType</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="isclosed">IsClosed</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_isclosed">ST_IsClosed</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="geometry-properties-isempty">IsEmpty</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_isempty">ST_IsEmpty</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="isring">IsRing</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_isring">ST_IsRing</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="geometry-properties-issimple">IsSimple</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_issimple">ST_IsSImple</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="geometry-properties-numgeometries">NumGeometries</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_numgeometries">ST_NumGeometries</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="geometry-properties-srid">SRID</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>A synonym for <a href="#st_srid">ST_SRID</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_dimension">ST_DIMENSION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_Dimension(g)
Dimension(g)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the inherent dimension of the geometry value <em><code>g</code></em>. The result can
be</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Dimension</th><th>Definition</th></tr>
<tr><td><code>   -1</code></td><td>empty geometry</td></tr>
<tr><td><code>    0</code></td><td>geometry with no length or area</td></tr>
<tr><td><code>    1</code></td><td>geometry with no area but nonzero length</td></tr>
<tr><td><code>    2</code></td><td>geometry with nonzero area</td></tr>
</table>
</div><p><code>ST_Dimension()</code> and <code>Dimension()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">Dimension</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'LineString(1 1,2 2)'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Dimension</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'LineString(1 1,2 2)'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span>                                              <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="geometry-types">Geometry Types</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#geometry-typesdescription" title="Description">Description</a></li>
<li class=""><a href="#geometry-typesexamples" title="Examples">Examples</a> <ol class="toc">
<li class=""><a href="#geometry-typespointpoint" title="POINT">POINT</a></li>
<li class=""><a href="#geometry-typeslinestringlinestring" title="LINESTRING">LINESTRING</a></li>
<li class=""><a href="#geometry-typespolygonpolygon" title="POLYGON">POLYGON</a></li>
<li class=""><a href="#geometry-typesmultipointmultipoint" title="MULTIPOINT">MULTIPOINT</a></li>
<li class=""><a href="#geometry-typesmultilinestringmultilinestring" title="MULTILINESTRING">MULTILINESTRING</a></li>
<li class=""><a href="#geometry-typesmultipolygonmultipolygon" title="MULTIPOLYGON">MULTIPOLYGON</a></li>
<li class=""><a href="#geometry-typesgeometrycollectiongeometrycollection" title="GEOMETRYCOLLECTION">GEOMETRYCOLLECTION</a></li>
<li class=""><a href="#geometry-typesgeometrygeometry" title="GEOMETRY">GEOMETRY</a> </li></ol>
</li></ol>

</div>
<h2 class="anchored_heading" id="geometry-typesdescription">Description</h2>
<p>MariaDB provides a standard way of creating spatial columns for geometry types,
for example, with <a href="#create-table">CREATE TABLE</a> or <a href="#alter-table">ALTER TABLE</a>.
Currently, spatial columns are supported for <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a>, <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>, NDB, and <a href="https://mariadb.com/kb/en/archive/">ARCHIVE</a>
tables. See also <a href="https://mariadb.com/kb/en/spatial/">SPATIAL INDEX</a>.</p>
<p>The basic geometry type is <code>GEOMETRY</code>. But the type can be more specific. The following types are supported:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Geometry Types</th></tr>
<tr><td><a href="#point">POINT</a></td></tr>
<tr><td><a href="#linestring">LINESTRING</a></td></tr>
<tr><td><a href="#polygon">POLYGON</a></td></tr>
<tr><td><a href="#multipoint">MULTIPOINT</a></td></tr>
<tr><td><a href="#multilinestring">MULTILINESTRING</a></td></tr>
<tr><td><a href="#multipolygon">MULTIPOLYGON</a></td></tr>
<tr><td><a href="#geometrycollection">GEOMETRYCOLLECTION</a></td></tr>
<tr><td>GEOMETRY</td></tr>
</table>
</div><h2 class="anchored_heading" id="geometry-typesexamples">Examples</h2>
<div class="cstm-style bluebox" style="font-size:0.8em;"><p><strong>Note:</strong> For clarity, only one type is listed per table in the examples below, but a table
row can contain multiple types. For example:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">object</span> <span class="p">(</span><span class="n">shapeA</span> <span class="n">POLYGON</span><span class="p">,</span> <span class="n">shapeB</span> <span class="n">LINESTRING</span><span class="p">);</span>
</pre></div><h3 class="anchored_heading" id="geometry-typespointpoint"><a href="#point">POINT</a></h3>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_point</span>  <span class="p">(</span><span class="k">g</span> <span class="n">POINT</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="n">FIELDS</span> <span class="k">FROM</span> <span class="n">gis_point</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_point</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">PointFromText</span><span class="p">(</span><span class="s1">'POINT(10 10)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">PointFromText</span><span class="p">(</span><span class="s1">'POINT(20 10)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">PointFromText</span><span class="p">(</span><span class="s1">'POINT(20 20)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">PointFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">PointFromText</span><span class="p">(</span><span class="s1">'POINT(10 20)'</span><span class="p">))));</span>
</pre><h3 class="anchored_heading" id="geometry-typeslinestringlinestring"><a href="#linestring">LINESTRING</a></h3>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_line</span>  <span class="p">(</span><span class="k">g</span> <span class="n">LINESTRING</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="n">FIELDS</span> <span class="k">FROM</span> <span class="n">gis_line</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_line</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">LineFromText</span><span class="p">(</span><span class="s1">'LINESTRING(0 0,0 10,10 0)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">LineStringFromText</span><span class="p">(</span><span class="s1">'LINESTRING(10 10,20 10,20 20,10 20,10 10)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">LineStringFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">10</span><span class="p">)))));</span>
</pre><h3 class="anchored_heading" id="geometry-typespolygonpolygon"><a href="#polygon">POLYGON</a></h3>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_polygon</span>   <span class="p">(</span><span class="k">g</span> <span class="n">POLYGON</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="n">FIELDS</span> <span class="k">FROM</span> <span class="n">gis_polygon</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_polygon</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">PolygonFromText</span><span class="p">(</span><span class="s1">'POLYGON((10 10,20 10,20 20,10 20,10 10))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">PolyFromText</span><span class="p">(</span><span class="s1">'POLYGON((0 0,50 0,50 50,0 50,0 0), (10 10,20 10,20 20,10 20,10 10))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">PolyFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">Polygon</span><span class="p">(</span><span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))))));</span>
</pre><h3 class="anchored_heading" id="geometry-typesmultipointmultipoint"><a href="#multipoint">MULTIPOINT</a></h3>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_multi_point</span> <span class="p">(</span><span class="k">g</span> <span class="n">MULTIPOINT</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="n">FIELDS</span> <span class="k">FROM</span> <span class="n">gis_multi_point</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_multi_point</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">MultiPointFromText</span><span class="p">(</span><span class="s1">'MULTIPOINT(0 0,10 10,10 20,20 20)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MPointFromText</span><span class="p">(</span><span class="s1">'MULTIPOINT(1 1,11 11,11 21,21 21)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MPointFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">MultiPoint</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">)))));</span>
</pre><h3 class="anchored_heading" id="geometry-typesmultilinestringmultilinestring"><a href="#multilinestring">MULTILINESTRING</a></h3>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_multi_line</span> <span class="p">(</span><span class="k">g</span> <span class="n">MULTILINESTRING</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="n">FIELDS</span> <span class="k">FROM</span> <span class="n">gis_multi_line</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_multi_line</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">MultiLineStringFromText</span><span class="p">(</span><span class="s1">'MULTILINESTRING((10 48,10 21,10 0),(16 0,16 23,16 48))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MLineFromText</span><span class="p">(</span><span class="s1">'MULTILINESTRING((10 48,10 21,10 0))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MLineFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">MultiLineString</span><span class="p">(</span><span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)),</span> <span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="mi">7</span><span class="p">))))));</span>
</pre><h3 class="anchored_heading" id="geometry-typesmultipolygonmultipolygon"><a href="#multipolygon">MULTIPOLYGON</a></h3>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_multi_polygon</span>  <span class="p">(</span><span class="k">g</span> <span class="n">MULTIPOLYGON</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="n">FIELDS</span> <span class="k">FROM</span> <span class="n">gis_multi_polygon</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_multi_polygon</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">MultiPolygonFromText</span><span class="p">(</span><span class="s1">'MULTIPOLYGON(((28 26,28 0,84 0,84 42,28 26),(52 18,66 23,73 9,48 6,52 18)),((59 18,67 18,67 13,59 13,59 18)))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MPolyFromText</span><span class="p">(</span><span class="s1">'MULTIPOLYGON(((28 26,28 0,84 0,84 42,28 26),(52 18,66 23,73 9,48 6,52 18)),((59 18,67 18,67 13,59 13,59 18)))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MPolyFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">MultiPolygon</span><span class="p">(</span><span class="n">Polygon</span><span class="p">(</span><span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))))));</span>
</pre><h3 class="anchored_heading" id="geometry-typesgeometrycollectiongeometrycollection"><a href="#geometrycollection">GEOMETRYCOLLECTION</a></h3>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_geometrycollection</span>  <span class="p">(</span><span class="k">g</span> <span class="n">GEOMETRYCOLLECTION</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="n">FIELDS</span> <span class="k">FROM</span> <span class="n">gis_geometrycollection</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_geometrycollection</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">GeomCollFromText</span><span class="p">(</span><span class="s1">'GEOMETRYCOLLECTION(POINT(0 0), LINESTRING(0 0,10 10))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">GeometryFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">GeometryCollection</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">44</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">)))))),</span>
    <span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'GeometryCollection()'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'GeometryCollection EMPTY'</span><span class="p">));</span>
</pre><h3 class="anchored_heading" id="geometry-typesgeometrygeometry"><a href="https://mariadb.com/kb/en/geometry/">GEOMETRY</a></h3>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_geometry</span> <span class="p">(</span><span class="k">g</span> <span class="n">GEOMETRY</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="n">FIELDS</span> <span class="k">FROM</span> <span class="n">gis_geometry</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">into</span> <span class="n">gis_geometry</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">gis_point</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">into</span> <span class="n">gis_geometry</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">gis_line</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">into</span> <span class="n">gis_geometry</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">gis_polygon</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">into</span> <span class="n">gis_geometry</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">gis_multi_point</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">into</span> <span class="n">gis_geometry</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">gis_multi_line</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">into</span> <span class="n">gis_geometry</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">gis_multi_polygon</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">into</span> <span class="n">gis_geometry</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">gis_geometrycollection</span><span class="p">;</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="longtext">LONGTEXT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="longtextsyntax">Syntax</h2>
<pre class="fixed">LONGTEXT [CHARACTER SET charset_name] [COLLATE collation_name]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3"><a href="#longtextsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3"><a href="#longtextdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3"><a href="#longtextoracle-mode" title="Oracle Mode">Oracle Mode</a></li>
<li class="mariadb_from_10_3"><a href="#longtextsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="longtextdescription">Description</h2>
<p>A <a href="#text">TEXT</a> column with a maximum length of 4,294,967,295 or 4GB (<code>2<sup>32</sup> - 1</code>) characters. The effective maximum length is less if the value contains multi-byte characters. The effective maximum length of LONGTEXT columns also depends on the configured maximum packet size in the client/server protocol and available memory. Each LONGTEXT value is stored using a four-byte length prefix that indicates the number of bytes in the value.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1027-release-notes/">MariaDB 10.2.7</a>, JSON is an alias for LONGTEXT. See <a href="#json-data-type">JSON Data Type</a> for details.</p>
<h2 class="anchored_heading" id="longtextoracle-mode">Oracle Mode</h2>
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#synonyms-for-basic-sql-types">Oracle mode from MariaDB 10.3</a>, <code>CLOB</code> is a synonym for <code>LONGTEXT</code>.</p>
</div><h2 class="anchored_heading" id="longtextsee-also">See Also</h2>
<ul start="1"><li><a href="#text">TEXT</a>
</li><li><a href="#blob-and-text-data-types">BLOB and TEXT Data Types</a>
</li><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a>
</li><li><a href="#json-data-type">JSON Data Type</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#synonyms-for-basic-sql-types">Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mediumint">MEDIUMINT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MEDIUMINT[(M)] [SIGNED | UNSIGNED | ZEROFILL]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A medium-sized integer. The signed range is -8388608 to 8388607. The
unsigned range is 0 to 16777215.</p>
<p><code>ZEROFILL</code> pads the integer with zeroes and assumes <code>UNSIGNED</code> (even if <code>UNSIGNED</code> is not specified).</p>
<p><code>INT3</code> is a synonym for <code>MEDIUMINT</code>.</p>
<p>For details on the attributes, see <a href="#numeric-data-type-overview">Numeric Data Type Overview</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">mediumints</span> <span class="p">(</span><span class="n">a</span> <span class="n">MEDIUMINT</span><span class="p">,</span><span class="n">b</span> <span class="n">MEDIUMINT</span> <span class="n">UNSIGNED</span><span class="p">,</span><span class="k">c</span> <span class="n">MEDIUMINT</span> <span class="n">ZEROFILL</span><span class="p">);</span>

<span class="k">DESCRIBE</span> <span class="n">mediumints</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+--------------------------------+------+-----+---------+-------+</span>
<span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="k">Type</span>                           <span class="o">|</span> <span class="k">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+--------------------------------+------+-----+---------+-------+</span>
<span class="o">|</span> <span class="n">a</span>     <span class="o">|</span> <span class="n">mediumint</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>                   <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>     <span class="o">|</span> <span class="n">mediumint</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="n">unsigned</span>          <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
<span class="o">|</span> <span class="k">c</span>     <span class="o">|</span> <span class="n">mediumint</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="n">unsigned</span> <span class="n">zerofill</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+--------------------------------+------+-----+---------+-------+</span>
</pre><p>With <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> set, the default from <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">MariaDB 10.2.4</a>:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">mediumints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1264</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'b'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">mediumints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1264</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'c'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">mediumints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">mediumints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">8388608</span><span class="p">,</span><span class="mi">8388608</span><span class="p">,</span><span class="mi">8388608</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1264</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'a'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">mediumints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">8388607</span><span class="p">,</span><span class="mi">8388608</span><span class="p">,</span><span class="mi">8388608</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">mediumints</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+---------+----------+</span>
<span class="o">|</span> <span class="n">a</span>       <span class="o">|</span> <span class="n">b</span>       <span class="o">|</span> <span class="k">c</span>        <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+---------+----------+</span>
<span class="o">|</span>     <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>      <span class="mi">10</span> <span class="o">|</span> <span class="mi">00000010</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">8388607</span> <span class="o">|</span> <span class="mi">8388608</span> <span class="o">|</span> <span class="mi">08388608</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+---------+----------+</span>
</pre><p>With <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> unset, the default until <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">mediumints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">2</span> <span class="n">warnings</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'b'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'c'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">mediumints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">08</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'c'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">mediumints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">mediumints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">8388608</span><span class="p">,</span><span class="mi">8388608</span><span class="p">,</span><span class="mi">8388608</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'a'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">mediumints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">8388607</span><span class="p">,</span><span class="mi">8388608</span><span class="p">,</span><span class="mi">8388608</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">mediumints</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+---------+----------+</span>
<span class="o">|</span> <span class="n">a</span>       <span class="o">|</span> <span class="n">b</span>       <span class="o">|</span> <span class="k">c</span>        <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+---------+----------+</span>
<span class="o">|</span>     <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>       <span class="mi">0</span> <span class="o">|</span> <span class="mi">00000000</span> <span class="o">|</span>
<span class="o">|</span>     <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>       <span class="mi">0</span> <span class="o">|</span> <span class="mi">00000000</span> <span class="o">|</span>
<span class="o">|</span>     <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>      <span class="mi">10</span> <span class="o">|</span> <span class="mi">00000000</span> <span class="o">|</span>
<span class="o">|</span>     <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>      <span class="mi">10</span> <span class="o">|</span> <span class="mi">00000010</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">8388607</span> <span class="o">|</span> <span class="mi">8388608</span> <span class="o">|</span> <span class="mi">08388608</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">8388607</span> <span class="o">|</span> <span class="mi">8388608</span> <span class="o">|</span> <span class="mi">08388608</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+---------+----------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#numeric-data-type-overview">Numeric Data Type Overview</a>
</li><li><a href="#tinyint">TINYINT</a>
</li><li><a href="#smallint">SMALLINT</a>
</li><li><a href="https://mariadb.com/kb/en/int/">INTEGER</a>
</li><li><a href="#bigint">BIGINT</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_geometryn">ST_GEOMETRYN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_GeometryN(gc,N)
GeometryN(gc,N)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the N-th geometry in the GeometryCollection <em><code>gc</code>.</em> Geometries are numbered beginning with 1.</p>
<p><code>ST_GeometryN()</code> and <code>GeometryN()</code> are synonyms.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">gc</span> <span class="o">=</span> <span class="s1">'GeometryCollection(Point(1 1),LineString(12 14, 9 11))'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">AsText</span><span class="p">(</span><span class="n">GeometryN</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">gc</span><span class="p">),</span><span class="mi">1</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span> <span class="n">AsText</span><span class="p">(</span><span class="n">GeometryN</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">gc</span><span class="p">),</span><span class="mi">1</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>                             <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="numeric-data-type-overview">Numeric Data Type Overview</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#numeric-data-type-overviewsigned-unsigned-and-zerofill" title="SIGNED, UNSIGNED and ZEROFILL">SIGNED, UNSIGNED and ZEROFILL</a> <ol class="toc">
<li class=""><a href="#numeric-data-type-overviewexamples" title="Examples">Examples</a> </li></ol>
</li>
<li class=""><a href="#numeric-data-type-overviewrange" title="Range">Range</a> <ol class="toc">
<li class=""><a href="#numeric-data-type-overviewexamples" title="Examples">Examples</a> </li></ol>
</li>
<li class=""><a href="#numeric-data-type-overviewauto_increment" title="Auto_increment">Auto_increment</a> </li></ol>

</div>
<p>There are a number of numeric data types:</p>
<ul start="1"><li><a href="#tinyint">TINYINT</a>
</li><li><a href="#boolean">BOOLEAN</a> - Synonym for TINYINT(1)
</li><li><a href="https://mariadb.com/kb/en/int1/">INT1</a> - Synonym for TINYINT
</li><li><a href="#smallint">SMALLINT</a>
</li><li><a href="https://mariadb.com/kb/en/int2/">INT2</a> - Synonym for SMALLINT
</li><li><a href="#mediumint">MEDIUMINT</a>
</li><li><a href="https://mariadb.com/kb/en/int3/">INT3</a> - Synonym for MEDIUMINT
</li><li><a href="https://mariadb.com/kb/en/int/">INT</a>, INTEGER
</li><li><a href="https://mariadb.com/kb/en/int4/">INT4</a> - Synonym for INT
</li><li><a href="#bigint">BIGINT</a>
</li><li><a href="https://mariadb.com/kb/en/int8/">INT8</a> - Synonym for BIGINT
</li><li><a href="#decimal">DECIMAL</a>, DEC, NUMERIC, FIXED
</li><li><a href="#float">FLOAT</a>
</li><li><a href="#double">DOUBLE</a>, DOUBLE PRECISION, REAL
</li><li><a href="#bit">BIT</a>
</li></ul>
<p>See the specific articles for detailed information on each.</p>
<h2 class="anchored_heading" id="numeric-data-type-overviewsigned-unsigned-and-zerofill">SIGNED, UNSIGNED and ZEROFILL</h2>
<p>Most numeric types can be defined as <code>SIGNED</code>, <code>UNSIGNED</code> or <code>ZEROFILL</code>, for example:</p>
<pre class="fixed">TINYINT[(M)] [SIGNED | UNSIGNED | ZEROFILL]
</pre><p>If <code>SIGNED</code>, or no attribute, is specified, a portion of the numeric type will be reserved for the sign (plus or minus). For example, a TINYINT SIGNED can range from -128 to 127. </p>
<p>If <code>UNSIGNED</code> is specified, no portion of the numeric type is reserved for the sign, so for integer types range can be larger. For example, a TINYINT UNSIGNED can range from 0 to 255. Floating point and fixed-point types also can be <code>UNSIGNED</code>, but this only prevents negative values from being stored and doesn't alter the range. </p>
<p>If <code>ZEROFILL</code> is specified, the column will be set to UNSIGNED and the spaces used by default to pad the field are replaced with zeros. <code>ZEROFILL</code> is ignored in expressions or as part of a <a href="#union">UNION</a>. <code>ZEROFILL</code> is a non-standard MySQL and MariaDB enhancement.</p>
<p>Note that although the preferred syntax indicates that the attributes are exclusive, more than one attribute can be specified.</p>
<p>Until <a href="https://mariadb.com/kb/en/mariadb-1027-release-notes/">MariaDB 10.2.7</a> (<a href="https://jira.mariadb.org/browse/MDEV-8659">MDEV-8659</a>), any combination of the attributes could be used in any order, with duplicates. In this case:</p>
<ul start="1"><li>the presence of <code>ZEROFILL</code> makes the column <code>UNSIGNED ZEROFILL</code>.
</li><li>the presence of <code>UNSIGNED</code> makes the column <code>UNSIGNED</code>.
</li></ul>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1028-release-notes/">MariaDB 10.2.8</a>, only the following combinations are supported:</p>
<ul start="1"><li><code>SIGNED</code>
</li><li><code>UNSIGNED</code>
</li><li><code>ZEROFILL</code>
</li><li><code>UNSIGNED ZEROFILL</code>
</li><li><code>ZEROFILL UNSIGNED</code>
</li></ul>
<p>The latter two should be replaced with simply <code>ZEROFILL</code>, but are still accepted by the parser.</p>
<h3 class="anchored_heading" id="numeric-data-type-overviewexamples">Examples</h3>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">zf</span> <span class="p">(</span>
  <span class="n">i1</span> <span class="n">TINYINT</span> <span class="n">SIGNED</span><span class="p">,</span>
  <span class="n">i2</span> <span class="n">TINYINT</span> <span class="n">UNSIGNED</span><span class="p">,</span>
  <span class="n">i3</span> <span class="n">TINYINT</span> <span class="n">ZEROFILL</span>
<span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">zf</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">zf</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span> <span class="n">i1</span>   <span class="o">|</span> <span class="n">i2</span>   <span class="o">|</span> <span class="n">i3</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>  <span class="mi">002</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
</pre><h2 class="anchored_heading" id="numeric-data-type-overviewrange">Range</h2>
<p>When attempting to add a value that is out of the valid range for the numeric type, MariaDB will react depending on the <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict SQL_MODE</a> setting.</p>
<p>If <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> has been set (the default from <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">MariaDB 10.2.4</a>), MariaDB will return an error.</p>
<p>If <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> has not been set (the default until <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>), MariaDB will adjust the number to fit in the field, returning a warning.</p>
<h3 class="anchored_heading" id="numeric-data-type-overviewexamples">Examples</h3>
<p>With strict_mode set:</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'sql_mode'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------+-------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span> <span class="o">|</span> <span class="n">Value</span>                                                                                     <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+-------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">sql_mode</span>      <span class="o">|</span> <span class="n">STRICT_TRANS_TABLES</span><span class="p">,</span><span class="n">ERROR_FOR_DIVISION_BY_ZERO</span><span class="p">,</span><span class="n">NO_AUTO_CREATE_USER</span><span class="p">,</span><span class="n">NO_ENGINE_SUBSTITUTION</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+-------------------------------------------------------------------------------------------+</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">ranges</span> <span class="p">(</span><span class="n">i1</span> <span class="n">TINYINT</span><span class="p">,</span> <span class="n">i2</span> <span class="nb">SMALLINT</span><span class="p">,</span> <span class="n">i3</span> <span class="n">TINYINT</span> <span class="n">UNSIGNED</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">ranges</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">257</span><span class="p">,</span><span class="mi">257</span><span class="p">,</span><span class="mi">257</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1264</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'i1'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">ranges</span><span class="p">;</span>
<span class="n">Empty</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">10</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>With strict_mode unset:</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'sql_mode%'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span> <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+-------+</span>
<span class="o">|</span> <span class="n">sql_mode</span>      <span class="o">|</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+-------+</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">ranges</span> <span class="p">(</span><span class="n">i1</span> <span class="n">TINYINT</span><span class="p">,</span> <span class="n">i2</span> <span class="nb">SMALLINT</span><span class="p">,</span> <span class="n">i3</span> <span class="n">TINYINT</span> <span class="n">UNSIGNED</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">ranges</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">257</span><span class="p">,</span><span class="mi">257</span><span class="p">,</span><span class="mi">257</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">2</span> <span class="n">warnings</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------+---------------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span>   <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                     <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+---------------------------------------------+</span>
<span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1264</span> <span class="o">|</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'i1'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1264</span> <span class="o">|</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'i3'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+---------------------------------------------+</span>
<span class="mi">2</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">ranges</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span> <span class="n">i1</span>   <span class="o">|</span> <span class="n">i2</span>   <span class="o">|</span> <span class="n">i3</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span>  <span class="mi">127</span> <span class="o">|</span>  <span class="mi">257</span> <span class="o">|</span>  <span class="mi">255</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
</pre><h2 class="anchored_heading" id="numeric-data-type-overviewauto_increment">Auto_increment</h2>
<p>The <code>AUTO_INCREMENT</code> attribute can be used to generate a unique identity for new rows. For more details, see <a href="#auto_increment">auto_increment</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="smallint">SMALLINT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SMALLINT[(M)] [SIGNED | UNSIGNED | ZEROFILL]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A small <a href="https://mariadb.com/kb/en/sql_language-data_types-int/">integer</a>. The signed range is -32768 to 32767. The unsigned range is 0 to 65535.</p>
<p>If a column has been set to ZEROFILL, all values will be prepended by zeros so that the SMALLINT value contains a number of M digits.</p>
<p><strong>Note:</strong> If the ZEROFILL attribute has been specified, the column will automatically become UNSIGNED.</p>
<p><code>INT2</code> is a synonym for <code>SMALLINT</code>.</p>
<p>For more details on the attributes, see <a href="#numeric-data-type-overview">Numeric Data Type Overview</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">smallints</span> <span class="p">(</span><span class="n">a</span> <span class="nb">SMALLINT</span><span class="p">,</span><span class="n">b</span> <span class="nb">SMALLINT</span> <span class="n">UNSIGNED</span><span class="p">,</span><span class="k">c</span> <span class="nb">SMALLINT</span> <span class="n">ZEROFILL</span><span class="p">);</span>
</pre><p>With <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> set, the default from <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">MariaDB 10.2.4</a>:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">smallints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1264</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'b'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">smallints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1264</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'c'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">smallints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">smallints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">32768</span><span class="p">,</span><span class="mi">32768</span><span class="p">,</span><span class="mi">32768</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1264</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'a'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">smallints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">32767</span><span class="p">,</span><span class="mi">32768</span><span class="p">,</span><span class="mi">32768</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">smallints</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+-------+-------+</span>
<span class="o">|</span> <span class="n">a</span>     <span class="o">|</span> <span class="n">b</span>     <span class="o">|</span> <span class="k">c</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+-------+</span>
<span class="o">|</span>   <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>    <span class="mi">10</span> <span class="o">|</span> <span class="mi">00010</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">32767</span> <span class="o">|</span> <span class="mi">32768</span> <span class="o">|</span> <span class="mi">32768</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+-------+</span>
</pre><p>With <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> unset, the default until <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">smallints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">2</span> <span class="n">warnings</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">09</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'b'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'c'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">smallints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">08</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'c'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">smallints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">smallints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">32768</span><span class="p">,</span><span class="mi">32768</span><span class="p">,</span><span class="mi">32768</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'a'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">smallints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">32767</span><span class="p">,</span><span class="mi">32768</span><span class="p">,</span><span class="mi">32768</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">smallints</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+-------+-------+</span>
<span class="o">|</span> <span class="n">a</span>     <span class="o">|</span> <span class="n">b</span>     <span class="o">|</span> <span class="k">c</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+-------+</span>
<span class="o">|</span>   <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span> <span class="mi">00000</span> <span class="o">|</span>
<span class="o">|</span>   <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>    <span class="mi">10</span> <span class="o">|</span> <span class="mi">00000</span> <span class="o">|</span>
<span class="o">|</span>   <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>    <span class="mi">10</span> <span class="o">|</span> <span class="mi">00010</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">32767</span> <span class="o">|</span> <span class="mi">32768</span> <span class="o">|</span> <span class="mi">32768</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">32767</span> <span class="o">|</span> <span class="mi">32768</span> <span class="o">|</span> <span class="mi">32768</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+-------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#numeric-data-type-overview">Numeric Data Type Overview</a>
</li><li><a href="#tinyint">TINYINT</a>
</li><li><a href="#mediumint">MEDIUMINT</a>
</li><li><a href="https://mariadb.com/kb/en/int/">INTEGER</a>
</li><li><a href="#bigint">BIGINT</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_geometrytype">ST_GEOMETRYTYPE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_GeometryType(g)
GeometryType(g)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns as a string the name of the geometry type of which the
geometry instance <code>g</code> is a member. The name corresponds to one of the
instantiable Geometry subclasses.</p>
<p><code>ST_GeometryType()</code> and <code>GeometryType()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GeometryType</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'POINT(1 1)'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
<span class="o">|</span> <span class="n">GeometryType</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'POINT(1 1)'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
<span class="o">|</span> <span class="n">POINT</span>                                    <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_isempty">ST_ISEMPTY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_IsEmpty(g)
IsEmpty(g)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>IsEmpty is a function defined by the OpenGIS specification, but is not fully implemented by MariaDB or MySQL. </p>
<p>Since MariaDB and MySQL do not support GIS EMPTY values such as POINT EMPTY, as implemented it simply returns <code>1</code> if the geometry value <em><code>g</code></em> is invalid, <code>0</code> if it is valid, and <code>NULL</code> if the argument is <code>NULL</code>.</p>
<p><code>ST_IsEmpty()</code> and <code>IsEmpty()</code> are synonyms.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_isring">ST_IsRing</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_1_2 mariadb from_10_1_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">10.1.2</a></h5><p>The ST_IsRing function was introduced in <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a></p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_IsRing(g)
IsRing(g)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns true if a given <a href="#linestring">LINESTRING</a> is a ring, that is, both <a href="#st_isclosed">ST_IsClosed</a> and <a href="#st_issimple">ST_IsSimple</a>. A simple curve does not pass through the same point more than once.  However, see <a href="https://jira.mariadb.org/browse/MDEV-7510">MDEV-7510</a>.</p>
<p><code>St_IsRing()</code> and <code>IsRing()</code> are synonyms.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="string-literals">String Literals</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>Strings are sequences of characters and are enclosed with quotes.</p>
<p>The syntax is:</p>
<pre class="fixed">[_charset_name]'string' [COLLATE collation_name]
</pre><p>For example:</p>
<pre class="fixed">'The MariaDB Foundation'
_utf8 'Foundation' COLLATE utf8_unicode_ci;
</pre><p>Strings can either be enclosed in single quotes or in double quotes (the same character must be used to both open and close the string).</p>
<p>The ANSI SQL-standard does not permit double quotes for enclosing strings, and although MariaDB does by default, if the MariaDB server has enabled the <a href="https://mariadb.com/kb/en/sql-mode/#ansi_quotes">ANSI_QUOTES_SQL</a> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a>, double quotes will be treated as being used for <a href="https://mariadb.com/kb/en/identifier-names/">identifiers</a> instead of strings.</p>
<p>Strings that are next to each other are automatically concatenated. For example:</p>
<pre class="fixed">'The ' 'MariaDB ' 'Foundation'
</pre><p>and</p>
<pre class="fixed">'The MariaDB Foundation'
</pre><p>are equivalent.</p>
<p>The <code>\</code> (backslash character) is used to escape characters (unless the <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> hasn't been set to <a href="https://mariadb.com/kb/en/sql-mode/#no_backslash_escapes">NO_BACKSLASH_ESCAPES</a>). For example:</p>
<pre class="fixed">'MariaDB's new features'
</pre><p>is not a valid string because of the single quote in the middle of the string, which is treated as if it closes the string, but is actually meant as part of the string, an apostrophe. The backslash character helps in situations like this:</p>
<pre class="fixed">'MariaDB\'s new features'
</pre><p>is now a valid string, and if displayed, will appear without the backslash.</p>
<pre class="fixed">SELECT 'MariaDB\'s new features';
+------------------------+
| MariaDB's new features |
+------------------------+
| MariaDB's new features |
+------------------------+
</pre><p>Another way to escape the quoting character is repeating it twice:</p>
<pre class="fixed">SELECT 'I''m here', """Double""";
+----------+----------+
| I'm here | "Double" |
+----------+----------+
| I'm here | "Double" |
+----------+----------+
</pre><h2 class="anchored_heading" id="escape-sequences">Escape Sequences</h2>
<p>There are other escape sequences also. Here is a full list:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Escape sequence</th><th>Character</th></tr>
<tr><td><code>\0</code></td><td>ASCII NUL (0x00).</td></tr>
<tr><td><code>\'</code></td><td>Single quote (“'”).</td></tr>
<tr><td><code>\"</code></td><td>Double quote (“"”).</td></tr>
<tr><td><code>\b</code></td><td>Backspace.</td></tr>
<tr><td><code>\n</code></td><td>Newline, or linefeed,.</td></tr>
<tr><td><code>\r</code></td><td>Carriage return.</td></tr>
<tr><td><code>\t</code></td><td>Tab.</td></tr>
<tr><td><code>\Z</code></td><td>ASCII 26 (Control+Z). See note following the table.</td></tr>
<tr><td><code>\\</code></td><td>Backslash (“\”).</td></tr>
<tr><td><code>\%</code></td><td>“%” character. See note following the table.</td></tr>
<tr><td><code>\_</code></td><td>A “_” character. See note following the table.</td></tr>
</table>
</div><p>Escaping the <code>%</code> and <code>_</code> characters can be necessary when using the <a href="#like">LIKE</a> operator, which treats them as special characters.</p>
<p>The ASCII 26 character (<code>\Z</code>) needs to be escaped when included in a batch file which needs to be executed in Windows. The reason is that ASCII 26, in Windows, is the end of file (EOF).</p>
<p>Backslash (<code>\</code>), if not used as an escape character, must always be escaped. When followed by a character that is not in the above table, backslashes will simply be ignored.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="text">TEXT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="textsyntax">Syntax</h2>
<pre class="fixed">TEXT[(M)] [CHARACTER SET charset_name] [COLLATE collation_name]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#textsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#textdescription" title="Description">Description</a></li>
<li class=""><a href="#textexamples" title="Examples">Examples</a></li>
<li class=""><a href="#textindexing" title="Indexing">Indexing</a></li>
<li class=""><a href="#textdifference-between-varcharvarchar-and-text" title="Difference between VARCHAR and TEXT">Difference between VARCHAR and TEXT</a> <ol class="toc">
<li class=""><a href="#textfor-storage-engine-developers" title="For Storage Engine Developers">For Storage Engine Developers</a> </li></ol>
</li>
<li class=""><a href="#textsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="textdescription">Description</h2>
<p>A <code>TEXT</code> column with a maximum length of <code>65,535</code> (<code>2<sup>16</sup> - 1</code>)
characters. The effective maximum length is less if the value contains
multi-byte characters. Each <code>TEXT</code> value is stored using a two-byte length
prefix that indicates the number of bytes in the value.  If you need a bigger storage, consider using <a href="#mediumtext">MEDIUMTEXT</a> instead.</p>
<p>An optional length <code>M</code> can be given for this type. If this is done, MariaDB
creates the column as the smallest <code>TEXT</code> type large enough to hold values
<code>M</code> characters long.</p>
<p>Before <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">MariaDB 10.2</a>, all MariaDB <a href="https://mariadb.com/kb/en/character-sets/">collations</a> were of type PADSPACE, meaning that TEXT (as well as <a href="#varchar">VARCHAR</a> and <a href="#char">CHAR</a> values) are compared without regard for trailing spaces. This does not apply to the <a href="#like">LIKE</a> pattern-matching operator, which takes into account trailing spaces.</p>
<p>Before <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a>, <code>BLOB</code> and <code>TEXT</code> columns could not be assigned a <a ">DEFAULT</a> value. This restriction was lifted in <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a>.</p>
<h2 class="anchored_heading" id="textexamples">Examples</h2>
<p>Trailing spaces:</p>
<pre class="fixed">CREATE TABLE strtest (d TEXT(10));
INSERT INTO strtest VALUES('Maria   ');

SELECT d='Maria',d='Maria   ' FROM strtest;
+-----------+--------------+
| d='Maria' | d='Maria   ' |
+-----------+--------------+
|         1 |            1 |
+-----------+--------------+

SELECT d LIKE 'Maria',d LIKE 'Maria   ' FROM strtest;
+----------------+-------------------+
| d LIKE 'Maria' | d LIKE 'Maria   ' |
+----------------+-------------------+
|              0 |                 1 |
+----------------+-------------------+
</pre><h2 class="anchored_heading" id="textindexing">Indexing</h2>
<p><code>TEXT</code> columns can only be indexed over a specified length. This means that they cannot be used as the <a href="https://mariadb.com/kb/en/getting-started-with-indexes/#primary-key">primary key</a> of a table norm until <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>, can a <a href="https://mariadb.com/kb/en/getting-started-with-indexes/#unique-index">unique index</a> be created on them.</p>
<div class="mariadb_from_10_4 mariadb from_10_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">10.4</a></h5><p>Starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>, a unique index can be created on a <code>TEXT</code> column.</p>
<p>Internally, this uses hash indexing to quickly check the values and if a hash collision is found, the actual stored values are compared in order to retain the uniqueness.</p>
</div><h2 class="anchored_heading" id="textdifference-between-varcharvarchar-and-text">Difference between <a href="#varchar">VARCHAR</a> and TEXT</h2>
<ul start="1"><li><a href="#varchar">VARCHAR</a> columns can be fully indexed. <code>TEXT</code> columns can only be indexed over a specified length.
</li><li>Using TEXT or <a href="#blob">BLOB</a> in a <a href="#select">SELECT</a> query that uses temporary tables for storing intermediate results will force the temporary table to be disk based (using the <a href="https://mariadb.com/kb/en/aria-storage-engine/">Aria storage engine</a> instead of the <a href="https://mariadb.com/kb/en/memory-storage-engine/">memory storage engine</a>, which is a bit slower. This is not that bad as the <a href="https://mariadb.com/kb/en/aria-storage-engine/">Aria storage engine</a> caches the rows in memory. To get the benefit of this, one should ensure that the <a href="https://mariadb.com/kb/en/aria-system-variables/#aria_pagecache_buffer_size">aria_pagecache_buffer_size</a> variable is big enough to hold most of the row and index data for temporary tables.
</li></ul>
<h3 class="anchored_heading" id="textfor-storage-engine-developers">For Storage Engine Developers</h3>
<ul start="1"><li>Internally the full length of the <a href="#varchar">VARCHAR</a> column is allocated inside each TABLE objects record[] structure. As there are three such buffers, each open table will allocate 3 times max-length-to-store-varchar bytes of memory.
</li><li><code>TEXT</code> and <code>BLOB</code> columns are stored with a pointer (4 or 8 bytes) + a 1-4 bytes length.  The <code>TEXT</code> data is only stored once. This means that internally <code>TEXT</code> uses less memory for each open table but instead has the additional overhead that each <code>TEXT</code> object needs to be allocated and freed for each row access (with some caching in between).
</li></ul>
<h2 class="anchored_heading" id="textsee-also">See Also</h2>
<ul start="1"><li><a href="#blob-and-text-data-types">BLOB and TEXT Data Types</a>
</li><li><a href="#mediumtext">MEDIUMTEXT</a>
</li><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_issimple">ST_IsSimple</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_IsSimple(g)
IsSimple(g)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns true if the given Geometry has no anomalous geometric points, false if it does, or NULL if given a NULL value.</p>
<p>ST_IsSimple() and IsSimple() are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<p>A POINT is always simple.</p>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="s1">'Point(1 2)'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">ST_ISSIMPLE</span><span class="p">(</span><span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="n">ST_ISSIMPLE</span><span class="p">(</span><span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span>                             <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_numgeometries">ST_NUMGEOMETRIES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_NumGeometries(gc)
NumGeometries(gc)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the number of geometries in the GeometryCollection <code>gc</code>.</p>
<p><code>ST_NumGeometries()</code> and <code>NumGeometries()</code> are synonyms.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">gc</span> <span class="o">=</span> <span class="s1">'GeometryCollection(Point(1 1),LineString(2 2, 3 3))'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">NUMGEOMETRIES</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">gc</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="n">NUMGEOMETRIES</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">gc</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span>                                <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_relate">ST_RELATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_1_2 mariadb from_10_1_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">10.1.2</a></h5><p>The ST_RELATE() function was introduced in <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a></p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_Relate(g1, g2, i)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns true if Geometry <code>g1</code> is spatially related to Geometry<code>g2</code> by testing for intersections between the interior, boundary and exterior of the two geometries as specified by the values in intersection matrix pattern <code>i</code>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_srid">ST_SRID</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_SRID(g)
SRID(g)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns an integer indicating the Spatial Reference System ID for the
geometry value g.</p>
<p>In MariaDB, the SRID value is just an integer associated with the
geometry value. All calculations are done assuming Euclidean (planar)
geometry.</p>
<p><code>ST_SRID()</code> and <code>SRID()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT SRID(GeomFromText('LineString(1 1,2 2)',101));
+-----------------------------------------------+
| SRID(GeomFromText('LineString(1 1,2 2)',101)) |
+-----------------------------------------------+
|                                           101 |
+-----------------------------------------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="time">TIME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="timesyntax">Syntax</h2>
<pre class="fixed">TIME [(&lt;microsecond precision&gt;)]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_1_2"><a href="#timesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_1_2"><a href="#timedescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_1_2"><a href="#timeinternal-format" title="Internal Format">Internal Format</a> </li></ol>
</li>
<li class="mariadb_from_10_1_2"><a href="#timeexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_1_2"><a href="#timesee-also" title="See also">See also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="timedescription">Description</h2>
<p>A time. The range is <code>'-838:59:59.999999'</code> to <code>'838:59:59.999999'</code>. <a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microsecond precision</a> can be from 0-6; if not specified 0 is used. Microseconds have been available since <a href="https://mariadb.com/kb/en/what-is-mariadb-53/">MariaDB 5.3</a>. </p>
<p>MariaDB displays <code>TIME</code> values in <code>'HH:MM:SS.ssssss'</code> format, but allows assignment of times in looser formats, including 'D HH:MM:SS', 'HH:MM:SS', 'HH:MM', 'D HH:MM', 'D HH', 'SS', or 'HHMMSS', as well as permitting dropping of any leading zeros when a delimiter is provided, for example '3:9:10'. For details, see <a href="https://mariadb.com/kb/en/date-and-time-literals/">date and time literals</a>.</p>
<div class="mariadb_from_10_1_2 mariadb from_10_1_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">10.1.2</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a> introduced the <a href="https://mariadb.com/kb/en/server-system-variables/#mysql56_temporal_format">--mysql56-temporal-format</a> option, on by default, which allows MariaDB to store TIMEs using the same low-level format MySQL 5.6 uses.</p>
</div><h3 class="anchored_heading" id="timeinternal-format">Internal Format</h3>
<p>In <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a> a new temporal format was introduced from MySQL 5.6 that alters how the <code>TIME</code>, <code>DATETIME</code> and <code>TIMESTAMP</code> columns operate at lower levels.  These changes allow these temporal data types to have fractional parts and negative values.  You can disable this feature using the <code><a href="https://mariadb.com/kb/en/server-system-variables/#mysql56_temporal_format">mysql56_temporal_format</a></code> system variable.</p>
<p>Tables that include <code>TIMESTAMP</code> values that were created on an older version of MariaDB or that were created while the <code><a href="https://mariadb.com/kb/en/server-system-variables/#mysql56_temporal_format">mysql56_temporal_format</a></code> system variable was disabled continue to store data using the older data type format.</p>
<p>In order to update table columns from the older format to the newer format, execute an <code><a ">ALTER TABLE... MODIFY COLUMN</a></code> statement that changes the column to the *same* data type. This change may be needed if you want to export the table's tablespace and import it onto a server that has <code>mysql56_temporal_format=ON</code> set (see <a href="https://jira.mariadb.org/browse/MDEV-15225">MDEV-15225</a>).</p>
<p>For instance, if you have a <code>TIME</code> column in your table: </p>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'mysql56_temporal_format'</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-------------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>           <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+-------+</span>
<span class="o">|</span> <span class="n">mysql56_temporal_format</span> <span class="o">|</span> <span class="k">ON</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+-------+</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">example_table</span> <span class="k">MODIFY</span> <span class="n">ts_col</span> <span class="n">TIME</span><span class="p">;</span>
</pre><p>When MariaDB executes the <code><a href="#alter-table">ALTER TABLE</a></code> statement, it converts the data from the older temporal format to the newer one. </p>
<p>In the event that you have several tables and columns using temporal data types that you want to switch over to the new format, make sure the system variable is enabled, then perform a dump and restore using <code>mysqldump</code>.  The columns using relevant temporal data types are restored using the new temporal format.</p>
<p>Starting from <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a> columns with old temporal formats are marked with a <code>/* mariadb-5.3 */</code> comment in the output of <code><a href="#show-create-table">SHOW CREATE TABLE</a></code>, <code><a href="#show-columns">SHOW COLUMNS</a></code>, <code><a href="#describe">DESCRIBE</a></code> statements, as well as in the <code>COLUMN_TYPE</code> column of the <code><a href="https://mariadb.com/kb/en/information-schema-columns-table/">INFORMATION_SCHEMA.COLUMNS Table</a></code>.</p>
<pre class="fixed">SHOW CREATE TABLE mariadb5312_time\G
*************************** 1. row ***************************
       Table: mariadb5312_time
Create Table: CREATE TABLE `mariadb5312_time` (
  `t0` time /* mariadb-5.3 */ DEFAULT NULL,
  `t6` time(6) /* mariadb-5.3 */ DEFAULT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1
</pre><p>Note, columns with the current format are not marked with a comment.</p>
<h2 class="anchored_heading" id="timeexamples">Examples</h2>
<pre class="fixed">INSERT INTO time VALUES ('90:00:00'), ('800:00:00'), (800), (22), (151413), ('9:6:3'), ('12 09');

SELECT * FROM time;
+-----------+
| t         |
+-----------+
| 90:00:00  |
| 800:00:00 |
| 00:08:00  |
| 00:00:22  |
| 15:14:13  |
| 09:06:03  |
| 297:00:00 |
+-----------+
</pre><h2 class="anchored_heading" id="timesee-also">See also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="tinyint">TINYINT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="tinyintsyntax">Syntax</h2>
<pre class="fixed">TINYINT[(M)] [SIGNED | UNSIGNED | ZEROFILL]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#tinyintsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#tinyintdescription" title="Description">Description</a></li>
<li class=""><a href="#tinyintexamples" title="Examples">Examples</a></li>
<li class=""><a href="#tinyintsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="tinyintdescription">Description</h2>
<p>A very small <a href="https://mariadb.com/kb/en/sql_language-data_types-int/">integer</a>. The signed range is -128 to 127. The unsigned range is 0 to 255. For details on the attributes, see <a href="#numeric-data-type-overview">Numeric Data Type Overview</a>.</p>
<p><a href="https://mariadb.com/kb/en/int1/">INT1</a> is a synonym for <code>TINYINT</code>. <a href="#boolean">BOOL and BOOLEAN</a> are synonyms for <code>TINYINT(1)</code>.</p>
<h2 class="anchored_heading" id="tinyintexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">tinyints</span> <span class="p">(</span><span class="n">a</span> <span class="n">TINYINT</span><span class="p">,</span><span class="n">b</span> <span class="n">TINYINT</span> <span class="n">UNSIGNED</span><span class="p">,</span><span class="k">c</span> <span class="n">TINYINT</span> <span class="n">ZEROFILL</span><span class="p">);</span>
</pre><p>With <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> set, the default from <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">MariaDB 10.2.4</a>:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tinyints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1264</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'b'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tinyints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1264</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'c'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tinyints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">tinyints</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span> <span class="k">c</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span>  <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>  <span class="mi">010</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tinyints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">128</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">128</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1264</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'a'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tinyints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">127</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">128</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">tinyints</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span> <span class="k">c</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span>  <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>  <span class="mi">010</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">127</span> <span class="o">|</span>  <span class="mi">128</span> <span class="o">|</span>  <span class="mi">128</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
</pre><p>With <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> unset, the default until <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tinyints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">2</span> <span class="n">warnings</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">08</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'b'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'c'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tinyints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">11</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'c'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tinyints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">tinyints</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span> <span class="k">c</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span>  <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>  <span class="mi">000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>  <span class="mi">000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>  <span class="mi">010</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tinyints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">128</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">128</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">19</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1264</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'a'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tinyints</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">127</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">128</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">tinyints</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span> <span class="k">c</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span>  <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>  <span class="mi">000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>  <span class="mi">000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="o">-</span><span class="mi">10</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>  <span class="mi">010</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">127</span> <span class="o">|</span>  <span class="mi">128</span> <span class="o">|</span>  <span class="mi">128</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">127</span> <span class="o">|</span>  <span class="mi">128</span> <span class="o">|</span>  <span class="mi">128</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
</pre><h2 class="anchored_heading" id="tinyintsee-also">See Also</h2>
<ul start="1"><li><a href="#numeric-data-type-overview">Numeric Data Type Overview</a>
</li><li><a href="#smallint">SMALLINT</a>
</li><li><a href="#mediumint">MEDIUMINT</a>
</li><li><a href="https://mariadb.com/kb/en/int/">INTEGER</a>
</li><li><a href="#bigint">BIGINT</a>
</li><li><a href="#boolean">BOOLEAN</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="varbinary">VARBINARY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="varbinarysyntax">Syntax</h2>
<pre class="fixed">VARBINARY(M)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3"><a href="#varbinarysyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3"><a href="#varbinarydescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_3"><a href="#varbinaryoracle-mode" title="Oracle Mode">Oracle Mode</a> </li></ol>
</li>
<li class="mariadb_from_10_3"><a href="#varbinaryexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3"><a href="#varbinarysee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="varbinarydescription">Description</h2>
<p>The VARBINARY type is similar to the <a href="https://mariadb.com/kb/en/sql_language-data_types-varchar/">VARCHAR</a> type, but stores binary byte strings rather than non-binary character strings. <code>M</code> represents the maximum column length in bytes. </p>
<p>It contains no <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set</a>, and comparison and sorting are based on the numeric value of the bytes.</p>
<p>If the maximum length is exceeded, and <a href="https://mariadb.com/kb/en/sql-mode/">SQL strict mode</a> is not enabled , the extra characters will be dropped with a warning. If strict mode is enabled, an error will occur.</p>
<p>Unlike <a href="#binary">BINARY</a> values, VARBINARYs are not right-padded when inserting.</p>
<h3 class="anchored_heading" id="varbinaryoracle-mode">Oracle Mode</h3>
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#synonyms-for-basic-sql-types">Oracle mode from MariaDB 10.3</a>, <code>RAW</code> is a synonym for <code>VARBINARY</code>.</p>
</div><h2 class="anchored_heading" id="varbinaryexamples">Examples</h2>
<p>Inserting too many characters, first with strict mode off, then with it on:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">varbins</span> <span class="p">(</span><span class="n">a</span> <span class="n">VARBINARY</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">varbins</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'12345678901'</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">varbins</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">a</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="mi">1234567890</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SET</span> <span class="n">sql_mode</span><span class="o">=</span><span class="s1">'STRICT_ALL_TABLES'</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">varbins</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'12345678901'</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1406</span> <span class="p">(</span><span class="mi">22001</span><span class="p">):</span> <span class="k">Data</span> <span class="n">too</span> <span class="n">long</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'a'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>
</pre><p>Sorting is performed with the byte value:</p>
<pre class="fixed"><span class="k">TRUNCATE</span> <span class="n">varbins</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">varbins</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'A'</span><span class="p">),(</span><span class="s1">'B'</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">varbins</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">a</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">A</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">B</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>Using <a href="#cast">CAST</a> to sort as a <a href="#char">CHAR</a> instead:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">varbins</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="k">CAST</span><span class="p">(</span><span class="n">a</span> <span class="k">AS</span> <span class="nb">CHAR</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">A</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">B</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><h2 class="anchored_heading" id="varbinarysee-also">See Also</h2>
<ul start="1"><li><a href="#varchar">VARCHAR</a>
</li><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#synonyms-for-basic-sql-types">Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="ascii">ASCII</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ASCII(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the numeric ASCII value of the leftmost character of the string argument.  Returns <code>0</code> if the given string is empty and <code>NULL</code> if it is <code>NULL</code>.</p>
<p><code>ASCII()</code> works for 8-bit characters.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">ASCII</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="n">ASCII</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span>       <span class="mi">57</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>

<span class="k">SELECT</span> <span class="n">ASCII</span><span class="p">(</span><span class="s1">'9'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">ASCII</span><span class="p">(</span><span class="s1">'9'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>         <span class="mi">57</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SELECT</span> <span class="n">ASCII</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">ASCII</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span>           <span class="mi">97</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="bin">BIN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">BIN(N)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a string representation of the binary value of the given longlong (that is, <code><a href="#bigint">BIGINT</a></code>) number. This is equivalent to <code><a href="#conv">CONV(N,10,2)</a></code>. The argument should be positive. If it is a <code>FLOAT</code>, it will be truncated. Returns <code>NULL</code> if the argument is <code>NULL</code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">BIN</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="n">BIN</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="mi">1100</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/binary-literals/">Binary literals</a>
</li><li><a href="#conv">CONV()</a>
</li><li><a href="#oct">OCT()</a>
</li><li><a href="#hex">HEX()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="bit_length">BIT_LENGTH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="bit_lengthsyntax">Syntax</h2>
<pre class="fixed">BIT_LENGTH(str)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#bit_lengthsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#bit_lengthdescription" title="Description">Description</a></li>
<li class=""><a href="#bit_lengthexamples" title="Examples">Examples</a></li>
<li class=""><a href="#bit_lengthcompatibility" title="Compatibility">Compatibility</a> </li></ol>

</div>
<h2 class="anchored_heading" id="bit_lengthdescription">Description</h2>
<p>Returns the length of the given string argument in bits. If the argument is not a string, it will be converted to string. If the argument is <code>NULL</code>, it returns <code>NULL</code>.</p>
<h2 class="anchored_heading" id="bit_lengthexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">BIT_LENGTH</span><span class="p">(</span><span class="s1">'text'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="k">BIT_LENGTH</span><span class="p">(</span><span class="s1">'text'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span>                 <span class="mi">32</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="k">BIT_LENGTH</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="k">BIT_LENGTH</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span>              <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
</pre><h2 class="anchored_heading" id="bit_lengthcompatibility">Compatibility</h2>
<p>PostgreSQL and Sybase support BIT_LENGTH().</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="varchar">VARCHAR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="varcharsyntax">Syntax</h2>
<pre class="fixed">[NATIONAL] VARCHAR(M) [CHARACTER SET charset_name] [COLLATE collation_name]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#varcharsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#varchardescription" title="Description">Description</a></li>
<li class=""><a href="#varcharexamples" title="Examples">Examples</a></li>
<li class=""><a href="#varchartruncation" title="Truncation">Truncation</a></li>
<li class=""><a href="#varchardifference-between-varchar-and-texttext" title="Difference Between VARCHAR and TEXT">Difference Between VARCHAR and TEXT</a></li>
<li class=""><a href="#varcharoracle-mode" title="Oracle Mode">Oracle Mode</a> <ol class="toc">
<li class=""><a href="#varcharfor-storage-engine-developers" title="For Storage Engine Developers">For Storage Engine Developers</a> </li></ol>
</li>
<li class=""><a href="#varcharsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="varchardescription">Description</h2>
<p>A variable-length string. M represents the maximum column length in
characters. The range of M is 0 to 65,532. The effective maximum
length of a VARCHAR is subject to the maximum row size and the character set used. For
example, utf8 characters can require up to three bytes per character,
so a VARCHAR column that uses the utf8 character set can be declared
to be a maximum of 21,844 characters.</p>
<p><strong>Note:</strong> For the <a href="https://mariadb.com/kb/en/columnstore/">ColumnStore</a> engine, M represents the maximum column length in
bytes.</p>
<p>MariaDB stores VARCHAR values as a one-byte or two-byte length prefix
plus data. The length prefix indicates the number of bytes in the
value. A VARCHAR column uses one length byte if values require no more
than 255 bytes, two length bytes if values may require more than 255
bytes.</p>
<p>MariaDB follows the standard SQL specification, and does not remove trailing spaces from VARCHAR values.</p>
<p>VARCHAR(0) columns can contain 2 values: an empty string or NULL. Such columns cannot be part of an index. The <a href="https://mariadb.com/kb/en/connect/">CONNECT</a> storage engine does not support VARCHAR(0).</p>
<p>VARCHAR is shorthand for CHARACTER VARYING. NATIONAL VARCHAR is the
standard SQL way to define that a VARCHAR column should use some
predefined character set. MariaDB uses utf8 as this
predefined character set, as does MySQL 4.1 and up.
NVARCHAR is shorthand for NATIONAL VARCHAR.</p>
<p>Before <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">MariaDB 10.2</a>, all MariaDB <a href="https://mariadb.com/kb/en/character-sets/">collations</a> were of type <code>PADSPACE</code>, meaning that VARCHAR (as well as <a href="#char">CHAR</a> and <a href="#text">TEXT</a> values) are compared without regard for trailing spaces. This does not apply to the <a href="#like">LIKE</a> pattern-matching operator, which takes into account trailing spaces. From <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">MariaDB 10.2</a>, a number of <a href="https://mariadb.com/kb/en/supported-character-sets-and-collations/#no-pad-collations">NO PAD collations</a> are available.</p>
<p>If a unique index consists of a column where trailing pad characters are stripped or ignored, inserts into that column where values differ only by the number of trailing pad characters will result in a duplicate-key error.</p>
<h2 class="anchored_heading" id="varcharexamples">Examples</h2>
<p>The following are equivalent:</p>
<pre class="fixed">VARCHAR(30) CHARACTER SET utf8
NATIONAL VARCHAR(30)
NVARCHAR(30)
NCHAR VARCHAR(30)
NATIONAL CHARACTER VARYING(30)
NATIONAL CHAR VARYING(30)
</pre><p>Trailing spaces:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">strtest</span> <span class="p">(</span><span class="n">v</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">strtest</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'Maria   '</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">v</span><span class="o">=</span><span class="s1">'Maria'</span><span class="p">,</span><span class="n">v</span><span class="o">=</span><span class="s1">'Maria   '</span> <span class="k">FROM</span> <span class="n">strtest</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+--------------+</span>
<span class="o">|</span> <span class="n">v</span><span class="o">=</span><span class="s1">'Maria'</span> <span class="o">|</span> <span class="n">v</span><span class="o">=</span><span class="s1">'Maria   '</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+--------------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+--------------+</span>

<span class="k">SELECT</span> <span class="n">v</span> <span class="k">LIKE</span> <span class="s1">'Maria'</span><span class="p">,</span><span class="n">v</span> <span class="k">LIKE</span> <span class="s1">'Maria   '</span> <span class="k">FROM</span> <span class="n">strtest</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------+-------------------+</span>
<span class="o">|</span> <span class="n">v</span> <span class="k">LIKE</span> <span class="s1">'Maria'</span> <span class="o">|</span> <span class="n">v</span> <span class="k">LIKE</span> <span class="s1">'Maria   '</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+-------------------+</span>
<span class="o">|</span>              <span class="mi">0</span> <span class="o">|</span>                 <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+-------------------+</span>
</pre><h2 class="anchored_heading" id="varchartruncation">Truncation</h2>
<ul start="1"><li>Depending on whether or not <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict sql mode</a> is set, you will either get a warning or an error if you try to insert a string that is too long into a VARCHAR column. If the extra characters are spaces, the spaces that can't fit will be removed and you will always get a warning, regardless of the <a href="https://mariadb.com/kb/en/sql_mode/">sql mode</a> setting.
</li></ul>
<h2 class="anchored_heading" id="varchardifference-between-varchar-and-texttext">Difference Between VARCHAR and <a href="#text">TEXT</a></h2>
<ul start="1"><li>VARCHAR columns can be fully indexed. <a href="#text">TEXT</a> columns can only be indexed over a specified length.
</li><li>Using <a href="#text">TEXT</a> or <a href="#blob">BLOB</a> in a <a href="#select">SELECT</a> query that uses temporary tables for storing intermediate results will force the temporary table to be disk based (using the <a href="https://mariadb.com/kb/en/aria-storage-engine/">Aria storage engine</a> instead of the <a href="https://mariadb.com/kb/en/memory-storage-engine/">memory storage engine</a>, which is a bit slower. This is not that bad as the <a href="https://mariadb.com/kb/en/aria-storage-engine/">Aria storage engine</a> caches the rows in memory. To get the benefit of this, one should ensure that the <a href="https://mariadb.com/kb/en/aria-system-variables/#aria_pagecache_buffer_size">aria_pagecache_buffer_size</a> variable is big enough to hold most of the row and index data for temporary tables.
</li></ul>
<h2 class="anchored_heading" id="varcharoracle-mode">Oracle Mode</h2>
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#synonyms-for-basic-sql-types">Oracle mode from MariaDB 10.3</a>, <code>VARCHAR2</code> is a synonym.</p>
</div><h3 class="anchored_heading" id="varcharfor-storage-engine-developers">For Storage Engine Developers</h3>
<ul start="1"><li>Internally the full length of the VARCHAR column is allocated inside each TABLE objects record[] structure. As there are three such buffers, each open table will allocate 3 times max-length-to-store-varchar bytes of memory.
</li><li><a href="#text">TEXT</a> and <a href="#blob">BLOB</a> columns are stored with a pointer (4 or 8 bytes) + a 1-4 bytes length.  The <a href="#text">TEXT</a> data is only stored once. This means that internally <code>TEXT</code> uses less memory for each open table but instead has the additional overhead that each <code>TEXT</code> object needs to be allocated and freed for each row access (with some caching in between).
</li></ul>
<h2 class="anchored_heading" id="varcharsee-also">See Also</h2>
<ul start="1"><li><a href="#varbinary">VARBINARY</a>
</li><li><a href="#text">TEXT</a>
</li><li><a href="#char">CHAR</a>
</li><li><a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">Character Sets and Collations</a>
</li><li><a href="https://mariadb.com/kb/en/data-type-storage-requirements/">Data Type Storage Requirements</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#synonyms-for-basic-sql-types">Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="year-data-type">YEAR Data Type</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">YEAR[(4)]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A year in two-digit or four-digit format. The default is four-digit format. Note that the two-digit format has been deprecated since <a href="https://mariadb.com/kb/en/mariadb-5527-release-notes/">MariaDB 5.5.27</a>. </p>
<p>In four-digit format, the allowable values are 1901 to 2155,
and 0000. In two-digit format, the allowable values are 70 to 69,
representing years from 1970 to 2069. MariaDB displays YEAR values in
YYYY format, but allows you to assign values to YEAR columns using
either strings or numbers.</p>
<p>Inserting numeric zero has a different result for YEAR(4) and YEAR(2). For YEAR(2), the value <code>00</code> reflects the year 2000. For YEAR(4), the value <code>0000</code> reflects the year zero. This only applies to numeric zero. String zero always reflects the year 2000.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<p>Accepting a string or a number:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">y</span><span class="p">(</span><span class="n">y</span> <span class="k">YEAR</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">y</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1990</span><span class="p">),(</span><span class="s1">'2012'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">y</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">y</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="mi">1990</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2012</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>With <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> set, the default from <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">MariaDB 10.2.4</a>:</p>
<p>Out of range:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">y</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1005</span><span class="p">),(</span><span class="s1">'3080'</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1264</span> <span class="p">(</span><span class="mi">22003</span><span class="p">):</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'y'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">y</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2013-12-12'</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1265</span> <span class="p">(</span><span class="mi">01000</span><span class="p">):</span> <span class="k">Data</span> <span class="n">truncated</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'y'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">y</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">y</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="mi">1990</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2012</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>With <a href="https://mariadb.com/kb/en/sql-mode/#strict-mode">strict_mode</a> unset, the default until <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>:</p>
<p>Out of range:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">y</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1005</span><span class="p">),(</span><span class="s1">'3080'</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">2</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">2</span> <span class="n">warnings</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Records</span><span class="p">:</span> <span class="mi">2</span>  <span class="n">Duplicates</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Warnings</span><span class="p">:</span> <span class="mi">2</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------+--------------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span>   <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                    <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+--------------------------------------------+</span>
<span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1264</span> <span class="o">|</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'y'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1264</span> <span class="o">|</span> <span class="k">Out</span> <span class="k">of</span> <span class="n">range</span> <span class="n">value</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'y'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+--------------------------------------------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">y</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">y</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="mi">1990</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2012</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>Truncating:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">y</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2013-12-12'</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------+----------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span>   <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+----------------------------------------+</span>
<span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1265</span> <span class="o">|</span> <span class="k">Data</span> <span class="n">truncated</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">'y'</span> <span class="k">at</span> <span class="k">row</span> <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+----------------------------------------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">y</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">y</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="mi">1990</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2012</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2013</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>Difference between YEAR(2) and YEAR(4), and string and numeric zero:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">y2</span><span class="p">(</span><span class="n">y</span> <span class="k">YEAR</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">y2</span> <span class="k">YEAR</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">40</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">Note</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1287</span><span class="p">):</span> <span class="s1">'YEAR(2)'</span> <span class="k">is</span> <span class="n">deprecated</span> <span class="k">and</span> <span class="n">will</span> <span class="n">be</span> <span class="n">removed</span> <span class="k">in</span> <span class="n">a</span> <span class="n">future</span> <span class="n">release</span><span class="p">.</span> 
 <span class="n">Please</span> <span class="n">use</span> <span class="k">YEAR</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">instead</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">y2</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="s1">'0'</span><span class="p">,</span><span class="s1">'0'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="k">YEAR</span><span class="p">(</span><span class="n">y</span><span class="p">),</span><span class="k">YEAR</span><span class="p">(</span><span class="n">y2</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">y2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+----------+</span>
<span class="o">|</span> <span class="k">YEAR</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">|</span> <span class="k">YEAR</span><span class="p">(</span><span class="n">y2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+----------+</span>
<span class="o">|</span>       <span class="mi">0</span> <span class="o">|</span>     <span class="mi">2000</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2000</span> <span class="o">|</span>     <span class="mi">2000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+----------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#year">YEAR() function</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="character_length">CHARACTER_LENGTH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CHARACTER_LENGTH(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>CHARACTER_LENGTH()</code> is a synonym for <code><a href="#char_length">CHAR_LENGTH()</a></code>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="instr">INSTR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="instrsyntax">Syntax</h2>
<pre class="fixed">INSTR(str,substr)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#instrsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#instrdescription" title="Description">Description</a></li>
<li class=""><a href="#instrexamples" title="Examples">Examples</a></li>
<li class=""><a href="#instrsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="instrdescription">Description</h2>
<p>Returns the position of the first occurrence of substring <em>substr</em> in
string <em>str</em>. This is the same as the two-argument form of <a href="#locate">LOCATE()</a>,
except that the order of the arguments is reversed.</p>
<p><code>INSTR()</code> performs a case-insensitive search.</p>
<p>If any argument is <code>NULL</code>, returns <code>NULL</code>.</p>
<h2 class="anchored_heading" id="instrexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">INSTR</span><span class="p">(</span><span class="s1">'foobarbar'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="n">INSTR</span><span class="p">(</span><span class="s1">'foobarbar'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span>                         <span class="mi">4</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>

<span class="k">SELECT</span> <span class="n">INSTR</span><span class="p">(</span><span class="s1">'My'</span><span class="p">,</span> <span class="s1">'Maria'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">INSTR</span><span class="p">(</span><span class="s1">'My'</span><span class="p">,</span> <span class="s1">'Maria'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre><h2 class="anchored_heading" id="instrsee-also">See Also</h2>
<ul start="1"><li><a href="#locate">LOCATE()</a> ; Returns the position of a string within a string
</li><li><a href="#substring_index">SUBSTRING_INDEX()</a> ; Returns the substring from string before count occurrences of a delimiter</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="begin-end">BEGIN END</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="begin-endsyntax">Syntax</h2>
<pre class="fixed">[begin_label:] BEGIN [NOT ATOMIC]
    [statement_list]
END [end_label]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#begin-endsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#begin-enddescription" title="Description">Description</a></li>
<li class=""><a href="#begin-endsee-also" title="See Also">See Also</a> </li></ol>

</div>
<p><code>NOT ATOMIC</code> is required when used outside of a <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedure</a>. Inside stored procedures or within an anonymous block, <code>BEGIN</code> alone starts a new anonymous block.</p>
<h2 class="anchored_heading" id="begin-enddescription">Description</h2>
<p><code>BEGIN ... END</code> syntax is used for writing compound statements. A compound statement can contain multiple statements, enclosed by the <code>BEGIN</code> and <code>END</code> keywords. statement_list represents a list of one or more statements, each
terminated by a semicolon (i.e., <code>;</code>) statement delimiter. statement_list is
optional, which means that the empty compound statement (<code>BEGIN END</code>) is
legal.</p>
<p>Note that <code>END</code> will perform a commit. If you are running in <a href="https://mariadb.com/kb/en/server-system-variables/#autocommit">autocommit</a> mode, every statement will be committed separately. If you are not running in <code>autocommit</code> mode, you must execute a <a href="#commit">COMMIT</a> or <a href="#rollback">ROLLBACK</a> after <code>END</code> to get the database up to date.</p>
<p>Use of multiple statements requires that a client is able to send statement strings containing the ; statement delimiter. This is handled in the <a href="mysql-command-line_client">mysql</a>  command-line client with the <a href="https://mariadb.com/kb/en/delimiters/">DELIMITER</a> command.
Changing the <code>;</code> end-of-statement delimiter (for example, to
<code class="highlight fixed" style="white-space:pre-wrap">//</code>) allows <code>;</code> to be used in a program body.</p>
<p>A compound statement within a <a href="https://mariadb.com/kb/en/stored-programs-and-views/">stored program</a> can be
<a href="#labels">labeled</a>. <code>end_label</code> cannot be given unless <code>begin_label</code> also is present. If both are present, they must be the same.</p>
<p><code>BEGIN ... END</code> constructs can be nested. Each block can define its own variables, a <code>CONDITION</code>, a <code>HANDLER</code> and a <a href="https://mariadb.com/kb/en/programmatic-and-compound-statements-cursors/">CURSOR</a>, which don't exist in the outer blocks. The most local declarations override the outer objects which use the same name (see example below).</p>
<p>The declarations order is the following:</p>
<ul start="1"><li><a href="#declare-variable"><code>DECLARE</code> local variables</a>;
</li><li><a href="#declare-condition"><code>DECLARE CONDITION</code>s</a>;
</li><li><a href="#declare-cursor"><code>DECLARE CURSOR</code>s</a>;
</li><li><a href="#declare-handler"><code>DECLARE HANDLER</code>s</a>;
</li></ul>
<p>Note that <code>DECLARE HANDLER</code> contains another <code>BEGIN ... END</code> construct.</p>
<p>Here is an example of a very simple, anonymous block:</p>
<pre class="fixed"><span class="k">BEGIN</span> <span class="k">NOT</span> <span class="k">ATOMIC</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">test</span><span class="p">.</span><span class="n">t1</span><span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">END</span><span class="o">|</span>
</pre><p>Below is an example of nested blocks in a stored procedure:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">t</span><span class="p">(</span> <span class="p">)</span>
<span class="k">BEGIN</span>
   <span class="k">DECLARE</span> <span class="n">x</span> <span class="n">TINYINT</span> <span class="n">UNSIGNED</span> <span class="k">DEFAULT</span> <span class="mi">1</span><span class="p">;</span>
   <span class="k">BEGIN</span>
      <span class="k">DECLARE</span> <span class="n">x</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="s1">'02'</span><span class="p">;</span>
       <span class="k">DECLARE</span> <span class="n">y</span> <span class="n">TINYINT</span> <span class="n">UNSIGNED</span> <span class="k">DEFAULT</span> <span class="mi">10</span><span class="p">;</span>
       <span class="k">SELECT</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">;</span>
   <span class="k">END</span><span class="p">;</span>
   <span class="k">SELECT</span> <span class="n">x</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>
</pre><p>In this example, a <a href="#tinyint">TINYINT</a> variable, <code>x</code> is declared in the outter block. But in the inner block <code>x</code> is re-declared as a <a href="#char">CHAR</a> and an <code>y</code> variable is declared. The inner <a href="#select">SELECT</a>  shows the "new" value of <code>x</code>, and the value of <code>y</code>. But when x is selected in the outer block, the "old" value is returned. The final <a href="#select">SELECT</a> doesn't try to read <code>y</code>, because it doesn't exist in that context.</p>
<h2 class="anchored_heading" id="begin-endsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/using-compound-statements-outside-of-stored-programs/">Using compound statements outside of stored programs</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#simple-syntax-compatibility">Changes in Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="case-statement">CASE Statement</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CASE case_value
    WHEN when_value THEN statement_list
    [WHEN when_value THEN statement_list] ...
    [ELSE statement_list]
END CASE
</pre><p>Or:</p>
<pre class="fixed">CASE
    WHEN search_condition THEN statement_list
    [WHEN search_condition THEN statement_list] ...
    [ELSE statement_list] 
END CASE
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The text on this page describes the <code>CASE</code> statement for <a href="https://mariadb.com/kb/en/stored-programs-and-views/">stored programs</a>. See the <a href="#case-operator">CASE OPERATOR</a> for details on the CASE operator outside of <a href="https://mariadb.com/kb/en/stored-programs-and-views/">stored programs</a>.</p>
<p>The <code>CASE</code> statement for <a href="https://mariadb.com/kb/en/stored-programs-and-views/">stored programs</a> implements a complex conditional
construct. If a <code>search_condition</code> evaluates to true, the corresponding SQL
statement list is executed. If no search condition matches, the statement list
in the <code>ELSE</code> clause is executed. Each <code>statement_list</code> consists of one or
more statements.</p>
<p>The <code>CASE</code> statement cannot have an <code>ELSE NULL</code> clause, and it is
terminated with <code>END CASE</code> instead of <code>END</code>. implements a complex conditional
construct. If a <code>search_condition</code> evaluates to true, the corresponding SQL
statement list is executed. If no search condition matches, the statement list
in the <code>ELSE</code> clause is executed. Each <code>statement_list</code> consists of one or
more statements.</p>
<p>If no when_value or search_condition matches the value tested and the <code>CASE</code>
statement contains no <code>ELSE</code> clause, a Case not found for <code>CASE</code> statement
error results.</p>
<p>Each statement_list consists of one or more statements; an empty
<code>statement_list</code> is not allowed. To handle situations where no value is
matched by any <code>WHEN</code> clause, use an <code>ELSE</code> containing an
empty <a href="#begin-end">BEGIN ... END</a> block, as shown in this example:</p>
<pre class="fixed"><span class="n">DELIMITER</span> <span class="o">|</span>
<span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="nf">p</span><span class="p">()</span>
<span class="n">BEGIN</span>
  <span class="k">DECLARE</span> <span class="n">v</span> <span class="kt">INT</span> <span class="k">DEFAULT</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">CASE</span> <span class="n">v</span>
    <span class="k">WHEN</span> <span class="mi">2</span> <span class="k">THEN</span> <span class="k">SELECT</span> <span class="n">v</span><span class="p">;</span>
    <span class="k">WHEN</span> <span class="mi">3</span> <span class="k">THEN</span> <span class="k">SELECT</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">ELSE</span> <span class="n">BEGIN</span> <span class="n">END</span><span class="p">;</span>
  <span class="n">END</span> <span class="k">CASE</span><span class="p">;</span>
<span class="n">END</span><span class="p">;</span>
<span class="o">|</span>
</pre><p>The indentation used here in the <code>ELSE</code> clause is for purposes of clarity only,
and is not otherwise significant. See <a href="https://mariadb.com/kb/en/delimiters-in-the-mysql-client/">Delimiters in the mysql client</a> for more on the use of the delimiter command.</p>
<p><strong>Note:</strong> The syntax of the <code>CASE</code> statement used inside stored programs
differs slightly from that of the SQL CASE expression described in
<a href="#case-operator">CASE OPERATOR</a>.
The <code>CASE</code> statement cannot have an <code>ELSE NULL</code> clause, and it is
terminated with <code>END CASE</code> instead of <code>END</code>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="declare-condition">DECLARE CONDITION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DECLARE condition_name CONDITION FOR condition_value

condition_value:
    SQLSTATE [VALUE] sqlstate_value
  | mysql_error_code
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code>DECLARE ... CONDITION</code> statement defines a named error condition.
It specifies a condition that needs specific handling and associates a
name with that condition. Later, the name can be used in a <a href="#declare-handler">DECLARE ... HANDLER</a>, <a href="#signal">SIGNAL</a> or <a href="#resignal">RESIGNAL</a> statement (as long as the statement is located in the same <a href="#begin-end">BEGIN ... END</a> block).</p>
<p>Conditions must be declared after <a href="#declare-variable">local variables</a>, but before <a href="https://mariadb.com/kb/en/programmatic-and-compound-statements-cursors/">CURSORs</a> and <a href="#declare-handler">HANDLERs</a>.</p>
<p>A condition_value for <code>DECLARE ... CONDITION</code> can be an <a href="https://mariadb.com/kb/en/sqlstate/">SQLSTATE</a> value (a
5-character string literal) or a MySQL error code (a number). You should not
use SQLSTATE value '00000' or MySQL error code 0, because those indicate sucess
rather than an error condition. If you try, or if you specify an invalid SQLSTATE value, an error like this is produced:</p>
<pre class="fixed">ERROR 1407 (42000): Bad SQLSTATE: '00000'
</pre><p>For a list of SQLSTATE values and MariaDB error
codes, see <a href="https://mariadb.com/kb/en/mariadb-error-codes/">MariaDB Error Codes</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="lcase">LCASE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LCASE(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>LCASE() is a synonym for <a href="#lower">LOWER()</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="left">LEFT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LEFT(str,len)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the leftmost <code>len</code> characters from the string <code>str</code>, or NULL if
any argument is NULL.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">LEFT</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="k">LEFT</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">Maria</span>              <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="lengthb">LENGTHB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_1 mariadb from_10_3_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">10.3.1</a></h5><p>Introduced in <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a> as part of the <a href="https://mariadb.com/kb/en/sql_modeoracle/">Oracle compatibility enhancements</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LENGTHB(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>LENGTHB()</code> returns the length of the given string, in bytes. When <a href="https://mariadb.com/kb/en/sql_modeoracle/">Oracle mode</a> is not set, this is a synonym for <a href="#length">LENGTH</a>.</p>
<p>A multi-byte character counts as multiple bytes. This means that for a string containing five two-byte characters, <code>LENGTHB()</code> returns 10, whereas <a href="#char_length">CHAR_LENGTH()</a> returns 5. </p>
<p>If <code>str</code> is not a string value, it is converted into a string. If <code>str</code> is <code>NULL</code>, the function returns <code>NULL</code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<p>When <a href="https://mariadb.com/kb/en/sql_modeoracle/">Oracle mode</a> from <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> is not set:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span>                 <span class="mi">1</span> <span class="o">|</span>            <span class="mi">2</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>                  <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
</pre><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle/#functions">Oracle mode from MariaDB 10.3</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span>                 <span class="mi">1</span> <span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>                  <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#char_length">CHAR_LENGTH()</a>
</li><li><a href="#length">LENGTH()</a>
</li><li><a href="#octet_length">OCTET_LENGTH()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mid">MID</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MID(str,pos,len)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>MID(str,pos,len) is a synonym for <a href="#substring">SUBSTRING(str,pos,len)</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">MID</span><span class="p">(</span><span class="s1">'abcd'</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">MID</span><span class="p">(</span><span class="s1">'abcd'</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">d</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>

<span class="k">SELECT</span> <span class="n">MID</span><span class="p">(</span><span class="s1">'abcd'</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">MID</span><span class="p">(</span><span class="s1">'abcd'</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">bc</span>              <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
</pre><p>A negative starting position:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">MID</span><span class="p">(</span><span class="s1">'abcd'</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">MID</span><span class="p">(</span><span class="s1">'abcd'</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">cd</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="not-like">NOT LIKE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">expr NOT LIKE pat [ESCAPE 'escape_char']
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This is the same as <a href="#not">NOT (expr LIKE pat [ESCAPE 'escape_char'])</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="declare-handler">DECLARE HANDLER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DECLARE handler_type HANDLER
    FOR condition_value [, condition_value] ...
    statement

handler_type:
    CONTINUE
  | EXIT 
  | UNDO

condition_value:
    SQLSTATE [VALUE] sqlstate_value
  | condition_name
  | SQLWARNING
  | NOT FOUND
  | SQLEXCEPTION
  | mariadb_error_code
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code>DECLARE ... HANDLER</code> statement specifies handlers that each may
deal with one or more conditions. If one of these conditions occurs,
the specified statement is executed. statement can be a simple
statement (for example, <code>SET var_name = value</code>), or it can be a compound
statement written using <a href="#begin-end">BEGIN and END</a>.</p>
<p>Handlers must be declared after local variables, a <code>CONDITION</code> and a <a href="https://mariadb.com/kb/en/programmatic-and-compound-statements-cursors/">CURSOR</a>.</p>
<p>For a <code>CONTINUE</code> handler, execution of the current program continues
after execution of the handler statement. For an EXIT handler,
execution terminates for the <a href="#begin-end">BEGIN ... END</a> compound statement in which
the handler is declared. (This is true even if the condition occurs in
an inner block.) The <code>UNDO</code> handler type statement is not supported.</p>
<p>If a condition occurs for which no handler has been declared, the
default action is <code>EXIT</code>.</p>
<p>A condition_value for <code>DECLARE ... HANDLER</code> can be any of the following
values:</p>
<ul start="1"><li>An <a href="https://mariadb.com/kb/en/sqlstate/">SQLSTATE</a> value (a 5-character string literal) or a MariaDB error
code (a number). You should not use <code>SQLSTATE</code> value '00000' or MariaDB
error code 0, because those indicate sucess rather than an error
condition. For a list of <code>SQLSTATE</code> values and MariaDB error codes, see
<a href="https://mariadb.com/kb/en/mariadb-error-codes/">MariaDB Error Codes</a>.
</li><li>A condition name previously specified with <code>DECLARE ... CONDITION</code>. It must be in the same stored program. See <a href="#declare-condition">DECLARE CONDITION</a>.
</li><li><code>SQLWARNING</code> is shorthand for the class of SQLSTATE values that begin
with '01'.
</li><li><code>NOT FOUND</code> is shorthand for the class of <code>SQLSTATE</code> values that begin
with '02'. This is relevant only the context of cursors and is used to
control what happens when a cursor reaches the end of a data set. If
no more rows are available, a No Data condition occurs with <code>SQLSTATE</code>
value 02000. To detect this condition, you can set up a handler for it
(or for a <code>NOT FOUND</code> condition). An example is shown in <a href="https://mariadb.com/kb/en/cursor-overview/">Cursor Overview</a>. This condition also occurs for <a href="https://mariadb.com/kb/en/select-into/">SELECT ... INTO</a> var_list statements that retrieve no
rows.
</li><li>SQLEXCEPTION is shorthand for the class of SQLSTATE values that do
not begin with '00', '01', or '02'.
</li></ul>
<p>When an error raises, in some cases it could be handled by multiple <code>HANDLER</code>s. For example, there may be an handler for 1050 error, a separate handler for the 42S01 SQLSTATE, and another separate handler for the <code>SQLEXCEPTION</code> class: in theory all occurrences of <code>HANDLER</code> may catch the 1050 error, but MariaDB chooses the <code>HANDLER</code> with the highest precedence. Here are the precedence rules:</p>
<ul start="1"><li>Handlers which refer to an error code have the highest precedence.
</li><li>Handlers which refer to a SQLSTATE come next.
</li><li>Handlers which refer to an error class have the lowest precedence.
</li></ul>
<p>In some cases, a statement could produce multiple errors. If this happens, in some cases multiple handlers could have the highest precedence. In such cases, the choice of the handler is indeterminate.</p>
<p>Note that if an error occurs within a <code>CONTINUE HANDLER</code> block, it can be handled by another <code>HANDLER</code>. However, a <code>HANDLER</code> which is already in the stack (that is, it has been called to handle an error and its execution didn't finish yet) cannot handle new errors<span>—</span>this prevents endless loops. For example, suppose that a stored procedure contains a <code>CONTINUE HANDLER</code> for <code>SQLWARNING</code> and another <code>CONTINUE HANDLER</code> for <code>NOT FOUND</code>. At some point, a NOT FOUND error occurs, and the execution enters the <code>NOT FOUND HANDLER</code>. But within that handler, a warning occurs, and the execution enters the <code>SQLWARNING HANDLER</code>. If another <code>NOT FOUND</code> error occurs, it cannot be handled again by the <code>NOT FOUND HANDLER</code>, because its execution is not finished.</p>
<p>When a <code>DECLARE HANDLER</code> block can handle more than one error condition, it may be useful to know which errors occurred. To do so, you can use the <a href="https://mariadb.com/kb/en/get-diagnostics/">GET DIAGNOSTICS</a> statement.</p>
<p>An error that is handled by a <code>DECLARE HANDLER</code> construct can be issued again using the <a href="#resignal">RESIGNAL</a> statement.</p>
<p>Below is an example using <code>DECLARE HANDLER</code>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">test</span><span class="p">.</span><span class="n">t</span> <span class="p">(</span><span class="n">s1</span> <span class="nb">INT</span><span class="p">,</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">s1</span><span class="p">));</span>

<span class="k">DELIMITER</span> <span class="o">//</span>

<span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">handlerdemo</span> <span class="p">(</span> <span class="p">)</span>
     <span class="k">BEGIN</span>
       <span class="k">DECLARE</span> <span class="k">CONTINUE</span> <span class="k">HANDLER</span> <span class="k">FOR</span> <span class="k">SQLSTATE</span> <span class="s1">'23000'</span> <span class="k">SET</span> <span class="o">@</span><span class="n">x2</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
       <span class="k">SET</span> <span class="o">@</span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
       <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">test</span><span class="p">.</span><span class="n">t</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">);</span>
       <span class="k">SET</span> <span class="o">@</span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
       <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">test</span><span class="p">.</span><span class="n">t</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">);</span>
       <span class="k">SET</span> <span class="o">@</span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
     <span class="k">END</span><span class="p">;</span>
     <span class="o">//</span>

<span class="k">DELIMITER</span> <span class="p">;</span>

<span class="k">CALL</span> <span class="n">handlerdemo</span><span class="p">(</span> <span class="p">);</span>

<span class="k">SELECT</span> <span class="o">@</span><span class="n">x</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="o">@</span><span class="n">x</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="declare-variable">DECLARE Variable</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="declare-variablesyntax">Syntax</h2>
<pre class="fixed">DECLARE var_name [, var_name] ... [[ROW] TYPE OF]] type [DEFAULT value]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3"><a href="#declare-variablesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3"><a href="#declare-variabledescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_3"><a href="#declare-variabletype-of-row-type-of" title="TYPE OF / ROW TYPE OF">TYPE OF / ROW TYPE OF</a> </li></ol>
</li>
<li class="mariadb_from_10_3"><a href="#declare-variableexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3"><a href="#declare-variablesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="declare-variabledescription">Description</h2>
<p>This statement is used to declare local variables within <a href="https://mariadb.com/kb/en/stored-programs-and-views/">stored programs</a>. To
provide a default value for the variable, include a <code>DEFAULT</code> clause. The
value can be specified as an expression (even subqueries are permitted); it need not be a constant. If the
<code>DEFAULT</code> clause is missing, the initial value is <code>NULL</code>.</p>
<p>Local variables are treated like stored routine parameters with respect to data
type and overflow checking.  See <a href="#create-procedure">CREATE PROCEDURE</a>.</p>
<p>Local variables must be declared before <code>CONDITION</code>s, <a href="https://mariadb.com/kb/en/programmatic-and-compound-statements-cursors/">CURSORs</a> and <code>HANDLER</code>s.</p>
<p>Local variable names are not case sensitive.</p>
<p>The scope of a local variable is within the <code>BEGIN ... END</code> block where it is
declared. The variable can be referred to in blocks nested within the declaring
block, except those blocks that declare a variable with the same name.</p>
<h3 class="anchored_heading" id="declare-variabletype-of-row-type-of">TYPE OF / ROW TYPE OF</h3>
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p><code>TYPE OF</code> and <code>ROW TYPE OF</code> anchored data types for stored routines were introduced in <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>.</p>
</div><p>Anchored data types allow a data type to be defined based on another object, such as a table row, rather than specifically set in the declaration. If the anchor object changes, so will the anchored data type. This can lead to routines being easier to maintain, so that if the data type in the table is changed, it will automatically be changed in the routine as well.</p>
<p>Variables declared with <code>ROW TYPE OF</code> will have the same features as implicit <a href="#row">ROW</a> variables. It is not possible to use <code>ROW TYPE OF</code> variables in a <a href="#limit">LIMIT</a> clause.</p>
<p>The real data type of <code>TYPE OF</code> and <code>ROW TYPE OF table_name</code> will become known at the very beginning of the stored routine call. <a href="#alter-table">ALTER TABLE</a> or <a href="#drop-table">DROP TABLE</a> statements performed inside the current routine on the tables that appear in anchors won't affect the data type of the anchored variables, even if the variable is declared after an <a href="#alter-table">ALTER TABLE</a> or <a href="#drop-table">DROP TABLE</a> statement.</p>
<p>The real data type of a <code>ROW TYPE OF cursor_name</code> variable will become known when execution enters into the block where the variable is declared. Data type instantiation will happen only once. In a cursor <code>ROW TYPE OF</code> variable that is declared inside a loop, its data type will become known on the very first iteration and won't change on further loop iterations.</p>
<p>The tables referenced in <code>TYPE OF</code> and <code>ROW TYPE OF</code> declarations will be checked for existence at the beginning of the stored routine call. <a href="#create-procedure">CREATE PROCEDURE</a> or <a href="#create-function">CREATE FUNCTION</a> will not check the referenced tables for existence.</p>
<h2 class="anchored_heading" id="declare-variableexamples">Examples</h2>
<p><code>TYPE OF</code> and <code>ROW TYPE OF</code> from <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>:</p>
<pre class="fixed"><span class="k">DECLARE</span> <span class="n">tmp</span> <span class="k">TYPE</span> <span class="k">OF</span> <span class="n">t1</span><span class="p">.</span><span class="n">a</span><span class="p">;</span> <span class="c1">-- Get the data type from the column {{a}} in the table {{t1}}</span>

<span class="k">DECLARE</span> <span class="n">rec1</span> <span class="k">ROW</span> <span class="k">TYPE</span> <span class="k">OF</span> <span class="n">t1</span><span class="p">;</span> <span class="c1">-- Get the row data type from the table {{t1}}</span>

<span class="k">DECLARE</span> <span class="n">rec2</span> <span class="k">ROW</span> <span class="k">TYPE</span> <span class="k">OF</span> <span class="n">cur1</span><span class="p">;</span> <span class="c1">-- Get the row data type from the cursor {{cur1}}</span>
</pre><h2 class="anchored_heading" id="declare-variablesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/user-defined-variables/">User-Defined variables</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="for">FOR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>FOR loops were introduced in <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>.</p>
</div><h2 class="anchored_heading" id="forsyntax">Syntax</h2>
<p>Integer range FOR loop:</p>
<pre class="fixed">[begin_label:]
FOR var_name IN [ REVERSE ] lower_bound .. upper_bound
DO statement_list
END FOR [ end_label ]
</pre><p>Explicit cursor FOR loop</p>
<pre class="fixed">[begin_label:]
FOR record_name IN cursor_name [ ( cursor_actual_parameter_list)]
DO statement_list
END FOR [ end_label ]
</pre><p>Explicit cursor FOR loop (<a href="https://mariadb.com/kb/en/sql_modeoracle/">Oracle mode</a>)</p>
<pre class="fixed">[begin_label:]
FOR record_name IN cursor_name [ ( cursor_actual_parameter_list)]
LOOP
  statement_list
END LOOP [ end_label ]
</pre><p>Implicit cursor FOR loop</p>
<pre class="fixed">[begin_label:]
FOR record_name IN ( select_statement )
DO statement_list
END FOR [ end_label ]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3"><a href="#forsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3"><a href="#fordescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3"><a href="#forexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3"><a href="#forsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="fordescription">Description</h2>
<p>FOR loops allow code to be executed a fixed number of times.</p>
<p>In an integer range FOR loop, MariaDB will compare the lower bound and upper bound values, and assign the lower bound value to a counter. If REVERSE is not specified, and the upper bound value is greater than or equal to the counter, the counter will be incremented and the statement will continue, after which the loop is entered again. If the upper bound value is greater than the counter, the loop will be exited.</p>
<p>If REVERSE is specified, the counter is decremented, and the upper bound value needs to be less than or equal for the loop to continue.</p>
<h2 class="anchored_heading" id="forexamples">Examples</h2>
<p>Intger range FOR loop:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">DELIMITER</span> <span class="o">//</span>

<span class="k">FOR</span> <span class="n">i</span> <span class="k">IN</span> <span class="mi">1</span><span class="p">..</span><span class="mi">3</span>
<span class="k">DO</span>
  <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="k">END</span> <span class="k">FOR</span><span class="p">;</span>
<span class="o">//</span>

<span class="k">DELIMITER</span> <span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>REVERSE integer range FOR loop:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">DELIMITER</span> <span class="o">//</span>
<span class="k">FOR</span> <span class="n">i</span> <span class="k">IN</span> <span class="n">REVERSE</span> <span class="mi">4</span><span class="p">..</span><span class="mi">12</span>
    <span class="k">DO</span>
    <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="k">END</span> <span class="k">FOR</span><span class="p">;</span>
<span class="o">//</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">9</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">422</span> <span class="n">sec</span><span class="p">)</span>


<span class="k">DELIMITER</span> <span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>   <span class="mi">12</span> <span class="o">|</span>
<span class="o">|</span>   <span class="mi">11</span> <span class="o">|</span>
<span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>Explicit cursor in <a href="https://mariadb.com/kb/en/sql_modeoracle/">Oracle mode</a>:</p>
<pre class="fixed"><span class="k">SET</span> <span class="n">sql_mode</span><span class="o">=</span><span class="n">ORACLE</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">b</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">32</span><span class="p">));</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="s1">'b0'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="s1">'b1'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="s1">'b2'</span><span class="p">);</span>

<span class="k">DELIMITER</span> <span class="o">//</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">PROCEDURE</span> <span class="n">p1</span><span class="p">(</span><span class="n">pa</span> <span class="nb">INT</span><span class="p">)</span> <span class="k">AS</span> 
  <span class="k">CURSOR</span> <span class="n">cur</span><span class="p">(</span><span class="n">va</span> <span class="nb">INT</span><span class="p">)</span> <span class="k">IS</span>
    <span class="k">SELECT</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="n">a</span><span class="o">=</span><span class="n">va</span><span class="p">;</span>
<span class="k">BEGIN</span>
  <span class="k">FOR</span> <span class="n">rec</span> <span class="k">IN</span> <span class="n">cur</span><span class="p">(</span><span class="n">pa</span><span class="p">)</span>
  <span class="n">LOOP</span>
    <span class="k">SELECT</span> <span class="n">rec</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">rec</span><span class="p">.</span><span class="n">b</span><span class="p">;</span>
  <span class="k">END</span> <span class="n">LOOP</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>
<span class="o">//</span>

<span class="k">DELIMITER</span> <span class="p">;</span>

<span class="k">CALL</span> <span class="n">p1</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------+-------+</span>
<span class="o">|</span> <span class="n">rec</span><span class="p">.</span><span class="n">a</span> <span class="o">|</span> <span class="n">rec</span><span class="p">.</span><span class="n">b</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+</span>
<span class="o">|</span>    <span class="mi">10</span> <span class="o">|</span> <span class="n">b0</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+</span>

<span class="k">CALL</span> <span class="n">p1</span><span class="p">(</span><span class="mi">11</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------+-------+</span>
<span class="o">|</span> <span class="n">rec</span><span class="p">.</span><span class="n">a</span> <span class="o">|</span> <span class="n">rec</span><span class="p">.</span><span class="n">b</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+</span>
<span class="o">|</span>    <span class="mi">11</span> <span class="o">|</span> <span class="n">b1</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+</span>

<span class="k">CALL</span> <span class="n">p1</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------+-------+</span>
<span class="o">|</span> <span class="n">rec</span><span class="p">.</span><span class="n">a</span> <span class="o">|</span> <span class="n">rec</span><span class="p">.</span><span class="n">b</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+</span>
<span class="o">|</span>    <span class="mi">12</span> <span class="o">|</span> <span class="n">b2</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+</span>

<span class="k">CALL</span> <span class="n">p1</span><span class="p">(</span><span class="mi">13</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>
</pre><h2 class="anchored_heading" id="forsee-also">See Also</h2>
<ul start="1"><li><a href="#loop">LOOP</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="labels">Labels</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">label: &lt;construct&gt;
[label]
</pre><p>Labels are MariaDB <a href="https://mariadb.com/kb/en/identifier-names/">identifiers</a> which can be used to identify a <a href="#begin-end">BEGIN ... END</a> construct or a loop. They have a maximum length of 16 characters and can be quoted with backticks (i.e.., <code>`</code>).</p>
<p>Labels have a start part and an end part. The start part must precede the portion of code it refers to, must be followed by a colon (<code>:</code>) and can be on the same or different line. The end part is optional and adds nothing, but can make the code more readable. If used, the end part must precede the construct's delimiter (<code>;</code>). Constructs identified by a label can be nested. Each construct can be identified by only one label.</p>
<p>Labels need not be unique in the stored program they belong to. However, a label for an inner loop cannot be identical to a label for an outer loop. In this case, the following error would be produced:</p>
<pre class="fixed">ERROR 1309 (42000): Redefining label &lt;label_name&gt;
</pre><p><a href="#leave">LEAVE</a> and <a href="#iterate">ITERATE</a> statements can be used to exit or repeat a portion of code identified by a label. They must be in the same <a href="https://mariadb.com/kb/en/stored-programs-and-views/">Stored Routine</a>, <a href="https://mariadb.com/kb/en/triggers/">Trigger</a> or <a href="https://mariadb.com/kb/en/events/">Event</a> which contains the target label.</p>
<p>Below is an example using a simple label that is used to exit a <a href="#loop">LOOP</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="o">`</span><span class="n">test_sp</span><span class="o">`</span><span class="p">()</span>
<span class="k">BEGIN</span>
   <span class="o">`</span><span class="n">my_label</span><span class="o">`</span><span class="p">:</span>
   <span class="n">LOOP</span>
      <span class="k">SELECT</span> <span class="s1">'looping'</span><span class="p">;</span>
      <span class="n">LEAVE</span> <span class="o">`</span><span class="n">my_label</span><span class="o">`</span><span class="p">;</span>
   <span class="k">END</span> <span class="n">LOOP</span><span class="p">;</span>
   <span class="k">SELECT</span> <span class="s1">'out of loop'</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>
</pre><p>The following label is used to exit a procedure, and has an end part:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="o">`</span><span class="n">test_sp</span><span class="o">`</span><span class="p">()</span>
<span class="o">`</span><span class="n">my_label</span><span class="o">`</span><span class="p">:</span>
<span class="k">BEGIN</span>
   <span class="k">IF</span> <span class="o">@</span><span class="n">var</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">THEN</span>
      <span class="n">LEAVE</span> <span class="o">`</span><span class="n">my_label</span><span class="o">`</span><span class="p">;</span>
   <span class="k">END</span> <span class="k">IF</span><span class="p">;</span>
   <span class="k">DO</span> <span class="n">something</span><span class="p">();</span>
<span class="k">END</span> <span class="o">`</span><span class="n">my_label</span><span class="o">`</span><span class="p">;</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="leave">LEAVE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LEAVE label
</pre><p>This statement is used to exit the flow control construct that has the
given <a href="#labels">label</a>. The label must be in the same stored program, not in a caller procedure. <code>LEAVE</code> can be used within <a href="#begin-end">BEGIN ... END</a> or loop constructs
(<a href="#loop">LOOP</a>, <a href="#repeat-loop">REPEAT</a>, <a href="#while">WHILE</a>). In <a href="https://mariadb.com/kb/en/stored-procedures/">Stored Procedures</a>, <a href="https://mariadb.com/kb/en/triggers/">Triggers</a> and <a href="https://mariadb.com/kb/en/events/">Events</a>, LEAVE can refer to the outmost BEGIN ... END construct; in that case, the program exits the procedure. In <a href="https://mariadb.com/kb/en/stored-functions/">Stored Functions</a>, <a href="#return">RETURN</a> can be used instead.</p>
<p>Note that LEAVE cannot be used to exit a <a href="#declare-handler">DECLARE HANDLER</a> block.</p>
<p>If you try to LEAVE a non-existing label, or if you try to LEAVE a HANDLER block, the following error will be produced:</p>
<pre class="fixed">ERROR 1308 (42000): LEAVE with no matching label: &lt;label_name&gt;
</pre><p>The following example uses <code>LEAVE</code> to exit the procedure if a condition is true:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">proc</span><span class="p">(</span><span class="k">IN</span> <span class="n">p</span> <span class="n">TINYINT</span><span class="p">)</span>
<span class="k">CONTAINS</span> <span class="k">SQL</span>
<span class="o">`</span><span class="n">whole_proc</span><span class="o">`</span><span class="p">:</span>
<span class="k">BEGIN</span>
   <span class="k">SELECT</span> <span class="mi">1</span><span class="p">;</span>
   <span class="k">IF</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="k">THEN</span>
      <span class="n">LEAVE</span> <span class="o">`</span><span class="n">whole_proc</span><span class="o">`</span><span class="p">;</span>
   <span class="k">END</span> <span class="k">IF</span><span class="p">;</span>
   <span class="k">SELECT</span> <span class="mi">2</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>

<span class="k">CALL</span> <span class="n">proc</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#iterate">ITERATE</a> - Repeats a loop execution</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="not-regexp">NOT REGEXP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">expr NOT REGEXP pat, expr NOT RLIKE pat
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This is the same as <a href="#not">NOT (expr REGEXP pat)</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="octet_length">OCTET_LENGTH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">OCTET_LENGTH(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>OCTET_LENGTH()</code> returns the length of the given string, in octets (bytes). This is a synonym for <a href="#lengthb">LENGTHB()</a>, and, when <a href="https://mariadb.com/kb/en/sql_modeoracle/#functions">Oracle mode from MariaDB 10.3</a> is not set, a synonym for <a href="#length">LENGTH()</a>.</p>
<p>A multi-byte character counts as multiple bytes. This means that for a string containing five two-byte characters, <code>OCTET_LENGTH()</code> returns 10, whereas <a href="#char_length">CHAR_LENGTH()</a> returns 5.</p>
<p>If <code>str</code> is not a string value, it is converted into a string. If <code>str</code> is <code>NULL</code>, the function returns <code>NULL</code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<p>When <a href="https://mariadb.com/kb/en/sql_modeoracle/">Oracle mode</a> from <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> is not set:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span>                 <span class="mi">1</span> <span class="o">|</span>            <span class="mi">2</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>                  <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
</pre><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle/#functions">Oracle mode from MariaDB 10.3</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span>                 <span class="mi">1</span> <span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>                  <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#char_length">CHAR_LENGTH()</a>
</li><li><a href="#length">LENGTH()</a>
</li><li><a href="#lengthb">LENGTHB()</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#simple-syntax-compatibility">Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="ord">ORD</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ORD(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>If the leftmost character of the string <code>str</code> is a multi-byte character,
returns the code for that character, calculated from the numeric
values of its constituent bytes using this formula:</p>
<pre class="fixed">  (1st byte code)
+ (2nd byte code x 256)
+ (3rd byte code x 256 x 256) ...
</pre><p>If the leftmost character is not a multi-byte character, ORD() returns
the same value as the <a href="#ascii">ASCII()</a> function.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">ORD</span><span class="p">(</span><span class="s1">'2'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="n">ORD</span><span class="p">(</span><span class="s1">'2'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span>       <span class="mi">50</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#ascii">ASCII()</a>  - Return ASCII value of first character
</li><li><a href="#char-function">CHAR()</a> - Create a character from an integer value</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="position">POSITION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">POSITION(substr IN str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>POSITION(substr IN str) is a synonym for <a href="#locate">LOCATE(substr,str)</a>.</p>
<p>It's part of ODBC 3.0.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="quote">QUOTE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">QUOTE(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Quotes a string to produce a result that can be used as a properly escaped data
value in an SQL statement. The string is returned enclosed by single quotes and
with each instance of single quote ("<code>'</code>"), backslash ("<code>\</code>"),
<code>ASCII NUL</code>, and Control-Z preceded by a backslash. If the argument
is <code>NULL</code>, the return value is the word "<code>NULL</code>" without enclosing single
quotes.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">QUOTE</span><span class="p">(</span><span class="ss">"Don't!"</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">QUOTE</span><span class="p">(</span><span class="ss">"Don't!"</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="s1">'Don\'</span><span class="n">t</span><span class="o">!</span><span class="err">'</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>

<span class="k">SELECT</span> <span class="n">QUOTE</span><span class="p">(</span><span class="k">NULL</span><span class="p">);</span> 
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="n">QUOTE</span><span class="p">(</span><span class="k">NULL</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="repeat-loop">REPEAT LOOP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">[begin_label:] REPEAT
    statement_list
UNTIL search_condition
END REPEAT [end_label]
</pre><p>The statement list within a <code>REPEAT</code> statement is repeated until the
search_condition is true. Thus, a <code>REPEAT</code> always enters the loop at
least once. statement_list consists of one or more statements, each
terminated by a semicolon (i.e., <code>;</code>) statement delimiter.</p>
<p>A <code>REPEAT</code> statement can be <a href="#labels">labeled</a>. end_label cannot be given unless
begin_label also is present. If both are present, they must be the
same.</p>
<p>See <a href="https://mariadb.com/kb/en/delimiters/">Delimiters</a> in the <a href="https://mariadb.com/kb/en/mysql-client/">mysql</a> client for more on client delimiter usage.</p>
<pre class="fixed"><span class="k">DELIMITER</span> <span class="o">//</span>

<span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">dorepeat</span><span class="p">(</span><span class="n">p1</span> <span class="nb">INT</span><span class="p">)</span>
  <span class="k">BEGIN</span>
    <span class="k">SET</span> <span class="o">@</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">REPEAT</span> <span class="k">SET</span> <span class="o">@</span><span class="n">x</span> <span class="o">=</span> <span class="o">@</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="k">UNTIL</span> <span class="o">@</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">p1</span> <span class="k">END</span> <span class="n">REPEAT</span><span class="p">;</span>
  <span class="k">END</span>
<span class="o">//</span>

<span class="k">CALL</span> <span class="n">dorepeat</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span><span class="o">//</span>

<span class="k">SELECT</span> <span class="o">@</span><span class="n">x</span><span class="o">//</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="o">@</span><span class="n">x</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="mi">1001</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="resignal">RESIGNAL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="resignalsyntax">Syntax</h2>
<pre class="fixed">RESIGNAL [error_condition]
    [SET error_property
    [, error_property] ...]

error_condition:
    SQLSTATE [VALUE] 'sqlstate_value'
  | condition_name

error_property:
    error_property_name = &lt;error_property_value&gt;

error_property_name:
    CLASS_ORIGIN
  | SUBCLASS_ORIGIN
  | MESSAGE_TEXT
  | MYSQL_ERRNO
  | CONSTRAINT_CATALOG
  | CONSTRAINT_SCHEMA
  | CONSTRAINT_NAME
  | CATALOG_NAME
  | SCHEMA_NAME
  | TABLE_NAME
  | COLUMN_NAME
  | CURSOR_NAME
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#resignalsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#resignaldescription" title="Description">Description</a></li>
<li class=""><a href="#resignalsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="resignaldescription">Description</h2>
<p>The syntax of <code>RESIGNAL</code> and its semantics are very similar to <a href="#signal">SIGNAL</a>. This statement can only be used within an error <a href="#declare-handler">HANDLER</a>. It produces an error, like <a href="#signal">SIGNAL</a>. <code>RESIGNAL</code> clauses are the same as SIGNAL, except that they all are optional, even <a href="https://mariadb.com/kb/en/sqlstate/">SQLSTATE</a>. All the properties which are not specified in <code>RESIGNAL</code>, will be identical to the properties of the error that was received by the error <a href="https://mariadb.com/kb/en/handler/">HANDLER</a>. For a description of the clauses, see <a href="https://mariadb.com/kb/en/diagnostics-area/">diagnostics area</a>.</p>
<p>Note that <code>RESIGNAL</code> does not empty the diagnostics area: it just appends another error condition.</p>
<p><code>RESIGNAL</code>, without any clauses, produces an error which is identical to the error that was received by <a href="https://mariadb.com/kb/en/handler/">HANDLER</a>.</p>
<p>If used out of a <a href="https://mariadb.com/kb/en/handler/">HANDLER</a> construct, RESIGNAL produces the following error:</p>
<pre class="fixed">ERROR 1645 (0K000): RESIGNAL when handler not active
</pre><p>In <a href="https://mariadb.com/kb/en/what-is-mariadb-55/">MariaDB 5.5</a>, if a <a href="https://mariadb.com/kb/en/handler/">HANDLER</a> contained a <a href="#call">CALL</a> to another procedure, that procedure could use <code>RESIGNAL</code>. Since <a href="https://mariadb.com/kb/en/what-is-mariadb-100/">MariaDB 10.0</a>, trying to do this raises the above error.</p>
<p>For a list of <code>SQLSTATE</code> values and MariaDB error codes, see <a href="https://mariadb.com/kb/en/mariadb-error-codes/">MariaDB Error Codes</a>.</p>
<p>The following procedure tries to query two tables which don't exist, producing a 1146 error in both cases. Those errors will trigger the <a href="https://mariadb.com/kb/en/handler/">HANDLER</a>. The first time the error will be ignored and the client will not receive it, but the second time, the error is re-signaled, so the client will receive it.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">test_error</span><span class="p">(</span> <span class="p">)</span>
<span class="k">BEGIN</span>
   <span class="k">DECLARE</span> <span class="k">CONTINUE</span> <span class="k">HANDLER</span>
      <span class="k">FOR</span> <span class="mi">1146</span>
   <span class="k">BEGIN</span>
   <span class="k">IF</span> <span class="o">@</span><span class="n">hide_errors</span> <span class="k">IS</span> <span class="k">FALSE</span> <span class="k">THEN</span>
      <span class="n">RESIGNAL</span><span class="p">;</span>
   <span class="k">END</span> <span class="k">IF</span><span class="p">;</span>
   <span class="k">END</span><span class="p">;</span>
   <span class="k">SET</span> <span class="o">@</span><span class="n">hide_errors</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
   <span class="k">SELECT</span> <span class="s1">'Next error will be ignored'</span> <span class="k">AS</span> <span class="n">msg</span><span class="p">;</span>
   <span class="k">SELECT</span> <span class="o">`</span><span class="k">c</span><span class="o">`</span> <span class="k">FROM</span> <span class="o">`</span><span class="n">temptab_one</span><span class="o">`</span><span class="p">;</span>
   <span class="k">SELECT</span> <span class="s1">'Next error won''t be ignored'</span> <span class="k">AS</span> <span class="n">msg</span><span class="p">;</span>
   <span class="k">SET</span> <span class="o">@</span><span class="n">hide_errors</span> <span class="o">=</span> <span class="k">FALSE</span><span class="p">;</span>
   <span class="k">SELECT</span> <span class="o">`</span><span class="k">c</span><span class="o">`</span> <span class="k">FROM</span> <span class="o">`</span><span class="n">temptab_two</span><span class="o">`</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>

<span class="k">CALL</span> <span class="n">test_error</span><span class="p">(</span> <span class="p">);</span>

<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span> <span class="n">msg</span>                        <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span> <span class="k">Next</span> <span class="n">error</span> <span class="n">will</span> <span class="n">be</span> <span class="n">ignored</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>

<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="n">msg</span>                         <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="k">Next</span> <span class="n">error</span> <span class="n">won</span><span class="s1">'t be ignored |</span>
<span class="s1">+-----------------------------+</span>

<span class="s1">ERROR 1146 (42S02): Table '</span><span class="n">test</span><span class="p">.</span><span class="n">temptab_two</span><span class="s1">' doesn'</span><span class="n">t</span> <span class="n">exist</span>
</pre><p>The following procedure re-signals an error, modifying only the error message to clarify the cause of the problem.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">test_error</span><span class="p">()</span>
<span class="k">BEGIN</span>
   <span class="k">DECLARE</span> <span class="k">CONTINUE</span> <span class="k">HANDLER</span>
   <span class="k">FOR</span> <span class="mi">1146</span>
   <span class="k">BEGIN</span>
      <span class="n">RESIGNAL</span> <span class="k">SET</span>
      <span class="k">MESSAGE_TEXT</span> <span class="o">=</span> <span class="s1">'`temptab` does not exist'</span><span class="p">;</span>
   <span class="k">END</span><span class="p">;</span>
   <span class="k">SELECT</span> <span class="o">`</span><span class="k">c</span><span class="o">`</span> <span class="k">FROM</span> <span class="o">`</span><span class="n">temptab</span><span class="o">`</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>

<span class="k">CALL</span> <span class="n">test_error</span><span class="p">(</span> <span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1146</span> <span class="p">(</span><span class="mi">42</span><span class="n">S02</span><span class="p">):</span> <span class="o">`</span><span class="n">temptab</span><span class="o">`</span> <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span>
</pre><p>As explained above, this works on <a href="https://mariadb.com/kb/en/what-is-mariadb-55/">MariaDB 5.5</a>, but produces a 1645 error since 10.0.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">handle_error</span><span class="p">()</span>
<span class="k">BEGIN</span>
  <span class="n">RESIGNAL</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">p</span><span class="p">()</span>
<span class="k">BEGIN</span>
  <span class="k">DECLARE</span> <span class="n">EXIT</span> <span class="k">HANDLER</span> <span class="k">FOR</span> <span class="k">SQLEXCEPTION</span> <span class="k">CALL</span> <span class="n">p</span><span class="p">();</span>
  <span class="n">SIGNAL</span> <span class="k">SQLSTATE</span> <span class="s1">'45000'</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="resignalsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/diagnostics-area/">Diagnostics Area</a>
</li><li><a href="#signal">SIGNAL</a>
</li><li><a href="https://mariadb.com/kb/en/handler/">HANDLER</a>
</li><li><a href="https://mariadb.com/kb/en/stored-programs-and-views/">Stored Routines</a>
</li><li><a href="https://mariadb.com/kb/en/mariadb-error-codes/">MariaDB Error Codes</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="selectinto">SELECT INTO</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="selectintosyntax">Syntax</h2>
<pre class="fixed">SELECT col_name [, col_name] ...
    INTO var_name [, var_name] ...
    table_expr
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#selectintosyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#selectintodescription" title="Description">Description</a></li>
<li class=""><a href="#selectintoexamples" title="Examples">Examples</a></li>
<li class=""><a href="#selectintosee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="selectintodescription">Description</h2>
<p>SELECT ... INTO enables selected columns to be stored directly
into variables. No resultset is produced. The query should return a single row. If the query
returns no rows, a warning with error code 1329 occurs (No data), and
the variable values remain unchanged. If the query returns multiple
rows, error 1172 occurs (Result consisted of more than one row). If it
is possible that the statement may retrieve multiple rows, you can use
<code>LIMIT 1</code> to limit the result set to a single row.</p>
<p>The INTO clause can also be specified at the end of the statement.</p>
<p>In the context of such statements that occur as part of events
executed by the Event Scheduler, diagnostics messages (not only
errors, but also warnings) are written to the error log, and, on
Windows, to the application event log.</p>
<p>This statement can be used with both <a href="#declare-variable">local variables</a> and <a href="https://mariadb.com/kb/en/user-defined-variables/">user-defined variables</a>.</p>
<p>For the complete syntax, see <a href="#select">SELECT</a>.</p>
<p>Another way to set a variable's value is the <a href="https://mariadb.com/kb/en/set-variable/">SET</a> statement.</p>
<p><code>SELECT ... INTO</code> results are not stored in the <a href="https://mariadb.com/kb/en/query-cache/">query cache</a> even if <code>SQL_CACHE</code> is specified.</p>
<h2 class="anchored_heading" id="selectintoexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="k">data</span> <span class="k">INTO</span> <span class="o">@</span><span class="n">x</span><span class="p">,</span><span class="o">@</span><span class="n">y</span> 
<span class="k">FROM</span> <span class="n">test</span><span class="p">.</span><span class="n">t1</span> <span class="k">LIMIT</span> <span class="mi">1</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="selectintosee-also">See Also</h2>
<ul start="1"><li><a href="#select">SELECT</a> - full SELECT syntax.
</li><li><a href="#select-into-outfile">SELECT INTO OUTFILE</a> - formatting and writing the result to an external file.
</li><li><a href="#select-into-dumpfile">SELECT INTO DUMPFILE</a> - binary-safe writing of the unformatted results to an external file.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="repeat-function">REPEAT Function</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">REPEAT(str,count)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a string consisting of the string <code>str</code> repeated <code>count</code> times. If
<code>count</code> is less than 1, returns an empty string. Returns NULL if <code>str</code> or
<code>count</code> are NULL.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">QUOTE</span><span class="p">(</span><span class="n">REPEAT</span><span class="p">(</span><span class="s1">'MariaDB '</span><span class="p">,</span><span class="mi">4</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">QUOTE</span><span class="p">(</span><span class="n">REPEAT</span><span class="p">(</span><span class="s1">'MariaDB '</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>        <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="s1">'MariaDB MariaDB MariaDB MariaDB '</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="replace-function">REPLACE Function</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">REPLACE(str,from_str,to_str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the string <code>str</code> with all occurrences of the string <code>from_str</code>
replaced by the string <code>to_str</code>. REPLACE() performs a case-sensitive
match when searching for <code>from_str</code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">REPLACE</span><span class="p">(</span><span class="s1">'www.mariadb.org'</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">,</span> <span class="s1">'Ww'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
<span class="o">|</span> <span class="k">REPLACE</span><span class="p">(</span><span class="s1">'www.mariadb.org'</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">,</span> <span class="s1">'Ww'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
<span class="o">|</span> <span class="n">WwWwWw</span><span class="p">.</span><span class="n">mariadb</span><span class="p">.</span><span class="n">org</span>                    <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="reverse">REVERSE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">REVERSE(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the string <code>str</code> with the order of the characters reversed.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">REVERSE</span><span class="p">(</span><span class="s1">'desserts'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">REVERSE</span><span class="p">(</span><span class="s1">'desserts'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">stressed</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="right">RIGHT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">RIGHT(str,len)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the rightmost <em><code>len</code></em> characters from the string <em><code>str</code></em>, or NULL if
any argument is NULL.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">RIGHT</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="k">RIGHT</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">DB</span>                  <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="signal">SIGNAL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="signalsyntax">Syntax</h2>
<pre class="fixed">SIGNAL error_condition
    [SET error_property
    [, error_property] ...]

error_condition:
    SQLSTATE [VALUE] 'sqlstate_value'
  | condition_name

error_property:
    error_property_name = &lt;error_property_value&gt;

error_property_name:
    CLASS_ORIGIN
  | SUBCLASS_ORIGIN
  | MESSAGE_TEXT
  | MYSQL_ERRNO
  | CONSTRAINT_CATALOG
  | CONSTRAINT_SCHEMA
  | CONSTRAINT_NAME
  | CATALOG_NAME
  | SCHEMA_NAME
  | TABLE_NAME
  | COLUMN_NAME
  | CURSOR_NAME
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#signalsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#signalerrors" title="Errors">Errors</a></li>
<li class=""><a href="#signalexamples" title="Examples">Examples</a></li>
<li class=""><a href="#signalsee-also" title="See Also">See Also</a> </li></ol>

</div>
<p><code>SIGNAL</code> empties the <a href="https://mariadb.com/kb/en/diagnostics-area/">diagnostics area</a> and produces a custom error. This statement can be used anywhere, but is generally useful when used inside a <a href="https://mariadb.com/kb/en/stored-programs-and-views/">stored program</a>. When the error is produced, it can be caught by a <a href="https://mariadb.com/kb/en/handler/">HANDLER</a>. If not, the current stored program, or the current statement, will terminate with the specified error.</p>
<p>Sometimes an error <a href="https://mariadb.com/kb/en/handler/">HANDLER</a> just needs to <a href="#signal">SIGNAL</a> the same error it received, optionally with some changes. Usually the <a href="#resignal">RESIGNAL</a> statement is the most convenient way to do this.</p>
<p><code>error_condition</code> can be an <a href="https://mariadb.com/kb/en/sqlstate/">SQLSTATE</a> value or a named error condition defined via <a href="#declare-condition">DECLARE CONDITION</a>. <a href="https://mariadb.com/kb/en/sqlstate/">SQLSTATE</a> must be a constant string consisting of five characters. These codes are standard to ODBC and ANSI SQL. For customized errors, the recommended <a href="https://mariadb.com/kb/en/sqlstate/">SQLSTATE</a> is '45000'. For a list of SQLSTATE values used by MariaDB, see the <a href="https://mariadb.com/kb/en/mariadb-error-codes/">MariaDB Error Codes</a> page. The <a href="https://mariadb.com/kb/en/sqlstate/">SQLSTATE</a> can be read via the API method <code>mysql_sqlstate( )</code>. </p>
<p>To specify error properties user-defined variables and <a href="#declare-variable">local variables</a> can be used, as well as <a href="https://mariadb.com/kb/en/setting-character-sets-and-collations/#literals">character set conversions</a> (but you can't set a collation).</p>
<p>The error properties, their type and their default values are explained in the <a href="https://mariadb.com/kb/en/diagnostics-area/">diagnostics area</a> page.</p>
<h2 class="anchored_heading" id="signalerrors">Errors</h2>
<p>If the SQLSTATE is not valid, the following error like this will be produced:</p>
<pre class="fixed">ERROR 1407 (42000): Bad SQLSTATE: '123456'
</pre><p>If a property is specified more than once, an error like this will be produced:</p>
<pre class="fixed">ERROR 1641 (42000): Duplicate condition information item 'MESSAGE_TEXT'
</pre><p>If you specify a condition name which is not declared, an error like this will be produced:</p>
<pre class="fixed">ERROR 1319 (42000): Undefined CONDITION: cond_name
</pre><p>If MYSQL_ERRNO is out of range, you will get an error like this:</p>
<pre class="fixed">ERROR 1231 (42000): Variable 'MYSQL_ERRNO' can't be set to the value of '0'
</pre><h2 class="anchored_heading" id="signalexamples">Examples</h2>
<p>Here's what happens if <a href="#signal">SIGNAL</a> is used in the client to generate errors:</p>
<pre class="fixed"><span class="n">SIGNAL</span> <span class="k">SQLSTATE</span> <span class="s1">'01000'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>

<span class="o">+</span><span class="c1">---------+------+------------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span>   <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                  <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+------------------------------------------+</span>
<span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1642</span> <span class="o">|</span> <span class="n">Unhandled</span> <span class="k">user</span><span class="o">-</span><span class="k">defined</span> <span class="n">warning</span> <span class="n">condition</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+------------------------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">06</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">SIGNAL</span> <span class="k">SQLSTATE</span> <span class="s1">'02000'</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1643</span> <span class="p">(</span><span class="mi">02000</span><span class="p">):</span> <span class="n">Unhandled</span> <span class="k">user</span><span class="o">-</span><span class="k">defined</span> <span class="k">not</span> <span class="k">found</span> <span class="n">condition</span>
</pre><p>How to specify MYSQL_ERRNO and MESSAGE_TEXT properties:</p>
<pre class="fixed"><span class="n">SIGNAL</span> <span class="k">SQLSTATE</span> <span class="s1">'45000'</span> <span class="k">SET</span> <span class="n">MYSQL_ERRNO</span><span class="o">=</span><span class="mi">30001</span><span class="p">,</span> <span class="k">MESSAGE_TEXT</span><span class="o">=</span><span class="s1">'H</span>
<span class="s1">ello, world!'</span><span class="p">;</span>

<span class="n">ERROR</span> <span class="mi">30001</span> <span class="p">(</span><span class="mi">45000</span><span class="p">):</span> <span class="n">Hello</span><span class="p">,</span> <span class="n">world</span><span class="o">!</span>
</pre><p>The following code shows how to use user variables, local variables and character set conversion with SIGNAL:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">test_error</span><span class="p">(</span><span class="n">x</span> <span class="nb">INT</span><span class="p">)</span>
<span class="k">BEGIN</span>
   <span class="k">DECLARE</span> <span class="n">errno</span> <span class="nb">SMALLINT</span> <span class="n">UNSIGNED</span> <span class="k">DEFAULT</span> <span class="mi">31001</span><span class="p">;</span>
   <span class="k">SET</span> <span class="o">@</span><span class="n">errmsg</span> <span class="o">=</span> <span class="s1">'Hello, world!'</span><span class="p">;</span>
   <span class="k">IF</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">THEN</span>
      <span class="n">SIGNAL</span> <span class="k">SQLSTATE</span> <span class="s1">'45000'</span> <span class="k">SET</span>
      <span class="n">MYSQL_ERRNO</span> <span class="o">=</span> <span class="n">errno</span><span class="p">,</span>
      <span class="k">MESSAGE_TEXT</span> <span class="o">=</span> <span class="o">@</span><span class="n">errmsg</span><span class="p">;</span>
   <span class="k">ELSE</span>
      <span class="n">SIGNAL</span> <span class="k">SQLSTATE</span> <span class="s1">'45000'</span> <span class="k">SET</span>
      <span class="n">MYSQL_ERRNO</span> <span class="o">=</span> <span class="n">errno</span><span class="p">,</span>
      <span class="k">MESSAGE_TEXT</span> <span class="o">=</span> <span class="n">_utf8</span><span class="s1">'Hello, world!'</span><span class="p">;</span>
   <span class="k">END</span> <span class="k">IF</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>
</pre><p>How to use named error conditions:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">test_error</span><span class="p">(</span><span class="n">n</span> <span class="nb">INT</span><span class="p">)</span>
<span class="k">BEGIN</span>
   <span class="k">DECLARE</span> <span class="o">`</span><span class="n">too_big</span><span class="o">`</span> <span class="n">CONDITION</span> <span class="k">FOR</span> <span class="k">SQLSTATE</span> <span class="s1">'45000'</span><span class="p">;</span>
   <span class="k">IF</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="k">THEN</span>
      <span class="n">SIGNAL</span> <span class="o">`</span><span class="n">too_big</span><span class="o">`</span><span class="p">;</span>
   <span class="k">END</span> <span class="k">IF</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>
</pre><p>In this example, we'll define a <a href="https://mariadb.com/kb/en/handler/">HANDLER</a> for an error code. When the error occurs, we <a href="#signal">SIGNAL</a> a more informative error which makes sense for our procedure:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">test_error</span><span class="p">()</span>
<span class="k">BEGIN</span>
   <span class="k">DECLARE</span> <span class="n">EXIT</span> <span class="k">HANDLER</span>
   <span class="k">FOR</span> <span class="mi">1146</span>
   <span class="k">BEGIN</span>
      <span class="n">SIGNAL</span> <span class="k">SQLSTATE</span> <span class="s1">'45000'</span> <span class="k">SET</span>
      <span class="k">MESSAGE_TEXT</span> <span class="o">=</span> <span class="s1">'Temporary tables not found; did you call init() procedure?'</span><span class="p">;</span>
   <span class="k">END</span><span class="p">;</span>
   <span class="c1">-- this will produce a 1146 error</span>
   <span class="k">SELECT</span> <span class="o">`</span><span class="k">c</span><span class="o">`</span> <span class="k">FROM</span> <span class="o">`</span><span class="n">temptab</span><span class="o">`</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="signalsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/diagnostics-area/">Diagnostics Area</a>
</li><li><a href="#resignal">RESIGNAL</a>
</li><li><a href="https://mariadb.com/kb/en/handler/">HANDLER</a>
</li><li><a href="https://mariadb.com/kb/en/stored-programs-and-views/">Stored Routines</a>
</li><li><a href="https://mariadb.com/kb/en/mariadb-error-codes/">MariaDB Error Codes</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="linestring">LINESTRING</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LineString(pt1,pt2,...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="https://mariadb.com/kb/en/wkb/">WKB</a> LineString value from a number of WKB <a href="#point">Point</a> arguments.  If any argument is not a WKB Point, the return value is
<code>NULL</code>. If the number of <a href="#point">Point</a> arguments is less than two, the return value is <code>NULL</code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">ls</span> <span class="o">=</span> <span class="s1">'LineString(1 1,2 2,3 3)'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">AsText</span><span class="p">(</span><span class="n">EndPoint</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">)));</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="n">AsText</span><span class="p">(</span><span class="n">EndPoint</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">)))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">3</span> <span class="mi">3</span><span class="p">)</span>                          <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_line</span>  <span class="p">(</span><span class="k">g</span> <span class="n">LINESTRING</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_line</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">LineFromText</span><span class="p">(</span><span class="s1">'LINESTRING(0 0,0 10,10 0)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">LineStringFromText</span><span class="p">(</span><span class="s1">'LINESTRING(10 10,20 10,20 20,10 20,10 10)'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">LineStringFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">10</span><span class="p">)))));</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="sounds-like">SOUNDS LIKE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">expr1 SOUNDS LIKE expr2
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This is the same as <code><a href="#soundex">SOUNDEX</a>(expr1) = SOUNDEX(expr2)</code>.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">givenname</span><span class="p">,</span> <span class="n">surname</span> <span class="k">FROM</span> <span class="n">users</span> <span class="k">WHERE</span> <span class="n">givenname</span> <span class="n">SOUNDS</span> <span class="k">LIKE</span> <span class="ss">"robert"</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+---------+</span>
<span class="o">|</span> <span class="n">givenname</span> <span class="o">|</span> <span class="n">surname</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+---------+</span>
<span class="o">|</span> <span class="n">Roberto</span>   <span class="o">|</span> <span class="n">Castro</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+---------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="space">SPACE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SPACE(N)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a string consisting of <em><code>N</code></em> space characters. If <code>N</code> is NULL, returns NULL.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">QUOTE</span><span class="p">(</span><span class="k">SPACE</span><span class="p">(</span><span class="mi">6</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">QUOTE</span><span class="p">(</span><span class="k">SPACE</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="s1">'      '</span>        <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="strcmp">STRCMP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">STRCMP(expr1,expr2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>STRCMP()</code> returns <code>0</code> if the strings are the same, <code>-1</code> if the first
argument is smaller than the second according to the current sort order,
and <code>1</code> if the strings are otherwise not the same. Returns <code>NULL</code> is either argument is <code>NULL</code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">STRCMP</span><span class="p">(</span><span class="s1">'text'</span><span class="p">,</span> <span class="s1">'text2'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">STRCMP</span><span class="p">(</span><span class="s1">'text'</span><span class="p">,</span> <span class="s1">'text2'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span>                      <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>

<span class="k">SELECT</span> <span class="n">STRCMP</span><span class="p">(</span><span class="s1">'text2'</span><span class="p">,</span> <span class="s1">'text'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">STRCMP</span><span class="p">(</span><span class="s1">'text2'</span><span class="p">,</span> <span class="s1">'text'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span>                       <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>

<span class="k">SELECT</span> <span class="n">STRCMP</span><span class="p">(</span><span class="s1">'text'</span><span class="p">,</span> <span class="s1">'text'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="n">STRCMP</span><span class="p">(</span><span class="s1">'text'</span><span class="p">,</span> <span class="s1">'text'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span>                      <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="substr">SUBSTR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="description">Description</h2>
<p><code>SUBSTR()</code> is a synonym for <code><a href="#substring">SUBSTRING</a>()</code>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="ucase">UCASE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">UCASE(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>UCASE()</code> is a synonym for <code><a href="#upper">UPPER</a>()</code>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="upper">UPPER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">UPPER(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the string <code>str</code> with all characters changed to uppercase
according to the current character set mapping. The default is latin1
(cp1252 West European).</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">UPPER</span><span class="p">(</span><span class="n">surname</span><span class="p">),</span> <span class="n">givenname</span> <span class="k">FROM</span> <span class="n">users</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">surname</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------+------------+</span>
<span class="o">|</span> <span class="k">UPPER</span><span class="p">(</span><span class="n">surname</span><span class="p">)</span> <span class="o">|</span> <span class="n">givenname</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+------------+</span>
<span class="o">|</span> <span class="n">ABEL</span>           <span class="o">|</span> <span class="n">Jacinto</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">CASTRO</span>         <span class="o">|</span> <span class="n">Robert</span>     <span class="o">|</span>
<span class="o">|</span> <span class="n">COSTA</span>          <span class="o">|</span> <span class="n">Phestos</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">MOSCHELLA</span>      <span class="o">|</span> <span class="n">Hippolytos</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+------------+</span>
</pre><p><code>UPPER()</code> is ineffective when applied to binary strings (<code><a href="#binary">BINARY</a></code>,
<code><a href="#varbinary">VARBINARY</a></code>, <code><a href="#blob">BLOB</a></code>). The description of 
<code><a href="#lower">LOWER</a>()</code> shows how to
perform lettercase conversion of binary strings.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="multipolygon">MULTIPOLYGON</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MultiPolygon(poly1,poly2,...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="https://mariadb.com/kb/en/wkb/">WKB</a> MultiPolygon value from a set of WKB <a href="#polygon">Polygon</a> arguments. If any argument is not a WKB Polygon, the return value is <code>NULL</code>.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_multi_polygon</span>  <span class="p">(</span><span class="k">g</span> <span class="n">MULTIPOLYGON</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_multi_polygon</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">MultiPolygonFromText</span><span class="p">(</span><span class="s1">'MULTIPOLYGON(((28 26,28 0,84 0,84 42,28 26),(52 18,66 23,73 9,48 6,52 18)),((59 18,67 18,67 13,59 13,59 18)))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MPolyFromText</span><span class="p">(</span><span class="s1">'MULTIPOLYGON(((28 26,28 0,84 0,84 42,28 26),(52 18,66 23,73 9,48 6,52 18)),((59 18,67 18,67 13,59 13,59 18)))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">MPolyFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">MultiPolygon</span><span class="p">(</span><span class="n">Polygon</span><span class="p">(</span><span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))))));</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="polygon">POLYGON</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">Polygon(ls1,ls2,...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a WKB Polygon value from a number of <a href="https://mariadb.com/kb/en/wkb/">WKB</a> <a href="#linestring">LineString</a>
arguments. If any argument does not represent the WKB of a LinearRing (that is,
not a closed and simple LineString) the return value is <code>NULL</code>.</p>
<p>Note that according to the OpenGIS standard, a POLYGON should have exactly one ExteriorRing and all other rings should lie within that ExteriorRing and thus be the InteriorRings. Practically, however, some systems, including MariaDB's, permit polygons to have several 'ExteriorRings'. In the case of there being multiple, non-overlapping exterior rings <a href="#st_numinteriorrings">ST_NUMINTERIORRINGS()</a> will return 1.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POLYGON((1 1,1 5,4 9,6 9,9 3,7 2,1 1))'</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">gis_polygon</span>   <span class="p">(</span><span class="k">g</span> <span class="n">POLYGON</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">gis_polygon</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="n">PolygonFromText</span><span class="p">(</span><span class="s1">'POLYGON((10 10,20 10,20 20,10 20,10 10))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">PolyFromText</span><span class="p">(</span><span class="s1">'POLYGON((0 0,50 0,50 50,0 50,0 0), (10 10,20 10,20 20,10 20,10 10))'</span><span class="p">)),</span>
    <span class="p">(</span><span class="n">PolyFromWKB</span><span class="p">(</span><span class="n">AsWKB</span><span class="p">(</span><span class="n">Polygon</span><span class="p">(</span><span class="n">LineString</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))))));</span>
</pre><p>Non-overlapping 'polygon':</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">ST_NumInteriorRings</span><span class="p">(</span><span class="n">ST_PolyFromText</span><span class="p">(</span><span class="s1">'POLYGON((0 0,10 0,10 10,0 10,0 0),</span>
<span class="s1">  (-1 -1,-5 -1,-5 -5,-1 -5,-1 -1))'</span><span class="p">))</span> <span class="k">AS</span> <span class="n">NumInteriorRings</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">NumInteriorRings</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_buffer">ST_BUFFER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_BUFFER(g1,r)
BUFFER(g1,r)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a geometry that represents all points whose distance from geometry <em><code>g1</code></em> is less than or equal to distance, or radius, <em><code>r</code></em>.</p>
<p>Uses for this function could include creating for example a new geometry representing a buffer zone around an island.</p>
<p>BUFFER() is a synonym.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<p>Determining whether a point is within a buffer zone:</p>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POLYGON((10 10, 10 20, 20 20, 20 10, 10 10))'</span><span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POINT(8 8)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_WITHIN</span><span class="p">(</span><span class="o">@</span><span class="n">g2</span><span class="p">,</span><span class="n">ST_BUFFER</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="mi">5</span><span class="p">));</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span> <span class="n">ST_WITHIN</span><span class="p">(</span><span class="o">@</span><span class="n">g2</span><span class="p">,</span><span class="n">ST_BUFFER</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span>                               <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>

<span class="k">SELECT</span> <span class="n">ST_WITHIN</span><span class="p">(</span><span class="o">@</span><span class="n">g2</span><span class="p">,</span><span class="n">ST_BUFFER</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span> <span class="n">ST_WITHIN</span><span class="p">(</span><span class="o">@</span><span class="n">g2</span><span class="p">,</span><span class="n">ST_BUFFER</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span>                               <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_convexhull">ST_CONVEXHULL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_1_2 mariadb from_10_1_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">10.1.2</a></h5><p>ST_ConvexHull() was introduced in <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a></p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_ConvexHull(g)
ConvexHull(g)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Given a geometry, returns a geometry that is the minimum convex geometry enclosing all geometries within the set. Returns NULL if the geometry value is NULL or an empty value.</p>
<p>ST_ConvexHull() and ConvexHull() are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<p>The ConvexHull of a single point is simply the single point:</p>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'Point(0 0)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_ASTEXT</span><span class="p">(</span><span class="n">ST_CONVEXHULL</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="n">ST_ASTEXT</span><span class="p">(</span><span class="n">ST_CONVEXHULL</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
</pre><pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'MultiPoint(0 0, 1 2, 2 3)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_ASTEXT</span><span class="p">(</span><span class="n">ST_CONVEXHULL</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="n">ST_ASTEXT</span><span class="p">(</span><span class="n">ST_CONVEXHULL</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="n">POLYGON</span><span class="p">((</span><span class="mi">0</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span> <span class="mi">2</span><span class="p">,</span><span class="mi">2</span> <span class="mi">3</span><span class="p">,</span><span class="mi">0</span> <span class="mi">0</span><span class="p">))</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
</pre><pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'MultiPoint( 1 1, 2 2, 5 3, 7 2, 9 3, 8 4, 6 6, 6 9, 4 9, 1 5 )'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_ASTEXT</span><span class="p">(</span><span class="n">ST_CONVEXHULL</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span> <span class="n">ST_ASTEXT</span><span class="p">(</span><span class="n">ST_CONVEXHULL</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">))</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span> <span class="n">POLYGON</span><span class="p">((</span><span class="mi">1</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span> <span class="mi">5</span><span class="p">,</span><span class="mi">4</span> <span class="mi">9</span><span class="p">,</span><span class="mi">6</span> <span class="mi">9</span><span class="p">,</span><span class="mi">9</span> <span class="mi">3</span><span class="p">,</span><span class="mi">7</span> <span class="mi">2</span><span class="p">,</span><span class="mi">1</span> <span class="mi">1</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_symdifference">ST_SYMDIFFERENCE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_SYMDIFFERENCE(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a geometry that represents the portions of geometry <em><code>g1</code></em> and geometry <em><code>g2</code></em> that don't intersect.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'LINESTRING(10 20, 10 40)'</span><span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'LINESTRING(10 15, 10 25)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ASTEXT</span><span class="p">(</span><span class="n">ST_SYMDIFFERENCE</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span> <span class="n">ASTEXT</span><span class="p">(</span><span class="n">ST_SYMDIFFERENCE</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">))</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span> <span class="n">MULTILINESTRING</span><span class="p">((</span><span class="mi">10</span> <span class="mi">15</span><span class="p">,</span><span class="mi">10</span> <span class="mi">20</span><span class="p">),(</span><span class="mi">10</span> <span class="mi">25</span><span class="p">,</span><span class="mi">10</span> <span class="mi">40</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">'LINESTRING(10 20, 10 41)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ASTEXT</span><span class="p">(</span><span class="n">ST_SYMDIFFERENCE</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-----------------------------------+</span>
<span class="o">|</span> <span class="n">ASTEXT</span><span class="p">(</span><span class="n">ST_SYMDIFFERENCE</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------+</span>
<span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mi">10</span> <span class="mi">40</span><span class="p">,</span><span class="mi">10</span> <span class="mi">41</span><span class="p">)</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="alter-logfile-group">ALTER LOGFILE GROUP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ALTER LOGFILE GROUP logfile_group
    ADD UNDOFILE 'file_name'
    [INITIAL_SIZE [=] size]
    [WAIT]
    ENGINE [=] engine_name
</pre><div class="cstm-style redbox"><p>The <code>ALTER LOGFILE GROUP</code> statement is not supported by MariaDB. It was originally inherited from MySQL NDB Cluster. See <a href="https://jira.mariadb.org/browse/MDEV-19295">MDEV-19295</a> for more information.</p>
</div>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="alter-server">ALTER SERVER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="alter-serversyntax">Syntax</h2>
<pre class="fixed">ALTER SERVER server_name
    OPTIONS (option [, option] ...)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#alter-serversyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#alter-serverdescription" title="Description">Description</a></li>
<li class=""><a href="#alter-serverexamples" title="Examples">Examples</a></li>
<li class=""><a href="#alter-serversee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="alter-serverdescription">Description</h2>
<p>Alters the server information for <em>server_name</em>, adjusting the specified
options as per the <a href="#create-server">CREATE SERVER</a> command. The corresponding fields in the <a href="https://mariadb.com/kb/en/mysqlservers-table/">mysql.servers table</a> are updated accordingly. This statement requires the <a ">SUPER</a> privilege or, from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the <a ">FEDERATED ADMIN</a> privilege.</p>
<p>ALTER SERVER is not written to the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>, irrespective of
the <a href="https://mariadb.com/kb/en/binary-log-formats/">binary log format</a> being used. From <a href="https://mariadb.com/kb/en/mariadb-10113-release-notes/">MariaDB 10.1.13</a>, <a href="https://mariadb.com/kb/en/galera/">Galera</a> replicates the <a href="#create-server">CREATE SERVER</a>, ALTER SERVER and <a href="#drop-server">DROP SERVER</a> statements.</p>
<h2 class="anchored_heading" id="alter-serverexamples">Examples</h2>
<pre class="fixed">ALTER SERVER s OPTIONS (USER 'sally');
</pre><h2 class="anchored_heading" id="alter-serversee-also">See Also</h2>
<ul start="1"><li><a href="#create-server">CREATE SERVER</a>
</li><li><a href="#drop-server">DROP SERVER</a>
</li><li><a href="https://mariadb.com/kb/en/spider/">Spider Storage Engine</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="alter-table">ALTER TABLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="alter-tablesyntax">Syntax</h2>
<pre class="highlight fixed"><p>ALTER [ONLINE] [IGNORE] TABLE [IF EXISTS] tbl_name
    [WAIT n | NOWAIT]
    alter_specification [, alter_specification] ...</p>
<p>alter_specification:
    <a ">table_option</a> ...
  <code>|</code> ADD [COLUMN] [IF NOT EXISTS] col_name <a ">column_definition</a>
        [FIRST | AFTER col_name ]
  <code>|</code> ADD [COLUMN] [IF NOT EXISTS] (col_name <a ">column_definition</a>,...)
  <code>|</code> ADD {INDEX|KEY} [IF NOT EXISTS] [index_name]
        [index_type] (index_col_name,...) [index_option] ...
  <code>|</code> ADD [CONSTRAINT [symbol]] PRIMARY KEY
        [index_type] (index_col_name,...) [index_option] ...
  <code>|</code> ADD [CONSTRAINT [symbol]]
        UNIQUE [INDEX|KEY] [index_name]
        [index_type] (index_col_name,...) [index_option] ...
  <code>|</code> ADD FULLTEXT [INDEX|KEY] [index_name]
        (index_col_name,...) [index_option] ...
  <code>|</code> ADD SPATIAL [INDEX|KEY] [index_name]
        (index_col_name,...) [index_option] ...
  <code>|</code> ADD [CONSTRAINT [symbol]]
        FOREIGN KEY [IF NOT EXISTS] [index_name] (index_col_name,...)
        reference_definition
  <code>|</code> ADD PERIOD FOR SYSTEM_TIME (start_column_name, end_column_name)
  <code>|</code> ALTER [COLUMN] col_name SET DEFAULT literal | (expression)
  <code>|</code> ALTER [COLUMN] col_name DROP DEFAULT
  <code>|</code> ALTER {INDEX|KEY} index_name [NOT] INVISIBLE
  <code>|</code> CHANGE [COLUMN] [IF EXISTS] old_col_name new_col_name <a ">column_definition</a>
        [FIRST|AFTER col_name]
  <code>|</code> MODIFY [COLUMN] [IF EXISTS] col_name <a ">column_definition</a>
        [FIRST | AFTER col_name]
  <code>|</code> DROP [COLUMN] [IF EXISTS] col_name [RESTRICT|CASCADE]
  <code>|</code> DROP PRIMARY KEY
  <code>|</code> DROP {INDEX|KEY} [IF EXISTS] index_name
  <code>|</code> DROP FOREIGN KEY [IF EXISTS] fk_symbol
  <code>|</code> DROP CONSTRAINT [IF EXISTS] constraint_name
  <code>|</code> DISABLE KEYS
  <code>|</code> ENABLE KEYS
  <code>|</code> RENAME [TO] new_tbl_name
  <code>|</code> ORDER BY col_name [, col_name] ...
  <code>|</code> RENAME COLUMN old_col_name TO new_col_name
  <code>|</code> RENAME {INDEX|KEY} old_index_name TO new_index_name
  <code>|</code> CONVERT TO CHARACTER SET charset_name [COLLATE collation_name]
  <code>|</code> [DEFAULT] CHARACTER SET [=] charset_name
  <code>|</code> [DEFAULT] COLLATE [=] collation_name
  <code>|</code> DISCARD TABLESPACE
  <code>|</code> IMPORT TABLESPACE
  <code>|</code> ALGORITHM [=] {DEFAULT|INPLACE|COPY|NOCOPY|INSTANT}
  <code>|</code> LOCK [=] {DEFAULT|NONE|SHARED|EXCLUSIVE}
  <code>|</code> FORCE
  <code>|</code> partition_options
  <code>|</code> ADD PARTITION [IF NOT EXISTS] (partition_definition)
  <code>|</code> DROP PARTITION [IF EXISTS] partition_names
  <code>|</code> COALESCE PARTITION number
  <code>|</code> REORGANIZE PARTITION [partition_names INTO (partition_definitions)]
  <code>|</code> ANALYZE PARTITION partition_names
  <code>|</code> CHECK PARTITION partition_names
  <code>|</code> OPTIMIZE PARTITION partition_names
  <code>|</code> REBUILD PARTITION partition_names
  <code>|</code> REPAIR PARTITION partition_names
  <code>|</code> EXCHANGE PARTITION partition_name WITH TABLE tbl_name
  <code>|</code> REMOVE PARTITIONING
  <code>|</code> ADD SYSTEM VERSIONING
  <code>|</code> DROP SYSTEM VERSIONING</p>
<p>index_col_name:
    col_name [(length)] [ASC | DESC]</p>
<p>index_type:
    USING {BTREE | HASH | RTREE}</p>
<p>index_option:
    [ KEY_BLOCK_SIZE [=] value
  <code>|</code> index_type
  <code>|</code> WITH PARSER parser_name
  <code>|</code> COMMENT 'string'
  <code>|</code> CLUSTERING={YES| NO} ]
  [ IGNORED | NOT IGNORED ]</p>
<p>table_options:
    <a ">table_option</a> <code>[</code>[,] <a ">table_option</a>] ...</p></pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#alter-tablesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#alter-tabledescription" title="Description">Description</a></li>
<li class=""><a href="#alter-tableprivileges" title="Privileges">Privileges</a></li>
<li class=""><a href="#alter-tableonline-ddl" title="Online DDL">Online DDL</a> <ol class="toc">
<li class=""><a href="#alter-tablealter-online-table" title="ALTER ONLINE TABLE">ALTER ONLINE TABLE</a> </li></ol>
</li>
<li class=""><a href="#alter-tablewaitnowait" title="WAIT/NOWAIT">WAIT/NOWAIT</a></li>
<li class=""><a href="#alter-tableif-exists" title="IF EXISTS">IF EXISTS</a></li>
<li class=""><a href="#alter-tablecolumn-definitions" title="Column Definitions">Column Definitions</a></li>
<li class=""><a href="#alter-tableindex-definitions" title="Index Definitions">Index Definitions</a></li>
<li class=""><a href="#alter-tablecharacter-sets-and-collations" title="Character Sets and Collations">Character Sets and Collations</a></li>
<li class=""><a href="#alter-tablealter-specifications" title="Alter Specifications">Alter Specifications</a> <ol class="toc">
<li class=""><a href="#alter-tabletable-options" title="Table Options">Table Options</a></li>
<li class=""><a href="#alter-tableadd-column" title="ADD COLUMN">ADD COLUMN</a></li>
<li class=""><a href="#alter-tabledrop-column" title="DROP COLUMN">DROP COLUMN</a></li>
<li class=""><a href="#alter-tablemodify-column" title="MODIFY COLUMN">MODIFY COLUMN</a></li>
<li class=""><a href="#alter-tablechange-column" title="CHANGE COLUMN">CHANGE COLUMN</a></li>
<li class=""><a href="#alter-tablealter-column" title="ALTER COLUMN">ALTER COLUMN</a></li>
<li class=""><a href="#alter-tablerename-indexkey" title="RENAME INDEX/KEY">RENAME INDEX/KEY</a></li>
<li class=""><a href="#alter-tablerename-column" title="RENAME COLUMN">RENAME COLUMN</a></li>
<li class=""><a href="#alter-tableadd-primary-key" title="ADD PRIMARY KEY">ADD PRIMARY KEY</a></li>
<li class=""><a href="#alter-tabledrop-primary-key" title="DROP PRIMARY KEY">DROP PRIMARY KEY</a></li>
<li class=""><a href="#alter-tableadd-foreign-key" title="ADD FOREIGN KEY">ADD FOREIGN KEY</a></li>
<li class=""><a href="#alter-tabledrop-foreign-key" title="DROP FOREIGN KEY">DROP FOREIGN KEY</a></li>
<li class=""><a href="#alter-tableadd-index" title="ADD INDEX">ADD INDEX</a></li>
<li class=""><a href="#alter-tabledrop-index" title="DROP INDEX">DROP INDEX</a></li>
<li class=""><a href="#alter-tableadd-unique-index" title="ADD UNIQUE INDEX">ADD UNIQUE INDEX</a></li>
<li class=""><a href="#alter-tabledrop-unique-index" title="DROP UNIQUE INDEX">DROP UNIQUE INDEX</a></li>
<li class=""><a href="#alter-tableadd-fulltext-index" title="ADD FULLTEXT INDEX">ADD FULLTEXT INDEX</a></li>
<li class=""><a href="#alter-tabledrop-fulltext-index" title="DROP FULLTEXT INDEX">DROP FULLTEXT INDEX</a></li>
<li class=""><a href="#alter-tableadd-spatial-index" title="ADD SPATIAL INDEX">ADD SPATIAL INDEX</a></li>
<li class=""><a href="#alter-tabledrop-spatial-index" title="DROP SPATIAL INDEX">DROP SPATIAL INDEX</a></li>
<li class=""><a href="#alter-tableenable-disable-keys" title="ENABLE/ DISABLE KEYS">ENABLE/ DISABLE KEYS</a></li>
<li class=""><a href="#alter-tablerename-to" title="RENAME TO">RENAME TO</a></li>
<li class=""><a href="#alter-tableadd-constraint" title="ADD CONSTRAINT">ADD CONSTRAINT</a></li>
<li class=""><a href="#alter-tabledrop-constraint" title="DROP CONSTRAINT">DROP CONSTRAINT</a></li>
<li class=""><a href="#alter-tableadd-system-versioning" title="ADD SYSTEM VERSIONING">ADD SYSTEM VERSIONING</a></li>
<li class=""><a href="#alter-tabledrop-system-versioning" title="DROP SYSTEM VERSIONING">DROP SYSTEM VERSIONING</a></li>
<li class=""><a href="#alter-tableadd-period-for-system_time" title="ADD PERIOD FOR SYSTEM_TIME">ADD PERIOD FOR SYSTEM_TIME</a></li>
<li class=""><a href="#alter-tableforce" title="FORCE">FORCE</a></li>
<li class=""><a href="#alter-tableexchange-partition" title="EXCHANGE PARTITION">EXCHANGE PARTITION</a></li>
<li class=""><a href="#alter-tablediscard-tablespace" title="DISCARD TABLESPACE">DISCARD TABLESPACE</a></li>
<li class=""><a href="#alter-tableimport-tablespace" title="IMPORT TABLESPACE">IMPORT TABLESPACE</a></li>
<li class=""><a href="#alter-tablealgorithm" title="ALGORITHM">ALGORITHM</a> <ol class="toc">
<li class=""><a href="#alter-tablealgorithmdefault" title="ALGORITHM=DEFAULT">ALGORITHM=DEFAULT</a></li>
<li class=""><a href="#alter-tablealgorithmcopy" title="ALGORITHM=COPY">ALGORITHM=COPY</a></li>
<li class=""><a href="#alter-tablealgorithminplace" title="ALGORITHM=INPLACE">ALGORITHM=INPLACE</a></li>
<li class=""><a href="#alter-tablealgorithmnocopy" title="ALGORITHM=NOCOPY">ALGORITHM=NOCOPY</a></li>
<li class=""><a href="#alter-tablealgorithminstant" title="ALGORITHM=INSTANT">ALGORITHM=INSTANT</a> </li></ol>
</li>
<li class=""><a href="#alter-tablelock" title="LOCK">LOCK</a> </li></ol>
</li>
<li class=""><a href="#alter-tableprogress-reporting" title="Progress Reporting">Progress Reporting</a></li>
<li class=""><a href="#alter-tableaborting-alter-table-operations" title="Aborting ALTER TABLE Operations">Aborting ALTER TABLE Operations</a></li>
<li class=""><a href="#alter-tableatomic-alter-table" title="Atomic ALTER TABLE">Atomic ALTER TABLE</a></li>
<li class=""><a href="#alter-tablereplication" title="Replication">Replication</a></li>
<li class=""><a href="#alter-tableexamples" title="Examples">Examples</a></li>
<li class=""><a href="#alter-tablesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="alter-tabledescription">Description</h2>
<p><code>ALTER TABLE</code> enables you to change the structure of an existing table.
For example, you can add or delete columns, create or destroy indexes,
change the type of existing columns, or rename columns or the table
itself. You can also change the comment for the table and the storage engine of the
table.</p>
<p>If another connection is using the table, a <a href="#metadata-locking">metadata lock</a> is active, and this statement will wait until the lock is released. This is also true for non-transactional tables.</p>
<p>When adding a <code>UNIQUE</code> index on a column (or a set of columns) which have duplicated values, an error will be produced and the statement will be stopped. To suppress the error and force the creation of <code>UNIQUE</code> indexes, discarding duplicates, the <a href="#ignore">IGNORE</a> option can be specified. This can be useful if a column (or a set of columns) should be UNIQUE but it contains duplicate values; however, this technique provides no control on which rows are preserved and which are deleted. Also, note that <code>IGNORE</code> is accepted but ignored in <code>ALTER TABLE ... EXCHANGE PARTITION</code> statements.</p>
<p>This statement can also be used to rename a table. For details see <a href="#rename-table">RENAME TABLE</a>.</p>
<p>When an index is created, the storage engine may use a configurable buffer in the process. Incrementing the buffer speeds up the index creation. <a href="https://mariadb.com/kb/en/aria/">Aria</a> and <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> allocate a buffer whose size is defined by <a href="https://mariadb.com/kb/en/aria-server-system-variables/#aria_sort_buffer_size">aria_sort_buffer_size</a> or <a href="https://mariadb.com/kb/en/myisam-server-system-variables/#myisam_sort_buffer_size">myisam_sort_buffer_size</a>, also used for <a href="#repair-table">REPAIR TABLE</a>. <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a> allocates three buffers whose size is defined by <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_sort_buffer_size">innodb_sort_buffer_size</a>.</p>
<h2 class="anchored_heading" id="alter-tableprivileges">Privileges</h2>
<p>Executing the <code>ALTER TABLE</code> statement generally requires at least the <a ">ALTER</a> privilege for the table or the database..</p>
<p>If you are renaming a table, then it also requires the <a ">DROP</a>, <a ">CREATE</a> and <a ">INSERT</a> privileges for the table or the database as well.</p>
<h2 class="anchored_heading" id="alter-tableonline-ddl">Online DDL</h2>
<p>Online DDL is supported with the <a href="#alter-tablealgorithm">ALGORITHM</a> and <a href="#alter-tablelock">LOCK</a> clauses.</p>
<p>See <a href="https://mariadb.com/kb/en/innodb-online-ddl-overview/">InnoDB Online DDL Overview</a> for more information on online DDL with <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>.</p>
<h3 class="anchored_heading" id="alter-tablealter-online-table">ALTER ONLINE TABLE</h3>
<p>ALTER ONLINE TABLE also works for partitioned tables.</p>
<p>Online <code>ALTER TABLE</code> is available by executing the following:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="n">ONLINE</span> <span class="k">TABLE</span> <span class="p">...;</span>
</pre><p>This statement has the following semantics:</p>
<p>This statement is equivalent to the following:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="p">...</span> <span class="k">LOCK</span><span class="o">=</span><span class="k">NONE</span><span class="p">;</span>
</pre><p>See the <a href="#alter-tablelock">LOCK</a> alter specification for more information.
&lt;&lt;/product&gt;&gt;</p>
<p>This statement is equivalent to the following:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="p">...</span> <span class="n">ALGORITHM</span><span class="o">=</span><span class="n">INPLACE</span><span class="p">;</span>
</pre><p>See the <a href="#alter-tablealgorithm">ALGORITHM</a> alter specification for more information.
&lt;&lt;/product&gt;&gt;</p>
<h2 class="anchored_heading" id="alter-tablewaitnowait">WAIT/NOWAIT</h2>
<div class="mariadb_from_10_3_0 mariadb from_10_3_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">10.3.0</a></h5><p>Set the lock wait timeout. See <a href="#wait-and-nowait">WAIT and NOWAIT</a>.</p>
</div><h2 class="anchored_heading" id="alter-tableif-exists">IF EXISTS</h2>
<p>The  <code>IF EXISTS</code> and <code>IF NOT EXISTS</code> clauses are available for the following:</p>
<pre class="highlight fixed"><p>ADD COLUMN       [IF NOT EXISTS]
ADD INDEX        [IF NOT EXISTS]
ADD FOREIGN KEY  [IF NOT EXISTS]
ADD PARTITION    [IF NOT EXISTS]
CREATE INDEX     [IF NOT EXISTS]</p>
<p>DROP COLUMN      [IF EXISTS]
DROP INDEX       [IF EXISTS]
DROP FOREIGN KEY [IF EXISTS]
DROP PARTITION   [IF EXISTS]
CHANGE COLUMN    [IF EXISTS]
MODIFY COLUMN    [IF EXISTS]
DROP INDEX       [IF EXISTS]</p></pre><p>When <code>IF EXISTS</code> and <code>IF NOT EXISTS</code> are used in clauses, queries will not
report errors when the condition is triggered for that clause. A warning with
the same message text will be issued and the ALTER will move on to the next
clause in the statement (or end if finished).
&lt;&lt;/product&gt;&gt;</p>
<div class="mariadb_from_10_5_2 mariadb from_10_5_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">10.5.2</a></h5><p>If this is directive is used after <code>ALTER ... TABLE</code>, one will not get an error if the table doesn't exist.</p>
</div><h2 class="anchored_heading" id="alter-tablecolumn-definitions">Column Definitions</h2>
<p>See <a ">CREATE TABLE: Column Definitions</a> for information about column definitions.</p>
<h2 class="anchored_heading" id="alter-tableindex-definitions">Index Definitions</h2>
<p>See <a ">CREATE TABLE: Index Definitions</a> for information about index definitions.</p>
<p>The <a href="#create-index">CREATE INDEX</a> and <a href="#drop-index">DROP INDEX</a> statements can also be used to add or remove an index.</p>
<h2 class="anchored_heading" id="alter-tablecharacter-sets-and-collations">Character Sets and Collations</h2>
<pre class="highlight fixed"><p>CONVERT TO CHARACTER SET charset_name [COLLATE collation_name]
[DEFAULT] CHARACTER SET [=] charset_name
[DEFAULT] COLLATE [=] collation_name</p></pre><p>See <a href="https://mariadb.com/kb/en/setting-character-sets-and-collations/">Setting Character Sets and Collations</a> for details on setting the <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character sets and collations</a>.</p>
<h2 class="anchored_heading" id="alter-tablealter-specifications">Alter Specifications</h2>
<h3 class="anchored_heading" id="alter-tabletable-options">Table Options</h3>
<p>See <a ">CREATE TABLE: Table Options</a> for information about table options.</p>
<h3 class="anchored_heading" id="alter-tableadd-column">ADD COLUMN</h3>
<pre class="highlight fixed"><p>... ADD COLUMN [IF NOT EXISTS]  (col_name <a ">column_definition</a>,...)</p></pre><p>Adds a column to the table. The syntax is the same as in <a href="#create-table">CREATE TABLE</a>.
If you are using <code class="highlight fixed" style="white-space:pre-wrap">IF NOT_EXISTS</code> the column will not be added if it was not there already. This is very useful when doing scripts to modify tables.</p>
<p>The <code>FIRST</code> and <code>AFTER</code> clauses affect the physical order of columns in the datafile. Use <code>FIRST</code> to add a column in the first (leftmost) position, or <code>AFTER</code> followed by a column name to add the new column in any other position. Note that, nowadays, the physical position of a column is usually irrelevant.</p>
<p>See also <a href="https://mariadb.com/kb/en/instant-add-column-for-innodb/">Instant ADD COLUMN for InnoDB</a>.</p>
<h3 class="anchored_heading" id="alter-tabledrop-column">DROP COLUMN</h3>
<pre class="highlight fixed"><p>... DROP COLUMN [IF EXISTS] col_name [CASCADE|RESTRICT]</p></pre><p>Drops the column from the table.
If you are using <code class="highlight fixed" style="white-space:pre-wrap">IF EXISTS</code> you will not get an error if the column didn't exist.
If the column is part of any index, the column will be dropped from them, except if you add a new column with identical name at the same time. The index will be dropped if all columns from the index were dropped.
If the column was used in a view or trigger, you will get an error next time the view or trigger is accessed.</p>
<div class="mariadb_from_10_2_8 mariadb from_10_2_8 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1028-release-notes/">10.2.8</a></h5><p>Dropping a column that is part of a multi-column <code class="highlight fixed" style="white-space:pre-wrap">UNIQUE</code> constraint is not permitted. For example:</p>
<pre class="fixed">CREATE TABLE a (
  a int,
  b int,
  primary key (a,b)
);

ALTER TABLE x DROP COLUMN a;
[42000][1072] Key column 'A' doesn't exist in table
</pre><p>The reason is that dropping column <code>a</code> would result in the new constraint that all values in column <code>b</code> be unique. In order to drop the column, an explicit <code>DROP PRIMARY KEY</code> and <code>ADD PRIMARY KEY</code> would be required. Up until <a href="https://mariadb.com/kb/en/mariadb-1027-release-notes/">MariaDB 10.2.7</a>, the column was dropped and the additional constraint applied, resulting in the following structure:</p>
<pre class="fixed">ALTER TABLE x DROP COLUMN a;
Query OK, 0 rows affected (0.46 sec)

DESC x;
+-------+---------+------+-----+---------+-------+
| Field | Type    | Null | Key | Default | Extra |
+-------+---------+------+-----+---------+-------+
| b     | int(11) | NO   | PRI | NULL    |       |
+-------+---------+------+-----+---------+-------+
</pre></div><div class="mariadb_from_10_4_0 mariadb from_10_4_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">10.4.0</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">MariaDB 10.4.0</a> supports instant DROP COLUMN. DROP COLUMN of an indexed column would imply <a href="#drop-index">DROP INDEX</a> (and in the case of a non-UNIQUE multi-column index, possibly ADD INDEX). These will not be allowed with <a href="#alter-tablealgorithm">ALGORITHM=INSTANT</a>, but unlike before, they can be allowed with <a href="#alter-tablealgorithm">ALGORITHM=NOCOPY</a></p>
</div><p><code class="highlight fixed" style="white-space:pre-wrap">RESTRICT</code> and <code class="highlight fixed" style="white-space:pre-wrap">CASCADE</code> are allowed to make porting from other database systems easier. In MariaDB, they do nothing.</p>
<h3 class="anchored_heading" id="alter-tablemodify-column">MODIFY COLUMN</h3>
<p>Allows you to modify the type of a column. The column will be at the same place as the original column and all indexes on the column will be kept.  Note that when modifying column, you should specify all attributes for the new column.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span> <span class="n">UNSIGNED</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">((</span><span class="n">a</span><span class="p">));</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">MODIFY</span> <span class="n">a</span> <span class="nb">BIGINT</span> <span class="n">UNSIGNED</span> <span class="n">AUTO_INCREMENT</span><span class="p">;</span>
</pre><h3 class="anchored_heading" id="alter-tablechange-column">CHANGE COLUMN</h3>
<p>Works like <code>MODIFY COLUMN</code> except that you can also change the name of the column. The column will be at the same place as the original column and all index on the column will be kept.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span> <span class="n">UNSIGNED</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="n">a</span><span class="p">));</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="n">CHANGE</span> <span class="n">a</span> <span class="n">b</span> <span class="nb">BIGINT</span> <span class="n">UNSIGNED</span> <span class="n">AUTO_INCREMENT</span><span class="p">;</span>
</pre><h3 class="anchored_heading" id="alter-tablealter-column">ALTER COLUMN</h3>
<p>This lets you change column options.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span> <span class="n">UNSIGNED</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span> <span class="n">b</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="n">a</span><span class="p">));</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">ALTER</span> <span class="n">b</span> <span class="k">SET</span> <span class="k">DEFAULT</span> <span class="s1">'hello'</span><span class="p">;</span>
</pre><h3 class="anchored_heading" id="alter-tablerename-indexkey">RENAME INDEX/KEY</h3>
<div class="mariadb_from_10_5_2 mariadb from_10_5_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">10.5.2</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, it is possible to rename an index using the <code>RENAME INDEX</code> (or <code>RENAME KEY</code>) syntax, for example:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">RENAME</span> <span class="k">INDEX</span> <span class="n">i_old</span> <span class="k">TO</span> <span class="n">i_new</span><span class="p">;</span>
</pre></div><h3 class="anchored_heading" id="alter-tablerename-column">RENAME COLUMN</h3>
<div class="mariadb_from_10_5_2 mariadb from_10_5_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">10.5.2</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, it is possible to rename a column using the <code>RENAME COLUMN</code> syntax, for example:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">RENAME</span> <span class="k">COLUMN</span> <span class="n">c_old</span> <span class="k">TO</span> <span class="n">c_new</span><span class="p">;</span>
</pre></div><h3 class="anchored_heading" id="alter-tableadd-primary-key">ADD PRIMARY KEY</h3>
<p>Add a primary key.</p>
<p>For <code>PRIMARY KEY</code> indexes, you can specify a name for the index, but it is silently ignored, and the name of the index is always <code>PRIMARY</code>.</p>
<p>See <a href="https://mariadb.com/kb/en/getting-started-with-indexes/#primary-key">Getting Started with Indexes: Primary Key</a> for more information.</p>
<h3 class="anchored_heading" id="alter-tabledrop-primary-key">DROP PRIMARY KEY</h3>
<p>Drop a primary key.</p>
<p>For <code>PRIMARY KEY</code> indexes, you can specify a name for the index, but it is silently ignored, and the name of the index is always <code>PRIMARY</code>.</p>
<p>See <a href="https://mariadb.com/kb/en/getting-started-with-indexes/#primary-key">Getting Started with Indexes: Primary Key</a> for more information.</p>
<h3 class="anchored_heading" id="alter-tableadd-foreign-key">ADD FOREIGN KEY</h3>
<p>Add a foreign key.</p>
<p>For <code>FOREIGN KEY</code> indexes, a reference definition must be provided.</p>
<p>For <code>FOREIGN KEY</code> indexes, you can specify a name for the constraint, using the <code>CONSTRAINT</code> keyword. That name will be used in error messages.</p>
<p>First, you have to specify the name of the target (parent) table and a column or a column list which must be indexed and whose values must match to the foreign key's values. The <code>MATCH</code> clause is accepted to improve the compatibility with other DBMS's, but has no meaning in MariaDB. The <code>ON DELETE</code> and <code>ON UPDATE</code> clauses specify what must be done when a <code>DELETE</code> (or a <code>REPLACE</code>) statements attempts to delete a referenced row from the parent table, and when an <code>UPDATE</code> statement attempts to modify the referenced foreign key columns in a parent table row, respectively. The following options are allowed:</p>
<ul start="1"><li><code>RESTRICT</code>: The delete/update operation is not performed.  The statement terminates with a 1451 error (SQLSTATE '2300').
</li><li><code>NO ACTION</code>: Synonym for <code>RESTRICT</code>.
</li><li><code>CASCADE</code>: The delete/update operation is performed in both tables.
</li><li><code>SET NULL</code>: The update or delete goes ahead in the parent table, and the corresponding foreign key fields in the child table are set to <code>NULL</code>.  (They must not be defined as <code>NOT NULL</code> for this to succeed).
</li><li><code>SET DEFAULT</code>: This option is implemented only for the legacy PBXT storage engine, which is disabled by default and no longer maintained. It sets the child table's foreign key fields to their <code>DEFAULT</code> values when the referenced parent table key entries are updated or deleted.
</li></ul>
<p>If either clause is omitted, the default behavior for the omitted clause is <code>RESTRICT</code>.</p>
<p>See <a href="https://mariadb.com/kb/en/foreign-keys/">Foreign Keys</a> for more information.</p>
<h3 class="anchored_heading" id="alter-tabledrop-foreign-key">DROP FOREIGN KEY</h3>
<p>Drop a foreign key.</p>
<p>See <a href="https://mariadb.com/kb/en/foreign-keys/">Foreign Keys</a> for more information.</p>
<h3 class="anchored_heading" id="alter-tableadd-index">ADD INDEX</h3>
<p>Add a plain index.</p>
<p>Plain indexes are regular indexes that are not unique, and are not acting as a primary key or a foreign key. They are also not the "specialized" <code>FULLTEXT</code> or <code>SPATIAL</code> indexes.</p>
<p>See <a href="https://mariadb.com/kb/en/getting-started-with-indexes/#plain-indexes">Getting Started with Indexes: Plain Indexes</a> for more information.</p>
<h3 class="anchored_heading" id="alter-tabledrop-index">DROP INDEX</h3>
<p>Drop a plain index.</p>
<p>Plain indexes are regular indexes that are not unique, and are not acting as a primary key or a foreign key. They are also not the "specialized" <code>FULLTEXT</code> or <code>SPATIAL</code> indexes.</p>
<p>See <a href="https://mariadb.com/kb/en/getting-started-with-indexes/#plain-indexes">Getting Started with Indexes: Plain Indexes</a> for more information.</p>
<h3 class="anchored_heading" id="alter-tableadd-unique-index">ADD UNIQUE INDEX</h3>
<p>Add a unique index.</p>
<p>The <code>UNIQUE</code> keyword means that the index will not accept duplicated values, except for NULLs. An error will raise if you try to insert duplicate values in a UNIQUE index.</p>
<p>For <code>UNIQUE</code> indexes, you can specify a name for the constraint, using the <code>CONSTRAINT</code> keyword. That name will be used in error messages.</p>
<p>See <a href="https://mariadb.com/kb/en/getting-started-with-indexes/#unique-index">Getting Started with Indexes: Unique Index</a> for more information.</p>
<h3 class="anchored_heading" id="alter-tabledrop-unique-index">DROP UNIQUE INDEX</h3>
<p>Drop a unique index.</p>
<p>The <code>UNIQUE</code> keyword means that the index will not accept duplicated values, except for NULLs. An error will raise if you try to insert duplicate values in a UNIQUE index.</p>
<p>For <code>UNIQUE</code> indexes, you can specify a name for the constraint, using the <code>CONSTRAINT</code> keyword. That name will be used in error messages.</p>
<p>See <a href="https://mariadb.com/kb/en/getting-started-with-indexes/#unique-index">Getting Started with Indexes: Unique Index</a> for more information.</p>
<h3 class="anchored_heading" id="alter-tableadd-fulltext-index">ADD FULLTEXT INDEX</h3>
<p>Add a <code>FULLTEXT</code> index.</p>
<p>See <a href="https://mariadb.com/kb/en/full-text-indexes/">Full-Text Indexes</a> for more information.</p>
<h3 class="anchored_heading" id="alter-tabledrop-fulltext-index">DROP FULLTEXT INDEX</h3>
<p>Drop a <code>FULLTEXT</code> index.</p>
<p>See <a href="https://mariadb.com/kb/en/full-text-indexes/">Full-Text Indexes</a> for more information.</p>
<h3 class="anchored_heading" id="alter-tableadd-spatial-index">ADD SPATIAL INDEX</h3>
<p>Add a SPATIAL index.</p>
<p>See <a href="https://mariadb.com/kb/en/spatial-index/">SPATIAL INDEX</a> for more information.</p>
<h3 class="anchored_heading" id="alter-tabledrop-spatial-index">DROP SPATIAL INDEX</h3>
<p>Drop a SPATIAL index.</p>
<p>See <a href="https://mariadb.com/kb/en/spatial-index/">SPATIAL INDEX</a> for more information.</p>
<h3 class="anchored_heading" id="alter-tableenable-disable-keys">ENABLE/ DISABLE KEYS</h3>
<p><code>DISABLE KEYS</code> will disable all non unique keys for the table for storage engines that support this (at least MyISAM and Aria). This can be used to <a href="https://mariadb.com/kb/en/how-to-quickly-insert-data-into-mariadb/">speed up inserts</a> into empty tables.</p>
<p><code>ENABLE KEYS</code> will enable all disabled keys.</p>
<h3 class="anchored_heading" id="alter-tablerename-to">RENAME TO</h3>
<p>Renames the table. See also <a href="#rename-table">RENAME TABLE</a>.</p>
<h3 class="anchored_heading" id="alter-tableadd-constraint">ADD CONSTRAINT</h3>
<p>Modifies the table adding a <a href="#constraint">constraint</a> on a particular column or columns.</p>
<div class="mariadb_from_10_2_1 mariadb from_10_2_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">10.2.1</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a> introduced new ways to define a constraint.</p>
</div><p>Note: Before <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a>, constraint expressions were accepted in syntax, but ignored.</p>
<pre class="highlight fixed"><p>ALTER TABLE table_name 
ADD CONSTRAINT [constraint_name] CHECK(expression);</p></pre><p>Before a row is inserted or updated, all constraints are evaluated in the order they are defined.  If any constraint fails, then the row will not be updated.  One can use most deterministic functions in a constraint, including <a href="https://mariadb.com/kb/en/user-defined-functions/">UDF's</a>.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">account_ledger</span> <span class="p">(</span>
	<span class="n">id</span> <span class="nb">INT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
	<span class="n">transaction_name</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
	<span class="n">credit_account</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
	<span class="n">credit_amount</span> <span class="nb">INT</span><span class="p">,</span>
	<span class="n">debit_account</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
	<span class="n">debit_amount</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">account_ledger</span> 
<span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">is_balanced</span> 
    <span class="k">CHECK</span><span class="p">((</span><span class="n">debit_amount</span> <span class="o">+</span> <span class="n">credit_amount</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span>
</pre><p>The <code>constraint_name</code> is optional.  If you don't provide one in the <code>ALTER TABLE</code> statement, MariaDB auto-generates a name for you.  This is done so that you can remove it later using <a href="#alter-tabledrop-constraint">DROP CONSTRAINT</a> clause.</p>
<p>You can disable all constraint expression checks by setting the variable <a href="https://mariadb.com/kb/en/server-system-variables/#check_constraint_checks">check_constraint_checks</a> to <code>OFF</code>.  You may find this useful when loading a table that violates some constraints that you want to later find and fix in SQL.</p>
<p>To view constraints on a table, query <a href="https://mariadb.com/kb/en/information-schema-table_constraints-table/">information_schema.TABLE_CONSTRAINTS</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CONSTRAINT_NAME</span><span class="p">,</span> <span class="k">TABLE_NAME</span><span class="p">,</span> <span class="n">CONSTRAINT_TYPE</span> 
<span class="k">FROM</span> <span class="n">information_schema</span><span class="p">.</span><span class="n">TABLE_CONSTRAINTS</span>
<span class="k">WHERE</span> <span class="k">TABLE_NAME</span> <span class="o">=</span> <span class="s1">'account_ledger'</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-----------------+----------------+-----------------+</span>
<span class="o">|</span> <span class="k">CONSTRAINT_NAME</span> <span class="o">|</span> <span class="k">TABLE_NAME</span>     <span class="o">|</span> <span class="n">CONSTRAINT_TYPE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+----------------+-----------------+</span>
<span class="o">|</span> <span class="n">is_balanced</span>     <span class="o">|</span> <span class="n">account_ledger</span> <span class="o">|</span> <span class="k">CHECK</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+----------------+-----------------+</span>
</pre><h3 class="anchored_heading" id="alter-tabledrop-constraint">DROP CONSTRAINT</h3>
<div class="mariadb_from_10_2_22 mariadb from_10_2_22 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-10222-release-notes/">10.2.22</a></h5><p><code>DROP CONSTRAINT</code> for <code>UNIQUE</code> and <code>FOREIGN KEY</code> <a href="#constraint">constraints</a> was introduced in <a href="https://mariadb.com/kb/en/mariadb-10222-release-notes/">MariaDB 10.2.22</a> and <a href="https://mariadb.com/kb/en/mariadb-10313-release-notes/">MariaDB 10.3.13</a>.</p>
</div><div class="mariadb_from_10_2_1 mariadb from_10_2_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">10.2.1</a></h5><p><code>DROP CONSTRAINT</code> for <code>CHECK</code> constraints was introduced in <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a></p>
</div><p>Modifies the table, removing the given constraint.</p>
<pre class="fixed">ALTER TABLE table_name
DROP CONSTRAINT constraint_name;
</pre><p>When you add a constraint to a table, whether through a <a ">CREATE TABLE</a> or <a href="#alter-tableadd-constraint">ALTER TABLE...ADD CONSTRAINT</a> statement, you can either set a <code>constraint_name</code> yourself, or allow MariaDB to auto-generate one for you.  To view constraints on a table, query <a href="https://mariadb.com/kb/en/information-schema-table_constraints-table/">information_schema.TABLE_CONSTRAINTS</a>.  For instance,</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span>
   <span class="n">a</span> <span class="nb">INT</span><span class="p">,</span>
   <span class="n">b</span> <span class="nb">INT</span><span class="p">,</span>
   <span class="k">c</span> <span class="nb">INT</span><span class="p">,</span>
   <span class="k">CONSTRAINT</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">),</span>
   <span class="k">CONSTRAINT</span> <span class="n">check_equals</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">a</span> <span class="o">=</span> <span class="k">c</span><span class="p">));</span> 

<span class="k">SELECT</span> <span class="k">CONSTRAINT_NAME</span><span class="p">,</span> <span class="k">TABLE_NAME</span><span class="p">,</span> <span class="n">CONSTRAINT_TYPE</span> 
<span class="k">FROM</span> <span class="n">information_schema</span><span class="p">.</span><span class="n">TABLE_CONSTRAINTS</span>
<span class="k">WHERE</span> <span class="k">TABLE_NAME</span> <span class="o">=</span> <span class="s1">'t'</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-----------------+----------------+-----------------+</span>
<span class="o">|</span> <span class="k">CONSTRAINT_NAME</span> <span class="o">|</span> <span class="k">TABLE_NAME</span>     <span class="o">|</span> <span class="n">CONSTRAINT_TYPE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+----------------+-----------------+</span>
<span class="o">|</span> <span class="n">check_equals</span>    <span class="o">|</span> <span class="n">t</span>              <span class="o">|</span> <span class="k">CHECK</span>           <span class="o">|</span>
<span class="o">|</span> <span class="n">CONSTRAINT_1</span>    <span class="o">|</span> <span class="n">t</span>              <span class="o">|</span> <span class="k">CHECK</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+----------------+-----------------+</span>
</pre><p>To remove a constraint from the table, issue an <code>ALTER TABLE...DROP CONSTRAINT</code> statement.  For example,</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="k">DROP</span> <span class="k">CONSTRAINT</span> <span class="n">is_unique</span><span class="p">;</span>
</pre><h3 class="anchored_heading" id="alter-tableadd-system-versioning">ADD SYSTEM VERSIONING</h3>
<div class="mariadb_from_10_3_4 mariadb from_10_3_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1034-release-notes/">10.3.4</a></h5><p><a href="https://mariadb.com/kb/en/system-versioned-tables/">System-versioned tables</a> was added in <a href="https://mariadb.com/kb/en/mariadb-1034-release-notes/">MariaDB 10.3.4</a>.</p>
</div><p>Add system versioning.</p>
<h3 class="anchored_heading" id="alter-tabledrop-system-versioning">DROP SYSTEM VERSIONING</h3>
<div class="mariadb_from_10_3_4 mariadb from_10_3_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1034-release-notes/">10.3.4</a></h5><p><a href="https://mariadb.com/kb/en/system-versioned-tables/">System-versioned tables</a> was added in <a href="https://mariadb.com/kb/en/mariadb-1034-release-notes/">MariaDB 10.3.4</a>.</p>
</div><p>Drop system versioning.</p>
<h3 class="anchored_heading" id="alter-tableadd-period-for-system_time">ADD PERIOD FOR SYSTEM_TIME</h3>
<div class="mariadb_from_10_3_4 mariadb from_10_3_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1034-release-notes/">10.3.4</a></h5><p><a href="https://mariadb.com/kb/en/system-versioned-tables/">System-versioned tables</a> was added in <a href="https://mariadb.com/kb/en/mariadb-1034-release-notes/">MariaDB 10.3.4</a>.</p>
</div><h3 class="anchored_heading" id="alter-tableforce">FORCE</h3>
<p><code>ALTER TABLE ... FORCE</code> can force MariaDB to re-build the table.</p>
<p>In <a href="https://mariadb.com/kb/en/what-is-mariadb-55/">MariaDB 5.5</a> and before, this could only be done by setting the <a ">ENGINE</a> table option to its old value. For example, for an InnoDB table, one could execute the following:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">tab_name</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">InnoDB</span><span class="p">;</span>
</pre><p>The <code>FORCE</code> option can be used instead. For example, :</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">tab_name</span> <span class="k">FORCE</span><span class="p">;</span>
</pre><p>With InnoDB, the table rebuild will only reclaim unused space (i.e. the space previously used for deleted rows) if the <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_file_per_table">innodb_file_per_table</a> system variable is set to <code>ON</code>. If the system variable is <code>OFF</code>, then the space will not be reclaimed, but it will be-re-used for new data that's later added.</p>
<h3 class="anchored_heading" id="alter-tableexchange-partition">EXCHANGE PARTITION</h3>
<p>This is used to exchange the tablespace files between a partition and another table.</p>
<p>See <a href="https://mariadb.com/kb/en/innodb-file-per-table-tablespaces/#copying-transportable-tablespaces">copying InnoDB's transportable tablespaces</a> for more information.</p>
<h3 class="anchored_heading" id="alter-tablediscard-tablespace">DISCARD TABLESPACE</h3>
<p>This is used to discard an InnoDB table's tablespace.</p>
<p>See <a href="https://mariadb.com/kb/en/innodb-file-per-table-tablespaces/#copying-transportable-tablespaces">copying InnoDB's transportable tablespaces</a> for more information.</p>
<h3 class="anchored_heading" id="alter-tableimport-tablespace">IMPORT TABLESPACE</h3>
<p>This is used to import an InnoDB table's tablespace. The tablespace should have been copied from its original server after executing <a href="#flush-tables-for-export">FLUSH TABLES FOR EXPORT</a>.</p>
<p>See <a href="https://mariadb.com/kb/en/innodb-file-per-table-tablespaces/#copying-transportable-tablespaces">copying InnoDB's transportable tablespaces</a> for more information.</p>
<p><code>ALTER TABLE ... IMPORT</code> only applies to InnoDB tables. Most other popular storage engines, such as Aria and MyISAM, will recognize their data files as soon as they've been placed in the proper directory under the datadir, and no special DDL is required to import them.</p>
<h3 class="anchored_heading" id="alter-tablealgorithm">ALGORITHM</h3>
<p>The <code>ALTER TABLE</code> statement supports the <code>ALGORITHM</code> clause. This clause is one of the clauses that is used to implement online DDL. <code>ALTER TABLE</code> supports several different algorithms. An algorithm can be explicitly chosen for an <code>ALTER TABLE</code> operation by setting the <code>ALGORITHM</code> clause. The supported values are:</p>
<ul start="1"><li><code>ALGORITHM=DEFAULT</code> - This implies the default behavior for the specific statement, such as if no <code>ALGORITHM</code> clause is specified.
</li><li><code>ALGORITHM=COPY</code>
</li><li><code>ALGORITHM=INPLACE</code>
</li><li><code>ALGORITHM=NOCOPY</code> - This was added in <a href="https://mariadb.com/kb/en/mariadb-1037-release-notes/">MariaDB 10.3.7</a>.
</li><li><code>ALGORITHM=INSTANT</code> - This was added in <a href="https://mariadb.com/kb/en/mariadb-1037-release-notes/">MariaDB 10.3.7</a>.
</li></ul>
<p>See <a href="https://mariadb.com/kb/en/innodb-online-ddl-overview/#algorithm">InnoDB Online DDL Overview: ALGORITHM</a> for information on how the <code>ALGORITHM</code> clause affects InnoDB.</p>
<h4 class="anchored_heading" id="alter-tablealgorithmdefault">ALGORITHM=DEFAULT</h4>
<p>The default behavior, which occurs if <code>ALGORITHM=DEFAULT</code> is specified, or if <code>ALGORITHM</code> is not specified at all, usually only makes a copy if the operation doesn't support being done in-place at all. In this case, the most efficient available algorithm will usually be used.</p>
<p>However, in <a href="https://mariadb.com/kb/en/mariadb-1036-release-notes/">MariaDB 10.3.6</a> and before, if the value of the <a href="https://mariadb.com/kb/en/server-system-variables/#old_alter_table">old_alter_table</a> system variable is set to <code>ON</code>, then the default behavior is to perform <code>ALTER TABLE</code> operations by making a copy of the table using the old algorithm.</p>
<p>In <a href="https://mariadb.com/kb/en/mariadb-1037-release-notes/">MariaDB 10.3.7</a> and later, the <a href="https://mariadb.com/kb/en/server-system-variables/#old_alter_table">old_alter_table</a> system variable is deprecated. Instead, the <a href="https://mariadb.com/kb/en/server-system-variables/#alter_algorithm">alter_algorithm</a> system variable defines the default algorithm for <code>ALTER TABLE</code> operations.</p>
<h4 class="anchored_heading" id="alter-tablealgorithmcopy">ALGORITHM=COPY</h4>
<p><code>ALGORITHM=COPY</code> is the name for the original <a href="#alter-table">ALTER TABLE</a> algorithm from early MariaDB versions.</p>
<p>When <code>ALGORITHM=COPY</code> is set, MariaDB essentially does the following operations:</p>
<pre class="fixed"><span class="c1">-- Create a temporary table with the new definition</span>
<span class="k">CREATE</span> <span class="k">TEMPORARY</span> <span class="k">TABLE</span> <span class="n">tmp_tab</span> <span class="p">(</span>
<span class="p">...</span>
<span class="p">);</span>

<span class="c1">-- Copy the data from the original table</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tmp_tab</span>
   <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">original_tab</span><span class="p">;</span>

<span class="c1">-- Drop the original table</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">original_tab</span><span class="p">;</span>

<span class="c1">-- Rename the temporary table, so that it replaces the original one</span>
<span class="k">RENAME</span> <span class="k">TABLE</span> <span class="n">tmp_tab</span> <span class="k">TO</span> <span class="n">original_tab</span><span class="p">;</span>
</pre><p>This algorithm is very inefficient, but it is generic, so it works for all storage engines.</p>
<p>If <code>ALGORITHM=COPY</code> is specified, then the copy algorithm will be used even if it is not necessary. This can result in a lengthy table copy. If multiple <a href="#alter-table">ALTER TABLE</a> operations are required that each require the table to be rebuilt, then it is best to specify all operations in a single <a href="#alter-table">ALTER TABLE</a> statement, so that the table is only rebuilt once.</p>
<h4 class="anchored_heading" id="alter-tablealgorithminplace">ALGORITHM=INPLACE</h4>
<p><code>ALGORITHM=COPY</code> can be incredibly slow, because the whole table has to be copied and rebuilt. <code>ALGORITHM=INPLACE</code> was introduced as a way to avoid this by performing operations in-place and avoiding the table copy and rebuild, when possible.</p>
<p>When <code>ALGORITHM=INPLACE</code> is set, the underlying storage engine uses optimizations to perform the operation while avoiding the table copy and rebuild. However, <code>INPLACE</code> is a bit of a misnomer, since some operations may still require the table to be rebuilt for some storage engines. Regardless, several operations can be performed without a full copy of the table for some storage engines.</p>
<p>A more accurate name would have been <code>ALGORITHM=ENGINE</code>, where <code>ENGINE</code> refers to an "engine-specific" algorithm.</p>
<p>If an <a href="#alter-table">ALTER TABLE</a> operation supports <code>ALGORITHM=INPLACE</code>, then it can be performed using optimizations by the underlying storage engine, but it may rebuilt.</p>
<p>See <a href="https://mariadb.com/kb/en/innodb-online-ddl-operations-with-algorithminplace/">InnoDB Online DDL Operations with ALGORITHM=INPLACE</a> for more.</p>
<h4 class="anchored_heading" id="alter-tablealgorithmnocopy">ALGORITHM=NOCOPY</h4>
<p><code>ALGORITHM=NOCOPY</code> was introduced in <a href="https://mariadb.com/kb/en/mariadb-1037-release-notes/">MariaDB 10.3.7</a>.</p>
<p><code>ALGORITHM=INPLACE</code> can sometimes be surprisingly slow in instances where it has to rebuild the clustered index, because when the clustered index has to be rebuilt, the whole table has to be rebuilt. <code>ALGORITHM=NOCOPY</code> was introduced as a way to avoid this. </p>
<p>If an <code>ALTER TABLE</code> operation supports <code>ALGORITHM=NOCOPY</code>, then it can be performed without rebuilding the clustered index.</p>
<p>If <code>ALGORITHM=NOCOPY</code> is specified for an <code>ALTER TABLE</code> operation that does not support <code>ALGORITHM=NOCOPY</code>, then an error will be raised. In this case, raising an error is preferable, if the alternative is for the operation to rebuild the clustered index, and perform unexpectedly slowly.</p>
<p>See <a href="https://mariadb.com/kb/en/innodb-online-ddl-operations-with-algorithmnocopy/">InnoDB Online DDL Operations with ALGORITHM=NOCOPY</a> for more.</p>
<h4 class="anchored_heading" id="alter-tablealgorithminstant">ALGORITHM=INSTANT</h4>
<p><code>ALGORITHM=INSTANT</code> was introduced in <a href="https://mariadb.com/kb/en/mariadb-1037-release-notes/">MariaDB 10.3.7</a>.</p>
<p><code>ALGORITHM=INPLACE</code> can sometimes be surprisingly slow in instances where it has to modify data files. <code>ALGORITHM=INSTANT</code> was introduced as a way to avoid this.</p>
<p>If an <code>ALTER TABLE</code> operation supports <code>ALGORITHM=INSTANT</code>, then it can be performed without modifying any data files.</p>
<p>If <code>ALGORITHM=INSTANT</code> is specified for an <code>ALTER TABLE</code> operation that does not support <code>ALGORITHM=INSTANT</code>, then an error will be raised. In this case, raising an error is preferable, if the alternative is for the operation to modify data files, and perform unexpectedly slowly.</p>
<p>See <a href="https://mariadb.com/kb/en/innodb-online-ddl-operations-with-algorithminstant/">InnoDB Online DDL Operations with ALGORITHM=INSTANT</a> for more.</p>
<h3 class="anchored_heading" id="alter-tablelock">LOCK</h3>
<p>The <code>ALTER TABLE</code> statement supports the <code>LOCK</code> clause. This clause is one of the clauses that is used to implement online DDL. <code>ALTER TABLE</code> supports several different locking strategies. A locking strategy can be explicitly chosen for an <code>ALTER TABLE</code> operation by setting the <code>LOCK</code> clause. The supported values are:</p>
<ul start="1"><li><code>DEFAULT</code>: Acquire the least restrictive lock on the table that is supported for the specific operation. Permit the maximum amount of concurrency that is supported for the specific operation.
</li><li><code>NONE</code>: Acquire no lock on the table. Permit <strong>all</strong> concurrent DML. If this locking strategy is not permitted for an operation, then an error is raised.
</li><li><code>SHARED</code>: Acquire a read lock on the table. Permit <strong>read-only</strong> concurrent DML. If this locking strategy is not permitted for an operation, then an error is raised.
</li><li><code>EXCLUSIVE</code>: Acquire a write lock on the table. Do <strong>not</strong> permit concurrent DML.
</li></ul>
<p>Different storage engines support different locking strategies for different operations. If a specific locking strategy is chosen for an <code>ALTER TABLE</code> operation, and that table's storage engine does not support that locking strategy for that specific operation, then an error will be raised.</p>
<p>If the <code>LOCK</code> clause is not explicitly set, then the operation uses <code>LOCK=DEFAULT</code>.</p>
<p><a href="alter-tablealter-online-table">ALTER ONLINE TABLE</a> is equivalent to <code>LOCK=NONE</code>. Therefore, the <a href="alter-tablealter-online-table">ALTER ONLINE TABLE</a> statement can be used to ensure that your <code>ALTER TABLE</code> operation allows all concurrent DML.</p>
<p>See <a href="https://mariadb.com/kb/en/innodb-online-ddl-overview/#lock">InnoDB Online DDL Overview: LOCK</a> for information on how the <code>LOCK</code> clause affects InnoDB.</p>
<h2 class="anchored_heading" id="alter-tableprogress-reporting">Progress Reporting</h2>
<p>MariaDB provides progress reporting for <code>ALTER TABLE</code> statement for clients
that support the new progress reporting protocol. For example, if you were using the <a href="https://mariadb.com/kb/en/mysql-command-line-client/">mysql</a> client, then the progress report might look like this::</p>
<pre class="fixed">ALTER TABLE test ENGINE=Aria;
Stage: 1 of 2 'copy to tmp table'    46% of stage
</pre><p>The progress report is also shown in the output of the <a href="#show-processlist">SHOW PROCESSLIST</a> statement and in the contents of the <a href="https://mariadb.com/kb/en/information-schema-processlist-table/">information_schema.PROCESSLIST</a> table.</p>
<p>See <a href="https://mariadb.com/kb/en/progress-reporting/">Progress Reporting</a> for more information.</p>
<h2 class="anchored_heading" id="alter-tableaborting-alter-table-operations">Aborting ALTER TABLE Operations</h2>
<p>If an <code>ALTER TABLE</code> operation is being performed and the connection is killed, the changes will be rolled back in a controlled manner. The rollback can be a slow operation as the time it takes is relative to how far the operation has progressed.</p>
<div class="mariadb_from_10_2_13 mariadb from_10_2_13 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-10213-release-notes/">10.2.13</a></h5><p>Aborting <code>ALTER TABLE ... ALGORITHM=COPY</code>  was made faster by removing excessive undo logging (<a href="https://jira.mariadb.org/browse/MDEV-11415">MDEV-11415</a>).  This significantly shortens the time it takes to abort a running ALTER TABLE operation.</p>
</div><h2 class="anchored_heading" id="alter-tableatomic-alter-table">Atomic ALTER TABLE</h2>
<div class="mariadb_from_10_6_1 mariadb from_10_6_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">10.6.1</a></h5><p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-106/">MariaDB 10.6</a>, <code>ALTER TABLE</code> is atomic for most engines, including InnoDB, MyRocks, MyISAM and  Aria (<a href="https://jira.mariadb.org/browse/MDEV-25180">MDEV-25180</a>).
This means that if there is a crash (server down or power outage) during an <code>ALTER TABLE</code> operation, after
recovery, either the old table and associated triggers and status will be intact, or the new table will be active.</p>
<p>In older MariaDB versions one could get leftover #sql-alter..', '#sql-backup..' or 'table_name.frm˝' files if the system crashed during the <code>ALTER TABLE</code> operation.</p>
<p>See <a href="https://mariadb.com/kb/en/atomic-ddl/">Atomic DDL</a> for more information.</p>
</div><h2 class="anchored_heading" id="alter-tablereplication">Replication</h2>
<div class="mariadb_from_10_8_0 mariadb from_10_8_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1080-release-notes/">10.8.0</a></h5><p>Before <a href="https://mariadb.com/kb/en/mariadb-1080-release-notes/">MariaDB 10.8.0</a>, ALTER TABLE got fully executed on the primary first, and only then was it replicated and started executing on replicas. From <a href="https://mariadb.com/kb/en/mariadb-1080-release-notes/">MariaDB 10.8.0</a>, ALTER TABLE gets replicated and starts executing on replicas when it <em>starts</em> executing on the primary, not when it <em>finishes</em>. This way the replication lag caused by a heavy ALTER TABLE can be completely eliminated (<a href="https://jira.mariadb.org/browse/MDEV-11675">MDEV-11675</a>). </p>
</div><h2 class="anchored_heading" id="alter-tableexamples">Examples</h2>
<p>Adding a new column:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">ADD</span> <span class="n">x</span> <span class="nb">INT</span><span class="p">;</span>
</pre><p>Dropping a column:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">DROP</span> <span class="n">x</span><span class="p">;</span>
</pre><p>Modifying the type of a column:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">MODIFY</span> <span class="n">x</span> <span class="nb">bigint</span> <span class="n">unsigned</span><span class="p">;</span>
</pre><p>Changing the name and type of a column:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="n">CHANGE</span> <span class="n">a</span> <span class="n">b</span> <span class="nb">bigint</span> <span class="n">unsigned</span> <span class="n">auto_increment</span><span class="p">;</span>
</pre><p>Combining multiple clauses in a single ALTER TABLE statement, separated by commas:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">DROP</span> <span class="n">x</span><span class="p">,</span> <span class="k">ADD</span> <span class="n">x2</span> <span class="nb">INT</span><span class="p">,</span>  <span class="n">CHANGE</span> <span class="n">y</span> <span class="n">y2</span> <span class="nb">INT</span><span class="p">;</span>
</pre><p>Changing the storage engine and adding a comment:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> 
  <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">InnoDB</span> 
  <span class="k">COMMENT</span> <span class="o">=</span> <span class="s1">'First of three tables containing usage info'</span><span class="p">;</span>
</pre><p>Rebuilding the table (the previous example will also rebuild the table if it was already InnoDB):</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">FORCE</span><span class="p">;</span>
</pre><p>Dropping an index:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">rooms</span> <span class="k">DROP</span> <span class="k">INDEX</span> <span class="n">u</span><span class="p">;</span>
</pre><p>Adding a unique index:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">rooms</span> <span class="k">ADD</span> <span class="k">UNIQUE</span> <span class="k">INDEX</span> <span class="n">u</span><span class="p">(</span><span class="n">room_number</span><span class="p">);</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1053-release-notes/">MariaDB 10.5.3</a>, adding a primary key for an <a href="https://mariadb.com/kb/en/application-time-periods/">application-time period table</a> with a <a href="https://mariadb.com/kb/en/application-time-periods/#without-overlaps">WITHOUT OVERLAPS</a> constraint:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">rooms</span> <span class="k">ADD</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="n">room_number</span><span class="p">,</span> <span class="n">p</span> <span class="k">WITHOUT</span> <span class="k">OVERLAPS</span><span class="p">);</span>
</pre><h2 class="anchored_heading" id="alter-tablesee-also">See Also</h2>
<ul start="1"><li><a href="#create-table">CREATE TABLE</a>
</li><li><a href="#drop-table">DROP TABLE</a>
</li><li><a href="https://mariadb.com/kb/en/character-sets-and-collations/">Character Sets and Collations</a>
</li><li><a href="#show-create-table">SHOW CREATE TABLE</a>
</li><li><a href="https://mariadb.com/kb/en/instant-add-column-for-innodb/">Instant ADD COLUMN for InnoDB</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="alter-tablespace">ALTER TABLESPACE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="cstm-style redbox"><p>The <code>ALTER TABLESPACE</code> statement is not supported by MariaDB. It was originally inherited from MySQL NDB Cluster. In MySQL 5.7 and later, the statement is also supported for InnoDB. However, MariaDB has chosen not to include that specific feature. See <a href="https://jira.mariadb.org/browse/MDEV-19294">MDEV-19294</a> for more information.</p>
</div>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-function">CREATE FUNCTION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="create-functionsyntax">Syntax</h2>
<pre class="highlight fixed"><p>CREATE [OR REPLACE]
    [DEFINER = {user | CURRENT_USER | role | CURRENT_ROLE }]
    [AGGREGATE] FUNCTION [IF NOT EXISTS] func_name ([func_parameter[,...]])
    RETURNS type
    [characteristic ...]
    RETURN func_body</p>
<p>func_parameter:
    [ IN | OUT | INOUT | IN OUT ]  param_name type</p>
<p>type:
    Any valid MariaDB data type</p>
<p>characteristic:
    LANGUAGE SQL
  <code>|</code> [NOT] DETERMINISTIC
  <code>|</code> { CONTAINS SQL | NO SQL | READS SQL DATA | MODIFIES SQL DATA }
  <code>|</code> SQL SECURITY { DEFINER | INVOKER }
  <code>|</code> COMMENT 'string'</p>
<p>func_body:
    Valid SQL procedure statement</p></pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_8_0"><a href="#create-functionsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-functiondescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_8_0"><a href="#create-functionin-out-inout-in-out" title="IN | OUT | INOUT | IN OUT">IN | OUT | INOUT | IN OUT</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-functionaggregate" title="AGGREGATE">AGGREGATE</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-functionreturns" title="RETURNS">RETURNS</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-functionlanguage-sql" title="LANGUAGE SQL">LANGUAGE SQL</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-functionor-replace" title="OR REPLACE">OR REPLACE</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-functionif-not-exists" title="IF NOT EXISTS">IF NOT EXISTS</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-functionnot-deterministic" title="[NOT] DETERMINISTIC">[NOT] DETERMINISTIC</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-functionmodifies-sql-data" title="MODIFIES SQL DATA">MODIFIES SQL DATA</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-functionreads-sql-data" title="READS SQL DATA">READS SQL DATA</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-functioncontains-sql" title="CONTAINS SQL">CONTAINS SQL</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-functionno-sql" title="NO SQL">NO SQL</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-functionoracle-mode" title="Oracle Mode">Oracle Mode</a> </li></ol>
</li>
<li class="mariadb_from_10_8_0"><a href="#create-functionsecurity" title="Security">Security</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-functioncharacter-sets-and-collations" title="Character sets and collations">Character sets and collations</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-functionexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-functionsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-functiondescription">Description</h2>
<p>Use the <code>CREATE FUNCTION</code> statement to create a new <a href="https://mariadb.com/kb/en/stored-functions/">stored function</a>. You must have
the <a ">CREATE ROUTINE</a> database privilege to use <code>CREATE FUNCTION</code>.
A function takes any number of arguments and returns a value from the function body. The
function body can be any valid SQL expression as you would use, for example, in any select
expression. If you have the appropriate privileges, you can call the function exactly as you
would any built-in function. See <a href="#create-functionsecurity">Security</a> below for details on privileges.</p>
<p>You can also use a variant of the <code>CREATE FUNCTION</code> statement to install a user-defined
function (UDF) defined by a plugin. See <a href="#create-function-udf">CREATE FUNCTION (UDF)</a>
for details.</p>
<p>You can use a <a href="#select">SELECT</a> statement for the function body by enclosing it in
parentheses, exactly as you would to use a subselect for any other expression. The <code>SELECT</code>
statement must return a single value. If more than one column is returned when the function is called,
error 1241 results. If more than one row is returned when the function is called, error 1242
results. Use a <code>LIMIT</code> clause to ensure only one row is returned.</p>
<p>You can also replace the <code>RETURN</code> clause with a <a href="#begin-end">BEGIN...END</a> compound
statement. The compound statement must contain a <code>RETURN</code> statement. When the function is
called, the <code>RETURN</code> statement immediately returns its result, and any statements after <code>RETURN</code>
are effectively ignored.</p>
<p>By default, a function is associated with the current database. To associate the function explicitly
with a given database, specify the fully-qualified name as <code><em>db_name</em>.<em>func_name</em></code>
when you create it. If the function name is the same as the name of a built-in function, you must
use the fully qualified name when you call it.</p>
<p>The parameter list enclosed within parentheses must always be present.
If there are no parameters, an empty parameter list of () should be
used. Parameter names are not case sensitive.</p>
<p>Each parameter can be declared to use any valid data type, except that
the COLLATE attribute cannot be used.</p>
<p>For valid identifiers to use as function names, see <a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>.</p>
<h4 class="anchored_heading" id="create-functionin-out-inout-in-out">IN | OUT | INOUT | IN OUT</h4>
<div class="mariadb_from_10_8_0 mariadb from_10_8_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1080-release-notes/">10.8.0</a></h5><p>The function parameter qualifiers for <code>IN</code>, <code>OUT</code>, <code>INOUT</code>, and <code>IN OUT</code> were added in a 10.8.0 preview release. Prior to 10.8.0 quantifiers were supported only in procedures.</p>
</div><p><code>OUT</code>, <code>INOUT</code> and its equivalent <code>IN OUT</code>, are only valid if called from <code>SET</code> and not <code>SELECT</code>. These quantifiers are especially useful for creating functions with more than one return value. This allows functions to be more complex and nested.</p>
<pre class="fixed">DELIMITER $$
CREATE FUNCTION add_func3(IN a INT, IN b INT, OUT c INT) RETURNS INT
BEGIN
  SET c = 100;
  RETURN a + b;
END;
$$
DELIMITER ;
 
SET @a = 2;
SET @b = 3;
SET @c = 0;
SET @res= add_func3(@a, @b, @c);

SELECT add_func3(@a, @b, @c);
ERROR 4186 (HY000): OUT or INOUT argument 3 for function add_func3 is not allowed here

DELIMITER $$
CREATE FUNCTION add_func4(IN a INT, IN b INT, d INT) RETURNS INT
BEGIN
  DECLARE c, res INT;
  SET res = add_func3(a, b, c) + d;
  if (c &gt; 99) then
    return  3;
  else
    return res;
  end if;
END;
$$

DELIMITER ;

SELECT add_func4(1,2,3);
+------------------+
| add_func4(1,2,3) |
+------------------+
|                3 |
+------------------+
</pre><h4 class="anchored_heading" id="create-functionaggregate">AGGREGATE</h4>
<div class="mariadb_from_10_3_3 mariadb from_10_3_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">10.3.3</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">MariaDB 10.3.3</a>, it is possible to create stored aggregate functions as well. See <a href="#stored-aggregate-functions">Stored Aggregate Functions</a> for details.</p>
</div><h4 class="anchored_heading" id="create-functionreturns">RETURNS</h4>
<p>The <code>RETURNS</code> clause specifies the return type of the function. <code>NULL</code> values are permitted with all return types.</p>
<p>What happens if the <code>RETURN</code> clause returns a value of a different type? It depends on the <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> in effect at the moment of the function creation.</p>
<p>If the SQL_MODE is strict (STRICT_ALL_TABLES or STRICT_TRANS_TABLES flags are specified), a 1366 error will be produced.</p>
<p>Otherwise, the value is coerced to the proper type. For example, if a function
specifies an <code>ENUM</code> or <code>SET</code> value in the <code>RETURNS</code> clause, but the <code>RETURN</code>
clause returns an integer, the value returned from the function is the string for the corresponding <code>ENUM</code>
member of set of <code>SET</code> members.</p>
<p>MariaDB stores the SQL_MODE system variable setting that is in effect at the
time a routine is created, and always executes the routine with this setting in
force, regardless of the server SQL mode in effect when the routine is invoked.</p>
<h4 class="anchored_heading" id="create-functionlanguage-sql">LANGUAGE SQL</h4>
<p><code>LANGUAGE SQL</code> is a standard SQL clause, and it can be used in MariaDB for portability. However that clause has no meaning, because SQL is the only supported language for stored functions.</p>
<p>A function is deterministic if it can produce only one result for a given list of parameters. If the result may be affected by stored data, server variables, random numbers or any value that is not explicitly passed, then the function is not deterministic. Also, a function is non-deterministic if it uses non-deterministic functions like <a href="#now">NOW()</a> or <a href="#current_user">CURRENT_TIMESTAMP()</a>. The optimizer may choose a faster execution plan if it known that the function is deterministic. In such cases, you should declare the routine using the <code>DETERMINISTIC</code> keyword. If you want to explicitly state that the function is not deterministic (which is the default) you can use the <code>NOT DETERMINISTIC</code> keywords.</p>
<p>If you declare a non-deterministic function as <code>DETERMINISTIC</code>, you may get incorrect results. If you declare a deterministic function as <code>NOT DETERMINISTIC</code>, in some cases the queries will be slower.</p>
<h4 class="anchored_heading" id="create-functionor-replace">OR REPLACE</h4>
<div class="mariadb_from_10_1_3 mariadb from_10_1_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1013-release-notes/">10.1.3</a></h5><p>If the optional <code>OR REPLACE</code> clause is used, it acts as a shortcut for:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="k">FUNCTION</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">function_name</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">FUNCTION</span> <span class="n">function_name</span> <span class="p">...;</span>
</pre><p>with the exception that any existing <a href="https://mariadb.com/kb/en/stored-routine-privileges/">privileges</a> for the function are not dropped.</p>
</div><h4 class="anchored_heading" id="create-functionif-not-exists">IF NOT EXISTS</h4>
<div class="mariadb_from_10_1_3 mariadb from_10_1_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1013-release-notes/">10.1.3</a></h5><p>If the IF NOT EXISTS clause is used, MariaDB will return a warning instead of an error if the function already exists. Cannot be used together with OR REPLACE.</p>
</div><h4 class="anchored_heading" id="create-functionnot-deterministic">[NOT] DETERMINISTIC</h4>
<p>The <code>[NOT] DETERMINISTIC</code> clause also affects <a href="https://mariadb.com/kb/en/binary-log/">binary logging</a>, because the <code>STATEMENT</code> format can not be used to store or replicate non-deterministic statements.</p>
<p><code>CONTAINS SQL</code>, <code>NO SQL</code>, <code>READS SQL DATA</code>, and <code>MODIFIES SQL DATA</code> are informative clauses that tell the server what the function does. MariaDB does not check in any way whether the specified clause is correct. If none of these clauses are specified, <code>CONTAINS SQL</code> is used by default.</p>
<h4 class="anchored_heading" id="create-functionmodifies-sql-data">MODIFIES SQL DATA</h4>
<p><code>MODIFIES SQL DATA</code> means that the function contains statements that may modify data stored in databases. This happens if the function contains statements like <a href="#delete">DELETE</a>, <a href="#update">UPDATE</a>, <a href="#insert">INSERT</a>, <a href="#replace">REPLACE</a> or DDL.</p>
<h4 class="anchored_heading" id="create-functionreads-sql-data">READS SQL DATA</h4>
<p><code>READS SQL DATA</code> means that the function reads data stored in databases, but does not modify any data. This happens if <a href="#select">SELECT</a> statements are used, but there no write operations are executed.</p>
<h4 class="anchored_heading" id="create-functioncontains-sql">CONTAINS SQL</h4>
<p><code>CONTAINS SQL</code> means that the function contains at least one SQL statement, but it does not read or write any data stored in a database. Examples include <a href="#set">SET</a> or <a href="#do">DO</a>.</p>
<h4 class="anchored_heading" id="create-functionno-sql">NO SQL</h4>
<p><code>NO SQL</code> means nothing, because MariaDB does not currently support any language other than SQL.</p>
<h4 class="anchored_heading" id="create-functionoracle-mode">Oracle Mode</h4>
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>, a subset of Oracle's PL/SQL language has been supported in addition to the traditional SQL/PSM-based MariaDB syntax. See <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#stored-procedures-and-stored-functions">Oracle mode from MariaDB 10.3</a> for details on changes when running Oracle mode.</p>
</div><h2 class="anchored_heading" id="create-functionsecurity">Security</h2>
<p>You must have the <a ">EXECUTE</a> privilege on a function to call it.
MariaDB automatically grants the <code>EXECUTE</code> and <code>ALTER ROUTINE</code> privileges to the
account that called <code>CREATE FUNCTION</code>, even if the <code>DEFINER</code> clause was used.</p>
<p>Each function has an account associated as the definer. By default, the definer is the account
that created the function. Use the <code>DEFINER</code> clause to specify a different account as the
definer. You must have the <a ">SUPER</a> privilege, or, from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the <a ">SET USER</a> privilege, to use the <code>DEFINER</code>
clause. See <a ">Account Names</a> for details on specifying accounts.</p>
<p>The <code>SQL SECURITY</code> clause specifies what privileges are used when a function is called.
If <code>SQL SECURITY</code> is <code>INVOKER</code>, the function body will be evaluated using the privileges
of the user calling the function. If <code>SQL SECURITY</code> is <code>DEFINER</code>, the function body is
always evaluated using the privileges of the definer account. <code>DEFINER</code> is the default.</p>
<p>This allows you to create functions that grant limited access to certain data. For example, say
you have a table that stores some employee information, and that you've granted <code>SELECT</code>
privileges <a ">only on certain columns</a> to the user account <code>roger</code>.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">employees</span> <span class="p">(</span><span class="n">name</span> <span class="n">TINYTEXT</span><span class="p">,</span> <span class="n">dept</span> <span class="n">TINYTEXT</span><span class="p">,</span> <span class="n">salary</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">GRANT</span> <span class="k">SELECT</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">dept</span><span class="p">)</span> <span class="k">ON</span> <span class="n">employees</span> <span class="k">TO</span> <span class="n">roger</span><span class="p">;</span>
</pre><p>To allow the user the get the maximum salary for a department, define a function and grant
the <code>EXECUTE</code> privilege:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">FUNCTION</span> <span class="n">max_salary</span> <span class="p">(</span><span class="n">dept</span> <span class="n">TINYTEXT</span><span class="p">)</span> <span class="k">RETURNS</span> <span class="nb">INT</span> <span class="k">RETURN</span>
  <span class="p">(</span><span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">employees</span><span class="p">.</span><span class="n">dept</span> <span class="o">=</span> <span class="n">dept</span><span class="p">);</span>
<span class="k">GRANT</span> <span class="k">EXECUTE</span> <span class="k">ON</span> <span class="k">FUNCTION</span> <span class="n">max_salary</span> <span class="k">TO</span> <span class="n">roger</span><span class="p">;</span>
</pre><p>Since <code>SQL SECURITY</code> defaults to <code>DEFINER</code>, whenever the user <code>roger</code> calls
this function, the subselect will execute with your privileges. As long as you have privileges to
select the salary of each employee, the caller of the function will be able to get the maximum
salary for each department without being able to see individual salaries.</p>
<h2 class="anchored_heading" id="create-functioncharacter-sets-and-collations">Character sets and collations</h2>
<p>Function return types can be declared to use any valid <a href="https://mariadb.com/kb/en/character-sets/">character set and collation</a>. If used, the COLLATE attribute needs to be preceded by a CHARACTER SET attribute.</p>
<p>If the character set and collation are not specifically set in the statement, the database defaults at the time of creation will be used. If the database defaults change at a later stage, the stored function character set/collation will not be changed at the same time; the stored function needs to be dropped and recreated to ensure the same character set/collation as the database is used.</p>
<h2 class="anchored_heading" id="create-functionexamples">Examples</h2>
<p>The following example function takes a parameter, performs an operation using
an SQL function, and returns the result.</p>
<pre class="fixed">CREATE FUNCTION hello (s CHAR(20))
    RETURNS CHAR(50) DETERMINISTIC
    RETURN CONCAT('Hello, ',s,'!');

SELECT hello('world');
+----------------+
| hello('world') |
+----------------+
| Hello, world!  |
+----------------+
</pre><p>You can use a compound statement in a function to manipulate data with statements
like <code>INSERT</code> and <code>UPDATE</code>. The following example creates a counter function
that uses a temporary table to store the current value. Because the compound statement
contains statements terminated with semicolons, you have to first change the statement
delimiter with the <code>DELIMITER</code> statement to allow the semicolon to be used in the
function body. See <a href="https://mariadb.com/kb/en/delimiters-in-the-mysql-client/">Delimiters in the mysql client</a> for more.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TEMPORARY</span> <span class="k">TABLE</span> <span class="n">counter</span> <span class="p">(</span><span class="k">c</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">counter</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="k">DELIMITER</span> <span class="o">//</span>
<span class="k">CREATE</span> <span class="k">FUNCTION</span> <span class="n">counter</span> <span class="p">()</span> <span class="k">RETURNS</span> <span class="nb">INT</span>
  <span class="k">BEGIN</span>
    <span class="k">UPDATE</span> <span class="n">counter</span> <span class="k">SET</span> <span class="k">c</span> <span class="o">=</span> <span class="k">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">RETURN</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">c</span> <span class="k">FROM</span> <span class="n">counter</span> <span class="k">LIMIT</span> <span class="mi">1</span><span class="p">);</span>
  <span class="k">END</span> <span class="o">//</span>
<span class="k">DELIMITER</span> <span class="p">;</span>
</pre><p>Character set and collation:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">FUNCTION</span> <span class="n">hello2</span> <span class="p">(</span><span class="n">s</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
  <span class="k">RETURNS</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="nb">CHARACTER</span> <span class="k">SET</span> <span class="s1">'utf8'</span> <span class="k">COLLATE</span> <span class="s1">'utf8_bin'</span> <span class="k">DETERMINISTIC</span>
  <span class="k">RETURN</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'Hello, '</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="s1">'!'</span><span class="p">);</span>
</pre><h2 class="anchored_heading" id="create-functionsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>
</li><li><a href="#stored-aggregate-functions">Stored Aggregate Functions</a>
</li><li><a href="#create-function-udf">CREATE FUNCTION (UDF)</a>
</li><li><a href="#show-create-function">SHOW CREATE FUNCTION</a>
</li><li><a href="#alter-function">ALTER FUNCTION</a>
</li><li><a href="#drop-function">DROP FUNCTION</a>
</li><li><a href="#show-function-status">SHOW FUNCTION STATUS</a>
</li><li><a href="https://mariadb.com/kb/en/stored-routine-privileges/">Stored Routine Privileges</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-routines-table/">Information Schema ROUTINES Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-procedure">CREATE PROCEDURE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="create-proceduresyntax">Syntax</h2>
<pre class="fixed">CREATE
    [OR REPLACE]
    [DEFINER = { user | CURRENT_USER | role | CURRENT_ROLE }]
    PROCEDURE sp_name ([proc_parameter[,...]])
    [characteristic ...] routine_body

proc_parameter:
    [ IN | OUT | INOUT ] param_name type

type:
    Any valid MariaDB data type

characteristic:
    LANGUAGE SQL
  | [NOT] DETERMINISTIC
  | { CONTAINS SQL | NO SQL | READS SQL DATA | MODIFIES SQL DATA }
  | SQL SECURITY { DEFINER | INVOKER }
  | COMMENT 'string'

routine_body:
    Valid SQL procedure statement
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_1_3"><a href="#create-proceduresyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_1_3"><a href="#create-proceduredescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_1_3"><a href="#create-procedureinoutinout" title="IN/OUT/INOUT">IN/OUT/INOUT</a></li>
<li class="mariadb_from_10_1_3"><a href="#create-proceduredeterministicnot-deterministic" title="DETERMINISTIC/NOT DETERMINISTIC">DETERMINISTIC/NOT DETERMINISTIC</a></li>
<li class="mariadb_from_10_1_3"><a href="#create-procedurecontains-sqlno-sqlreads-sql-datamodifies-sql-data" title="CONTAINS SQL/NO SQL/READS SQL DATA/MODIFIES SQL DATA">CONTAINS SQL/NO SQL/READS SQL DATA/MODIFIES SQL DATA</a></li>
<li class="mariadb_from_10_1_3"><a href="#create-procedureinvoking-stored-procedure-from-within-programs" title="Invoking stored procedure from within programs">Invoking stored procedure from within programs</a></li>
<li class="mariadb_from_10_1_3"><a href="#create-procedureor-replace" title="OR REPLACE">OR REPLACE</a></li>
<li class="mariadb_from_10_1_3"><a href="#create-proceduresql_mode" title="create-proceduresql_mode">sql_mode</a></li>
<li class="mariadb_from_10_1_3"><a href="#create-procedurecharacter-sets-and-collations" title="Character Sets and Collations">Character Sets and Collations</a></li>
<li class="mariadb_from_10_1_3"><a href="#create-procedureoracle-mode" title="Oracle Mode">Oracle Mode</a> </li></ol>
</li>
<li class="mariadb_from_10_1_3"><a href="#create-procedureexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_1_3"><a href="#create-proceduresee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-proceduredescription">Description</h2>
<p>Creates a <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedure</a>. By default, a routine is
associated with the default database. To associate the routine
explicitly with a given database, specify the name as db_name.sp_name
when you create it.</p>
<p>When the routine is invoked, an implicit USE db_name is performed (and
undone when the routine terminates). The causes the routine to have
the given default database while it executes. USE statements within
stored routines are disallowed.</p>
<p>When a stored procedure has been created, you invoke it by
using the <code>CALL</code> statement (see <a href="#call">CALL</a>).</p>
<p>To execute the <code>CREATE PROCEDURE</code> statement, it is
necessary to have the <code>CREATE ROUTINE</code> privilege. By default, MariaDB
automatically grants the <code>ALTER ROUTINE</code> and <code>EXECUTE</code> privileges to the
routine creator. See also <a href="https://mariadb.com/kb/en/stored-routine-privileges/">Stored Routine Privileges</a>.</p>
<p>The <code>DEFINER</code> and SQL SECURITY clauses specify the security context to
be used when checking access privileges at routine execution time, as
described later. Requires the <a ">SUPER</a> privilege, or, from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the <a ">SET USER</a> privilege.</p>
<p>If the routine name is the same as the name of a built-in SQL
function, you must use a space between the name and the following
parenthesis when defining the routine, or a syntax error occurs. This
is also true when you invoke the routine later. For this reason, we
suggest that it is better to avoid re-using the names of existing SQL
functions for your own stored routines.</p>
<p>The IGNORE_SPACE SQL mode applies to built-in functions, not to stored
routines. It is always allowable to have spaces after a routine name,
regardless of whether IGNORE_SPACE is enabled.</p>
<p>The parameter list enclosed within parentheses must always be present.
If there are no parameters, an empty parameter list of () should be
used. Parameter names are not case sensitive.</p>
<p>Each parameter can be declared to use any valid data type, except that
the COLLATE attribute cannot be used.</p>
<p>For valid identifiers to use as procedure names, see <a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>.</p>
<h3 class="anchored_heading" id="create-procedureinoutinout">IN/OUT/INOUT</h3>
<p>Each parameter is an <code>IN</code> parameter by default. To specify otherwise for
a parameter, use the keyword <code>OUT</code> or <code>INOUT</code> before the parameter name.</p>
<p>An <code>IN</code> parameter passes a value into a procedure. The procedure might
modify the value, but the modification is not visible to the caller
when the procedure returns. An <code>OUT</code> parameter passes a value from the
procedure back to the caller. Its initial value is NULL within the
procedure, and its value is visible to the caller when the procedure
returns. An <code>INOUT</code> parameter is initialized by the caller, can be
modified by the procedure, and any change made by the procedure is
visible to the caller when the procedure returns.</p>
<p>For each <code>OUT</code> or <code>INOUT</code> parameter, pass a user-defined variable in the
<code>CALL</code> statement that invokes the procedure so that you can obtain its
value when the procedure returns. If you are calling the procedure
from within another stored procedure or function, you can also pass a
routine parameter or local routine variable as an <code>IN</code> or <code>INOUT</code>
parameter.</p>
<h3 class="anchored_heading" id="create-proceduredeterministicnot-deterministic">DETERMINISTIC/NOT DETERMINISTIC</h3>
<p><code>DETERMINISTIC</code> and <code>NOT DETERMINISTIC</code> apply only to <a href="https://mariadb.com/kb/en/stored-functions/">functions</a>. Specifying <code>DETERMINISTC</code> or <code>NON-DETERMINISTIC</code> in procedures has no effect. The default value is <code>NOT DETERMINISTIC</code>. Functions are <code>DETERMINISTIC</code> when they always return the same value for the same input. For example, a truncate or substring function. Any function involving data, therefore, is always <code>NOT DETERMINISTIC</code>.</p>
<h3 class="anchored_heading" id="create-procedurecontains-sqlno-sqlreads-sql-datamodifies-sql-data">CONTAINS SQL/NO SQL/READS SQL DATA/MODIFIES SQL DATA</h3>
<p><code>CONTAINS SQL</code>, <code>NO SQL</code>, <code>READS SQL DATA</code>, and <code>MODIFIES SQL DATA</code> are informative clauses that tell the server what the function does. MariaDB does not check in any way whether the specified clause is correct. If none of these clauses are specified, <code>CONTAINS SQL</code> is used by default.</p>
<p><code>MODIFIES SQL DATA</code> means that the function contains statements that may modify data stored in databases. This happens if the function contains statements like <a href="#delete">DELETE</a>, <a href="#update">UPDATE</a>, <a href="#insert">INSERT</a>, <a href="#replace">REPLACE</a> or DDL.</p>
<p><code>READS SQL DATA</code> means that the function reads data stored in databases, but does not modify any data. This happens if <a href="#select">SELECT</a> statements are used, but there no write operations are executed.</p>
<p><code>CONTAINS SQL</code> means that the function contains at least one SQL statement, but it does not read or write any data stored in a database. Examples include <a href="#set">SET</a> or <a href="#do">DO</a>.</p>
<p><code>NO SQL</code> means nothing, because MariaDB does not currently support any language other than SQL.</p>
<p>The routine_body consists of a valid SQL procedure statement. This can
be a simple statement such as <a href="#select">SELECT</a> or <a href="#insert">INSERT</a>, or it can be a
compound statement written using <a href="#begin-end">BEGIN and END</a>. Compound statements
can contain declarations, loops, and other control structure
statements. See <a href="https://mariadb.com/kb/en/programmatic-and-compound-statements/">Programmatic and Compound Statements</a> for syntax details.</p>
<p>MariaDB allows routines to contain DDL statements, such as <code>CREATE</code> and
DROP. MariaDB also allows <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedures</a> (but not <a href="https://mariadb.com/kb/en/stored-functions/">stored functions</a>)
to contain SQL transaction statements such as <code>COMMIT</code>.</p>
<p>For additional information about statements that are not allowed in
stored routines, see <a href="https://mariadb.com/kb/en/stored-routine-limitations/">Stored Routine Limitations</a>.</p>
<h3 class="anchored_heading" id="create-procedureinvoking-stored-procedure-from-within-programs">Invoking stored procedure from within programs</h3>
<p>For information about invoking <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedures</a> from within programs written in a language that has a MariaDB/MySQL interface, see <a href="#call">CALL</a>.</p>
<h3 class="anchored_heading" id="create-procedureor-replace">OR REPLACE</h3>
<div class="mariadb_from_10_1_3 mariadb from_10_1_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1013-release-notes/">10.1.3</a></h5><p>If the optional <code>OR REPLACE</code> clause is used, it acts as a shortcut for:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="k">PROCEDURE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">name</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">name</span> <span class="p">...;</span>
</pre><p>with the exception that any existing <a href="https://mariadb.com/kb/en/stored-routine-privileges/">privileges</a> for the procedure are not dropped.</p>
</div><h3 class="anchored_heading" id="create-proceduresql_mode">sql_mode</h3>
<p>MariaDB stores the <a href="https://mariadb.com/kb/en/server-system-variables/#sql_mode">sql_mode</a> system variable setting that is in effect at the time a routine is created, and always executes the routine with this setting in force, regardless of the server <a href="https://mariadb.com/kb/en/sql_mode/">SQL mode</a> in effect when the routine is invoked.</p>
<h3 class="anchored_heading" id="create-procedurecharacter-sets-and-collations">Character Sets and Collations</h3>
<p>Procedure parameters can be declared with any character set/collation. If the character set and collation are not specifically set, the database defaults at the time of creation will be used. If the database defaults change at a later stage, the stored procedure character set/collation will not be changed at the same time; the stored procedure needs to be dropped and recreated to ensure the same character set/collation as the database is used.</p>
<h3 class="anchored_heading" id="create-procedureoracle-mode">Oracle Mode</h3>
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>, a subset of Oracle's PL/SQL language has been supported in addition to the traditional SQL/PSM-based MariaDB syntax. See <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#stored-procedures-and-stored-functions">Oracle mode from MariaDB 10.3</a> for details on changes when running Oracle mode.</p>
</div><h2 class="anchored_heading" id="create-procedureexamples">Examples</h2>
<p>The following example shows a simple stored procedure that uses an <code>OUT</code>
parameter. It uses the DELIMITER command to set a new delimiter for the duration of the process <span>—</span> see <a href="https://mariadb.com/kb/en/delimiters-in-the-mysql-client/">Delimiters in the mysql client</a>.</p>
<pre class="fixed">DELIMITER //

CREATE PROCEDURE simpleproc (OUT param1 INT)
 BEGIN
  SELECT COUNT(*) INTO param1 FROM t;
 END;
//

DELIMITER ;

CALL simpleproc(@a);

SELECT @a;
+------+
| @a   |
+------+
|    1 |
+------+
</pre><p>Character set and collation:</p>
<pre class="fixed">DELIMITER //

CREATE PROCEDURE simpleproc2 (
  OUT param1 CHAR(10) CHARACTER SET 'utf8' COLLATE 'utf8_bin'
)
 BEGIN
  SELECT CONCAT('a'),f1 INTO param1 FROM t;
 END;
//

DELIMITER ;
</pre><p>CREATE OR REPLACE:</p>
<pre class="fixed"><span class="k">DELIMITER</span> <span class="o">//</span>

<span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">simpleproc2</span> <span class="p">(</span>
  <span class="k">OUT</span> <span class="n">param1</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="nb">CHARACTER</span> <span class="k">SET</span> <span class="s1">'utf8'</span> <span class="k">COLLATE</span> <span class="s1">'utf8_bin'</span>
<span class="p">)</span>
 <span class="k">BEGIN</span>
  <span class="k">SELECT</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'a'</span><span class="p">),</span><span class="n">f1</span> <span class="k">INTO</span> <span class="n">param1</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
 <span class="k">END</span><span class="p">;</span>
<span class="o">//</span>
<span class="n">ERROR</span> <span class="mi">1304</span> <span class="p">(</span><span class="mi">42000</span><span class="p">):</span> <span class="k">PROCEDURE</span> <span class="n">simpleproc2</span> <span class="n">already</span> <span class="k">exists</span>

<span class="k">DELIMITER</span> <span class="p">;</span>

<span class="k">DELIMITER</span> <span class="o">//</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">PROCEDURE</span> <span class="n">simpleproc2</span> <span class="p">(</span>
  <span class="k">OUT</span> <span class="n">param1</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="nb">CHARACTER</span> <span class="k">SET</span> <span class="s1">'utf8'</span> <span class="k">COLLATE</span> <span class="s1">'utf8_bin'</span>
<span class="p">)</span>
 <span class="k">BEGIN</span>
  <span class="k">SELECT</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'a'</span><span class="p">),</span><span class="n">f1</span> <span class="k">INTO</span> <span class="n">param1</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
 <span class="k">END</span><span class="p">;</span>
<span class="o">//</span>
<span class="n">ERROR</span> <span class="mi">1304</span> <span class="p">(</span><span class="mi">42000</span><span class="p">):</span> <span class="k">PROCEDURE</span> <span class="n">simpleproc2</span> <span class="n">already</span> <span class="k">exists</span>

<span class="k">DELIMITER</span> <span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span> <span class="n">sec</span><span class="p">)</span>
</pre><h2 class="anchored_heading" id="create-proceduresee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>
</li><li><a href="https://mariadb.com/kb/en/stored-procedure-overview/">Stored Procedure Overview</a>
</li><li><a href="#alter-procedure">ALTER PROCEDURE</a>
</li><li><a href="#drop-procedure">DROP PROCEDURE</a>
</li><li><a href="#show-create-procedure">SHOW CREATE PROCEDURE</a>
</li><li><a href="#show-procedure-status">SHOW PROCEDURE STATUS</a>
</li><li><a href="https://mariadb.com/kb/en/stored-routine-privileges/">Stored Routine Privileges</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-routines-table/">Information Schema ROUTINES Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_union">ST_UNION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_UNION(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a geometry that is the union of the geometry <em><code>g1</code></em> and geometry <em><code>g2</code></em>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POINT (0 2)'</span><span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POINT (2 0)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ASTEXT</span><span class="p">(</span><span class="n">ST_UNION</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">));</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="n">ASTEXT</span><span class="p">(</span><span class="n">ST_UNION</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="n">MULTIPOINT</span><span class="p">(</span><span class="mi">2</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="mi">2</span><span class="p">)</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
</pre><pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POLYGON((0 0,0 3,3 3,3 0,0 0))'</span><span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POLYGON((2 2,4 2,4 4,2 4,2 2))'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ASTEXT</span><span class="p">(</span><span class="n">ST_UNION</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="n">ASTEXT</span><span class="p">(</span><span class="n">ST_UNION</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">))</span>                      <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="n">POLYGON</span><span class="p">((</span><span class="mi">0</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="mi">3</span><span class="p">,</span><span class="mi">2</span> <span class="mi">3</span><span class="p">,</span><span class="mi">2</span> <span class="mi">4</span><span class="p">,</span><span class="mi">4</span> <span class="mi">4</span><span class="p">,</span><span class="mi">4</span> <span class="mi">2</span><span class="p">,</span><span class="mi">3</span> <span class="mi">2</span><span class="p">,</span><span class="mi">3</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="mi">0</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="cache-index">CACHE INDEX</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CACHE INDEX                      
  tbl_index_list [, tbl_index_list] ...
  IN key_cache_name                    

tbl_index_list:
  tbl_name [[INDEX|KEY] (index_name[, index_name] ...)]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code class="fixed" style="white-space:pre-wrap">CACHE INDEX</code> statement assigns table indexes to a specific key
cache. It is used only for <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> tables.</p>
<p>A default key cache exists and cannot be destroyed. To create more key caches, the <a href="https://mariadb.com/kb/en/myisam-system-variables/#key_buffer_size">key_buffer_size</a> server system variable.</p>
<p>The associations between tables indexes and key caches are lost on server restart. To recreate them automatically, it is necessary to configure caches in a <a href="https://mariadb.com/kb/en/mysqld-configuration-files-and-groups/">configuration file</a> and include some <code>CACHE INDEX</code> (and optionally <code><a href="#load-index">LOAD INDEX</a></code>) statements in the init file.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<p>The following statement assigns indexes from the tables t1, t2, and t3
to the key cache named hot_cache:</p>
<pre class="fixed">CACHE INDEX t1, t2, t3 IN hot_cache;
+---------+--------------------+----------+----------+
| Table   | Op                 | Msg_type | Msg_text |
+---------+--------------------+----------+----------+
| test.t1 | assign_to_keycache | status   | OK       |
| test.t2 | assign_to_keycache | status   | OK       |
| test.t3 | assign_to_keycache | status   | OK       |
+---------+--------------------+----------+----------+
</pre><h2 class="anchored_heading" id="implementation-for-myisam">Implementation (for MyISAM)</h2>
<p>Normally CACHE INDEX should not take a long time to execute. Internally it's implemented the following way:</p>
<ul start="1"><li>Find the right key cache (under LOCK_global_system_variables)
</li><li>Open the table with a TL_READ_NO_INSERT lock.
</li><li>Flush the original key cache for the given file (under key cache lock)
</li><li>Flush the new key cache for the given file (safety)
</li><li>Move the file to the new key cache (under file share lock)
</li></ul>
<p>The only possible long operations are getting the locks for the table and flushing the original key cache, if there were many key blocks for the file in it.</p>
<p>We plan to also add CACHE INDEX for Aria tables if there is a need for this.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="flush-tables-for-export">FLUSH TABLES FOR EXPORT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="flush-tables-for-exportsyntax">Syntax</h2>
<pre class="fixed">FLUSH TABLES table_name [, table_name] FOR EXPORT
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#flush-tables-for-exportsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#flush-tables-for-exportdescription" title="Description">Description</a></li>
<li class=""><a href="#flush-tables-for-exportexample" title="Example">Example</a></li>
<li class=""><a href="#flush-tables-for-exportsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="flush-tables-for-exportdescription">Description</h2>
<p><code>FLUSH TABLES ... FOR EXPORT</code> flushes changes to the specified tables to disk so that binary copies can be made while the server is still running. This works for <a href="https://mariadb.com/kb/en/archive/">Archive</a>, <a href="https://mariadb.com/kb/en/aria/">Aria</a>, <a href="https://mariadb.com/kb/en/csv/">CSV</a>, <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>, <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a>, <a href="#merge">MERGE</a>, and <a href="https://mariadb.com/kb/en/xtradb/">XtraDB</a> tables.</p>
<p>The table is read locked until one has issued <a href="https://mariadb.com/kb/en/lock-tables-and-unlock-tables/">UNLOCK TABLES</a>.</p>
<p>If a storage engine does not support <code>FLUSH TABLES FOR EXPORT</code>, a 1031 error (<a href="https://mariadb.com/kb/en/sqlstate/">SQLSTATE</a> 'HY000') is produced.</p>
<p>If <code>FLUSH TABLES ... FOR EXPORT</code> is in effect in the session, the following statements will produce an error if attempted:</p>
<ul start="1"><li><code>FLUSH TABLES WITH READ LOCK</code>
</li><li><code>FLUSH TABLES ... WITH READ LOCK</code>
</li><li><code>FLUSH TABLES ... FOR EXPORT</code>
</li><li>Any statement trying to update any table
</li></ul>
<p>If any of the following statements is in effect in the session, attempting <code> FLUSH TABLES ... FOR EXPORT</code> will produce an error.</p>
<ul start="1"><li><code>FLUSH TABLES ... WITH READ LOCK</code>
</li><li><code>FLUSH TABLES ... FOR EXPORT</code>
</li><li><code>LOCK TABLES ... READ</code>
</li><li><code>LOCK TABLES ... WRITE</code>
</li></ul>
<p><code>FLUSH FOR EXPORT</code> is not written to the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>.</p>
<p>This statement requires the <a ">RELOAD</a> and the <a ">LOCK TABLES</a> privileges.</p>
<p>If one of the specified tables cannot be locked, none of the tables will be locked.</p>
<p>If a table does not exist, an error like the following will be produced:</p>
<pre class="fixed">ERROR 1146 (42S02): Table 'test.xxx' doesn't exist
</pre><p>If a table is a view, an error like the following will be produced:</p>
<pre class="fixed">ERROR 1347 (HY000): 'test.v' is not BASE TABLE
</pre><h2 class="anchored_heading" id="flush-tables-for-exportexample">Example</h2>
<pre class="fixed">FLUSH TABLES test.t1 FOR EXPORT;
#  Copy files related to the table (see below)
UNLOCK TABLES;
</pre><p>For a full description, please see <a href="https://mariadb.com/kb/en/copying-tables-between-different-mariadb-databases-and-mariadb-servers/">copying MariaDB tables</a>.</p>
<h2 class="anchored_heading" id="flush-tables-for-exportsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/copying-tables-between-different-mariadb-databases-and-mariadb-servers/">Copying Tables Between Different MariaDB Databases and MariaDB Servers</a>
</li><li><a href="https://mariadb.com/kb/en/innodb-file-per-table-tablespaces/#copying-transportable-tablespaces">Copying Transportable InnoDB Tablespaces</a>
</li><li><a href="https://mariadb.com/kb/en/myisampack/">myisampack</a>  - Compressing the MyISAM data file for easier distribution.
</li><li><a href="https://mariadb.com/kb/en/aria_pack/">aria_pack</a> - Compressing the Aria data file for easier distribution</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="help-command">HELP Command</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed"><span class="n">HELP</span> <span class="n">search_string</span>
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code>HELP</code> command can be used in any MariaDB client, such as the <a href="https://mariadb.com/kb/en/mysql-command-line-client/">mysql</a> command-line client, to get basic syntax help and a short description for most commands and functions. </p>
<p>If you provide an argument to the <code>HELP</code> command, the <a href="https://mariadb.com/kb/en/mysql-command-line-client/">mysql</a> client uses it as a search string to access server-side help. The proper operation of this command requires that the help tables in the <code>mysql</code> database be initialized with help topic information.</p>
<p>If there is no match for the search string, the search fails. Use <code>HELP contents</code> to see a list of the help categories:</p>
<pre class="fixed">HELP contents
You asked for help about help category: "Contents"
For more information, type 'help &lt;item&gt;', where &lt;item&gt; is one of the following
categories:
   Account Management
   Administration
   Compound Statements
   Data Definition
   Data Manipulation
   Data Types
   Functions
   Functions and Modifiers for Use with GROUP BY
   Geographic Features
   Help Metadata
   Language Structure
   Plugins
   Procedures
   Sequences
   Table Maintenance
   Transactions
   User-Defined Functions
   Utility
</pre><p>If a search string matches multiple items, MariaDB shows a list of matching topics:</p>
<pre class="fixed">HELP drop
Many help items for your request exist.
To make a more specific request, please type 'help &lt;item&gt;',
where &lt;item&gt; is one of the following
topics:
   ALTER TABLE
   DROP DATABASE
   DROP EVENT
   DROP FUNCTION
   DROP FUNCTION UDF
   DROP INDEX
   DROP PACKAGE
   DROP PACKAGE BODY
   DROP PROCEDURE
   DROP ROLE
   DROP SEQUENCE
   DROP SERVER
   DROP TABLE
   DROP TRIGGER
   DROP USER
   DROP VIEW
</pre><p>Then you can enter a topic as the search string to see the help entry for that topic.</p>
<p>The help is provided with the MariaDB server and makes use of four help tables found in the <code>mysql</code> database: <a href="https://mariadb.com/kb/en/mysqlhelp_relation-table/">help_relation</a>, <a href="https://mariadb.com/kb/en/mysqlhelp_topic-table/">help_topic</a>, <a href="https://mariadb.com/kb/en/mysqlhelp_category-table/">help_category</a> and <a href="https://mariadb.com/kb/en/mysqlhelp_keyword-table/">help_keyword</a>. These tables are populated by the <code>mysql_install_db</code> or <code>fill_help_table.sql</code> scripts which, until <a href="https://mariadb.com/kb/en/mariadb-1047-release-notes/">MariaDB 10.4.7</a>, contain data generated from an old version of MySQL.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-table">CREATE TABLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="create-tablesyntax">Syntax</h2>
<pre class="highlight fixed"><p>CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS] tbl_name
    (<a href="#create-tablecolumn-definitions">create_definition</a>,...) <code>[</code><a href="#create-tabletable-options">table_options</a>    <code>]</code>... <code>[</code><a href="#create-tablepartitions">partition_options</a><code>]</code>
CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS] tbl_name
    [(<a href="#create-tablecolumn-definitions">create_definition</a>,...)] <code>[</code><a href="#create-tabletable-options">table_options</a>   <code>]</code>... <code>[</code><a href="#create-tablepartitions">partition_options</a><code>]</code>
    select_statement
CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS] tbl_name
   { LIKE old_table_name | (LIKE old_table_name) }</p>
<p>select_statement:
    [IGNORE | REPLACE] [AS] SELECT ...   (Some legal select statement)</p></pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#create-tablesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#create-tabledescription" title="Description">Description</a></li>
<li class=""><a href="#create-tableprivileges" title="Privileges">Privileges</a></li>
<li class=""><a href="#create-tablecreate-or-replace" title="CREATE OR REPLACE">CREATE OR REPLACE</a> <ol class="toc">
<li class=""><a href="#create-tablethings-to-be-aware-of-with-create-or-replace" title="Things to be Aware of With CREATE OR REPLACE">Things to be Aware of With CREATE OR REPLACE</a> </li></ol>
</li>
<li class=""><a href="#create-tablecreate-table-if-not-exists" title="CREATE TABLE IF NOT EXISTS">CREATE TABLE IF NOT EXISTS</a></li>
<li class=""><a href="#create-tablecreate-temporary-table" title="CREATE TEMPORARY TABLE">CREATE TEMPORARY TABLE</a></li>
<li class=""><a href="#create-tablecreate-table-like" title="CREATE TABLE ... LIKE">CREATE TABLE ... LIKE</a></li>
<li class=""><a href="#create-tablecreate-table-select" title="CREATE TABLE ... SELECT">CREATE TABLE ... SELECT</a></li>
<li class=""><a href="#create-tablecolumn-definitions" title="Column Definitions">Column Definitions</a> <ol class="toc">
<li class=""><a href="#create-tablenull-and-not-null" title="NULL and NOT NULL">NULL and NOT NULL</a></li>
<li class=""><a href="#create-tabledefault-column-option" title="DEFAULT Column Option">DEFAULT Column Option</a></li>
<li class=""><a href="#create-tableauto_increment-column-option" title="AUTO_INCREMENT Column Option">AUTO_INCREMENT Column Option</a></li>
<li class=""><a href="#create-tablezerofill-column-option" title="ZEROFILL Column Option">ZEROFILL Column Option</a></li>
<li class=""><a href="#create-tableprimary-key-column-option" title="PRIMARY KEY Column Option">PRIMARY KEY Column Option</a></li>
<li class=""><a href="#create-tableunique-key-column-option" title="UNIQUE KEY Column Option">UNIQUE KEY Column Option</a></li>
<li class=""><a href="#create-tablecomment-column-option" title="COMMENT Column Option">COMMENT Column Option</a></li>
<li class=""><a href="#create-tableref_system_id" title="REF_SYSTEM_ID">REF_SYSTEM_ID</a></li>
<li class=""><a href="#create-tablegenerated-columns" title="Generated Columns">Generated Columns</a></li>
<li class=""><a href="#create-tablecompressed" title="COMPRESSED">COMPRESSED</a></li>
<li class=""><a href="#create-tableinvisible" title="INVISIBLE">INVISIBLE</a></li>
<li class=""><a href="#create-tablewith-system-versioning-column-option" title="WITH SYSTEM VERSIONING Column Option">WITH SYSTEM VERSIONING Column Option</a></li>
<li class=""><a href="#create-tablewithout-system-versioning-column-option" title="WITHOUT SYSTEM VERSIONING Column Option">WITHOUT SYSTEM VERSIONING Column Option</a> </li></ol>
</li>
<li class=""><a href="#create-tableindex-definitions" title="Index Definitions">Index Definitions</a> <ol class="toc">
<li class=""><a href="#create-tableindex-categories" title="Index Categories">Index Categories</a> <ol class="toc">
<li class=""><a href="#create-tableplain-indexes" title="Plain Indexes">Plain Indexes</a></li>
<li class=""><a href="#create-tableprimary-key" title="PRIMARY KEY">PRIMARY KEY</a></li>
<li class=""><a href="#create-tableunique" title="UNIQUE">UNIQUE</a></li>
<li class=""><a href="#create-tableforeign-key" title="FOREIGN KEY">FOREIGN KEY</a></li>
<li class=""><a href="#create-tablefulltext" title="FULLTEXT">FULLTEXT</a></li>
<li class=""><a href="#create-tablespatial" title="SPATIAL">SPATIAL</a> </li></ol>
</li>
<li class=""><a href="#create-tableindex-options" title="Index Options">Index Options</a> <ol class="toc">
<li class=""><a href="#create-tablekey_block_size-index-option" title="KEY_BLOCK_SIZE Index Option">KEY_BLOCK_SIZE Index Option</a></li>
<li class=""><a href="#create-tableindex-types" title="Index Types">Index Types</a></li>
<li class=""><a href="#create-tablewith-parser-index-option" title="WITH PARSER Index Option">WITH PARSER Index Option</a></li>
<li class=""><a href="#create-tablecomment-index-option" title="COMMENT Index Option">COMMENT Index Option</a></li>
<li class=""><a href="#create-tableclustering-index-option" title="CLUSTERING Index Option">CLUSTERING Index Option</a></li>
<li class=""><a href="#create-tableignored-not-ignored" title="IGNORED / NOT IGNORED">IGNORED / NOT IGNORED</a> </li></ol>
</li></ol>
</li>
<li class=""><a href="#create-tableperiods" title="Periods">Periods</a></li>
<li class=""><a href="#create-tableconstraint-expressions" title="Constraint Expressions">Constraint Expressions</a></li>
<li class=""><a href="#create-tabletable-options" title="Table Options">Table Options</a> <ol class="toc">
<li class=""><a href="#create-tablestorage-engine" title="[STORAGE] ENGINE">[STORAGE] ENGINE</a></li>
<li class=""><a href="#create-tableauto_increment" title="AUTO_INCREMENT">AUTO_INCREMENT</a></li>
<li class=""><a href="#create-tableavg_row_length" title="AVG_ROW_LENGTH">AVG_ROW_LENGTH</a></li>
<li class=""><a href="#create-tabledefault-character-setcharset" title="[DEFAULT] CHARACTER SET/CHARSET">[DEFAULT] CHARACTER SET/CHARSET</a></li>
<li class=""><a href="#create-tablechecksumtable_checksum" title="CHECKSUM/TABLE_CHECKSUM">CHECKSUM/TABLE_CHECKSUM</a></li>
<li class=""><a href="#create-tabledefault-collate" title="[DEFAULT] COLLATE">[DEFAULT] COLLATE</a></li>
<li class=""><a href="#create-tablecomment" title="COMMENT">COMMENT</a></li>
<li class=""><a href="#create-tableconnection" title="CONNECTION">CONNECTION</a></li>
<li class=""><a href="#create-tabledata-directoryindex-directory" title="DATA DIRECTORY/INDEX DIRECTORY">DATA DIRECTORY/INDEX DIRECTORY</a></li>
<li class=""><a href="#create-tabledelay_key_write" title="DELAY_KEY_WRITE">DELAY_KEY_WRITE</a></li>
<li class=""><a href="#create-tableencrypted" title="ENCRYPTED">ENCRYPTED</a></li>
<li class=""><a href="#create-tableencryption_key_id" title="ENCRYPTION_KEY_ID">ENCRYPTION_KEY_ID</a></li>
<li class=""><a href="#create-tableietf_quotes" title="IETF_QUOTES">IETF_QUOTES</a></li>
<li class=""><a href="#create-tableinsert_method" title="INSERT_METHOD">INSERT_METHOD</a></li>
<li class=""><a href="#create-tablekey_block_size" title="KEY_BLOCK_SIZE">KEY_BLOCK_SIZE</a></li>
<li class=""><a href="#create-tablemin_rowsmax_rows" title="MIN_ROWS/MAX_ROWS">MIN_ROWS/MAX_ROWS</a></li>
<li class=""><a href="#create-tablepack_keys" title="PACK_KEYS">PACK_KEYS</a></li>
<li class=""><a href="#create-tablepage_checksum" title="PAGE_CHECKSUM">PAGE_CHECKSUM</a></li>
<li class=""><a href="#create-tablepage_compressed" title="PAGE_COMPRESSED">PAGE_COMPRESSED</a></li>
<li class=""><a href="#create-tablepage_compression_level" title="PAGE_COMPRESSION_LEVEL">PAGE_COMPRESSION_LEVEL</a></li>
<li class=""><a href="#create-tablepassword" title="PASSWORD">PASSWORD</a></li>
<li class=""><a href="#create-tableraid_type" title="RAID_TYPE">RAID_TYPE</a></li>
<li class=""><a href="#create-tablerow_format" title="ROW_FORMAT">ROW_FORMAT</a> <ol class="toc">
<li class=""><a href="#create-tablesupported-myisam-row-formats" title="Supported MyISAM Row Formats">Supported MyISAM Row Formats</a></li>
<li class=""><a href="#create-tablesupported-aria-row-formats" title="Supported Aria Row Formats">Supported Aria Row Formats</a></li>
<li class=""><a href="#create-tablesupported-innodb-row-formats" title="Supported InnoDB Row Formats">Supported InnoDB Row Formats</a></li>
<li class=""><a href="#create-tableother-storage-engines-and-row_format" title="Other Storage Engines and ROW_FORMAT">Other Storage Engines and ROW_FORMAT</a> </li></ol>
</li>
<li class=""><a href="#create-tablesequence" title="SEQUENCE">SEQUENCE</a></li>
<li class=""><a href="#create-tablestats_auto_recalc" title="STATS_AUTO_RECALC">STATS_AUTO_RECALC</a></li>
<li class=""><a href="#create-tablestats_persistent" title="STATS_PERSISTENT">STATS_PERSISTENT</a></li>
<li class=""><a href="#create-tablestats_sample_pages" title="STATS_SAMPLE_PAGES">STATS_SAMPLE_PAGES</a></li>
<li class=""><a href="#create-tabletransactional" title="TRANSACTIONAL">TRANSACTIONAL</a></li>
<li class=""><a href="#create-tableunion" title="UNION">UNION</a></li>
<li class=""><a href="#create-tablewith-system-versioning" title="WITH SYSTEM VERSIONING">WITH SYSTEM VERSIONING</a> </li></ol>
</li>
<li class=""><a href="#create-tablepartitions" title="Partitions">Partitions</a></li>
<li class=""><a href="#create-tablesequences" title="Sequences">Sequences</a></li>
<li class=""><a href="#create-tableatomic-ddl" title="Atomic DDL">Atomic DDL</a></li>
<li class=""><a href="#create-tableexamples" title="Examples">Examples</a></li>
<li class=""><a href="#create-tablesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-tabledescription">Description</h2>
<p>Use the <code>CREATE TABLE</code> statement to create a table with the given name.</p>
<p>In its most basic form, the <code>CREATE TABLE</code> statement provides a table name
followed by a list of columns, indexes, and constraints. By default, the table
is created in the default database. Specify a database with <code><em>db_name</em>.<em>tbl_name</em></code>.
If you quote the table name, you must quote the database name and table name
separately as <code>`<em>db_name</em>`.`<em>tbl_name</em>`</code>. This is particularly useful for <a href="#create-tablecreate-table-select">CREATE TABLE ... SELECT</a>, because it allows to create a table into a database, which contains data from other databases. See <a href="https://mariadb.com/kb/en/identifier-qualifiers/">Identifier Qualifiers</a>.</p>
<p>If a table with the same name exists, error 1050 results. Use <a href="#create-tablecreate-table-if-not-exists">IF NOT EXISTS</a>
to suppress this error and issue a note instead. Use <a href="#show-warnings">SHOW WARNINGS</a>
to see notes.</p>
<p>The <code>CREATE TABLE</code> statement automatically commits the current transaction,
except when using the <a href="#create-tablecreate-temporary-table">TEMPORARY</a> keyword.</p>
<p>For valid identifiers to use as table names, see <a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>.</p>
<div class="cstm-style greenbox"><p><strong>Note:</strong> if the default_storage_engine is set to ColumnStore then it needs setting on all UMs. Otherwise when the tables using the default engine are replicated across UMs they will use the wrong engine. You should therefore not use this option as a session variable with ColumnStore.</p>
</div><p><a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microsecond precision</a> can be between 0-6. If no precision is specified it is assumed to be 0, for backward compatibility reasons.</p>
<h2 class="anchored_heading" id="create-tableprivileges">Privileges</h2>
<p>Executing the <code>CREATE TABLE</code> statement requires the <a ">CREATE</a> privilege for the table or the database.</p>
<h2 class="anchored_heading" id="create-tablecreate-or-replace">CREATE OR REPLACE</h2>
<p>If the <code>OR REPLACE</code> clause is used and the table already exists, then instead of returning an error, the server will drop the existing table and replace it with the newly defined table.</p>
<p>This syntax was originally added to make <a href="https://mariadb.com/kb/en/replication/">replication</a> more robust if it has to rollback and repeat statements such as <code>CREATE ... SELECT</code> on replicas.</p>
<pre class="fixed">CREATE OR REPLACE TABLE table_name (a int);
</pre><p>is basically the same as:</p>
<pre class="fixed">DROP TABLE IF EXISTS table_name;
CREATE TABLE table_name (a int);
</pre><p>with the following exceptions:</p>
<ul start="1"><li>If <code class="highlight fixed" style="white-space:pre-wrap">table_name</code> was locked with <a href="https://mariadb.com/kb/en/lock-tables-and-unlock-tables/">LOCK TABLES</a> it will continue to be locked after the statement.
</li><li>Temporary tables are only dropped if the <code class="highlight fixed" style="white-space:pre-wrap">TEMPORARY</code> keyword was used.  (With <a href="#drop-table">DROP TABLE</a>,  temporary tables are preferred to be dropped before normal tables).
</li></ul>
<h3 class="anchored_heading" id="create-tablethings-to-be-aware-of-with-create-or-replace">Things to be Aware of With CREATE OR REPLACE</h3>
<ul start="1"><li>The table is dropped first (if it existed), after that the <code class="highlight fixed" style="white-space:pre-wrap">CREATE</code> is done. Because of this, if the <code class="highlight fixed" style="white-space:pre-wrap">CREATE</code> fails, then the table will not exist anymore after the statement.  If the table was used with <code class="highlight fixed" style="white-space:pre-wrap">LOCK TABLES</code> it will be unlocked.
</li><li>One can't use <code class="highlight fixed" style="white-space:pre-wrap">OR REPLACE</code> together with <code class="highlight fixed" style="white-space:pre-wrap">IF EXISTS</code>.
</li><li>Slaves in replication will by default use <code class="highlight fixed" style="white-space:pre-wrap">CREATE OR REPLACE</code> when replicating <code class="highlight fixed" style="white-space:pre-wrap">CREATE</code> statements that don''t use <code class="highlight fixed" style="white-space:pre-wrap">IF EXISTS</code>. This can be changed by setting the variable <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#slave_ddl_exec_mode">slave-ddl-exec-mode</a> to <code class="highlight fixed" style="white-space:pre-wrap">STRICT</code>.
</li></ul>
<h2 class="anchored_heading" id="create-tablecreate-table-if-not-exists">CREATE TABLE IF NOT EXISTS</h2>
<p>If the <code>IF NOT EXISTS</code> clause is used, then the table will only be created if a table with the same name does not already exist. If the table already exists, then a warning will be triggered by default.</p>
<h2 class="anchored_heading" id="create-tablecreate-temporary-table">CREATE TEMPORARY TABLE</h2>
<p>Use the <code>TEMPORARY</code> keyword to create a temporary table that is only available to the current session. Temporary tables are dropped when the session ends. Temporary table names are specific to the session. They will not conflict with other temporary tables from other sessions even if they share the same name. They will shadow names of non-temporary tables or views, if they are identical. A temporary table can have the same name as a non-temporary table which is located in the same database. In that case, their name will reference the temporary table when used in SQL statements. You must have the <a ">CREATE TEMPORARY TABLES</a> privilege on the database to create temporary tables. If no storage engine is specified, the <a href="https://mariadb.com/kb/en/server-system-variables/#default_tmp_storage_engine">default_tmp_storage_engine</a> setting will determine the engine.</p>
<p><a href="https://mariadb.com/kb/en/myrocks/">ROCKSDB</a> temporary tables cannot be created by setting the <a href="https://mariadb.com/kb/en/server-system-variables/#default_tmp_storage_engine">default_tmp_storage_engine</a> system variable, or using <code>CREATE TEMPORARY TABLE LIKE</code>. Before <a href="https://mariadb.com/kb/en/what-is-mariadb-107/">MariaDB 10.7</a>, they could be specified, but would silently fail, and a MyISAM table would be created instead. From <a href="https://mariadb.com/kb/en/what-is-mariadb-107/">MariaDB 10.7</a> an error is returned. Explicitly creating a temporary table with <code>ENGINE=ROCKSDB</code> has never been permitted.</p>
<h2 class="anchored_heading" id="create-tablecreate-table-like">CREATE TABLE ... LIKE</h2>
<p>Use the <code>LIKE</code> clause instead of a full table definition to create a table with the same definition as another table, including columns, indexes, and table options. Foreign key definitions, as well as any DATA DIRECTORY or INDEX DIRECTORY table options specified on the original table, will not be created.</p>
<h2 class="anchored_heading" id="create-tablecreate-table-select">CREATE TABLE ... SELECT</h2>
<p>You can create a table containing data from other tables using the <code>CREATE ... SELECT</code> statement. Columns will be created in the table for each field returned by the <code>SELECT</code> query.</p>
<p>You can also define some columns normally and add other columns from a <code>SELECT</code>. You can also create columns in the normal way and assign them some values using the query, this is done to force a certain type or other field characteristics. The columns that are not named in the query will be placed before the others. For example:</p>
<pre class="fixed">CREATE TABLE test (a INT NOT NULL, b CHAR(10)) ENGINE=MyISAM
    SELECT 5 AS b, c, d FROM another_table;
</pre><p>Remember that the query just returns data. If you want to use the same indexes, or the same columns attributes (<code>[NOT] NULL</code>, <code>DEFAULT</code>, <code>AUTO_INCREMENT</code>) in the new table, you need to specify them manually. Types and sizes are not automatically preserved if no data returned by the <code>SELECT</code> requires the full size, and <code>VARCHAR</code> could be converted into <code>CHAR</code>. The <a href="#cast">CAST()</a> function can be used to forcee the new table to use certain types.</p>
<p>Aliases (<code>AS</code>) are taken into account, and they should always be used when you <code>SELECT</code> an expression (function, arithmetical operation, etc).</p>
<p>If an error occurs during the query, the table will not be created at all.</p>
<p>If the new table has a primary key or <code>UNIQUE</code> indexes, you can use the <a href="#ignore">IGNORE</a> or <code>REPLACE</code> keywords to handle duplicate key errors during the query. <code>IGNORE</code> means that the newer values must not be inserted an identical value exists in the index. <code>REPLACE</code> means that older values must be overwritten.</p>
<p>If the columns in the new table are more than the rows returned by the query, the columns populated by the query will be placed after other columns. Note that if the strict <code>SQL_MODE</code> is on, and the columns that are not names in the query do not have a <code>DEFAULT</code> value, an error will raise and no rows will be copied.</p>
<p><a href="#concurrent-inserts">Concurrent inserts</a> are not used during the execution of a <code>CREATE ... SELECT</code>.</p>
<p>If the table already exists, an error similar to the following will be returned:</p>
<pre class="fixed">ERROR 1050 (42S01): Table 't' already exists
</pre><p>If the <code>IF NOT EXISTS</code> clause is used and the table exists, a note will be produced instead of an error.</p>
<p>To insert rows from a query into an existing table, <a href="#insert-select">INSERT ... SELECT</a> can be used.</p>
<h2 class="anchored_heading" id="create-tablecolumn-definitions">Column Definitions</h2>
<pre class="highlight fixed"><p>create_definition:
  { col_name column_definition <code>|</code> <a href="#create-tableindex-definitions">index_definition</a> <code>|</code> <a href="#create-tableperiods">period_definition</a> <code>|</code> CHECK (expr) }</p>
<p>column_definition:
  <a href="https://mariadb.com/kb/en/data-types/">data_type</a>
    [NOT NULL | NULL] [DEFAULT default_value | (expression)]
    [ON UPDATE [NOW | CURRENT_TIMESTAMP] [(precision)]]
    [AUTO_INCREMENT] [ZEROFILL] [UNIQUE [KEY] | [PRIMARY] KEY]
    [INVISIBLE] [{WITH|WITHOUT} SYSTEM VERSIONING]
    [COMMENT 'string'] [REF_SYSTEM_ID = value]
    <code>[</code><a href="#create-tableindex-definitions">reference_definition</a><code>]</code>
  <code>|</code> <a href="https://mariadb.com/kb/en/data-types/">data_type</a> [GENERATED ALWAYS] 
  AS { { ROW {START<code>|</code>END} } | { (expression) [VIRTUAL | PERSISTENT | STORED] } }
      [UNIQUE [KEY]] [COMMENT 'string']</p>
<p>constraint_definition:
   CONSTRAINT [constraint_name] CHECK (expression)</p></pre><div class="cstm-style greenbox"><p><strong>Note:</strong> Until <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>, MariaDB accepts the shortcut format with a REFERENCES clause only in ALTER TABLE and CREATE TABLE statements, but that syntax does nothing. For example:</p>
<pre class="fixed">CREATE TABLE b(for_key INT REFERENCES a(not_key));
</pre><p>MariaDB simply parses it without returning any error or warning, for compatibility with other DBMS's. Before <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a> this was also true for <code>CHECK</code> constraints. However, only the syntax described below creates foreign keys.</p>
<p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a>, MariaDB will attempt to apply the constraint. See <a href="https://mariadb.com/kb/en/foreign-keys/#references">Foreign Keys examples</a>.</p>
</div><p>Each definition either creates a column in the table or specifies and index or
constraint on one or more columns. See <a href="#create-tableindexes">Indexes</a> below for details
on creating indexes.</p>
<p>Create a column by specifying a column name and a data type, optionally
followed by column options. See <a href="https://mariadb.com/kb/en/data-types/">Data Types</a> for a full list
of data types allowed in MariaDB.</p>
<h3 class="anchored_heading" id="create-tablenull-and-not-null">NULL and NOT NULL</h3>
<p>Use the <code>NULL</code> or <code>NOT NULL</code> options to specify that values in the column
may or may not be <code>NULL</code>, respectively. By default, values may be <code>NULL</code>. See also <a href="https://mariadb.com/kb/en/null-values-in-mariadb/">NULL Values in MariaDB</a>.</p>
<h3 class="anchored_heading" id="create-tabledefault-column-option">DEFAULT Column Option</h3>
<div class="mariadb_from_10_2_1 mariadb from_10_2_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">10.2.1</a></h5><p>The <code>DEFAULT</code> clause was enhanced in <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a>. Some enhancements include</p>
<ul start="1"><li><a href="#blob">BLOB</a> and <a href="#text">TEXT</a> columns now support <code>DEFAULT</code>.
</li><li>The <code>DEFAULT</code> clause can now be used with an expression or function.
</li></ul>
</div><p>Specify a default value using the <code>DEFAULT</code> clause. If you don't specify <code>DEFAULT</code> then the following rules apply:</p>
<ul start="1"><li>If the column is not defined with <code>NOT NULL</code>, <code>AUTO_INCREMENT</code> or <code>TIMESTAMP</code>, an explicit <code>DEFAULT NULL</code> will be added.
Note that in MySQL and in MariaDB before 10.1.6, you may get an explicit <code>DEFAULT</code> for primary key parts, if not specified with NOT NULL.
</li></ul>
<p>The default value will be used if you <a href="#insert">INSERT</a> a row without specifying a value for that column, or if you specify <a href="#default">DEFAULT</a> for that column.
Before <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a> you couldn't usually provide an expression or function to evaluate at
insertion time. You had to provide a constant default value instead. The one
exception is that you may use <a href="#now">CURRENT_TIMESTAMP</a> as
the default value for a <a href="#timestamp">TIMESTAMP</a> column to use the current
timestamp at insertion time.</p>
<p><a href="#now">CURRENT_TIMESTAMP</a> may also be used as
the default value for a <a href="#datetime">DATETIME</a></p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a> you can use most functions in <code>DEFAULT</code>.  Expressions should have parentheses around them. If you use a non deterministic function in <code>DEFAULT</code> then all inserts to the table will be <a href="https://mariadb.com/kb/en/replication/">replicated</a> in <a href="https://mariadb.com/kb/en/binary-log-formats/#row-based">row mode</a>. You can even refer to earlier columns in the <code>DEFAULT</code> expression (excluding <code>AUTO_INCREMENT</code> columns):</p>
<pre class="fixed">CREATE TABLE t1 (a int DEFAULT (1+1), b int DEFAULT (a+1));
CREATE TABLE t2 (a bigint primary key DEFAULT UUID_SHORT());
</pre><p>The <code>DEFAULT</code> clause cannot contain any <a href="https://mariadb.com/kb/en/stored-functions/">stored functions</a> or <a href="https://mariadb.com/kb/en/subqueries/">subqueries</a>, and a column used in the clause must already have been defined earlier in the statement.</p>
<p>Since <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a>, it is possible to assign <a href="#blob">BLOB</a> or <a href="#text">TEXT</a> columns a <code>DEFAULT</code> value. In earlier versions, assigning a default to these columns was not possible.</p>
<div class="mariadb_from_10_3_3 mariadb from_10_3_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">10.3.3</a></h5><p>Starting from 10.3.3 you can also use DEFAULT (<a href="#next-value-for-sequence_name">NEXT VALUE FOR sequence</a>)</p>
</div><h3 class="anchored_heading" id="create-tableauto_increment-column-option">AUTO_INCREMENT Column Option</h3>
<p>Use <a href="#auto_increment">AUTO_INCREMENT</a> to create a column whose value can
can be set automatically from a simple counter. You can only use <code>AUTO_INCREMENT</code>
on a column with an integer type. The column must be a key, and there can only be
one <code>AUTO_INCREMENT</code> column in a table. If you insert a row without specifying
a value for that column (or if you specify <code>0</code>, <code>NULL</code>, or <a href="#default">DEFAULT</a>
as the value), the actual value will be taken from the counter, with each insertion
incrementing the counter by one. You can still insert a value explicitly. If you
insert a value that is greater than the current counter value, the counter is
set based on the new value. An <code>AUTO_INCREMENT</code> column is implicitly <code>NOT NULL</code>.
Use <a href="#last_insert_id">LAST_INSERT_ID</a> to get the <a href="#auto_increment">AUTO_INCREMENT</a> value
most recently used by an <a href="#insert">INSERT</a> statement.</p>
<h3 class="anchored_heading" id="create-tablezerofill-column-option">ZEROFILL Column Option</h3>
<p>If the <code>ZEROFILL</code> column option is specified for a column using a <a href="#numeric-data-type-overview">numeric</a> data type, then the column will be set to <code>UNSIGNED</code> and the spaces used by default to pad the field are replaced with zeros. <code>ZEROFILL</code> is ignored in expressions or as part of a <a href="#union">UNION</a>. <code>ZEROFILL</code> is a non-standard MySQL and MariaDB enhancement.</p>
<h3 class="anchored_heading" id="create-tableprimary-key-column-option">PRIMARY KEY Column Option</h3>
<p>Use <code>PRIMARY KEY</code> to make a column a primary key. A primary key is a special type of a unique key. There can be at most one primary key per table, and it is implicitly <code>NOT NULL</code>.</p>
<p>Specifying a column as a unique key creates a unique index on that column. See the <a href="#create-tableindex-definitions">Index Definitions</a> section below for more information.</p>
<h3 class="anchored_heading" id="create-tableunique-key-column-option">UNIQUE KEY Column Option</h3>
<p>Use <code>UNIQUE KEY</code> (or just <code>UNIQUE</code>) to specify that all values in the column
must be distinct from each other. Unless the column is <code>NOT NULL</code>, there may be
multiple rows with <code>NULL</code> in the column. </p>
<p>Specifying a column as a unique key creates a unique index on that column. See the <a href="#create-tableindex-definitions">Index Definitions</a> section below for more information.</p>
<h3 class="anchored_heading" id="create-tablecomment-column-option">COMMENT Column Option</h3>
<p>You can provide a comment for each column using the <code>COMMENT</code> clause. The maximum length is 1024 characters. Use
the <a href="#show-columns">SHOW FULL COLUMNS</a> statement to see column comments.</p>
<h3 class="anchored_heading" id="create-tableref_system_id">REF_SYSTEM_ID</h3>
<p><code>REF_SYSTEM_ID</code> can be used to specify Spatial Reference System IDs for spatial data type columns.</p>
<h3 class="anchored_heading" id="create-tablegenerated-columns">Generated Columns</h3>
<p>A generated column is a column in a table that cannot explicitly be set to a specific value in a <a href="https://mariadb.com/kb/en/data-manipulation/">DML query</a>. Instead, its value is automatically generated based on an expression. This expression might generate the value based on the values of other columns in the table, or it might generate the value by calling <a href="https://mariadb.com/kb/en/built-in-functions/">built-in functions</a> or <a href="https://mariadb.com/kb/en/user-defined-functions/">user-defined functions (UDFs)</a>.</p>
<p>There are two types of generated columns:</p>
<ul start="1"><li><code>PERSISTENT</code> or <code>STORED</code>: This type's value is actually stored in the table.
</li><li><code>VIRTUAL</code>: This type's value is not stored at all. Instead, the value is generated dynamically when the table is queried. This type is the default.
</li></ul>
<p>Generated columns are also sometimes called computed columns or virtual columns.</p>
<p>For a complete description about generated columns and their limitations, see <a href="https://mariadb.com/kb/en/generated-columns/">Generated (Virtual and Persistent/Stored) Columns</a>.</p>
<h3 class="anchored_heading" id="create-tablecompressed">COMPRESSED</h3>
<div class="mariadb_from_10_3_3 mariadb from_10_3_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">10.3.3</a></h5><p>Certain columns may be compressed. See <a href="https://mariadb.com/kb/en/storage-engine-independent-column-compression/">Storage-Engine Independent Column Compression</a>.</p>
</div><h3 class="anchored_heading" id="create-tableinvisible">INVISIBLE</h3>
<div class="mariadb_from_10_3_3 mariadb from_10_3_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">10.3.3</a></h5><p>Columns may be made invisible, and hidden in certain contexts. See <a href="https://mariadb.com/kb/en/invisible-columns/">Invisible Columns</a>.</p>
</div><h3 class="anchored_heading" id="create-tablewith-system-versioning-column-option">WITH SYSTEM VERSIONING Column Option</h3>
<div class="mariadb_from_10_3_4 mariadb from_10_3_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1034-release-notes/">10.3.4</a></h5><p>Columns may be explicitly marked as included from system versioning. See <a href="https://mariadb.com/kb/en/system-versioned-tables/">System-versioned tables</a> for details.</p>
</div><h3 class="anchored_heading" id="create-tablewithout-system-versioning-column-option">WITHOUT SYSTEM VERSIONING Column Option</h3>
<div class="mariadb_from_10_3_4 mariadb from_10_3_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1034-release-notes/">10.3.4</a></h5><p>Columns may be explicitly marked as excluded from system versioning. See <a href="https://mariadb.com/kb/en/system-versioned-tables/">System-versioned tables</a> for details.</p>
</div><h2 class="anchored_heading" id="create-tableindex-definitions">Index Definitions</h2>
<pre class="highlight fixed"><p>index_definition:
    {INDEX|KEY} [index_name] [index_type] (index_col_name,...) [index_option] ...
  <code>|</code> {FULLTEXT|SPATIAL} [INDEX|KEY] [index_name] (index_col_name,...) [index_option] ...
  <code>|</code> [CONSTRAINT [symbol]] PRIMARY KEY [index_type] (index_col_name,...) [index_option] ...
  <code>|</code> [CONSTRAINT [symbol]] UNIQUE [INDEX|KEY] [index_name] [index_type] (index_col_name,...) [index_option] ...
  <code>|</code> [CONSTRAINT [symbol]] FOREIGN KEY [index_name] (index_col_name,...) reference_definition</p>
<p>index_col_name:
    col_name [(length)] [ASC | DESC]</p>
<p>index_type:
    USING {BTREE | HASH | RTREE}</p>
<p>index_option:
    [ KEY_BLOCK_SIZE [=] value
  <code>|</code> index_type
  <code>|</code> WITH PARSER parser_name
  <code>|</code> COMMENT 'string'
  <code>|</code> CLUSTERING={YES| NO} ]
  [ IGNORED | NOT IGNORED ]</p>
<p>reference_definition:
    REFERENCES tbl_name (index_col_name,...)
      [MATCH FULL | MATCH PARTIAL | MATCH SIMPLE]
      [ON DELETE reference_option]
      [ON UPDATE reference_option]</p>
<p>reference_option:
    RESTRICT | CASCADE | SET NULL | NO ACTION</p></pre><p><code>INDEX</code> and <code>KEY</code> are synonyms. </p>
<p>Index names are optional, if not specified an automatic name will be assigned. Index name are needed to drop indexes and appear in error messages when a constraint is violated.</p>
<h3 class="anchored_heading" id="create-tableindex-categories">Index Categories</h3>
<h4 class="anchored_heading" id="create-tableplain-indexes">Plain Indexes</h4>
<p>Plain indexes are regular indexes that are not unique, and are not acting as a primary key or a foreign key. They are also not the "specialized" <code>FULLTEXT</code> or <code>SPATIAL</code> indexes.</p>
<p>See <a href="https://mariadb.com/kb/en/getting-started-with-indexes/#plain-indexes">Getting Started with Indexes: Plain Indexes</a> for more information.</p>
<h4 class="anchored_heading" id="create-tableprimary-key">PRIMARY KEY</h4>
<p>For <code>PRIMARY KEY</code> indexes, you can specify a name for the index, but it is ignored, and the name of the index is always <code>PRIMARY</code>. From <a href="https://mariadb.com/kb/en/mariadb-10318-release-notes/">MariaDB 10.3.18</a> and <a href="https://mariadb.com/kb/en/mariadb-1048-release-notes/">MariaDB 10.4.8</a>, a warning is explicitly issued if a name is specified. Before then, the name was silently ignored. </p>
<p>See <a href="https://mariadb.com/kb/en/getting-started-with-indexes/#primary-key">Getting Started with Indexes: Primary Key</a> for more information.</p>
<h4 class="anchored_heading" id="create-tableunique">UNIQUE</h4>
<p>The <code>UNIQUE</code> keyword means that the index will not accept duplicated values, except for NULLs. An error will raise if you try to insert duplicate values in a UNIQUE index.</p>
<p>For <code>UNIQUE</code> indexes, you can specify a name for the constraint, using the <code>CONSTRAINT</code> keyword. That name will be used in error messages.</p>
<p>See <a href="https://mariadb.com/kb/en/getting-started-with-indexes/#unique-index">Getting Started with Indexes: Unique Index</a> for more information.</p>
<h4 class="anchored_heading" id="create-tableforeign-key">FOREIGN KEY</h4>
<p>For <code>FOREIGN KEY</code> indexes, a reference definition must be provided.</p>
<p>For <code>FOREIGN KEY</code> indexes, you can specify a name for the constraint, using the <code>CONSTRAINT</code> keyword. That name will be used in error messages.</p>
<p>First, you have to specify the name of the target (parent) table and a column or a column list which must be indexed and whose values must match to the foreign key's values. The <code>MATCH</code> clause is accepted to improve the compatibility with other DBMS's, but has no meaning in MariaDB. The <code>ON DELETE</code> and <code>ON UPDATE</code> clauses specify what must be done when a <code>DELETE</code> (or a <code>REPLACE</code>) statements attempts to delete a referenced row from the parent table, and when an <code>UPDATE</code> statement attempts to modify the referenced foreign key columns in a parent table row, respectively. The following options are allowed:</p>
<ul start="1"><li><code>RESTRICT</code>: The delete/update operation is not performed.  The statement terminates with a 1451 error (SQLSTATE '2300').
</li><li><code>NO ACTION</code>: Synonym for <code>RESTRICT</code>.
</li><li><code>CASCADE</code>: The delete/update operation is performed in both tables.
</li><li><code>SET NULL</code>: The update or delete goes ahead in the parent table, and the corresponding foreign key fields in the child table are set to <code>NULL</code>.  (They must not be defined as <code>NOT NULL</code> for this to succeed).
</li><li><code>SET DEFAULT</code>: This option is currently implemented only for the PBXT storage engine, which is disabled by default and no longer maintained. It sets the child table's foreign key fields to their <code>DEFAULT</code> values when the referenced parent table key entries are updated or deleted.
</li></ul>
<p>If either clause is omitted, the default behavior for the omitted clause is <code>RESTRICT</code>.</p>
<p>See <a href="https://mariadb.com/kb/en/foreign-keys/">Foreign Keys</a> for more information.</p>
<h4 class="anchored_heading" id="create-tablefulltext">FULLTEXT</h4>
<p>Use the <code>FULLTEXT</code> keyword to create full-text indexes.</p>
<p>See <a href="https://mariadb.com/kb/en/full-text-indexes/">Full-Text Indexes</a> for more information.</p>
<h4 class="anchored_heading" id="create-tablespatial">SPATIAL</h4>
<p>Use the <code>SPATIAL</code> keyword to create geometric indexes.</p>
<p>See <a href="https://mariadb.com/kb/en/spatial-index/">SPATIAL INDEX</a> for more information.</p>
<h3 class="anchored_heading" id="create-tableindex-options">Index Options</h3>
<h4 class="anchored_heading" id="create-tablekey_block_size-index-option">KEY_BLOCK_SIZE Index Option</h4>
<p>The <code>KEY_BLOCK_SIZE</code> index option is similar to the <a href="#create-tablekey_block_size">KEY_BLOCK_SIZE</a> table option.</p>
<p>With the <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a> storage engine, if you specify a non-zero value for the <code>KEY_BLOCK_SIZE</code> table option for the whole table, then the table will implicitly be created with the <a href="#create-tablerow_format">ROW_FORMAT</a> table option set to <code>COMPRESSED</code>. However, this does not happen if you just set the <code>KEY_BLOCK_SIZE</code> index option for one or more indexes in the table. The <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a> storage engine ignores the <code>KEY_BLOCK_SIZE</code> index option. However, the <a href="#show-create-table">SHOW CREATE TABLE</a> statement may still report it for the index.</p>
<p>For information about the <code>KEY_BLOCK_SIZE</code> index option, see the <a href="#create-tablekey_block_size">KEY_BLOCK_SIZE</a> table option below.</p>
<h4 class="anchored_heading" id="create-tableindex-types">Index Types</h4>
<p>Each storage engine supports some or all index types. See <a href="https://mariadb.com/kb/en/storage-engine-index-types/">Storage Engine Index Types</a> for details on permitted index types for each storage engine.</p>
<p>Different index types are optimized for different kind of operations:</p>
<ul start="1"><li><code>BTREE</code> is the default type, and normally is the best choice. It is supported by all storage engines. It can be used to compare a column's value with a value using the =, &gt;, &gt;=, &lt;, &lt;=, <code>BETWEEN</code>, and <code>LIKE</code> operators. <code>BTREE</code> can also be used to find <code>NULL</code> values. Searches against an index prefix are possible.
</li><li><code>HASH</code> is only supported by the MEMORY storage engine. <code>HASH</code> indexes can only be used for =, &lt;=, and &gt;= comparisons. It can not be used for the <code>ORDER BY</code> clause. Searches against an index prefix are not possible.
</li><li><code>RTREE</code> is the default for <a href="https://mariadb.com/kb/en/spatial/"><code>SPATIAL</code></a> indexes, but if the storage engine does not support it <code>BTREE</code> can be used.
</li></ul>
<p>Index columns names are listed between parenthesis. After each column, a prefix length can be specified. If no length is specified, the whole column will be indexed. <code>ASC</code> and <code>DESC</code> can be specified for compatibility with are DBMS's, but have no meaning in MariaDB.</p>
<h4 class="anchored_heading" id="create-tablewith-parser-index-option">WITH PARSER Index Option</h4>
<p>The <code>WITH PARSER</code> index option only applies to <a href="https://mariadb.com/kb/en/full-text-indexes/">FULLTEXT</a> indexes and contains the fulltext parser name. The fulltext parser must be an installed plugin.</p>
<h4 class="anchored_heading" id="create-tablecomment-index-option">COMMENT Index Option</h4>
<p>A comment of up to 1024 characters is permitted with the <code>COMMENT</code> index option.</p>
<p>The <code>COMMENT</code> index option allows you to specify a comment with user-readable text describing what the index is for. This information is not used by the server itself.</p>
<h4 class="anchored_heading" id="create-tableclustering-index-option">CLUSTERING Index Option</h4>
<p>The <code>CLUSTERING</code> index option is only valid for tables using the <a href="https://mariadb.com/kb/en/tokudb/">Tokudb</a> storage engine.</p>
<h4 class="anchored_heading" id="create-tableignored-not-ignored">IGNORED / NOT IGNORED</h4>
<div class="mariadb_from_10_6_0 mariadb from_10_6_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1060-release-notes/">10.6.0</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1060-release-notes/">MariaDB 10.6.0</a>, indexes can be specified to be ignored by the optimizer. See <a href="https://mariadb.com/kb/en/ignored-indexes/">Ignored Indexes</a>.</p>
</div><h2 class="anchored_heading" id="create-tableperiods">Periods</h2>
<div class="mariadb_from_10_3_4 mariadb from_10_3_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1034-release-notes/">10.3.4</a></h5><pre class="highlight fixed"><p>period_definition:
    PERIOD FOR SYSTEM_TIME (start_column_name, end_column_name)</p></pre><p>MariaDB supports a subset of the standard syntax for periods. At the moment it's only used for creating <a href="https://mariadb.com/kb/en/system-versioned-tables/">System-versioned tables</a>. Both columns must be created, must be either of a <code>TIMESTAMP(6)</code> or <code>BIGINT UNSIGNED</code> type, and be generated as <code>ROW START</code> and <code>ROW END</code> accordingly. See <a href="https://mariadb.com/kb/en/system-versioned-tables/">System-versioned tables</a> for details.</p>
<p>The table must also have the <code>WITH SYSTEM VERSIONING</code> clause.</p>
</div><h2 class="anchored_heading" id="create-tableconstraint-expressions">Constraint Expressions</h2>
<div class="mariadb_from_10_2_1 mariadb from_10_2_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">10.2.1</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a> introduced new ways to define a constraint.</p>
</div><p>Note: Before <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a>, constraint expressions were accepted in the syntax but ignored.</p>
<p><a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a> introduced two ways to define a constraint:</p>
<ul start="1"><li><code>CHECK(expression)</code> given as part of a column definition.
</li><li><code>CONSTRAINT [constraint_name] CHECK (expression)</code>
</li></ul>
<p>Before a row is inserted or updated, all constraints are evaluated in the order they are defined. If any constraints fails, then the row will not be updated.
One can use most deterministic functions in a constraint, including <a href="https://mariadb.com/kb/en/user-defined-functions/">UDFs</a>.</p>
<pre class="fixed">create table t1 (a int check(a&gt;0) ,b int check (b&gt; 0), constraint abc check (a&gt;b));
</pre><p>If you use the second format and you don't give a name to the constraint, then the constraint will get a auto generated name. This is done so that you can later delete the constraint with <a href="#alter-table">ALTER TABLE DROP constraint_name</a>.</p>
<p>One can disable all constraint expression checks by setting the variable <code>check_constraint_checks</code> to <code>OFF</code>. This is useful for example when loading a table that violates some constraints that you want to later find and fix in SQL.</p>
<p>See <a href="#constraint">CONSTRAINT</a> for more information.</p>
<h2 class="anchored_heading" id="create-tabletable-options">Table Options</h2>
<p>For each individual table you create (or alter), you can set some table options. The general syntax for setting options is:</p>
<p> &lt;OPTION_NAME&gt; = &lt;option_value&gt;, [&lt;OPTION_NAME&gt; = &lt;option_value&gt; ...]</p>
<p>The equal sign is optional.</p>
<p>Some options are supported by the server and can be used for all tables, no matter what storage engine they use; other options can be specified for all storage engines, but have a meaning only for some engines. Also, engines can <a href="https://mariadb.com/kb/en/extending-create-table/">extend <code>CREATE TABLE</code> with new options</a>.</p>
<p>If the <code>IGNORE_BAD_TABLE_OPTIONS</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is enabled, wrong table options generate a warning; otherwise, they generate an error.</p>
<pre class="highlight fixed"><p>table_option:    
    [STORAGE] ENGINE [=] engine_name
  <code>|</code> AUTO_INCREMENT [=] value
  <code>|</code> AVG_ROW_LENGTH [=] value
  <code>|</code> [DEFAULT] CHARACTER SET [=] <a href="https://mariadb.com/kb/en/character-sets-and-collations/">charset_name</a>
  <code>|</code> CHECKSUM [=] {0 | 1}
  <code>|</code> [DEFAULT] COLLATE [=] <a href="https://mariadb.com/kb/en/character-sets-and-collations/">collation_name</a>
  <code>|</code> COMMENT [=] 'string'
  <code>|</code> CONNECTION [=] 'connect_string'
  <code>|</code> DATA DIRECTORY [=] 'absolute path to directory'
  <code>|</code> DELAY_KEY_WRITE [=] {0 | 1}
  <code>|</code> ENCRYPTED [=] {YES | NO}
  <code>|</code> ENCRYPTION_KEY_ID [=] value
  <code>|</code> IETF_QUOTES [=] {YES | NO}
  <code>|</code> INDEX DIRECTORY [=] 'absolute path to directory'
  <code>|</code> INSERT_METHOD [=] { NO | FIRST | LAST }
  <code>|</code> KEY_BLOCK_SIZE [=] value
  <code>|</code> MAX_ROWS [=] value
  <code>|</code> MIN_ROWS [=] value
  <code>|</code> PACK_KEYS [=] {0 | 1 | DEFAULT}
  <code>|</code> PAGE_CHECKSUM [=] {0 | 1}
  <code>|</code> PAGE_COMPRESSED [=] {0 | 1}
  <code>|</code> PAGE_COMPRESSION_LEVEL [=] {0 .. 9}
  <code>|</code> PASSWORD [=] 'string'
  <code>|</code> ROW_FORMAT [=] {DEFAULT|DYNAMIC|FIXED|COMPRESSED|REDUNDANT|COMPACT|PAGE}
  <code>|</code> SEQUENCE [=] {0|1}
  <code>|</code> STATS_AUTO_RECALC [=] {DEFAULT|0|1}
  <code>|</code> STATS_PERSISTENT [=] {DEFAULT|0|1}
  <code>|</code> STATS_SAMPLE_PAGES [=] {DEFAULT|value}
  <code>|</code> TABLESPACE tablespace_name
  <code>|</code> TRANSACTIONAL [=]  {0 | 1}
  <code>|</code> UNION [=] (tbl_name[,tbl_name]...)
  <code>|</code> WITH SYSTEM VERSIONING</p></pre><h3 class="anchored_heading" id="create-tablestorage-engine">[STORAGE] ENGINE</h3>
<p><code>[STORAGE] ENGINE</code> specifies a <a href="https://mariadb.com/kb/en/mariadb-storage-engines/">storage engine</a> for the table. If this option is not used, the default storage engine is used instead. That is, the <a href="https://mariadb.com/kb/en/server-system-variables/#default_storage_engine">default_storage_engine</a> session option value if it is set, or the value specified for the <code>--default-storage-engine</code> <a href="https://mariadb.com/kb/en/mysqld-options-full-list/">mysqld startup option</a>, or the default storage engine, <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>. If the specified storage engine is not installed and active, the default value will be used, unless the <code>NO_ENGINE_SUBSTITUTION</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL MODE</a> is set (default). This is only true for <code>CREATE TABLE</code>, not for <code>ALTER TABLE</code>. For a list of storage engines that are present in your server, issue a <a href="#show-engines">SHOW ENGINES</a>.</p>
<h3 class="anchored_heading" id="create-tableauto_increment">AUTO_INCREMENT</h3>
<p><code>AUTO_INCREMENT</code> specifies the initial value for the <a href="#auto_increment"><code>AUTO_INCREMENT</code></a> primary key. This works for MyISAM, Aria, InnoDB/XtraDB, MEMORY, and ARCHIVE tables. You can change this option with <code>ALTER TABLE</code>, but in that case the new value must be higher than the highest value which is present in the <code>AUTO_INCREMENT</code> column. If the storage engine does not support this option, you can insert (and then delete) a row having the wanted value - 1 in the <code>AUTO_INCREMENT</code> column.</p>
<h3 class="anchored_heading" id="create-tableavg_row_length">AVG_ROW_LENGTH</h3>
<p><code>AVG_ROW_LENGTH</code> is the average rows size. It only applies to tables using <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> and <a href="https://mariadb.com/kb/en/aria-storage-engine/">Aria</a> storage engines that have the <a href="#create-tablerow_format">ROW_FORMAT</a> table option set to <code>FIXED</code> format.</p>
<p>MyISAM uses <code>MAX_ROWS</code> and <code>AVG_ROW_LENGTH</code> to decide the maximum size of a table (default: 256TB, or the maximum file size allowed by the system).</p>
<h3 class="anchored_heading" id="create-tabledefault-character-setcharset">[DEFAULT] CHARACTER SET/CHARSET</h3>
<p><code>[DEFAULT] CHARACTER SET</code> (or <code>[DEFAULT] CHARSET</code>) is used to set a default character set for the table. This is the character set used for all columns where an explicit character set is not specified. If this option is omitted or <code>DEFAULT</code> is specified, database's default character set will be used. See <a href="https://mariadb.com/kb/en/setting-character-sets-and-collations/">Setting Character Sets and Collations</a> for details on setting the <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character sets</a>.</p>
<h3 class="anchored_heading" id="create-tablechecksumtable_checksum">CHECKSUM/TABLE_CHECKSUM</h3>
<p><code>CHECKSUM</code> (or <code>TABLE_CHECKSUM</code>) can be set to 1 to maintain a live checksum for all table's rows. This makes write operations slower, but <a href="#checksum-table"><code>CHECKSUM TABLE</code></a> will be very fast. This option is only supported for <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> and <a href="https://mariadb.com/kb/en/aria-storage-engine/">Aria tables</a>.</p>
<h3 class="anchored_heading" id="create-tabledefault-collate">[DEFAULT] COLLATE</h3>
<p><code>[DEFAULT] COLLATE</code> is used to set a default collation for the table. This is the collation used for all columns where an explicit character set is not specified. If this option is omitted or <code>DEFAULT</code> is specified, database's default option will be used. See <a href="https://mariadb.com/kb/en/setting-character-sets-and-collations/">Setting Character Sets and Collations</a> for details on setting the <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">collations</a></p>
<h3 class="anchored_heading" id="create-tablecomment">COMMENT</h3>
<p><code>COMMENT</code> is a comment for the table. The maximum length is 2048 characters. Also used to define table parameters when creating a <a href="https://mariadb.com/kb/en/spider/">Spider</a> table.</p>
<h3 class="anchored_heading" id="create-tableconnection">CONNECTION</h3>
<p><code>CONNECTION</code> is used to specify a server name or a connection string for a <a href="https://mariadb.com/kb/en/spider/">Spider</a>, <a href="https://mariadb.com/kb/en/connect/">CONNECT</a>, <a href="https://mariadb.com/kb/en/about-federatedx/">Federated or FederatedX table</a>.</p>
<h3 class="anchored_heading" id="create-tabledata-directoryindex-directory">DATA DIRECTORY/INDEX DIRECTORY</h3>
<p><code>DATA DIRECTORY</code> and <code>INDEX DIRECTORY</code> are supported for MyISAM and Aria, and DATA DIRECTORY is also supported by InnoDB if the <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_file_per_table">innodb_file_per_table</a> server system variable is enabled, but only in CREATE TABLE, not in <a href="#alter-table">ALTER TABLE</a>. So, carefully choose a path for InnoDB tables at creation time, because it cannot be changed without dropping and re-creating the table. These options specify the paths for data files and index files, respectively. If these options are omitted, the database's directory will be used to store data files and index files. Note that these table options do not work for <a href="https://mariadb.com/kb/en/managing-mariadb-partitioning/">partitioned</a> tables (use the partition options instead), or if the server has been invoked with the <a href="https://mariadb.com/kb/en/mysqld-options-full-list/"><code>--skip-symbolic-links</code> startup option</a>. To avoid the overwriting of old files with the same name that could be present in the directories, you can use <a href="https://mariadb.com/kb/en/mysqld-options-full-list/">the <code>--keep_files_on_create</code> option</a> (an error will be issued if files already exist). These options are ignored if the <code>NO_DIR_IN_CREATE</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is enabled (useful for replication slaves). Also note that symbolic links cannot be used for InnoDB tables.</p>
<p><code>DATA DIRECTORY</code> works by creating symlinks from where the table would normally have been (inside the <a href="https://mariadb.com/kb/en/server-system-variables/#datadir">datadir</a>) to where the option specifies. For security reasons, to avoid bypassing the privilege system, the server does not permit symlinks inside the datadir. Therefore, <code>DATA DIRECTORY</code> cannot be used to specify a location inside the datadir. An attempt to do so will result in an error <code>1210 (HY000) Incorrect arguments to DATA DIRECTORY</code>.</p>
<h3 class="anchored_heading" id="create-tabledelay_key_write">DELAY_KEY_WRITE</h3>
<p><code>DELAY_KEY_WRITE</code> is supported by MyISAM and Aria, and can be set to 1 to speed up write operations. In that case, when data are modified, the indexes are not updated until the table is closed. Writing the changes to the index file altogether can be much faster. However, note that this option is applied only if the <code>delay_key_write</code> server variable is set to 'ON'. If it is 'OFF' the delayed index writes are always disabled, and if it is 'ALL' the delayed index writes are always used, disregarding the value of <code>DELAY_KEY_WRITE</code>.</p>
<h3 class="anchored_heading" id="create-tableencrypted">ENCRYPTED</h3>
<p>The <code>ENCRYPTED</code> table option can be used to manually set the encryption status of an <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a> table. See <a href="https://mariadb.com/kb/en/innodb-encryption/">InnoDB Encryption</a> for more information.</p>
<p>Aria does not support the <code>ENCRYPTED</code> table option. See <a href="https://jira.mariadb.org/browse/MDEV-18049">MDEV-18049</a>.</p>
<p>See <a href="https://mariadb.com/kb/en/securing-mariadb-data-at-rest-encryption/">Data-at-Rest Encryption</a> for more information.</p>
<h3 class="anchored_heading" id="create-tableencryption_key_id">ENCRYPTION_KEY_ID</h3>
<p>The <code>ENCRYPTION_KEY_ID</code> table option can be used to manually set the encryption key of an <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a> table. See <a href="https://mariadb.com/kb/en/innodb-encryption/">InnoDB Encryption</a> for more information.</p>
<p>Aria does not support the <code>ENCRYPTION_KEY_ID</code> table option. See <a href="https://jira.mariadb.org/browse/MDEV-18049">MDEV-18049</a>.</p>
<p>See <a href="https://mariadb.com/kb/en/securing-mariadb-data-at-rest-encryption/">Data-at-Rest Encryption</a> for more information.</p>
<h3 class="anchored_heading" id="create-tableietf_quotes">IETF_QUOTES</h3>
<p>For the <a href="https://mariadb.com/kb/en/csv/">CSV</a> storage engine, the <code>IETF_QUOTES</code> option, when set to <code>YES</code>, enables IETF-compatible parsing of embedded quote and comma characters. Enabling this option for a table improves compatibility with other tools that use CSV, but is not compatible with MySQL CSV tables, or MariaDB CSV tables created without this option. Disabled by default.</p>
<h3 class="anchored_heading" id="create-tableinsert_method">INSERT_METHOD</h3>
<p><code>INSERT_METHOD</code> is only used with <a href="#merge">MERGE</a> tables. This option determines in which underlying table the new rows should be inserted. If you set it to 'NO' (which is the default) no new rows can be added to the table (but you will still be able to perform <code>INSERT</code>s directly against the underlying tables). <code>FIRST</code> means that the rows are inserted into the first table, and <code>LAST</code> means that thet are inserted into the last table.</p>
<h3 class="anchored_heading" id="create-tablekey_block_size">KEY_BLOCK_SIZE</h3>
<p><code>KEY_BLOCK_SIZE</code> is used to determine the size of key blocks, in bytes or kilobytes. However, this value is just a hint, and the storage engine could modify or ignore it. If <code>KEY_BLOCK_SIZE</code> is set to 0, the storage engine's default value will be used.</p>
<p>With the <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a> storage engine, if you specify a non-zero value for the <code>KEY_BLOCK_SIZE</code> table option for the whole table, then the table will implicitly be created with the <a href="#create-tablerow_format">ROW_FORMAT</a> table option set to <code>COMPRESSED</code>.</p>
<h3 class="anchored_heading" id="create-tablemin_rowsmax_rows">MIN_ROWS/MAX_ROWS</h3>
<p><code>MIN_ROWS</code> and <code>MAX_ROWS</code> let the storage engine know how many rows you are planning to store as a minimum and as a maximum. These values will not be used as real limits, but they help the storage engine to optimize the table. <code>MIN_ROWS</code> is only used by MEMORY storage engine to decide the minimum memory that is always allocated. <code>MAX_ROWS</code> is used to decide the minimum size for indexes.</p>
<h3 class="anchored_heading" id="create-tablepack_keys">PACK_KEYS</h3>
<p><code>PACK_KEYS</code> can be used to determine whether the indexes will be compressed. Set it to 1 to compress all keys. With a value of 0, compression will not be used. With the <code>DEFAULT</code> value, only long strings will be compressed. Uncompressed keys are faster.</p>
<h3 class="anchored_heading" id="create-tablepage_checksum">PAGE_CHECKSUM</h3>
<p><code>PAGE_CHECKSUM</code> is only applicable to <a href="https://mariadb.com/kb/en/aria/">Aria</a> tables, and determines whether indexes and data should use page checksums for extra safety. </p>
<h3 class="anchored_heading" id="create-tablepage_compressed">PAGE_COMPRESSED</h3>
<p><code>PAGE_COMPRESSED</code> is used to enable <a href="https://mariadb.com/kb/en/compression/">InnoDB page compression</a> for <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a> tables.</p>
<h3 class="anchored_heading" id="create-tablepage_compression_level">PAGE_COMPRESSION_LEVEL</h3>
<p><code>PAGE_COMPRESSION_LEVEL</code> is used to set the compression level for <a href="https://mariadb.com/kb/en/compression/">InnoDB page compression</a> for <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a> tables. The table must also have the <a href="#create-tablepage_compressed">PAGE_COMPRESSED</a> table option set to <code>1</code>.</p>
<p>Valid values for <code>PAGE_COMPRESSION_LEVEL</code> are 1 (the best speed) through 9 (the best compression), .</p>
<h3 class="anchored_heading" id="create-tablepassword">PASSWORD</h3>
<p><code>PASSWORD</code> is unused.</p>
<h3 class="anchored_heading" id="create-tableraid_type">RAID_TYPE</h3>
<p><code>RAID_TYPE</code> is an obsolete option, as the raid support has been disabled since MySQL 5.0.</p>
<h3 class="anchored_heading" id="create-tablerow_format">ROW_FORMAT</h3>
<p>The <code>ROW_FORMAT</code> table option specifies the row format for the data file. Possible values are engine-dependent.</p>
<h4 class="anchored_heading" id="create-tablesupported-myisam-row-formats">Supported MyISAM Row Formats</h4>
<p>For <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a>, the supported row formats are: </p>
<ul start="1"><li><code>FIXED</code>
</li><li><code>DYNAMIC</code>
</li><li><code>COMPRESSED</code>
</li></ul>
<p>The <code>COMPRESSED</code> row format can only be set by the <a href="https://mariadb.com/kb/en/myisampack/">myisampack</a> command line tool.</p>
<p>See <a href="https://mariadb.com/kb/en/myisam-storage-formats/">MyISAM Storage Formats</a> for more information.</p>
<h4 class="anchored_heading" id="create-tablesupported-aria-row-formats">Supported Aria Row Formats</h4>
<p>For <a href="https://mariadb.com/kb/en/aria-storage-engine/">Aria</a>, the supported row formats are:</p>
<ul start="1"><li><code>PAGE</code>
</li><li><code>FIXED</code>
</li><li><code>DYNAMIC</code>.
</li></ul>
<p>See <a href="https://mariadb.com/kb/en/aria-storage-formats/">Aria Storage Formats</a> for more information.</p>
<h4 class="anchored_heading" id="create-tablesupported-innodb-row-formats">Supported InnoDB Row Formats</h4>
<p>For <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>, the supported row formats are:</p>
<ul start="1"><li><code>COMPACT</code>
</li><li><code>REDUNDANT</code>
</li><li><code>COMPRESSED</code>
</li><li><code>DYNAMIC</code>.
</li></ul>
<p>If the <code>ROW_FORMAT</code> table option is set to <code>FIXED</code> for an InnoDB table, then the server will either return an error or a warning depending on the value of the <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_strict_mode">innodb_strict_mode</a> system variable. If the <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_strict_mode">innodb_strict_mode</a> system variable is set to <code>OFF</code>, then a warning is issued, and MariaDB will create the table using the default row format for the specific MariaDB server version. If the <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_strict_mode">innodb_strict_mode</a> system variable is set to <code>ON</code>, then an error will be raised.</p>
<p>See <a href="https://mariadb.com/kb/en/innodb-storage-formats/">InnoDB Storage Formats</a> for more information.</p>
<h4 class="anchored_heading" id="create-tableother-storage-engines-and-row_format">Other Storage Engines and ROW_FORMAT</h4>
<p>Other storage engines do not support the <code>ROW_FORMAT</code> table option.</p>
<h3 class="anchored_heading" id="create-tablesequence">SEQUENCE</h3>
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>If the table is a <a href="https://mariadb.com/kb/en/sequences/">sequence</a>, then it will have the <code>SEQUENCE</code> set to <code>1</code>.</p>
</div><h3 class="anchored_heading" id="create-tablestats_auto_recalc">STATS_AUTO_RECALC</h3>
<p><code>STATS_AUTO_RECALC</code> indicates whether to automatically recalculate persistent statistics (see <code>STATS_PERSISTENT</code>, below) for an InnoDB table.
If set to <code>1</code>, statistics will be recalculated when more than 10% of the data has changed. When set to <code>0</code>, stats will be recalculated only when an <a href="#analyze-table">ANALYZE TABLE</a> is run. If set to <code>DEFAULT</code>, or left out, the value set by the <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_stats_auto_recalc">innodb_stats_auto_recalc</a> system variable applies. See <a href="https://mariadb.com/kb/en/innodb-persistent-statistics/">InnoDB Persistent Statistics</a>.</p>
<h3 class="anchored_heading" id="create-tablestats_persistent">STATS_PERSISTENT</h3>
<p><code>STATS_PERSISTENT</code> indicates whether the InnoDB statistics created by <a href="#analyze-table">ANALYZE TABLE</a> will remain on disk or not. It can be set to <code>1</code> (on disk), <code>0</code> (not on disk, the pre-MariaDB 10 behavior), or <code>DEFAULT</code> (the same as leaving out the option), in which case the value set by the <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_stats_persistent">innodb_stats_persistent</a> system variable will apply. Persistent statistics stored on disk allow the statistics to survive server restarts, and provide better query plan stability. See <a href="https://mariadb.com/kb/en/innodb-persistent-statistics/">InnoDB Persistent Statistics</a>.</p>
<h3 class="anchored_heading" id="create-tablestats_sample_pages">STATS_SAMPLE_PAGES</h3>
<p><code>STATS_SAMPLE_PAGES</code> indicates how many pages are used to sample index statistics. If 0 or DEFAULT, the default value, the <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_stats_sample_pages">innodb_stats_sample_pages</a> value is used. See <a href="https://mariadb.com/kb/en/innodb-persistent-statistics/">InnoDB Persistent Statistics</a>.</p>
<h3 class="anchored_heading" id="create-tabletransactional">TRANSACTIONAL</h3>
<p><code>TRANSACTIONAL</code> is only applicable for Aria tables. In future Aria tables created with this option will be fully transactional, but currently this provides a form of crash protection. See <a href="https://mariadb.com/kb/en/aria-storage-engine/">Aria Storage Engine</a> for more details.</p>
<h3 class="anchored_heading" id="create-tableunion">UNION</h3>
<p><code>UNION</code> must be specified when you create a MERGE table. This option contains a comma-separated list of MyISAM tables which are accessed by the new table. The list is enclosed between parenthesis. Example: <code>UNION = (t1,t2)</code></p>
<h3 class="anchored_heading" id="create-tablewith-system-versioning">WITH SYSTEM VERSIONING</h3>
<p><code>WITH SYSTEM VERSIONING</code> is used for creating <a href="https://mariadb.com/kb/en/system-versioned-tables/">System-versioned tables</a>.</p>
<h2 class="anchored_heading" id="create-tablepartitions">Partitions</h2>
<pre class="highlight fixed indent&gt;"><p>partition_options:
    PARTITION BY
        { [LINEAR] HASH(expr)
        <code>|</code> [LINEAR] KEY(column_list)
        <code>|</code> RANGE(expr)
        <code>|</code> LIST(expr)
        <code>|</code> SYSTEM_TIME [INTERVAL time_quantity <a href="https://mariadb.com/kb/en/date-and-time-units/">time_unit</a>] [LIMIT num] }
    [PARTITIONS num]
    [SUBPARTITION BY
        { [LINEAR] HASH(expr)
        <code>|</code> [LINEAR] KEY(column_list) }
      [SUBPARTITIONS num]
    ]
    [(partition_definition [, partition_definition] ...)]</p>
<p>partition_definition:
    PARTITION partition_name
        [VALUES {LESS THAN {(expr) | MAXVALUE} | IN (value_list)}]
        [[STORAGE] ENGINE [=] engine_name]
        [COMMENT [=] 'comment_text' ]
        [DATA DIRECTORY [=] 'data_dir']
        [INDEX DIRECTORY [=] 'index_dir']
        [MAX_ROWS [=] max_number_of_rows]
        [MIN_ROWS [=] min_number_of_rows]
        [TABLESPACE [=] tablespace_name]
        [NODEGROUP [=] node_group_id]
        [(subpartition_definition [, subpartition_definition] ...)]</p>
<p>subpartition_definition:
    SUBPARTITION logical_name
        [[STORAGE] ENGINE [=] engine_name]
        [COMMENT [=] 'comment_text' ]
        [DATA DIRECTORY [=] 'data_dir']
        [INDEX DIRECTORY [=] 'index_dir']
        [MAX_ROWS [=] max_number_of_rows]
        [MIN_ROWS [=] min_number_of_rows]
        [TABLESPACE [=] tablespace_name]
        [NODEGROUP [=] node_group_id]</p></pre><p>If the <code>PARTITION BY</code> clause is used, the table will be <a href="https://mariadb.com/kb/en/managing-mariadb-partitioning/">partitioned</a>. A partition method must be explicitly indicated for partitions and subpartitions. Partition methods are:</p>
<ul start="1"><li><code>[LINEAR] HASH</code> creates a hash key which will be used to read and write rows. The partition function can be any valid SQL expression which returns an <code>INTEGER</code> number. Thus, it is possible to use the <code>HASH</code> method on an integer column, or on functions which accept integer columns as an argument. However, <code>VALUES LESS THAN</code> and <code>VALUES IN</code> clauses can not be used with <code>HASH</code>. An example:
</li></ul>
<pre class="fixed">CREATE TABLE t1 (a INT, b CHAR(5), c DATETIME)
    PARTITION BY HASH ( YEAR(c) );
</pre><p> <code>[LINEAR] HASH</code> can be used for subpartitions, too.</p>
<ul start="1"><li><code>[LINEAR] KEY</code> is similar to <code>HASH</code>, but the index has an even distribution of data. Also, the expression can only be a column or a list of columns. <code>VALUES LESS THAN</code> and <code>VALUES IN</code> clauses can not be used with <code>KEY</code>.
</li><li><a href="https://mariadb.com/kb/en/range-partitioning-type/">RANGE</a> partitions the rows using on a range of values, using the <code>VALUES LESS THAN</code> operator. <code>VALUES IN</code> is not allowed with <code>RANGE</code>. The partition function can be any valid SQL expression which returns a single value.
</li><li><a href="https://mariadb.com/kb/en/list-partitioning/">LIST</a> assigns partitions based on a table's column with a restricted set of possible values. It is similar to <code>RANGE</code>, but <code>VALUES IN</code> must be used for at least 1 columns, and <code>VALUES LESS THAN</code> is disallowed.
</li><li><code>SYSTEM_TIME</code> partitioning is used for <a href="https://mariadb.com/kb/en/system-versioned-tables/">System-versioned tables</a> to store historical data separately from current data.
</li></ul>
<p>Only <code>HASH</code> and <code>KEY</code> can be used for subpartitions, and they can be <code>[LINEAR]</code>.</p>
<p>It is possible to define up to 1024 partitions and subpartitions.</p>
<p>The number of defined partitions can be optionally specified as <code>PARTITION count</code>. This can be done to avoid specifying all partitions individually. But you can also declare each individual partition and, additionally, specify a <code>PARTITIONS count</code> clause; in the case, the number of <code>PARTITION</code>s must equal count.</p>
<p>Also see <a href="https://mariadb.com/kb/en/partitioning-types-overview/">Partitioning Types Overview</a>.</p>
<h2 class="anchored_heading" id="create-tablesequences">Sequences</h2>
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p><code>CREATE TABLE</code> can also be used to create a <a href="https://mariadb.com/kb/en/sequences/">SEQUENCE</a>. See <a href="#create-sequence">CREATE SEQUENCE</a> and <a href="#sequence-overview">Sequence Overview</a>.</p>
</div><h2 class="anchored_heading" id="create-tableatomic-ddl">Atomic DDL</h2>
<div class="mariadb_from_10_6_1 mariadb from_10_6_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">10.6.1</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">MariaDB 10.6.1</a> supports <a href="https://mariadb.com/kb/en/atomic-ddl/">Atomic DDL</a>. <code>CREATE TABLE</code> is atomic, except for <code>CREATE OR REPLACE</code>, which is only crash safe. </p>
</div><h2 class="anchored_heading" id="create-tableexamples">Examples</h2>
<pre class="fixed">create table if not exists test (
a bigint auto_increment primary key,
name varchar(128) charset utf8,
key name (name(32))
) engine=InnoDB default charset latin1;
</pre><p>This example shows a couple of things:</p>
<ul start="1"><li>Usage of <code class="highlight fixed" style="white-space:pre-wrap">IF NOT EXISTS</code>; If the table already existed, it will not be created.  There will not be any error for the client, just a warning.
</li><li>How to create a <code class="highlight fixed" style="white-space:pre-wrap">PRIMARY KEY</code> that is <a href="#auto_increment">automatically generated</a>.
</li><li>How to specify a table-specific <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set</a> and another for a column.
</li><li>How to create an index (<code class="highlight fixed" style="white-space:pre-wrap">name</code>) that is only partly indexed (to save space).
</li></ul>
<p>The following clauses will work from <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a> only.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span><span class="p">(</span>
  <span class="n">a</span> <span class="nb">int</span> <span class="k">DEFAULT</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span>
  <span class="n">b</span> <span class="nb">int</span> <span class="k">DEFAULT</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span>
  <span class="n">expires</span> <span class="n">DATETIME</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">NOW</span><span class="p">()</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">YEAR</span><span class="p">),</span>
  <span class="n">x</span> <span class="nb">BLOB</span> <span class="k">DEFAULT</span> <span class="k">USER</span><span class="p">()</span>
<span class="p">);</span>
</pre><h2 class="anchored_heading" id="create-tablesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>
</li><li><a href="#alter-table">ALTER TABLE</a>
</li><li><a href="#drop-table">DROP TABLE</a>
</li><li><a href="https://mariadb.com/kb/en/character-sets-and-collations/">Character Sets and Collations</a>
</li><li><a href="#show-create-table">SHOW CREATE TABLE</a>
</li><li>Storage engines can add their own <a href="https://mariadb.com/kb/en/engine-defined-new-tablefieldindex-attributes/">attributes for columns, indexes and tables</a>.
</li><li>Variable <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#slave_ddl_exec_mode">slave-ddl-exec-mode</a>.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-tablespace">CREATE TABLESPACE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="cstm-style redbox"><p>The <code>CREATE TABLESPACE</code> statement is not supported by MariaDB. It was originally inherited from MySQL NDB Cluster. In MySQL 5.7 and later, the statement is also supported for InnoDB. However, MariaDB has chosen not to include that specific feature. See <a href="https://jira.mariadb.org/browse/MDEV-19294">MDEV-19294</a> for more information.</p>
</div>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="flush">FLUSH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="flushsyntax">Syntax</h2>
<pre class="fixed">FLUSH [NO_WRITE_TO_BINLOG | LOCAL]
    flush_option [, flush_option] ...
</pre><p>or when flushing tables:</p>
<pre class="fixed">FLUSH [NO_WRITE_TO_BINLOG | LOCAL] TABLES [table_list]  [table_flush_option]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#flushsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#flushdescription" title="Description">Description</a></li>
<li class=""><a href="#flushflush-status" title="FLUSH STATUS">FLUSH STATUS</a></li>
<li class=""><a href="#flushcompatibility-with-mysql" title="Compatibility with MySQL">Compatibility with MySQL</a> <ol class="toc">
<li class=""><a href="#flushglobal-status-variables-that-support-flush-status" title="Global Status Variables that Support FLUSH STATUS">Global Status Variables that Support FLUSH STATUS</a> </li></ol>
</li>
<li class=""><a href="#flushthe-different-usage-of-flush-tables" title="The different usage of FLUSH TABLES">The different usage of FLUSH TABLES</a> <ol class="toc">
<li class=""><a href="#flushthe-purpose-of-flush-tables" title="The purpose of FLUSH TABLES">The purpose of FLUSH TABLES</a></li>
<li class=""><a href="#flushthe-purpose-of-flush-tables-with-read-lock" title="The purpose of FLUSH TABLES WITH READ LOCK">The purpose of FLUSH TABLES WITH READ LOCK</a></li>
<li class=""><a href="#flushthe-purpose-of-flush-tables-table_list" title="The purpose of FLUSH TABLES table_list">The purpose of FLUSH TABLES table_list</a></li>
<li class=""><a href="#flushthe-purpose-of-flush-tables-table_list-with-read-lock" title="The purpose of FLUSH TABLES table_list WITH READ LOCK">The purpose of FLUSH TABLES table_list WITH READ LOCK</a> </li></ol>
</li>
<li class=""><a href="#flushimplementation-of-flush-tables-commands-in-mariadb-1048-and-above" title="Implementation of FLUSH TABLES commands in MariaDB 10.4.8 and above">Implementation of FLUSH TABLES commands in MariaDB 10.4.8 and above</a> <ol class="toc">
<li class=""><a href="#flushimplementation-of-flush-tables" title="Implementation of FLUSH TABLES">Implementation of FLUSH TABLES</a></li>
<li class=""><a href="#flushimplementation-of-flush-tables-with-read-lock" title="Implementation of FLUSH TABLES WITH READ LOCK">Implementation of FLUSH TABLES WITH READ LOCK</a></li>
<li class=""><a href="#flushimplementation-of-flush-tables-table_list" title="Implementation of FLUSH TABLES table_list">Implementation of FLUSH TABLES table_list</a></li>
<li class=""><a href="#flushimplementation-of-flush-tables-table_list-for-export" title="Implementation of FLUSH TABLES table_list FOR EXPORT">Implementation of FLUSH TABLES table_list FOR EXPORT</a> </li></ol>
</li>
<li class=""><a href="#flushflush-ssl" title="FLUSH SSL">FLUSH SSL</a></li>
<li class=""><a href="#flushreducing-memory-usage" title="Reducing Memory Usage">Reducing Memory Usage</a> </li></ol>

</div><p>
where <code>table_list</code> is a list of tables separated by <code>,</code> (comma).</p>
<h2 class="anchored_heading" id="flushdescription">Description</h2>
<p>The <code>FLUSH</code> statement clears or reloads various internal caches used by
MariaDB. To execute <code>FLUSH</code>, you must have the <code>RELOAD</code>
privilege. See <a href="#grant">GRANT</a>.</p>
<p>The <code class="fixed" style="white-space:pre-wrap">RESET</code> statement is similar to <code>FLUSH</code>. See
<a href="#reset">RESET</a>.</p>
<p>You cannot issue a FLUSH statement from within a <a href="https://mariadb.com/kb/en/stored-functions/">stored function</a> or a <a href="https://mariadb.com/kb/en/triggers/">trigger</a>. Doing so within a stored procedure is permitted, as long as it is not called by a stored function or trigger. See <a href="https://mariadb.com/kb/en/stored-routine-limitations/">Stored Routine Limitations</a>, <a href="https://mariadb.com/kb/en/stored-function-limitations/">Stored Function Limitations</a> and <a href="https://mariadb.com/kb/en/trigger-limitations/">Trigger Limitations</a>.</p>
<p>If a listed table is a view, an error like the following will be produced:</p>
<pre class="fixed">ERROR 1347 (HY000): 'test.v' is not BASE TABLE
</pre><p>By default, <code>FLUSH</code> statements are written to the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> and will be <a href="https://mariadb.com/kb/en/replication/">replicated</a>. The <code>NO_WRITE_TO_BINLOG</code> keyword (<code>LOCAL</code> is an alias) will ensure the statement is not written to the binary log. </p>
<p>The different flush options are:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Option</th><th>Description</th></tr>
<tr><td><code>CHANGED_PAGE_BITMAPS</code></td><td>Internal command used for backup purposes. See the <a href="https://mariadb.com/kb/en/information-schema-changed_page_bitmaps-table/">Information Schema CHANGED_PAGE_BITMAPS Table</a>.</td></tr>
<tr><td><code>CLIENT_STATISTICS</code></td><td>Reset client statistics (see <a href="#show-client-statistics">SHOW CLIENT_STATISTICS</a>).</td></tr>
<tr><td><code>DES_KEY_FILE</code></td><td>Reloads the DES key file (Specified with the <a href="https://mariadb.com/kb/en/mysqld-options-full-list/">--des-key-file startup option</a>).</td></tr>
<tr><td><code>HOSTS</code></td><td>Flush the hostname cache (used for converting ip to host names and for unblocking blocked hosts. See <a href="https://mariadb.com/kb/en/server-system-variables/#max_connect_errors">max_connect_errors</a>)</td></tr>
<tr><td><code>INDEX_STATISTICS</code></td><td>Reset index statistics (see <a href="https://mariadb.com/kb/en/show-index-statistics/">SHOW INDEX_STATISTICS</a>).</td></tr>
<tr><td><code><code class="fixed" style="white-space:pre-wrap">[ERROR | ENGINE | GENERAL | SLOW | BINARY | RELAY] LOGS</code></code></td><td>Close and reopen the specified log type, or all log types if none are specified. <code>FLUSH RELAY LOGS [connection-name]</code> can be used to flush the relay logs for a specific connection. Only one connection can be specified per <code>FLUSH</code> command. See <a href="https://mariadb.com/kb/en/multi-source-replication/">Multi-source replication</a>. <code>FLUSH ENGINE LOGS</code> will delete all unneeded <a href="https://mariadb.com/kb/en/aria/">Aria</a> redo logs. Since <a href="https://mariadb.com/kb/en/mariadb-10130-release-notes/">MariaDB 10.1.30</a> and <a href="https://mariadb.com/kb/en/mariadb-10211-release-notes/">MariaDB 10.2.11</a>, <code>FLUSH BINARY LOGS DELETE_DOMAIN_ID=(list-of-domains)</code> can be used to discard obsolete <a href="https://mariadb.com/kb/en/gtid/">GTID</a> domains from the server's <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> state. In order for this to be successful, no event group from the listed <a href="https://mariadb.com/kb/en/gtid/">GTID</a> domains can be present in existing <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> files. If some still exist, then they must be purged prior to executing this command. If the command completes successfully, then it also rotates the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>.</td></tr>
<tr><td><code>MASTER</code></td><td>Deprecated option, use <a href="#reset">RESET MASTER</a> instead.</td></tr>
<tr><td><code>PRIVILEGES</code></td><td>Reload all privileges from the privilege tables in the <code>mysql</code> database. If the server is started with <code>--skip-grant-table</code> option, this will activate the privilege tables again.</td></tr>
<tr><td><a href="#flush-query-cache">QUERY CACHE</a></td><td>Defragment the <a href="https://mariadb.com/kb/en/query-cache/">query cache</a> to better utilize its memory. If you want to reset the query cache, you can do it with <a href="#reset">RESET QUERY CACHE</a>.</td></tr>
<tr><td><code>QUERY_RESPONSE_TIME</code></td><td>See the <a href="https://mariadb.com/kb/en/query_response_time-plugin/">QUERY_RESPONSE_TIME</a> plugin.</td></tr>
<tr><td><code>SLAVE</code></td><td>Deprecated option, use <a href="https://mariadb.com/kb/en/reset-replica/">RESET REPLICA or RESET SLAVE</a> instead.</td></tr>
<tr><td><code>SSL</code></td><td>Used to dynamically reinitialize the server's <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a> context by reloading the files defined by several <a href="https://mariadb.com/kb/en/ssltls-system-variables/">TLS system variables</a>. See <a href="#flushflush-ssl">FLUSH SSL</a> for more information. This command was first added in <a href="https://mariadb.com/kb/en/mariadb-1041-release-notes/">MariaDB 10.4.1</a>.</td></tr>
<tr><td><code>STATUS</code></td><td>Resets all <a href="https://mariadb.com/kb/en/server-status-variables/">server status variables</a> that can be reset to 0. Not all global status variables support this, so not all global values are reset. See <a href="#flushflush-status">FLUSH STATUS</a> for more information.</td></tr>
<tr><td><code>TABLE</code></td><td>Close tables given as options or all open tables if no table list was used. From <a href="https://mariadb.com/kb/en/mariadb-1041-release-notes/">MariaDB 10.4.1</a>, using without any table list will only close tables not in use, and tables not locked by the FLUSH TABLES connection. If there are no locked tables, FLUSH TABLES will be instant and will not cause any waits, as it no longer waits for tables in use. When a table list is provided, from <a href="https://mariadb.com/kb/en/mariadb-1041-release-notes/">MariaDB 10.4.1</a>, the server will wait for the end of any transactions that are using the tables. Previously, FLUSH TABLES only waited for the statements to complete.</td></tr>
<tr><td><code>TABLES</code></td><td>Same as <code>FLUSH TABLE</code>.</td></tr>
<tr><td><code><a href="#flush-tables-for-export">TABLES ... FOR EXPORT</a></code></td><td>For InnoDB tables, flushes table changes to disk to permit binary table copies while the server is running. Introduced in <a href="https://mariadb.com/kb/en/mariadb-1008-release-notes/">MariaDB 10.0.8</a>. See <a href="#flush-tables-for-export">FLUSH TABLES ... FOR EXPORT</a> for more.</td></tr>
<tr><td><code>TABLES WITH READ LOCK</code></td><td>Closes all open tables. New tables are only allowed to be opened with read locks until an <a href="https://mariadb.com/kb/en/transactions-lock/">UNLOCK TABLES</a> is given.</td></tr>
<tr><td><code>TABLES WITH READ LOCK AND DISABLE CHECKPOINT</code></td><td>As <code>TABLES WITH READ LOCK</code> but also disable all checkpoint writes by transactional table engines. This is useful when doing a disk snapshot of all tables.</td></tr>
<tr><td><code>TABLE_STATISTICS</code></td><td>Reset table statistics (see <a href="#show-table-statistics">SHOW TABLE_STATISTICS</a>).</td></tr>
<tr><td><code>USER_RESOURCES</code></td><td>Resets all per hour <a ">user resources</a>. This enables clients that have exhausted their resources to connect again.</td></tr>
<tr><td><code>USER_STATISTICS</code></td><td>Reset user statistics (see <a href="#show-user-statistics">SHOW USER_STATISTICS</a>).</td></tr>
</table>
</div><p>You can also use the <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin</a> client to flush things. Use <code class="highlight fixed" style="white-space:pre-wrap">mysqladmin --help</code> to examine what flush commands it supports.</p>
<h2 class="anchored_heading" id="flushflush-status"><code>FLUSH STATUS</code></h2>
<p><a href="https://mariadb.com/kb/en/server-status-variables/">Server status variables</a> can be reset by executing the following:</p>
<pre class="fixed"><span class="n">FLUSH</span> <span class="n">STATUS</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="flushcompatibility-with-mysql">Compatibility with MySQL</h2>
<div class="mariadb_from_10_7_0 mariadb from_10_7_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1070-release-notes/">10.7.0</a></h5><p>The <code>FOR CHANNEL</code> keyword was added for MySQL compatibility. This is identical as
using the channel_name directly after the <code>FLUSH command</code>.</p>
<p>For example, one can now use:</p>
<pre class="fixed"><span class="n">FLUSH</span> <span class="n">RELAY</span> <span class="n">LOGS</span> <span class="s1">'connection_name'</span><span class="p">;</span>
<span class="n">FLUSH</span> <span class="n">RELAY</span> <span class="n">LOGS</span> <span class="k">FOR</span> <span class="n">CHANNEL</span> <span class="s1">'connection_name'</span><span class="p">;</span>
</pre></div><h3 class="anchored_heading" id="flushglobal-status-variables-that-support-flush-status">Global Status Variables that Support <code>FLUSH STATUS</code></h3>
<p>Not all global status variables support being reset by <code>FLUSH STATUS</code>. Currently, the following status variables are reset by <code>FLUSH STATUS</code>:</p>
<ul start="1"><li><a href="https://mariadb.com/kb/en/server-status-variables/#aborted_clients">Aborted_clients</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#aborted_connects">Aborted_connects</a>
</li><li><a href="https://mariadb.com/kb/en/replication-and-binary-log-status-variables/#binlog_cache_disk_use">Binlog_cache_disk_use</a>
</li><li><a href="https://mariadb.com/kb/en/replication-and-binary-log-status-variables/#binlog_cache_use">Binlog_cache_use</a>
</li><li><a href="https://mariadb.com/kb/en/replication-and-binary-log-status-variables/#binlog_stmt_cache_disk_use">Binlog_stmt_cache_disk_use</a>
</li><li><a href="https://mariadb.com/kb/en/replication-and-binary-log-status-variables/#binlog_stmt_cache_use">Binlog_stmt_cache_use</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#connection_errors_accept">Connection_errors_accept</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#connection_errors_internal">Connection_errors_internal</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#connection_errors_max_connections">Connection_errors_max_connections</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#connection_errors_peer_address">Connection_errors_peer_address</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#connection_errors_select">Connection_errors_select</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#connection_errors_tcpwrap">Connection_errors_tcpwrap</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#created_tmp_files">Created_tmp_files</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#delayed_errors">Delayed_errors</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#delayed_writes">Delayed_writes</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#feature_check_constraint">Feature_check_constraint</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#feature_delay_key_write">Feature_delay_key_write</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#max_used_connections">Max_used_connections</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#opened_plugin_libraries">Opened_plugin_libraries</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_accounts_lost">Performance_schema_accounts_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_cond_instances_lost">Performance_schema_cond_instances_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_digest_lost">Performance_schema_digest_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_file_handles_lost">Performance_schema_file_handles_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_file_instances_lost">Performance_schema_file_instances_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_hosts_lost">Performance_schema_hosts_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_locker_lost">Performance_schema_locker_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_mutex_instances_lost">Performance_schema_mutex_instances_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_rwlock_instances_lost">Performance_schema_rwlock_instances_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_session_connect_attrs_lost">Performance_schema_session_connect_attrs_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_socket_instances_lost">Performance_schema_socket_instances_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_stage_classes_lost">Performance_schema_stage_classes_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_statement_classes_lost">Performance_schema_statement_classes_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_table_handles_lost">Performance_schema_table_handles_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_table_instances_lost">Performance_schema_table_instances_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_thread_instances_lost">Performance_schema_thread_instances_lost</a>
</li><li><a href="https://mariadb.com/kb/en/performance-schema-status-variables/#performance_schema_users_lost">Performance_schema_users_lost</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#qcache_hits">Qcache_hits</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#qcache_inserts">Qcache_inserts</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#qcache_lowmem_prunes">Qcache_lowmem_prunes</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#qcache_not_cached">Qcache_not_cached</a>
</li><li><a href="https://mariadb.com/kb/en/semisynchronous-replication-plugin-status-variables/#rpl_semi_sync_master_no_times">Rpl_semi_sync_master_no_times</a>
</li><li><a href="https://mariadb.com/kb/en/semisynchronous-replication-plugin-status-variables/#rpl_semi_sync_master_no_tx">Rpl_semi_sync_master_no_tx</a>
</li><li><a href="https://mariadb.com/kb/en/semisynchronous-replication-plugin-status-variables/#rpl_semi_sync_master_timefunc_failures">Rpl_semi_sync_master_timefunc_failures</a>
</li><li><a href="https://mariadb.com/kb/en/semisynchronous-replication-plugin-status-variables/#rpl_semi_sync_master_wait_pos_backtraverse">Rpl_semi_sync_master_wait_pos_backtraverse</a>
</li><li><a href="https://mariadb.com/kb/en/semisynchronous-replication-plugin-status-variables/#rpl_semi_sync_master_yes_tx">Rpl_semi_sync_master_yes_tx</a>
</li><li><a href="https://mariadb.com/kb/en/replication-and-binary-log-status-variables/#rpl_transactions_multi_engine">Rpl_transactions_multi_engine</a>
</li><li><a href="https://mariadb.com/kb/en/mariadb-audit-plugin-status-variables/#server_audit_writes_failed">Server_audit_writes_failed</a>
</li><li><a href="https://mariadb.com/kb/en/replication-and-binary-log-status-variables/#slave_retried_transactions">Slave_retried_transactions</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#slow_launch_threads">Slow_launch_threads</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_accept_renegotiates">Ssl_accept_renegotiates</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_accepts">Ssl_accepts</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_callback_cache_hits">Ssl_callback_cache_hits</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_client_connects">Ssl_client_connects</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_connect_renegotiates">Ssl_connect_renegotiates</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_ctx_verify_depth">Ssl_ctx_verify_depth</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_ctx_verify_mode">Ssl_ctx_verify_mode</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_finished_accepts">Ssl_finished_accepts</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_finished_connects">Ssl_finished_connects</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_session_cache_hits">Ssl_session_cache_hits</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_session_cache_misses">Ssl_session_cache_misses</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_session_cache_overflows">Ssl_session_cache_overflows</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_session_cache_size">Ssl_session_cache_size</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_session_cache_timeouts">Ssl_session_cache_timeouts</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_sessions_reused">Ssl_sessions_reused</a>
</li><li><a href="https://mariadb.com/kb/en/ssltls-status-variables/#ssl_used_session_cache_entries">Ssl_used_session_cache_entries</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#subquery_cache_hit">Subquery_cache_hit</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#subquery_cache_miss">Subquery_cache_miss</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#table_locks_immediate">Table_locks_immediate</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#table_locks_waited">Table_locks_waited</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#tc_log_max_pages_used">Tc_log_max_pages_used</a>
</li><li><a href="https://mariadb.com/kb/en/server-status-variables/#tc_log_page_waits">Tc_log_page_waits</a>
</li><li><a href="https://mariadb.com/kb/en/replication-and-binary-log-status-variables/#transactions_gtid_foreign_engine">Transactions_gtid_foreign_engine</a>
</li><li><a href="https://mariadb.com/kb/en/replication-and-binary-log-status-variables/#transactions_multi_engine">Transactions_multi_engine</a>
</li></ul>
<h2 class="anchored_heading" id="flushthe-different-usage-of-flush-tables">The different usage of <code>FLUSH TABLES</code></h2>
<h3 class="anchored_heading" id="flushthe-purpose-of-flush-tables">The purpose of <code>FLUSH TABLES</code></h3>
<p>The purpose of <code>FLUSH TABLES</code> is to clean up the open table cache and
table definition cache from not in use tables.  This frees up memory
and file descriptors. Normally this is not needed as the caches works
on a FIFO bases, but can be useful if the server seams to use up to
much memory for some reason.</p>
<h3 class="anchored_heading" id="flushthe-purpose-of-flush-tables-with-read-lock">The purpose of <code>FLUSH TABLES WITH READ LOCK </code></h3>
<p><code>FLUSH TABLES WITH READ LOCK</code> is useful if you want to take a backup
of some tables.  When <code>FLUSH TABLES WITH READ LOCK</code> returns, all
write access to tables are blocked and all tables are marked as
'properly closed' on disk.  The tables can still be used for read
operations.</p>
<h3 class="anchored_heading" id="flushthe-purpose-of-flush-tables-table_list">The purpose of <code>FLUSH TABLES table_list</code></h3>
<p><code>FLUSH TABLES</code> table_list is useful if you want to copy a table
object/files to or from the server. This command puts a lock that
stops new users of the table and will wait until everyone has stopped
using the table. The table is then removed from the table definition
and table cache.</p>
<p>Note that it's up to the user to ensure that no one is accessing the
table between <code>FLUSH TABLES</code> and the table is copied to or from the
server. This can be secured by using <a href="#lock-tables">LOCK TABLES</a>.</p>
<p>If there are any tables locked by the connection that is using <code>FLUSH TABLES</code> all the locked tables will be closed as part of the flush and
reopened and relocked before <code>FLUSH TABLES</code> returns. This allows one
to copy the table after <code>FLUSH TABLES</code> returns without having any
writes on the table.  For now this works works with most tables,
except InnoDB as InnoDB may do background purges on the table even
while it's write locked.</p>
<h3 class="anchored_heading" id="flushthe-purpose-of-flush-tables-table_list-with-read-lock">The purpose of <code>FLUSH TABLES table_list WITH READ LOCK</code></h3>
<p><code>FLUSH TABLES table_list WITH READ LOCK</code> should work as <code>FLUSH TABLES WITH READ LOCK</code>, but only those tables that are listed will be
properly closed.  However in practice this works exactly like <code>FLUSH TABLES WITH READ LOCK</code> as the <code>FLUSH</code> command has anyway to wait
for all WRITE operations to end because we are depending on a global
read lock for this code.  In the future we should consider fixing this
to instead use meta data locks.</p>
<h2 class="anchored_heading" id="flushimplementation-of-flush-tables-commands-in-mariadb-1048-and-above">Implementation of <code>FLUSH TABLES</code> commands in <a href="https://mariadb.com/kb/en/mariadb-1048-release-notes/">MariaDB 10.4.8</a> and above</h2>
<h3 class="anchored_heading" id="flushimplementation-of-flush-tables">Implementation of <code>FLUSH TABLES</code></h3>
<ul start="1"><li>Free memory and file descriptors not in use
</li></ul>
<h3 class="anchored_heading" id="flushimplementation-of-flush-tables-with-read-lock">Implementation of <code>FLUSH TABLES WITH READ LOCK</code></h3>
<ul start="1"><li>Lock all tables read only for simple old style backup.
</li><li>All background writes are suspended and tables are marked as closed.
</li><li>No statement requiring table changes are allowed for any user until <code>UNLOCK TABLES</code>.
</li></ul>
<p>Instead of using <code>FLUSH TABLE WITH READ LOCK</code> one should in most cases instead use
<a href="https://mariadb.com/kb/en/backup-stage/">BACKUP STAGE BLOCK_COMMIT</a>.</p>
<h3 class="anchored_heading" id="flushimplementation-of-flush-tables-table_list">Implementation of <code>FLUSH TABLES table_list</code></h3>
<ul start="1"><li>Free memory and file descriptors for tables not in use from table list.
</li><li>Lock given tables as read only.
</li><li>Wait until all translations has ended that uses any of the given tables.
</li><li>Wait until all background writes are suspended and tables are marked as closed.
</li></ul>
<h3 class="anchored_heading" id="flushimplementation-of-flush-tables-table_list-for-export">Implementation of <code>FLUSH TABLES table_list FOR EXPORT</code></h3>
<ul start="1"><li>Free memory and file descriptors for tables not in use from table list
</li><li>Lock given tables as read.
</li><li>Wait until all background writes are suspended and tables are marked as closed.
</li><li>Check that all tables supports <code>FOR EXPORT</code>
</li><li>No changes to these tables allowed until <code>UNLOCK TABLES</code>
</li></ul>
<p>This is basically the same behavior as in old MariaDB version if one first lock the tables, then do
<code>FLUSH TABLES</code>.  The tables will be copyable until <code>UNLOCK TABLES</code>.</p>
<h2 class="anchored_heading" id="flushflush-ssl"><code>FLUSH SSL</code></h2>
<div class="mariadb_from_10_4 mariadb from_10_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">10.4</a></h5><p>The <code>FLUSH SSL</code> command was first added in <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>.</p>
</div><p>In <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> and later, the <code>FLUSH SSL</code> command can be used to dynamically reinitialize the server's <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a> context. This is most useful if you need to replace a certificate that is about to expire without restarting the server.</p>
<p>This operation is performed by reloading the files defined by the following <a href="https://mariadb.com/kb/en/ssltls-system-variables/">TLS system variables</a>:</p>
<ul start="1"><li><code><a href="https://mariadb.com/kb/en/ssltls-system-variables/#ssl_cert">ssl_cert</a></code>
</li><li><code><a href="https://mariadb.com/kb/en/ssltls-system-variables/#ssl_key">ssl_key</a></code>
</li><li><code><a href="https://mariadb.com/kb/en/ssltls-system-variables/#ssl_ca">ssl_ca</a></code>
</li><li><code><a href="https://mariadb.com/kb/en/ssltls-system-variables/#ssl_capath">ssl_capath</a></code>
</li><li><code><a href="https://mariadb.com/kb/en/ssltls-system-variables/#ssl_crl">ssl_crl</a></code>
</li><li><code><a href="https://mariadb.com/kb/en/ssltls-system-variables/#ssl_crlpath">ssl_crlpath</a></code>
</li></ul>
<p>These <a href="https://mariadb.com/kb/en/ssltls-system-variables/">TLS system variables</a> are not dynamic, so their values can <strong>not</strong> be changed without restarting the server.</p>
<p>If you want to dynamically reinitialize the server's <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a> context, then you need to change the certificate and key files at the relevant paths defined by these <a href="https://mariadb.com/kb/en/ssltls-system-variables/">TLS system variables</a>, without actually changing the values of the variables. See <a href="https://jira.mariadb.org/browse/MDEV-19341">MDEV-19341</a> for more information.</p>
<h2 class="anchored_heading" id="flushreducing-memory-usage">Reducing Memory Usage</h2>
<p>To flush some of the global caches that take up memory, you could execute the following command:</p>
<pre class="fixed"><span class="n">FLUSH</span> <span class="k">LOCAL</span> <span class="n">HOSTS</span><span class="p">,</span>
   <span class="n">QUERY</span> <span class="k">CACHE</span><span class="p">,</span> 
   <span class="n">TABLE_STATISTICS</span><span class="p">,</span> 
   <span class="n">INDEX_STATISTICS</span><span class="p">,</span> 
   <span class="n">USER_STATISTICS</span><span class="p">;</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="data-manipulation-kill-connection-query">KILL [CONNECTION | QUERY]</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="data-manipulation-kill-connection-querysyntax">Syntax</h2>
<pre class="fixed">KILL [HARD | SOFT] [CONNECTION | QUERY [ID] ] [thread_id | USER user_name | query_id]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#data-manipulation-kill-connection-querysyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#data-manipulation-kill-connection-querydescription" title="Description">Description</a></li>
<li class=""><a href="#data-manipulation-kill-connection-querysee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="data-manipulation-kill-connection-querydescription">Description</h2>
<p>Each connection to mysqld runs in a separate thread. You can see which threads
are running with the <code class="fixed" style="white-space:pre-wrap">SHOW PROCESSLIST</code> statement and kill a
thread with the <code class="fixed" style="white-space:pre-wrap">KILL thread_id</code> statement.                             
<code class="fixed" style="white-space:pre-wrap">KILL</code> allows the optional <code class="fixed" style="white-space:pre-wrap">CONNECTION</code> or
<code class="fixed" style="white-space:pre-wrap">QUERY</code> modifier:</p>
<ul start="1"><li><code class="fixed" style="white-space:pre-wrap">KILL CONNECTION</code> is the same as <code class="fixed" style="white-space:pre-wrap">KILL</code> with no
  modifier: It terminates the connection associated with the given thread or query id.
</li><li><code class="fixed" style="white-space:pre-wrap">KILL QUERY</code> terminates the statement that the connection thread_id is
  currently executing, but leaves the connection itself intact.
</li><li><code class="fixed" style="white-space:pre-wrap">KILL QUERY ID</code> (introduced in <a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">MariaDB 10.0.5</a>) terminates the query by query_id, leaving the connection intact.
</li></ul>
<p>If a connection is terminated that has an active transaction, the transaction will be rolled back. If only a query is killed, the current transaction will stay active. See also <a href="https://mariadb.com/kb/en/server-system-variables/#idle_transaction_timeout">idle_transaction_timeout</a>.</p>
<p>If you have the <a ">PROCESS</a> privilege, you can see all threads. If
you have the <a ">SUPER</a> privilege, or, from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the <a ">CONNECTION ADMIN</a> privilege, you can kill all threads and
statements. Otherwise, you can see and kill only your own threads and
statements.</p>
<div class="cstm-style redbox"><p>Killing queries that repair or create indexes on MyISAM and Aria tables may result in corrupted tables. Use the <code>SOFT</code> option to avoid this!</p>
</div><p>The <code class="fixed" style="white-space:pre-wrap">HARD</code> option (default) kills a command as soon as possible.  If you use
<code class="fixed" style="white-space:pre-wrap">SOFT</code>, then critical operations that may leave a table in an
inconsistent state will not be interrupted. Such operations include <code>REPAIR</code> and <code>INDEX</code> creation for <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> and <a href="https://mariadb.com/kb/en/aria/">Aria</a> tables (<a href="#repair-table">REPAIR TABLE</a>, <a href="#optimize-table">OPTIMIZE TABLE</a>).</p>
<p><code class="fixed" style="white-space:pre-wrap">KILL ... USER username</code> will kill all connections/queries for a
given user. <code class="fixed" style="white-space:pre-wrap">USER</code> can be specified one of the following ways:</p>
<ul start="1"><li>username  (Kill without regard to hostname)
</li><li>username@hostname
</li><li><code><a href="#current_user">CURRENT_USER</a></code> or <code><a href="#current_user">CURRENT_USER()</a></code>
</li></ul>
<p>If you specify a thread id and that thread does not exist, you get the following error:</p>
<pre class="fixed">ERROR 1094 (HY000): Unknown thread id: &lt;thread_id&gt;
</pre><p>If you specify a query id that doesn't exist, you get the following error:</p>
<pre class="fixed">ERROR 1957 (HY000): Unknown query id: &lt;query_id&gt;
</pre><p>However, if you specify a user name, no error is issued for non-connected (or even non-existing) users. To check if the connection/query has been killed, you can use the <a href="#row_count">ROW_COUNT()</a> function.</p>
<p>A client whose connection is killed receives the following error:</p>
<pre class="fixed">ERROR 1317 (70100): Query execution was interrupted
</pre><p>To obtain a list of existing sessions, use the <code><a href="#show-processlist">SHOW PROCESSLIST</a></code> statement or query the <a href="https://mariadb.com/kb/en/information-schema/">Information Schema</a> <code><a href="https://mariadb.com/kb/en/information-schema-processlist-table/">PROCESSLIST</a></code> table.</p>
<p><strong>Note:</strong> You cannot use <code class="fixed" style="white-space:pre-wrap">KILL</code> with the Embedded MySQL Server
library because the embedded server merely runs inside the threads of the host
application. It does not create any connection threads of its own.</p>
<p><strong>Note:</strong> You can also use 
<code class="fixed" style="white-space:pre-wrap">mysqladmin kill thread_id [,thread_id...]</code>
to kill connections. To get a list of running queries,
use <code class="fixed" style="white-space:pre-wrap">mysqladmin processlist</code>. See <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin</a>.</p>
<p><a href="http://www.percona.com/doc/percona-toolkit/">Percona Toolkit</a> contains a program, <a href="http://www.percona.com/doc/percona-toolkit/pt-kill.html">pt-kill</a> that can be used to automatically kill connections that match certain criteria. For example, it can be used to terminate idle connections, or connections that have been busy for more than 60 seconds.</p>
<h2 class="anchored_heading" id="data-manipulation-kill-connection-querysee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/query-limits-and-timeouts/">Query limits and timeouts</a>
</li><li><a href="https://mariadb.com/kb/en/aborting-statements/">Aborting statements that exceed a certain time to execute</a>
</li><li><a href="https://mariadb.com/kb/en/server-system-variables/#idle_transaction_timeout">idle_transaction_timeout</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="reset">RESET</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">RESET reset_option [, reset_option] ...
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code>RESET</code> statement is used to clear the state of various server
operations. You must have the <code><a href="#grant">RELOAD privilege</a></code> to execute
<code>RESET</code>.</p>
<p><code>RESET</code> acts as a stronger version of the <a href="#flush">FLUSH</a> statement.</p>
<p>The different <code>RESET</code> options are:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Option</th><th>Description</th></tr>
<tr><td><a href="https://mariadb.com/kb/en/reset-slave/">SLAVE ["connection_name"] [ALL</a>]</td><td>Deletes all <a href="https://mariadb.com/kb/en/relay-log/">relay logs</a> from the slave and reset the replication position in the master <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>.</td></tr>
<tr><td><a href="#reset-master">MASTER</a></td><td>Deletes all old binary logs, makes the binary index file (<a href="https://mariadb.com/kb/en/mysqld-options-full-list/">--log-bin-index</a>) empty and creates a new binary log file.  This is useful when you want to reset the master to an initial state. If you want to just delete old, not used binary logs, you should use the <a href="https://mariadb.com/kb/en/sql-commands-purge-logs/">PURGE BINARY LOGS</a> command.</td></tr>
<tr><td>QUERY CACHE</td><td>Removes all queries from <a href="https://mariadb.com/kb/en/the-query-cache/">the query cache</a>. See also <a href="#flush-query-cache">FLUSH QUERY CACHE</a>.</td></tr>
</table>
</div>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="about-show">About SHOW</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p><code class="highlight fixed" style="white-space:pre-wrap">SHOW</code> has many forms that provide information about
databases, tables, columns, or status information about the server. These include:</p>
<ul start="1"><li><a href="#show-authors">SHOW AUTHORS</a>
</li><li><a href="#show-character-set">SHOW CHARACTER SET [like_or_where]</a>
</li><li><a href="#show-collation">SHOW COLLATION [like_or_where]</a>
</li><li><a href="#show-columns">SHOW [FULL] COLUMNS FROM tbl_name [FROM db_name] [like_or_where]</a>
</li><li><a href="#show-contributors">SHOW CONTRIBUTORS</a>
</li><li><a href="#show-create-database">SHOW CREATE DATABASE db_name</a>
</li><li><a href="#show-create-event">SHOW CREATE EVENT event_name</a>
</li><li><a href="#show-create-package">SHOW CREATE PACKAGE package_name</a>
</li><li><a href="#show-create-package-body">SHOW CREATE PACKAGE BODY package_name</a>
</li><li><a href="#show-create-procedure">SHOW CREATE PROCEDURE proc_name</a>
</li><li><a href="#show-create-table">SHOW CREATE TABLE tbl_name</a>
</li><li><a href="#show-create-trigger">SHOW CREATE TRIGGER trigger_name</a>
</li><li><a href="#show-create-view">SHOW CREATE VIEW view_name</a>
</li><li><a href="#show-databases">SHOW DATABASES [like_or_where]</a>
</li><li><a href="#show-engine">SHOW ENGINE engine_name {STATUS | MUTEX}</a>
</li><li><a href="#show-engines">SHOW [STORAGE] ENGINES</a>
</li><li><a href="#show-errors">SHOW ERRORS [LIMIT [offset,] row_count]</a>
</li><li><a href="#show-events">SHOW [FULL] EVENTS</a>
</li><li><a href="#show-function-code">SHOW FUNCTION CODE func_name</a>
</li><li><a href="#show-function-status">SHOW FUNCTION STATUS [like_or_where]</a>
</li><li><a href="#show-grants">SHOW GRANTS FOR user</a>
</li><li><a href="#show-index">SHOW INDEX FROM tbl_name [FROM db_name]</a>
</li><li><a href="https://mariadb.com/kb/en/show-innodb-status/">SHOW INNODB STATUS</a>
</li><li><a href="#show-open-tables">SHOW OPEN TABLES [FROM db_name] [like_or_where]</a>
</li><li><a href="#show-plugins">SHOW PLUGINS</a>
</li><li><a href="#show-procedure-code">SHOW PROCEDURE CODE proc_name</a>
</li><li><a href="#show-procedure-status">SHOW PROCEDURE STATUS [like_or_where]</a>
</li><li><a href="#show-privileges">SHOW PRIVILEGES</a>
</li><li><a href="#show-processlist">SHOW [FULL] PROCESSLIST</a>
</li><li><a href="#show-profile">SHOW PROFILE [types] [FOR QUERY n] [OFFSET n] [LIMIT n]</a>
</li><li><a href="#show-profiles">SHOW PROFILES</a>
</li><li><a href="#show-status">SHOW [GLOBAL | SESSION] STATUS [like_or_where]</a>
</li><li><a href="#show-table-status">SHOW TABLE STATUS [FROM db_name] [like_or_where]</a>
</li><li><a href="#show-tables">SHOW TABLES [FROM db_name] [like_or_where]</a>
</li><li><a href="#show-triggers">SHOW TRIGGERS [FROM db_name] [like_or_where]</a>
</li><li><a href="#show-variables">SHOW [GLOBAL | SESSION] VARIABLES [like_or_where]</a>
</li><li><a href="#show-warnings">SHOW WARNINGS [LIMIT [offset,] row_count]</a>
</li></ul>
<pre class="fixed">like_or_where:
    LIKE 'pattern'
  | WHERE expr
</pre><p>If the syntax for a given <code class="highlight fixed" style="white-space:pre-wrap">SHOW</code> statement includes a
<code class="highlight fixed" style="white-space:pre-wrap">LIKE 'pattern'</code> part, <code class="highlight fixed" style="white-space:pre-wrap">'pattern'</code> is a
string that can contain the SQL "<code class="highlight fixed" style="white-space:pre-wrap">%</code>" and
"<code class="highlight fixed" style="white-space:pre-wrap">_</code>" wildcard characters. The pattern is useful for
restricting statement output to matching values.</p>
<p>Several <code class="highlight fixed" style="white-space:pre-wrap">SHOW</code> statements also accept a
<code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> clause that provides more flexibility in specifying
which rows to display. See <a href="https://mariadb.com/kb/en/extended-show/">Extended Show</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-view">CREATE VIEW</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="create-viewsyntax">Syntax</h2>
<pre class="fixed">CREATE
    [OR REPLACE]
    [ALGORITHM = {UNDEFINED | MERGE | TEMPTABLE}]
    [DEFINER = { user | CURRENT_USER | role | CURRENT_ROLE }]
    [SQL SECURITY { DEFINER | INVOKER }]
    VIEW [IF NOT EXISTS] view_name [(column_list)]
    AS select_statement
    [WITH [CASCADED | LOCAL] CHECK OPTION]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#create-viewsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#create-viewdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#create-viewwith-check-option" title="WITH CHECK OPTION">WITH CHECK OPTION</a></li>
<li class=""><a href="#create-viewif-not-exists" title="IF NOT EXISTS">IF NOT EXISTS</a></li>
<li class=""><a href="#create-viewatomic-ddl" title="Atomic DDL">Atomic DDL</a> </li></ol>
</li>
<li class=""><a href="#create-viewexamples" title="Examples">Examples</a></li>
<li class=""><a href="#create-viewsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-viewdescription">Description</h2>
<p>The CREATE VIEW statement creates a new <a href="https://mariadb.com/kb/en/views/">view</a>, or replaces an existing
one if the OR REPLACE clause is given. If the view does not exist, CREATE OR
REPLACE VIEW is the same as CREATE VIEW. If the view does exist, CREATE OR
REPLACE VIEW is the same as <a href="#alter-view">ALTER VIEW</a>.</p>
<p>The select_statement is a <a href="#select">SELECT</a> statement that provides the definition of
the view. (When you select from the view, you select in effect using the SELECT
statement.) select_statement can select from base tables or other views.</p>
<p>The view definition is "frozen" at creation time, so changes to the underlying
tables afterwards do not affect the view definition. For example, if a view is
defined as SELECT * on a table, new columns added to the table later do not
become part of the view. A <a href="#show-create-view">SHOW CREATE VIEW</a> shows that
such queries are rewritten and column names are included in the view
definition.</p>
<p>The view definition must be a query that does not return errors at view
creation times. However, the base tables used by the views might be altered
later and the query may not be valid anymore. In this case, querying the view
will result in an error. <a href="https://mariadb.com/kb/en/check-table/">CHECK TABLE</a> helps in finding this kind
of problems.</p>
<p>The <a href="https://mariadb.com/kb/en/view-algorithms/">ALGORITHM clause</a> affects how MariaDB processes the
view. The DEFINER and SQL SECURITY clauses specify the security context to be
used when checking access privileges at view invocation time. The WITH CHECK
OPTION clause can be given to constrain inserts or updates to rows in tables
referenced by the view. These clauses are described later in this section.</p>
<p>The CREATE VIEW statement requires the CREATE VIEW privilege for the
view, and some privilege for each column selected by the SELECT
statement. For columns used elsewhere in the SELECT statement you must
have the SELECT privilege. If the OR REPLACE clause is present, you
must also have the DROP privilege for the view.</p>
<p>A view belongs to a database. By default, a new view is created in the
default database. To create the view explicitly in a given database,
specify the name as db_name.view_name when you create it.</p>
<pre class="fixed">CREATE VIEW test.v AS SELECT * FROM t;
</pre><p>Base tables and views share the same namespace within a database, so a
database cannot contain a base table and a view that have the same
name.</p>
<p>Views must have unique column names with no duplicates, just like base
tables. By default, the names of the columns retrieved by the SELECT
statement are used for the view column names. To define explicit names
for the view columns, the optional column_list clause can be given as
a list of comma-separated identifiers. The number of names in
column_list must be the same as the number of columns retrieved by the
SELECT statement.</p>
<div class="mysql_to_5_1_28 mysql to_5_1_28 product"><h5 class="product_title">MySQL until 5.1.28</h5><p>Prior to MySQL 5.1.29, When you modify an existing view, the
current view definition is backed up and saved. It is stored in that
table's database directory, in a subdirectory named arc. The backup
file for a view v is named v.frm-00001. If you alter the view again,
the next backup is named v.frm-00002. The three latest view backup
definitions are stored. Backed up view definitions are not preserved
by <a href="https://mariadb.com/kb/en/mysqldump/">mysqldump</a>, or any other such programs, but you can retain them
using a file copy operation. However, they are not needed for anything
but to provide you with a backup of your previous view definition. It
is safe to remove these backup definitions, but only while mysqld is
not running. If you delete the arc subdirectory or its files while
mysqld is running, you will receive an error the next time you try to
alter the view: 
</p><pre class="fixed">MariaDB [test]&gt; ALTER VIEW v AS SELECT * FROM t; 
ERROR 6 (HY000): Error on delete of '.\test\arc/v.frm-0004' (Errcode: 2)
</pre>
</div><p>Columns retrieved by the SELECT statement can be simple references to
table columns. They can also be expressions that use functions,
constant values, operators, and so forth.</p>
<p>Unqualified table or view names in the SELECT statement are
interpreted with respect to the default database. A view can refer to
tables or views in other databases by qualifying the table or view
name with the proper database name.</p>
<p>A view can be created from many kinds of SELECT statements. It can
refer to base tables or other views. It can use joins, UNION, and
subqueries. The SELECT need not even refer to any tables. The
following example defines a view that selects two columns from another
table, as well as an expression calculated from those columns:</p>
<pre class="fixed">CREATE TABLE t (qty INT, price INT);

INSERT INTO t VALUES(3, 50);

CREATE VIEW v AS SELECT qty, price, qty*price AS value FROM t;

SELECT * FROM v;
+------+-------+-------+
| qty  | price | value |
+------+-------+-------+
|    3 |    50 |   150 |
+------+-------+-------+
</pre><p>A view definition is subject to the following restrictions:</p>
<ul start="1"><li>The SELECT statement cannot contain a subquery in the FROM clause.
</li><li>The SELECT statement cannot refer to system or user variables.
</li><li>Within a stored program, the definition cannot refer to program parameters or local variables.
</li><li>The SELECT statement cannot refer to prepared statement parameters.
</li><li>Any table or view referred to in the definition must exist. However, after a view has been created, it is possible to drop a table or view that the definition refers to. In this case, use of the view results in an error. To check a view definition for problems of this kind, use the CHECK TABLE statement.
</li><li>The definition cannot refer to a TEMPORARY table, and you cannot create a TEMPORARY view.
</li><li>Any tables named in the view definition must exist at definition time.
</li><li>You cannot associate a trigger with a view.
</li><li>For valid identifiers to use as view names, see <a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>.
</li></ul>
<p>ORDER BY is allowed in a view definition, but it is ignored if you
select from a view using a statement that has its own ORDER BY.</p>
<p>For other options or clauses in the definition, they are added to the
options or clauses of the statement that references the view, but the
effect is undefined. For example, if a view definition includes a
LIMIT clause, and you select from the view using a statement that has
its own LIMIT clause, it is undefined which limit applies. This same
principle applies to options such as ALL, DISTINCT, or
SQL_SMALL_RESULT that follow the SELECT keyword, and to clauses such
as INTO, FOR UPDATE, and LOCK IN SHARE MODE.</p>
<p>The PROCEDURE clause cannot be used in a view definition, and it cannot be used if a view is referenced in the FROM clause.</p>
<p>If you create a view and then change the query processing environment
by changing system variables, that may affect the results that you get
from the view:</p>
<pre class="fixed">CREATE VIEW v (mycol) AS SELECT 'abc';

SET sql_mode = '';

SELECT "mycol" FROM v;
+-------+
| mycol |
+-------+
| mycol | 
+-------+

SET sql_mode = 'ANSI_QUOTES';

SELECT "mycol" FROM v;
+-------+
| mycol |
+-------+
| abc   | 
+-------+
</pre><p>The DEFINER and SQL SECURITY clauses determine which MariaDB account to
use when checking access privileges for the view when a statement is
executed that references the view. They were added in MySQL 5.1.2.
The legal SQL SECURITY characteristic values are DEFINER and INVOKER.
These indicate that the required privileges must be held by the user
who defined or invoked the view, respectively. The default SQL
SECURITY value is DEFINER.</p>
<p>If a user value is given for the DEFINER clause, it should be a MariaDB
account in 'user_name'@'host_name' format (the same format used in the
GRANT statement). The user_name and host_name values both are
required.  The definer can also be given as CURRENT_USER or
CURRENT_USER(). The default DEFINER value is the user who executes the
CREATE VIEW statement. This is the same as specifying DEFINER =
CURRENT_USER explicitly.</p>
<p>If you specify the DEFINER clause, these rules determine the legal
DEFINER user values:</p>
<ul start="1"><li>If you do not have the <a ">SUPER</a> privilege, or, from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the <a ">SET USER</a> privilege, the only legal user value is your own account, either specified literally or by using CURRENT_USER. You cannot set the definer to some other account.
</li><li>If you have the <a ">SUPER</a> privilege, or, from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the <a ">SET USER</a> privilege, you can specify any syntactically legal account name. If the account does not actually exist, a warning is generated.
</li><li>If the SQL SECURITY value is DEFINER but the definer account does not exist when the view is referenced, an error occurs.
</li></ul>
<p>Within a view definition, CURRENT_USER returns the view's DEFINER
value by default. For views
defined with the SQL SECURITY INVOKER characteristic, CURRENT_USER
returns the account for the view's invoker. For information about user
auditing within views, see
<a href="http://dev.mysql.com/doc/refman/5.1/en/account-activity-auditing.html">http://dev.mysql.com/doc/refman/5.1/en/account-activity-auditing.html</a>.</p>
<p>Within a stored routine that is defined with the SQL SECURITY DEFINER
characteristic, CURRENT_USER returns the routine's DEFINER value. This
also affects a view defined within such a program, if the view
definition contains a DEFINER value of CURRENT_USER.</p>
<p>View privileges are checked like this:</p>
<ul start="1"><li>At view definition time, the view creator must have the privileges needed to use the top-level objects accessed by the view. For example, if the view definition refers to table columns, the creator must have privileges for the columns, as described previously. If the definition refers to a stored function, only the privileges needed to invoke the function can be checked. The privileges required when the function runs can be checked only as it executes: For different invocations of the function, different execution paths within the function might be taken.
</li><li>When a view is referenced, privileges for objects accessed by the view are checked against the privileges held by the view creator or invoker, depending on whether the SQL SECURITY characteristic is DEFINER or INVOKER, respectively.
</li><li>If reference to a view causes execution of a stored function, privilege checking for statements executed within the function depend on whether the function is defined with a SQL SECURITY characteristic of DEFINER or INVOKER. If the security characteristic is DEFINER, the function runs with the privileges of its creator. If the characteristic is INVOKER, the function runs with the privileges determined by the view's SQL SECURITY characteristic.
</li></ul>
<p>Example: A view might depend on a stored function, and that function
might invoke other stored routines. For example, the following view
invokes a stored function f():</p>
<pre class="fixed">CREATE VIEW v AS SELECT * FROM t WHERE t.id = f(t.name);

Suppose that f() contains a statement such as this:

IF name IS NULL then
  CALL p1();
ELSE
  CALL p2();
END IF;
</pre><p>The privileges required for executing statements within f() need to be
checked when f() executes. This might mean that privileges are needed
for p1() or p2(), depending on the execution path within f(). Those
privileges must be checked at runtime, and the user who must possess
the privileges is determined by the SQL SECURITY values of the view v
and the function f().</p>
<p>The DEFINER and SQL SECURITY clauses for views are extensions to
standard SQL. In standard SQL, views are handled using the rules for
SQL SECURITY INVOKER.</p>
<p>If you invoke a view that was created before MySQL 5.1.2, it is
treated as though it was created with a SQL SECURITY DEFINER clause
and with a DEFINER value that is the same as your account. However,
because the actual definer is unknown, MySQL issues a warning. To make
the warning go away, it is sufficient to re-create the view so that
the view definition includes a DEFINER clause.</p>
<p>The optional ALGORITHM clause is an extension to standard SQL. It
affects how MariaDB processes the view. ALGORITHM takes three values:
MERGE, TEMPTABLE, or UNDEFINED. The default algorithm is UNDEFINED if
no ALGORITHM clause is present. See <a href="https://mariadb.com/kb/en/view-algorithms/">View Algorithms</a> for more information.</p>
<p>Some views are updatable. That is, you can use them in statements such
as UPDATE, DELETE, or INSERT to update the contents of the underlying
table. For a view to be updatable, there must be a one-to-one
relationship between the rows in the view and the rows in the
underlying table. There are also certain other constructs that make a
view non-updatable. See <a href="https://mariadb.com/kb/en/inserting-and-updating-with-views/">Inserting and Updating with Views</a>.</p>
<h3 class="anchored_heading" id="create-viewwith-check-option">WITH CHECK OPTION</h3>
<p>The WITH CHECK OPTION clause can be given for an updatable view to
prevent inserts or updates to rows except those for which the WHERE
clause in the select_statement is true.</p>
<p>In a WITH CHECK OPTION clause for an updatable view, the LOCAL and
CASCADED keywords determine the scope of check testing when the view
is defined in terms of another view. The LOCAL keyword restricts the
CHECK OPTION only to the view being defined. CASCADED causes the
checks for underlying views to be evaluated as well. When neither
keyword is given, the default is CASCADED.</p>
<p>For more information about updatable views and the WITH CHECK OPTION
clause, see
<a href="https://mariadb.com/kb/en/inserting-and-updating-with-views/">Inserting and Updating with Views</a>.</p>
<h3 class="anchored_heading" id="create-viewif-not-exists">IF NOT EXISTS</h3>
<div class="mariadb_from_10_1_3 mariadb from_10_1_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1013-release-notes/">10.1.3</a></h5><p>The <code>IF NOT EXISTS</code> clause was added in <a href="https://mariadb.com/kb/en/mariadb-1013-release-notes/">MariaDB 10.1.3</a></p>
</div><p>When the IF NOT EXISTS clause is used, MariaDB will return a warning instead of an error if the specified view already exists. Cannot be used together with the <code>OR REPLACE</code> clause.</p>
<h3 class="anchored_heading" id="create-viewatomic-ddl">Atomic DDL</h3>
<div class="mariadb_from_10_6_1 mariadb from_10_6_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">10.6.1</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">MariaDB 10.6.1</a> supports <a href="https://mariadb.com/kb/en/atomic-ddl/">Atomic DDL</a> and <code>CREATE VIEW</code> is atomic.</p>
</div><h2 class="anchored_heading" id="create-viewexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">b</span> <span class="nb">INT</span><span class="p">)</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">InnoDB</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">v</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="o">*</span><span class="mi">2</span> <span class="k">AS</span> <span class="n">a2</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">v</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="n">a2</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
</pre><p>OR REPLACE and IF NOT EXISTS:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">v</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="o">*</span><span class="mi">2</span> <span class="k">AS</span> <span class="n">a2</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1050</span> <span class="p">(</span><span class="mi">42</span><span class="n">S01</span><span class="p">):</span> <span class="k">Table</span> <span class="s1">'v'</span> <span class="n">already</span> <span class="k">exists</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">VIEW</span> <span class="n">v</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="o">*</span><span class="mi">2</span> <span class="k">AS</span> <span class="n">a2</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">v</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="o">*</span><span class="mi">2</span> <span class="k">AS</span> <span class="n">a2</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+--------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+--------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1050</span> <span class="o">|</span> <span class="k">Table</span> <span class="s1">'v'</span> <span class="n">already</span> <span class="k">exists</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+--------------------------+</span>
</pre><h2 class="anchored_heading" id="create-viewsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>
</li><li><a href="#alter-view">ALTER VIEW</a>
</li><li><a href="#drop-view">DROP VIEW</a>
</li><li><a href="show-create-views">SHOW CREATE VIEWS</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-views-table/">INFORMATION SCHEMA VIEWS Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-package">DROP PACKAGE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_5 mariadb from_10_3_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">10.3.5</a></h5><p>Oracle-style packages were introduced in <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">MariaDB 10.3.5</a>.</p>
</div><h2 class="anchored_heading" id="drop-packagesyntax">Syntax</h2>
<pre class="fixed">DROP PACKAGE [IF EXISTS]  [ db_name . ] package_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_5"><a href="#drop-packagesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_5"><a href="#drop-packagedescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_5"><a href="#drop-packagesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="drop-packagedescription">Description</h2>
<p>The <code>DROP PACKAGE</code> statement can be used when <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle SQL_MODE</a> is set.</p>
<p>The <code>DROP PACKAGE</code> statement drops a stored package entirely:</p>
<ul start="1"><li>Drops the package specification (earlier created using the <a href="#create-package">CREATE PACKAGE</a> statement).
</li><li>Drops the package implementation, if the implementation was already created using the <a href="#create-package-body">CREATE PACKAGE BODY</a> statement.
</li></ul>
<h2 class="anchored_heading" id="drop-packagesee-also">See Also</h2>
<ul start="1"><li><a href="#show-create-package">SHOW CREATE PACKAGE</a>
</li><li><a href="#create-package">CREATE PACKAGE</a>
</li><li><a href="#create-package-body">CREATE PACKAGE BODY</a>
</li><li><a href="#drop-package-body">DROP PACKAGE BODY</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle SQL_MODE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-package-body">DROP PACKAGE BODY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_5 mariadb from_10_3_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">10.3.5</a></h5><p>Oracle-style packages were introduced in <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">MariaDB 10.3.5</a>.</p>
</div><h2 class="anchored_heading" id="drop-package-bodysyntax">Syntax</h2>
<pre class="fixed">DROP PACKAGE BODY [IF EXISTS]  [ db_name . ] package_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_5"><a href="#drop-package-bodysyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_5"><a href="#drop-package-bodydescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_5"><a href="#drop-package-bodysee-also" title="See also">See also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="drop-package-bodydescription">Description</h2>
<p>The <code>DROP PACKAGE BODY</code> statement can be used when <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle SQL_MODE</a> is set.</p>
<p>The <code>DROP PACKAGE BODY</code> statement drops the package body (i.e the implementation), previously created using the <a href="#create-package-body">CREATE PACKAGE BODY</a> statement.</p>
<p>Note, <code>DROP PACKAGE BODY</code> drops only the package implementation, but does not drop the package specification. Use <a href="#drop-package">DROP PACKAGE</a> to drop the package entirely (i.e. both implementation and specification).</p>
<h2 class="anchored_heading" id="drop-package-bodysee-also">See also</h2>
<ul start="1"><li><a href="#create-package">CREATE PACKAGE</a>
</li><li><a href="#show-create-package">SHOW CREATE PACKAGE</a>
</li><li><a href="#drop-package">DROP PACKAGE</a>
</li><li><a href="#create-package-body">CREATE PACKAGE BODY</a>
</li><li><a href="#show-create-package-body">SHOW CREATE PACKAGE BODY</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle SQL_MODE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="set">SET</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="setsyntax">Syntax</h2>
<pre class="fixed">SET variable_assignment [, variable_assignment] ...

variable_assignment:
      user_var_name = expr
    | [GLOBAL | SESSION] system_var_name = expr
    | [@@global. | @@session. | @@]system_var_name = expr
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#setsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#setdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#setglobal-session" title="GLOBAL / SESSION">GLOBAL / SESSION</a></li>
<li class=""><a href="#setdefault" title="DEFAULT">DEFAULT</a> </li></ol>
</li>
<li class=""><a href="#setexamples" title="Examples">Examples</a></li>
<li class=""><a href="#setsee-also" title="See Also">See Also</a> </li></ol>

</div>
<p>One can also set a user variable in any expression with this syntax:</p>
<pre class="fixed">user_var_name:= expr
</pre><h2 class="anchored_heading" id="setdescription">Description</h2>
<p>The <code class="fixed" style="white-space:pre-wrap">SET</code> statement assigns values to different types of
variables that affect the operation of the server or your client. Older
versions of MySQL employed <code class="fixed" style="white-space:pre-wrap">SET OPTION</code>, but this syntax was
deprecated in favor of <code class="fixed" style="white-space:pre-wrap">SET</code> without <code class="fixed" style="white-space:pre-wrap">OPTION</code>, and was removed in <a href="https://mariadb.com/kb/en/what-is-mariadb-100/">MariaDB 10.0</a>.</p>
<p>Changing a system variable by using the SET statement does not make the change permanently. To do so, the change must be made in a <a href="https://mariadb.com/kb/en/mysqld-configuration-files-and-groups/">configuration file</a>.</p>
<p>For setting variables on a per-query basis (from <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a>), see <code><a href="https://mariadb.com/kb/en/set-statement/">SET STATEMENT</a></code>.</p>
<p>See <code><a href="#show-variables">SHOW VARIABLES</a></code> for documentation on viewing server system variables.</p>
<p>See <a href="https://mariadb.com/kb/en/server-system-variables/">Server System Variables</a> for a list of all the system variables.</p>
<h3 class="anchored_heading" id="setglobal-session">GLOBAL / SESSION</h3>
<p>When setting a system variable, the scope can be specified as either GLOBAL or SESSION.</p>
<p>A global variable change affects all new sessions. It does not affect any currently open sessions, including the one that made the change. </p>
<p>A session variable change affects the current session only.</p>
<p>If the variable has a session value, not specifying either GLOBAL or SESSION will be the same as specifying SESSION. If the variable only has a global value, not specifying GLOBAL or SESSION will apply to the change to the global value.</p>
<h3 class="anchored_heading" id="setdefault">DEFAULT</h3>
<p>Setting a global variable to DEFAULT will restore it to the server default, and setting a session variable to DEFAULT will restore it to the current global value.</p>
<h2 class="anchored_heading" id="setexamples">Examples</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/xtradbinnodb-server-system-variables/#innodb_sync_spin_loops">innodb_sync_spin_loops</a> is a global variable.
</li><li><a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#skip_parallel_replication">skip_parallel_replication</a> is a session variable.
</li><li><a href="https://mariadb.com/kb/en/server-system-variables/#max_error_count">max_error_count</a> is both global and session.
</li></ul>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">VARIABLE_NAME</span><span class="p">,</span> <span class="n">SESSION_VALUE</span><span class="p">,</span> <span class="n">GLOBAL_VALUE</span> <span class="k">FROM</span>
 <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">SYSTEM_VARIABLES</span> <span class="k">WHERE</span> 
  <span class="n">VARIABLE_NAME</span> <span class="k">IN</span> <span class="p">(</span><span class="s1">'max_error_count'</span><span class="p">,</span> <span class="s1">'skip_parallel_replication'</span><span class="p">,</span> <span class="s1">'innodb_sync_spin_loops'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------+---------------+--------------+</span>
<span class="o">|</span> <span class="n">VARIABLE_NAME</span>             <span class="o">|</span> <span class="n">SESSION_VALUE</span> <span class="o">|</span> <span class="n">GLOBAL_VALUE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+---------------+--------------+</span>
<span class="o">|</span> <span class="n">MAX_ERROR_COUNT</span>           <span class="o">|</span> <span class="mi">64</span>            <span class="o">|</span> <span class="mi">64</span>           <span class="o">|</span>
<span class="o">|</span> <span class="n">SKIP_PARALLEL_REPLICATION</span> <span class="o">|</span> <span class="k">OFF</span>           <span class="o">|</span> <span class="k">NULL</span>         <span class="o">|</span>
<span class="o">|</span> <span class="n">INNODB_SYNC_SPIN_LOOPS</span>    <span class="o">|</span> <span class="k">NULL</span>          <span class="o">|</span> <span class="mi">30</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+---------------+--------------+</span>
</pre><p>Setting the session values:</p>
<pre class="fixed"><span class="k">SET</span> <span class="n">max_error_count</span><span class="o">=</span><span class="mi">128</span><span class="p">;</span><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SET</span> <span class="n">skip_parallel_replication</span><span class="o">=</span><span class="k">ON</span><span class="p">;</span><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SET</span> <span class="n">innodb_sync_spin_loops</span><span class="o">=</span><span class="mi">60</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1229</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="k">Variable</span> <span class="s1">'innodb_sync_spin_loops'</span> <span class="k">is</span> <span class="n">a</span> <span class="k">GLOBAL</span> <span class="k">variable</span> 
  <span class="k">and</span> <span class="n">should</span> <span class="n">be</span> <span class="k">set</span> <span class="k">with</span> <span class="k">SET</span> <span class="k">GLOBAL</span>

<span class="k">SELECT</span> <span class="n">VARIABLE_NAME</span><span class="p">,</span> <span class="n">SESSION_VALUE</span><span class="p">,</span> <span class="n">GLOBAL_VALUE</span> <span class="k">FROM</span>
 <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">SYSTEM_VARIABLES</span> <span class="k">WHERE</span> 
  <span class="n">VARIABLE_NAME</span> <span class="k">IN</span> <span class="p">(</span><span class="s1">'max_error_count'</span><span class="p">,</span> <span class="s1">'skip_parallel_replication'</span><span class="p">,</span> <span class="s1">'innodb_sync_spin_loops'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------+---------------+--------------+</span>
<span class="o">|</span> <span class="n">VARIABLE_NAME</span>             <span class="o">|</span> <span class="n">SESSION_VALUE</span> <span class="o">|</span> <span class="n">GLOBAL_VALUE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+---------------+--------------+</span>
<span class="o">|</span> <span class="n">MAX_ERROR_COUNT</span>           <span class="o">|</span> <span class="mi">128</span>           <span class="o">|</span> <span class="mi">64</span>           <span class="o">|</span>
<span class="o">|</span> <span class="n">SKIP_PARALLEL_REPLICATION</span> <span class="o">|</span> <span class="k">ON</span>            <span class="o">|</span> <span class="k">NULL</span>         <span class="o">|</span>
<span class="o">|</span> <span class="n">INNODB_SYNC_SPIN_LOOPS</span>    <span class="o">|</span> <span class="k">NULL</span>          <span class="o">|</span> <span class="mi">30</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+---------------+--------------+</span>
</pre><p>Setting the global values:</p>
<pre class="fixed"><span class="k">SET</span> <span class="k">GLOBAL</span> <span class="n">max_error_count</span><span class="o">=</span><span class="mi">256</span><span class="p">;</span>

<span class="k">SET</span> <span class="k">GLOBAL</span> <span class="n">skip_parallel_replication</span><span class="o">=</span><span class="k">ON</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1228</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="k">Variable</span> <span class="s1">'skip_parallel_replication'</span> <span class="k">is</span> <span class="n">a</span> <span class="k">SESSION</span> <span class="k">variable</span> 
  <span class="k">and</span> <span class="n">can</span><span class="s1">'t be used with SET GLOBAL</span>

<span class="s1">SET GLOBAL innodb_sync_spin_loops=120;</span>

<span class="s1">SELECT VARIABLE_NAME, SESSION_VALUE, GLOBAL_VALUE FROM</span>
<span class="s1"> INFORMATION_SCHEMA.SYSTEM_VARIABLES WHERE </span>
<span class="s1">  VARIABLE_NAME IN ('</span><span class="n">max_error_count</span><span class="s1">', '</span><span class="n">skip_parallel_replication</span><span class="s1">', '</span><span class="n">innodb_sync_spin_loops</span><span class="err">'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------+---------------+--------------+</span>
<span class="o">|</span> <span class="n">VARIABLE_NAME</span>             <span class="o">|</span> <span class="n">SESSION_VALUE</span> <span class="o">|</span> <span class="n">GLOBAL_VALUE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+---------------+--------------+</span>
<span class="o">|</span> <span class="n">MAX_ERROR_COUNT</span>           <span class="o">|</span> <span class="mi">128</span>           <span class="o">|</span> <span class="mi">256</span>          <span class="o">|</span>
<span class="o">|</span> <span class="n">SKIP_PARALLEL_REPLICATION</span> <span class="o">|</span> <span class="k">ON</span>            <span class="o">|</span> <span class="k">NULL</span>         <span class="o">|</span>
<span class="o">|</span> <span class="n">INNODB_SYNC_SPIN_LOOPS</span>    <span class="o">|</span> <span class="k">NULL</span>          <span class="o">|</span> <span class="mi">120</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+---------------+--------------+</span>
</pre><p><a href="#show-variables">SHOW VARIABLES</a> will by default return the session value unless the variable is global only.</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'max_error_count'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>   <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-------+</span>
<span class="o">|</span> <span class="n">max_error_count</span> <span class="o">|</span> <span class="mi">128</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-------+</span>

<span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'skip_parallel_replication'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>             <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+-------+</span>
<span class="o">|</span> <span class="n">skip_parallel_replication</span> <span class="o">|</span> <span class="k">ON</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+-------+</span>

<span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'innodb_sync_spin_loops'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>          <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+-------+</span>
<span class="o">|</span> <span class="n">innodb_sync_spin_loops</span> <span class="o">|</span> <span class="mi">120</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+-------+</span>
</pre><p>Using the inplace syntax:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="p">(</span><span class="o">@</span><span class="n">a</span><span class="p">:</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="p">(</span><span class="o">@</span><span class="n">a</span><span class="p">:</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>       <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">SELECT</span> <span class="o">@</span><span class="n">a</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="o">@</span><span class="n">a</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><h2 class="anchored_heading" id="setsee-also">See Also</h2>
<ul start="1"><li><a href="#last_value">Using last_value() to return data of used rows</a>
</li><li><a href="https://mariadb.com/kb/en/set-statement/">SET STATEMENT</a>
</li><li><a href="https://mariadb.com/kb/en/set-variable/">SET Variable</a>
</li><li><a href="#set-data-type">SET Data Type</a>
</li><li><a href="#declare-variable">DECLARE Variable</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-tablespace">DROP TABLESPACE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="cstm-style redbox"><p>The <code>DROP TABLESPACE</code> statement is not supported by MariaDB. It was originally inherited from MySQL NDB Cluster. In MySQL 5.7 and later, the statement is also supported for InnoDB. However, MariaDB has chosen not to include that specific feature. See <a href="https://jira.mariadb.org/browse/MDEV-19294">MDEV-19294</a> for more information.</p>
</div>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="lastval">LASTVAL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p><code>LASTVAL</code> is a synonym for <a href="#previous-value-for-sequence_name">PREVIOUS VALUE for sequence_name</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="nextval">NEXTVAL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p><code>NEXTVAL</code> is a synonym for <a href="#next-value-for-sequence_name">NEXT VALUE for sequence_name</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_array">JSON_ARRAY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_ARRAY([value[, value2] ...])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a JSON array containing the listed values. The list can be empty.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed">SELECT Json_Array(56, 3.1416, 'My name is "Foo"', NULL);
+--------------------------------------------------+
| Json_Array(56, 3.1416, 'My name is "Foo"', NULL) |
+--------------------------------------------------+
| [56, 3.1416, "My name is \"Foo\"", null]         |
+--------------------------------------------------+
</pre><h2 class="anchored_heading" id="see-also">See also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/connect-json-table-type/#json_make_array">JSON_MAKE_ARRAY</a>, the CONNECT storage engine function</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_compact">JSON_COMPACT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_4 mariadb from_10_2_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">10.2.4</a></h5><p>This function was added in <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">MariaDB 10.2.4</a>.</p>
</div><h2 class="anchored_heading" id="json_compactsyntax">Syntax</h2>
<pre class="fixed">JSON_COMPACT(json_doc)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_4"><a href="#json_compactsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2_4"><a href="#json_compactdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2_4"><a href="#json_compactexample" title="Example">Example</a></li>
<li class="mariadb_from_10_2_4"><a href="#json_compactsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="json_compactdescription">Description</h2>
<p>Removes all unnecessary spaces so the json document is as short as possible.</p>
<h2 class="anchored_heading" id="json_compactexample">Example</h2>
<pre class="fixed">SET @j = '{ "A": 1, "B": [2, 3]}';

SELECT JSON_COMPACT(@j), @j;
+-------------------+------------------------+
| JSON_COMPACT(@j)  | @j                     |
+-------------------+------------------------+
| {"A":1,"B":[2,3]} | { "A": 1, "B": [2, 3]} |
+-------------------+------------------------+
</pre><h2 class="anchored_heading" id="json_compactsee-also">See Also</h2>
<ul start="1"><li><a href="https://www.youtube.com/watch?v=sLE7jPETp8g">JSON video tutorial</a> covering JSON_COMPACT.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_detailed">JSON_DETAILED</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_4 mariadb from_10_2_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">10.2.4</a></h5><p>This function was added in <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">MariaDB 10.2.4</a>.</p>
</div><h2 class="anchored_heading" id="json_detailedsyntax">Syntax</h2>
<pre class="fixed">JSON_DETAILED(json_doc[, tab_size])
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_4"><a href="#json_detailedsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2_4"><a href="#json_detaileddescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2_4"><a href="#json_detailedexample" title="Example">Example</a></li>
<li class="mariadb_from_10_2_4"><a href="#json_detailedsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="json_detaileddescription">Description</h2>
<p>Represents JSON in the most understandable way emphasizing nested structures.</p>
<h2 class="anchored_heading" id="json_detailedexample">Example</h2>
<pre class="fixed">SET @j = '{ "A":1,"B":[2,3]}';

SELECT @j;
+--------------------+
| @j                 |
+--------------------+
| { "A":1,"B":[2,3]} |
+--------------------+

SELECT JSON_DETAILED(@j);
+------------------------------------------------------------+
| JSON_DETAILED(@j)                                          |
+------------------------------------------------------------+
| {
    "A": 1,
    "B": 
    [
        2,
        3
    ]
} |
+------------------------------------------------------------+
</pre><h2 class="anchored_heading" id="json_detailedsee-also">See Also</h2>
<ul start="1"><li><a href="https://www.youtube.com/watch?v=sLE7jPETp8g">JSON video tutorial</a> covering JSON_DETAILED.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-authors">SHOW AUTHORS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW AUTHORS
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">SHOW AUTHORS</code> statement displays information about the
people who work on MariaDB. For each author, it displays Name, Location, and
Comment values. All columns are encoded as latin1.</p>
<p>These include:</p>
<ul start="1"><li>First the active people in MariaDB are listed.
</li><li>Then the active people in MySQL.
</li><li>Last the people that have contributed to MariaDB/MySQL in the past.
</li></ul>
<p>The order is somewhat related to importance of the contribution given to the MariaDB project, but this is not 100% accurate. There is still room for improvement and debate...</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed">SHOW AUTHORS;
+--------------------------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
| Name                           | Location                              | Comment                                                                                                                                 |
+--------------------------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
| Michael (Monty) Widenius       | Tusby, Finland                        | Lead developer and main author                                                                                                          |
| Sergei Golubchik               | Kerpen, Germany                       | Architect, Full-text search, precision math, plugin framework, merges etc                                                               |
| Igor Babaev                    | Bellevue, USA                         | Optimizer, keycache, core work                                                                                                          |
| Sergey Petrunia                | St. Petersburg, Russia                | Optimizer                                                                                                                               |
| Oleksandr Byelkin              | Lugansk, Ukraine                      | Query Cache (4.0), Subqueries (4.1), Views (5.0)                                                                                        |
| Timour Katchaounov             | Sofia , Bulgaria                      | Optimizer                                                                                                                               |
| Kristian Nielsen               | Copenhagen, Denmark                   | Replication, Async client prototocol, General buildbot stuff                                                                            |
| Alexander (Bar) Barkov         | Izhevsk, Russia                       | Unicode and character sets                                                                                                              |
| Alexey Botchkov (Holyfoot)     | Izhevsk, Russia                       | GIS extensions, embedded server, precision math                                                                                         |
| Daniel Bartholomew             | Raleigh, USA                          | MariaDB documentation                                                                                                                   |
| Colin Charles                  | Selangor, Malesia                     | MariaDB documentation, talks at a LOT of conferences                                                                                    |
| Sergey Vojtovich               | Izhevsk, Russia                       | initial implementation of plugin architecture, maintained native storage engines (MyISAM, MEMORY, ARCHIVE, etc), rewrite of table cache |
| Vladislav Vaintroub            | Mannheim, Germany                     | MariaDB Java connector, new thread pool, Windows optimizations                                                                          |
| Elena Stepanova                | Sankt Petersburg, Russia              | QA, test cases                                                                                                                          |
| Georg Richter                  | Heidelberg, Germany                   | New LGPL C connector, PHP connector                                                                                                     |
| Jan Lindström                  | Ylämylly, Finland                     | Working on InnoDB                                                                                                                       |
| Lixun Peng                     | Hangzhou, China                       | Multi Source replication                                                                                                                |
| Percona                        | CA, USA                               | XtraDB, microslow patches, extensions to slow log   
...
</pre><h3 class="anchored_heading" id="see-also">See Also</h3>
<ul start="1"><li><a href="#show-contributors">SHOW CONTRIBUTORS</a>. This list <a href="https://mariadb.org/en/supporters">all members and sponsors of the MariaDB Foundation</a> and other sponsors.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-binary-logs">SHOW BINARY LOGS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW BINARY LOGS
SHOW MASTER LOGS
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Lists the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> files on the server. This statement is used as part of the
procedure described in <code><a href="https://mariadb.com/kb/en/purge-logs/">PURGE BINARY LOGS</a></code>, that shows how to
determine which logs can be purged.</p>
<p>This statement requires the <a ">SUPER</a> privilege, the <a ">REPLICATION_CLIENT</a> privilege, or, from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the <a ">BINLOG MONITOR</a> privilege.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SHOW BINARY LOGS;
+--------------------+-----------+
| Log_name           | File_size |
+--------------------+-----------+
| mariadb-bin.000001 |     19039 |
| mariadb-bin.000002 |    717389 |
| mariadb-bin.000003 |       300 |
| mariadb-bin.000004 |       333 |
| mariadb-bin.000005 |       899 |
| mariadb-bin.000006 |       125 |
| mariadb-bin.000007 |     18907 |
| mariadb-bin.000008 |     19530 |
| mariadb-bin.000009 |       151 |
| mariadb-bin.000010 |       151 |
| mariadb-bin.000011 |       125 |
| mariadb-bin.000012 |       151 |
| mariadb-bin.000013 |       151 |
| mariadb-bin.000014 |       125 |
| mariadb-bin.000015 |       151 |
| mariadb-bin.000016 |       314 |
+--------------------+-----------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-binlog-events">SHOW BINLOG EVENTS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW BINLOG EVENTS
   [IN 'log_name'] [FROM pos] [LIMIT [offset,] row_count]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Shows the events in the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>. If you do not specify '<code>log_name</code>',
the first binary log is displayed.</p>
<p>Requires the <a ">BINLOG MONITOR</a> privilege (&gt;= <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>) or the <a ">REPLICATION SLAVE</a> privilege (&lt;= <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>).</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed">SHOW BINLOG EVENTS IN 'mysql_sandbox10019-bin.000002';
+-------------------------------+-----+-------------------+-----------+-------------+------------------------------------------------+
| Log_name                      | Pos | Event_type        | Server_id | End_log_pos | Info                                           |
+-------------------------------+-----+-------------------+-----------+-------------+------------------------------------------------+
| mysql_sandbox10019-bin.000002 |   4 | Format_desc       |         1 |         248 | Server ver: 10.0.19-MariaDB-log, Binlog ver: 4 |
| mysql_sandbox10019-bin.000002 | 248 | Gtid_list         |         1 |         273 | []                                             |
| mysql_sandbox10019-bin.000002 | 273 | Binlog_checkpoint |         1 |         325 | mysql_sandbox10019-bin.000002                  |
| mysql_sandbox10019-bin.000002 | 325 | Gtid              |         1 |         363 | GTID 0-1-1                                     |
| mysql_sandbox10019-bin.000002 | 363 | Query             |         1 |         446 | CREATE DATABASE blog                           |
| mysql_sandbox10019-bin.000002 | 446 | Gtid              |         1 |         484 | GTID 0-1-2                                     |
| mysql_sandbox10019-bin.000002 | 484 | Query             |         1 |         571 | use `blog`; CREATE TABLE bb (id INT)           |
+-------------------------------+-----+-------------------+-----------+-------------+------------------------------------------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_loose">JSON_LOOSE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_4 mariadb from_10_2_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">10.2.4</a></h5><p>This function was added in <a href="https://mariadb.com/kb/en/mariadb-1024-release-notes/">MariaDB 10.2.4</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_LOOSE(json_doc)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Adds spaces to a JSON document to make it look more readable.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed">SET @j = '{ "A":1,"B":[2,3]}';

SELECT JSON_LOOSE(@j), @j;
+-----------------------+--------------------+
| JSON_LOOSE(@j)        | @j                 |
+-----------------------+--------------------+
| {"A": 1, "B": [2, 3]} | { "A":1,"B":[2,3]} |
+-----------------------+--------------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_merge">JSON_MERGE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_MERGE(json_doc, json_doc[, json_doc] ...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Merges the given JSON documents.</p>
<p>Returns the merged result,or NULL if any argument is NULL.</p>
<p>An error occurs if any of the arguments are not valid JSON documents.</p>
<p><code>JSON_MERGE</code> has been deprecated since <a href="https://mariadb.com/kb/en/mariadb-10225-release-notes/">MariaDB 10.2.25</a>, <a href="https://mariadb.com/kb/en/mariadb-10316-release-notes/">MariaDB 10.3.16</a> and <a href="https://mariadb.com/kb/en/mariadb-1045-release-notes/">MariaDB 10.4.5</a>. <a href="https://mariadb.com/kb/en/json_merge_patch/">JSON_MERGE_PATCH</a> is an RFC 7396-compliant replacement, and <a href="https://mariadb.com/kb/en/json_merge_preserve/">JSON_MERGE_PRESERVE</a> is a synonym.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">json1</span> <span class="o">=</span> <span class="s1">'[1, 2]'</span><span class="p">;</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">json2</span> <span class="o">=</span> <span class="s1">'[3, 4]'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">JSON_MERGE</span><span class="p">(</span><span class="o">@</span><span class="n">json1</span><span class="p">,</span><span class="o">@</span><span class="n">json2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="n">JSON_MERGE</span><span class="p">(</span><span class="o">@</span><span class="n">json1</span><span class="p">,</span><span class="o">@</span><span class="n">json2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>              <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/json_merge_patch/">JSON_MERGE_PATCH</a>
</li><li><a href="https://mariadb.com/kb/en/json_merge_preserve/">JSON_MERGE_PRESERVE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_object">JSON_OBJECT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_OBJECT([key, value[, key, value] ...])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a JSON object containing the given key/value pairs. The key/value list can be empty.</p>
<p>An error will occur if there are an odd number of arguments, or any key name is NULL.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed">SELECT JSON_OBJECT("id", 1, "name", "Monty");
+---------------------------------------+
| JSON_OBJECT("id", 1, "name", "Monty") |
+---------------------------------------+
| {"id": 1, "name": "Monty"}            |
+---------------------------------------+
</pre><h2 class="anchored_heading" id="see-also">See also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/connect-json-table-type/#json_make_object">JSON_MAKE_OBJECT</a>, the CONNECT storage engine function</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-character-set">SHOW CHARACTER SET</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-character-setsyntax">Syntax</h2>
<pre class="fixed">SHOW CHARACTER SET
    [LIKE 'pattern' | WHERE expr]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-character-setsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-character-setdescription" title="Description">Description</a></li>
<li class=""><a href="#show-character-setexamples" title="Examples">Examples</a></li>
<li class=""><a href="#show-character-setsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-character-setdescription">Description</h2>
<p>The <code class="fixed" style="white-space:pre-wrap">SHOW CHARACTER SET</code> statement shows all available <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character sets</a>.  The <code class="fixed" style="white-space:pre-wrap">LIKE</code> clause, if present on its own, indicates which character
set names to match. The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> and <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clauses can be given to select rows using more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>.</p>
<p>The same information can be queried from the <a href="https://mariadb.com/kb/en/information-schema-character_sets-table/">Information Schema CHARACTER_SETS</a> table.</p>
<p>See <a href="https://mariadb.com/kb/en/setting-character-sets-and-collations/">Setting Character Sets and Collations</a> for details on specifying the character set at the server, database, table and column levels.</p>
<h2 class="anchored_heading" id="show-character-setexamples">Examples</h2>
<pre class="fixed">SHOW CHARACTER SET LIKE 'latin%';
+---------+-----------------------------+-------------------+--------+
| Charset | Description                 | Default collation | Maxlen |
+---------+-----------------------------+-------------------+--------+
| latin1  | cp1252 West European        | latin1_swedish_ci |      1 |
| latin2  | ISO 8859-2 Central European | latin2_general_ci |      1 |
| latin5  | ISO 8859-9 Turkish          | latin5_turkish_ci |      1 |
| latin7  | ISO 8859-13 Baltic          | latin7_general_ci |      1 |
+---------+-----------------------------+-------------------+--------+
</pre><pre class="fixed">SHOW CHARACTER SET WHERE Maxlen LIKE '2';
+---------+---------------------------+-------------------+--------+
| Charset | Description               | Default collation | Maxlen |
+---------+---------------------------+-------------------+--------+
| big5    | Big5 Traditional Chinese  | big5_chinese_ci   |      2 |
| sjis    | Shift-JIS Japanese        | sjis_japanese_ci  |      2 |
| euckr   | EUC-KR Korean             | euckr_korean_ci   |      2 |
| gb2312  | GB2312 Simplified Chinese | gb2312_chinese_ci |      2 |
| gbk     | GBK Simplified Chinese    | gbk_chinese_ci    |      2 |
| ucs2    | UCS-2 Unicode             | ucs2_general_ci   |      2 |
| cp932   | SJIS for Windows Japanese | cp932_japanese_ci |      2 |
+---------+---------------------------+-------------------+--------+
</pre><h2 class="anchored_heading" id="show-character-setsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/supported-character-sets-and-collations/">Supported Character Sets and Collations</a>
</li><li><a href="https://mariadb.com/kb/en/setting-character-sets-and-collations/">Setting Character Sets and Collations</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-character_sets-table/">Information Schema CHARACTER_SETS</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-client-statistics">SHOW CLIENT_STATISTICS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW CLIENT_STATISTICS
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code>SHOW CLIENT_STATISTICS</code> statement is part of the <a href="https://mariadb.com/kb/en/user-statistics/">User Statistics</a> feature. It was removed as a separate statement in <a href="https://mariadb.com/kb/en/mariadb-1011-release-notes/">MariaDB 10.1.1</a>, but effectively replaced by the generic <a href="https://mariadb.com/kb/en/information-schema-plugins-show-and-flush-statements/">SHOW information_schema_table</a> statement. The <a href="https://mariadb.com/kb/en/information-schema-client_statistics-table/">information_schema.CLIENT_STATISTICS</a> table holds statistics about client connections.</p>
<p>The <a href="https://mariadb.com/kb/en/server-system-variables/#userstat">userstat</a> system variable must be set to 1 to activate this feature. See the <a href="https://mariadb.com/kb/en/user-statistics/">User Statistics</a> and <a href="https://mariadb.com/kb/en/information-schema-client_statistics-table/">information_schema.CLIENT_STATISTICS</a> articles for more information.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">CLIENT_STATISTICS</span><span class="err">\</span><span class="k">G</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
                <span class="n">Client</span><span class="p">:</span> <span class="n">localhost</span>
     <span class="n">Total_connections</span><span class="p">:</span> <span class="mi">35</span>
<span class="n">Concurrent_connections</span><span class="p">:</span> <span class="mi">0</span>
        <span class="n">Connected_time</span><span class="p">:</span> <span class="mi">708</span>
             <span class="n">Busy_time</span><span class="p">:</span> <span class="mi">2</span><span class="p">.</span><span class="mi">5557979999999985</span>
              <span class="n">Cpu_time</span><span class="p">:</span> <span class="mi">0</span><span class="p">.</span><span class="mi">04123740000000002</span>
        <span class="n">Bytes_received</span><span class="p">:</span> <span class="mi">3883</span>
            <span class="n">Bytes_sent</span><span class="p">:</span> <span class="mi">21595</span>
  <span class="n">Binlog_bytes_written</span><span class="p">:</span> <span class="mi">0</span>
             <span class="n">Rows_read</span><span class="p">:</span> <span class="mi">18</span>
             <span class="n">Rows_sent</span><span class="p">:</span> <span class="mi">115</span>
          <span class="n">Rows_deleted</span><span class="p">:</span> <span class="mi">0</span>
         <span class="n">Rows_inserted</span><span class="p">:</span> <span class="mi">0</span>
          <span class="n">Rows_updated</span><span class="p">:</span> <span class="mi">0</span>
       <span class="n">Select_commands</span><span class="p">:</span> <span class="mi">70</span>
       <span class="n">Update_commands</span><span class="p">:</span> <span class="mi">0</span>
        <span class="n">Other_commands</span><span class="p">:</span> <span class="mi">0</span>
   <span class="n">Commit_transactions</span><span class="p">:</span> <span class="mi">1</span>
 <span class="n">Rollback_transactions</span><span class="p">:</span> <span class="mi">0</span>
    <span class="n">Denied_connections</span><span class="p">:</span> <span class="mi">0</span>
      <span class="n">Lost_connections</span><span class="p">:</span> <span class="mi">0</span>
         <span class="n">Access_denied</span><span class="p">:</span> <span class="mi">0</span>
         <span class="n">Empty_queries</span><span class="p">:</span> <span class="mi">35</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-collation">SHOW COLLATION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-collationsyntax">Syntax</h2>
<pre class="fixed">SHOW COLLATION
    [LIKE 'pattern' | WHERE expr]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-collationsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-collationdescription" title="Description">Description</a></li>
<li class=""><a href="#show-collationexamples" title="Examples">Examples</a></li>
<li class=""><a href="#show-collationsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-collationdescription">Description</h2>
<p>The output from <code class="highlight fixed" style="white-space:pre-wrap">SHOW COLLATION</code> includes all available
<a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">collations</a>. The <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clause, if present on its own, indicates which collation names to match. The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> and <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clauses can be given to select rows using more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>.</p>
<p>The same information can be queried from the <a href="https://mariadb.com/kb/en/information-schema-collations-table/">Information Schema COLLATIONS</a> table.</p>
<p>See <a href="https://mariadb.com/kb/en/setting-character-sets-and-collations/">Setting Character Sets and Collations</a> for details on specifying the collation at the server, database, table and column levels.</p>
<h2 class="anchored_heading" id="show-collationexamples">Examples</h2>
<pre class="fixed">SHOW COLLATION LIKE 'latin1%';
+-------------------+---------+----+---------+----------+---------+
| Collation         | Charset | Id | Default | Compiled | Sortlen |
+-------------------+---------+----+---------+----------+---------+
| latin1_german1_ci | latin1  |  5 |         | Yes      |       1 |
| latin1_swedish_ci | latin1  |  8 | Yes     | Yes      |       1 |
| latin1_danish_ci  | latin1  | 15 |         | Yes      |       1 |
| latin1_german2_ci | latin1  | 31 |         | Yes      |       2 |
| latin1_bin        | latin1  | 47 |         | Yes      |       1 |
| latin1_general_ci | latin1  | 48 |         | Yes      |       1 |
| latin1_general_cs | latin1  | 49 |         | Yes      |       1 |
| latin1_spanish_ci | latin1  | 94 |         | Yes      |       1 |
+-------------------+---------+----+---------+----------+---------+
</pre><pre class="fixed">SHOW COLLATION WHERE Sortlen LIKE '8' AND Charset LIKE 'utf8';
+--------------------+---------+-----+---------+----------+---------+
| Collation          | Charset | Id  | Default | Compiled | Sortlen |
+--------------------+---------+-----+---------+----------+---------+
| utf8_unicode_ci    | utf8    | 192 |         | Yes      |       8 |
| utf8_icelandic_ci  | utf8    | 193 |         | Yes      |       8 |
| utf8_latvian_ci    | utf8    | 194 |         | Yes      |       8 |
| utf8_romanian_ci   | utf8    | 195 |         | Yes      |       8 |
| utf8_slovenian_ci  | utf8    | 196 |         | Yes      |       8 |
| utf8_polish_ci     | utf8    | 197 |         | Yes      |       8 |
| utf8_estonian_ci   | utf8    | 198 |         | Yes      |       8 |
| utf8_spanish_ci    | utf8    | 199 |         | Yes      |       8 |
| utf8_swedish_ci    | utf8    | 200 |         | Yes      |       8 |
| utf8_turkish_ci    | utf8    | 201 |         | Yes      |       8 |
| utf8_czech_ci      | utf8    | 202 |         | Yes      |       8 |
| utf8_danish_ci     | utf8    | 203 |         | Yes      |       8 |
| utf8_lithuanian_ci | utf8    | 204 |         | Yes      |       8 |
| utf8_slovak_ci     | utf8    | 205 |         | Yes      |       8 |
| utf8_spanish2_ci   | utf8    | 206 |         | Yes      |       8 |
| utf8_roman_ci      | utf8    | 207 |         | Yes      |       8 |
| utf8_persian_ci    | utf8    | 208 |         | Yes      |       8 |
| utf8_esperanto_ci  | utf8    | 209 |         | Yes      |       8 |
| utf8_hungarian_ci  | utf8    | 210 |         | Yes      |       8 |
| utf8_sinhala_ci    | utf8    | 211 |         | Yes      |       8 |
| utf8_croatian_ci   | utf8    | 213 |         | Yes      |       8 |
+--------------------+---------+-----+---------+----------+---------+
</pre><h2 class="anchored_heading" id="show-collationsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/supported-character-sets-and-collations/">Supported Character Sets and Collations</a>
</li><li><a href="https://mariadb.com/kb/en/setting-character-sets-and-collations/">Setting Character Sets and Collations</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-collations-table/">Information Schema COLLATIONS</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_set">JSON_SET</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_SET(json_doc, path, val[, path, val] ...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Updates or inserts data into a JSON document, returning the result, or NULL if any of the arguments are NULL or the optional path fails to find an object.</p>
<p>An error will occur if the JSON document is invalid, the path is invalid or if the path contains a * or <strong> wildcard.</strong></p>
<p>JSON_SET can update or insert data, while <a href="#json_replace">JSON_REPLACE</a> can only update, and <a href="#json_insert">JSON_INSERT</a> only insert. </p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">JSON_SET</span><span class="p">(</span><span class="n">Priv</span><span class="p">,</span> <span class="s1">'$.locked'</span><span class="p">,</span> <span class="s1">'true'</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">mysql</span><span class="p">.</span><span class="n">global_priv</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="cume_dist">CUME_DIST</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2 mariadb from_10_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">10.2</a></h5><p>The CUME_DIST() function was first introduced with <a href="https://mariadb.com/kb/en/window-functions/">window functions</a> in <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2"><a href="#cume_distsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2"><a href="#cume_distdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2"><a href="#cume_distexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_2"><a href="#cume_distsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="cume_distsyntax">Syntax</h2>
<pre class="fixed">CUME_DIST() OVER ( 
  [ PARTITION BY partition_expression ] 
  [ ORDER BY order_list ]
)
</pre><h2 class="anchored_heading" id="cume_distdescription">Description</h2>
<p>CUME_DIST() is a <a href="https://mariadb.com/kb/en/window-functions/">window function</a> that returns the cumulative distribution of a given row. The following formula is used to calculate the value:</p>
<pre class="fixed">(number of rows &lt;= current row) / (total rows)
</pre><h2 class="anchored_heading" id="cume_distexamples">Examples</h2>
<pre class="fixed"><span class="k">create</span> <span class="k">table</span> <span class="n">t1</span> <span class="p">(</span>
  <span class="n">pk</span> <span class="nb">int</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span>
  <span class="n">a</span> <span class="nb">int</span><span class="p">,</span>
  <span class="n">b</span> <span class="nb">int</span>
<span class="p">);</span>


<span class="k">insert</span> <span class="k">into</span> <span class="n">t1</span> <span class="k">values</span>
<span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">3</span> <span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">4</span> <span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">8</span> <span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">5</span> <span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">6</span> <span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">7</span> <span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">9</span> <span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<span class="p">(</span><span class="mi">10</span> <span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>

<span class="k">select</span> <span class="n">pk</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span>
    <span class="n">rank</span><span class="p">()</span> <span class="n">over</span> <span class="p">(</span><span class="k">order</span> <span class="k">by</span> <span class="n">a</span><span class="p">)</span> <span class="k">as</span> <span class="n">rank</span><span class="p">,</span>
    <span class="n">percent_rank</span><span class="p">()</span> <span class="n">over</span> <span class="p">(</span><span class="k">order</span> <span class="k">by</span> <span class="n">a</span><span class="p">)</span> <span class="k">as</span> <span class="n">pct_rank</span><span class="p">,</span>
    <span class="n">cume_dist</span><span class="p">()</span> <span class="n">over</span> <span class="p">(</span><span class="k">order</span> <span class="k">by</span> <span class="n">a</span><span class="p">)</span> <span class="k">as</span> <span class="n">cume_dist</span>
<span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+------+------+------+--------------+--------------+</span>
<span class="o">|</span> <span class="n">pk</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span> <span class="n">rank</span> <span class="o">|</span> <span class="n">pct_rank</span>     <span class="o">|</span> <span class="n">cume_dist</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+------+--------------+--------------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2222222222</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2222222222</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4444444444</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4444444444</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4444444444</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4444444444</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">9</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8888888889</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">10</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8888888889</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+------+--------------+--------------+</span>

<span class="k">select</span> <span class="n">pk</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span>
       <span class="n">percent_rank</span><span class="p">()</span> <span class="n">over</span> <span class="p">(</span><span class="k">order</span> <span class="k">by</span> <span class="n">pk</span><span class="p">)</span> <span class="k">as</span> <span class="n">pct_rank</span><span class="p">,</span>
       <span class="n">cume_dist</span><span class="p">()</span> <span class="n">over</span> <span class="p">(</span><span class="k">order</span> <span class="k">by</span> <span class="n">pk</span><span class="p">)</span> <span class="k">as</span> <span class="n">cume_dist</span>
<span class="k">from</span> <span class="n">t1</span> <span class="k">order</span> <span class="k">by</span> <span class="n">pk</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+------+------+--------------+--------------+</span>
<span class="o">|</span> <span class="n">pk</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span> <span class="n">pct_rank</span>     <span class="o">|</span> <span class="n">cume_dist</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+--------------+--------------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1111111111</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2222222222</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">3000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">3333333333</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4444444444</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5555555556</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">6000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">6666666667</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">7000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">7777777778</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">9</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8888888889</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">9000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">10</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+--------------+--------------+</span>

<span class="k">select</span> <span class="n">pk</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span>
        <span class="n">percent_rank</span><span class="p">()</span> <span class="n">over</span> <span class="p">(</span><span class="n">partition</span> <span class="k">by</span> <span class="n">a</span> <span class="k">order</span> <span class="k">by</span> <span class="n">a</span><span class="p">)</span> <span class="k">as</span> <span class="n">pct_rank</span><span class="p">,</span>
        <span class="n">cume_dist</span><span class="p">()</span> <span class="n">over</span> <span class="p">(</span><span class="n">partition</span> <span class="k">by</span> <span class="n">a</span> <span class="k">order</span> <span class="k">by</span> <span class="n">a</span><span class="p">)</span> <span class="k">as</span> <span class="n">cume_dist</span>
<span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+------+------+--------------+--------------+</span>
<span class="o">|</span> <span class="n">pk</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span> <span class="n">pct_rank</span>     <span class="o">|</span> <span class="n">cume_dist</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+--------------+--------------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">9</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">10</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+--------------+--------------+</span>
</pre><h2 class="anchored_heading" id="cume_distsee-also">See Also</h2>
<ul start="1"><li><a href="#percent_rank">PERCENT_RANK()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="nth_value">NTH_VALUE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_2 mariadb from_10_2_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">10.2.2</a></h5><p>The NTH_VALUE() function was first introduced with other <a href="https://mariadb.com/kb/en/window-functions/">window functions</a> in <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">MariaDB 10.2</a>.</p>
</div><h2 class="anchored_heading" id="nth_valuesyntax">Syntax</h2>
<pre class="fixed">NTH_VALUE (expr[, num_row]) OVER ( 
  [ PARTITION BY partition_expression ] 
  [ ORDER BY order_list ]
)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_2"><a href="#nth_valuesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2_2"><a href="#nth_valuedescription" title="Description">Description</a> </li></ol>

</div>
<h2 class="anchored_heading" id="nth_valuedescription">Description</h2>
<p>The <code>NTH_VALUE</code> function returns the value evaluated at row number <code>num_row</code> of the window frame, starting from 1, or NULL if the row does not exist.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-columns">SHOW COLUMNS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-columnssyntax">Syntax</h2>
<pre class="fixed">SHOW [FULL] {COLUMNS | FIELDS} FROM tbl_name [FROM db_name]
    [LIKE 'pattern' | WHERE expr]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-columnssyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-columnsdescription" title="Description">Description</a></li>
<li class=""><a href="#show-columnsexamples" title="Examples">Examples</a></li>
<li class=""><a href="#show-columnssee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-columnsdescription">Description</h2>
<p><code class="highlight fixed" style="white-space:pre-wrap">SHOW COLUMNS</code> displays information about the columns in a
given table. It also works for views. The <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clause, if
present on its own, indicates which column names to match. The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> and <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clauses can be given to select rows using more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>.</p>
<p>If the data types differ from what you expect them to be based on a
<code class="highlight fixed" style="white-space:pre-wrap">CREATE TABLE</code> statement, note that MariaDB sometimes changes
data types when you create or alter a table. The conditions under which this
occurs are described in the <a href="https://mariadb.com/kb/en/silent-column-changes/">Silent Column Changes</a> article.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">FULL</code> keyword causes the output to include the column
collation and comments, as well as the privileges you have for each column.</p>
<p>You can use <code class="highlight fixed" style="white-space:pre-wrap">db_name.tbl_name</code> as an alternative to the
<code class="highlight fixed" style="white-space:pre-wrap">tbl_name FROM db_name</code> syntax. In other words, these two
statements are equivalent:</p>
<pre class="fixed">SHOW COLUMNS FROM mytable FROM mydb;
SHOW COLUMNS FROM mydb.mytable;
</pre><p><code class="highlight fixed" style="white-space:pre-wrap">SHOW COLUMNS</code> displays the following values for each table
column:</p>
<p><strong>Field</strong> indicates the column name.</p>
<p><strong>Type</strong> indicates the column data type.</p>
<p><strong>Collation</strong> indicates the collation for non-binary string columns, or
NULL for other columns. This value is displayed only if you use the
FULL keyword.</p>
<p>The <strong>Null</strong> field contains YES if NULL values can be stored in the column,
NO if not.</p>
<p>The <strong>Key</strong> field indicates whether the column is indexed:</p>
<ul start="1"><li>If <strong>Key</strong> is empty, the column either is not indexed or is indexed only as a
  secondary column in a multiple-column, non-unique index.
</li><li>If <strong>Key</strong> is <em><strong>PRI</strong></em>, the column is a <code class="highlight fixed" style="white-space:pre-wrap">PRIMARY KEY</code> or
  is one of the columns in a multiple-column <code class="highlight fixed" style="white-space:pre-wrap">PRIMARY KEY</code>.
</li><li>If <strong>Key</strong> is <em><strong>UNI</strong></em>, the column is the first column of a unique-valued
  index that cannot contain <code class="highlight fixed" style="white-space:pre-wrap">NULL</code> values.
</li><li>If <strong>Key</strong> is <em><strong>MUL</strong></em>, multiple occurrences of a given value are allowed
  within the column. The column is the first column of a non-unique index or a
  unique-valued index that can contain <code class="highlight fixed" style="white-space:pre-wrap">NULL</code> values.
</li></ul>
<p>If more than one of the <strong>Key</strong> values applies to a given column of a
table, <strong>Key</strong> displays the one with the highest priority, in the order
PRI, UNI, MUL.</p>
<p>A <code class="highlight fixed" style="white-space:pre-wrap">UNIQUE</code> index may be displayed as <code class="highlight fixed" style="white-space:pre-wrap">PRI</code> if
it cannot contain <code class="highlight fixed" style="white-space:pre-wrap">NULL</code> values and there is no
<code class="highlight fixed" style="white-space:pre-wrap">PRIMARY KEY</code> in the table. A <code class="highlight fixed" style="white-space:pre-wrap">UNIQUE</code> index
may display as <code class="highlight fixed" style="white-space:pre-wrap">MUL</code> if several columns form a composite
<code class="highlight fixed" style="white-space:pre-wrap">UNIQUE</code> index; although the combination of the columns is
unique, each column can still hold multiple occurrences of a given value.</p>
<p>The <strong>Default</strong> field indicates the default value that is assigned to the
column.</p>
<p>The <strong>Extra</strong> field contains any additional information that is available about a given column.</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Value</th><th>Description</th></tr>
<tr><td><code>AUTO_INCREMENT</code></td><td>The column was created with the <code>AUTO_INCREMENT</code> keyword.</td></tr>
<tr><td><code>PERSISTENT</code></td><td>The column was created with the <code>PERSISTENT</code> keyword. (New in 5.3)</td></tr>
<tr><td><code>VIRTUAL</code></td><td>The column was created with the <code>VIRTUAL</code> keyword. (New in 5.3)</td></tr>
<tr><td>on update <code>CURRENT_TIMESTAMP</code></td><td>The column is a <code>TIMESTAMP</code> column that is automatically updated on <code>INSERT</code> and <code>UPDATE</code>.</td></tr>
</table>
</div><p><strong>Privileges</strong> indicates the privileges you have for the column. This
value is displayed only if you use the <code class="highlight fixed" style="white-space:pre-wrap">FULL</code> keyword.</p>
<p><strong>Comment</strong> indicates any comment the column has. This value is displayed
only if you use the <code class="highlight fixed" style="white-space:pre-wrap">FULL</code> keyword.</p>
<p><code class="highlight fixed" style="white-space:pre-wrap">SHOW FIELDS</code> is a synonym for
<code class="highlight fixed" style="white-space:pre-wrap">SHOW COLUMNS</code>. Also <code><a href="#describe">DESCRIBE</a></code> and <code><a href="#explain">EXPLAIN</a></code> can be used as shortcuts.</p>
<p>You can also list a table's columns with: </p>
<pre class="fixed">mysqlshow db_name tbl_name
</pre><p>See the <code><a href="https://mariadb.com/kb/en/mysqlshow/">mysqlshow</a></code> command for more details.</p>
<p>The <code><a href="#describe">DESCRIBE</a></code> statement provides information similar to <code>SHOW COLUMNS</code>. The <code><a href="https://mariadb.com/kb/en/information-schema-columns-table/">information_schema.COLUMNS</a></code> table provides similar, but more complete, information.</p>
<p>The <code><a href="#show-create-table">SHOW CREATE TABLE</a></code>, <code><a href="#show-table-status">SHOW TABLE STATUS</a></code>, and <code><a href="#show-index">SHOW INDEX</a></code> statements also provide information about tables.</p>
<h2 class="anchored_heading" id="show-columnsexamples">Examples</h2>
<pre class="fixed">SHOW COLUMNS FROM city;
+------------+----------+------+-----+---------+----------------+
| Field      | Type     | Null | Key | Default | Extra          |
+------------+----------+------+-----+---------+----------------+
| Id         | int(11)  | NO   | PRI | NULL    | auto_increment |
| Name       | char(35) | NO   |     |         |                |
| Country    | char(3)  | NO   | UNI |         |                |
| District   | char(20) | YES  | MUL |         |                |
| Population | int(11)  | NO   |     | 0       |                |
+------------+----------+------+-----+---------+----------------+
</pre><pre class="fixed">SHOW COLUMNS FROM employees WHERE Type LIKE 'Varchar%';
+---------------+-------------+------+-----+---------+-------+
| Field         | Type        | Null | Key | Default | Extra |
+---------------+-------------+------+-----+---------+-------+
| first_name    | varchar(30) | NO   | MUL | NULL    |       |
| last_name     | varchar(40) | NO   |     | NULL    |       |
| position      | varchar(25) | NO   |     | NULL    |       |
| home_address  | varchar(50) | NO   |     | NULL    |       |
| home_phone    | varchar(12) | NO   |     | NULL    |       |
| employee_code | varchar(25) | NO   | UNI | NULL    |       |
+---------------+-------------+------+-----+---------+-------+
</pre><h2 class="anchored_heading" id="show-columnssee-also">See Also</h2>
<ul start="1"><li><a href="#describe">DESCRIBE</a>
</li><li><a href="https://mariadb.com/kb/en/mysqlshow/">mysqlshow</a>
</li><li><a href="#show-create-table">SHOW CREATE TABLE</a>
</li><li><a href="#show-table-status">SHOW TABLE STATUS</a>
</li><li><a href="#show-index">SHOW INDEX</a>
</li><li><a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>
</li><li><a href="https://mariadb.com/kb/en/silent-column-changes/">Silent Column Changes</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="spider_flush_table_mon_cache">SPIDER_FLUSH_TABLE_MON_CACHE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SPIDER_FLUSH_TABLE_MON_CACHE()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A <a href="https://mariadb.com/kb/en/user-defined-functions/">UDF</a> installed with the <a href="https://mariadb.com/kb/en/spider/">Spider Storage Engine</a>, this function is used for refreshing monitoring server information. It returns a value of <code>1</code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT SPIDER_FLUSH_TABLE_MON_CACHE();
+--------------------------------+
| SPIDER_FLUSH_TABLE_MON_CACHE() |
+--------------------------------+
|                              1 |
+--------------------------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="column_check">COLUMN_CHECK</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">COLUMN_CHECK(dyncol_blob);
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Check if <code>dyncol_blob</code> is a valid packed dynamic columns blob. Return value of 1 means the blob is valid, return value of 0 means it is not.</p>
<p><strong>Rationale:</strong>
Normally, one works with valid dynamic column blobs. Functions like <a href="#column_create">COLUMN_CREATE</a>, <a href="#column_add">COLUMN_ADD</a>, <a href="#column_delete">COLUMN_DELETE</a> always return valid dynamic column blobs. However, if a dynamic column blob is accidentally truncated, or transcoded from one character set to another, it will be corrupted. This function can be used to check if a value in a blob field is a valid dynamic column blob.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="column_delete">COLUMN_DELETE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">COLUMN_DELETE(dyncol_blob, column_nr, column_nr...);
COLUMN_DELETE(dyncol_blob, column_name, column_name...);
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Deletes a <a href="https://mariadb.com/kb/en/dynamic-columns/">dynamic column</a> with the specified name. Multiple names can be given. The return value is a dynamic column blob after the modification.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="column_exists">COLUMN_EXISTS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">COLUMN_EXISTS(dyncol_blob, column_nr);
COLUMN_EXISTS(dyncol_blob, column_name);
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Checks if a column with name <code>column_name</code> exists in <code>dyncol_blob</code>. If yes, return <code>1</code>, otherwise return <code>0</code>. See <a href="https://mariadb.com/kb/en/dynamic-columns/">dynamic columns</a> for more information.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="column_list">COLUMN_LIST</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">COLUMN_LIST(dyncol_blob);
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a comma-separated list of column names. The names are quoted with backticks.</p>
<p>See <a href="https://mariadb.com/kb/en/dynamic-columns/">dynamic columns</a> for more information.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-contributors">SHOW CONTRIBUTORS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="highlight fixed"><p>SHOW CONTRIBUTORS</p></pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">SHOW CONTRIBUTORS</code> statement displays information about
the companies and people who financially contribute to MariaDB. For each contributor, it displays <code>Name</code>, <code>Location</code>, and <code>Comment</code> values. All columns are encoded as <code>latin1</code>.</p>
<p>It displays all <a href="https://mariadb.org/en/supporters">members and sponsors of the MariaDB Foundation</a> as well as other financial contributors.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed">SHOW CONTRIBUTORS;
+---------------------+-------------------------------+-------------------------------------------------------------+
| Name                | Location                      | Comment                                                     |
+---------------------+-------------------------------+-------------------------------------------------------------+
| Booking.com         | https://www.booking.com       | Founding member, Platinum Sponsor of the MariaDB Foundation |
| Alibaba Cloud       | https://www.alibabacloud.com/ | Platinum Sponsor of the MariaDB Foundation                  |
| Tencent Cloud       | https://cloud.tencent.com     | Platinum Sponsor of the MariaDB Foundation                  |
| Microsoft           | https://microsoft.com/        | Platinum Sponsor of the MariaDB Foundation                  |
| MariaDB Corporation | https://mariadb.com           | Founding member, Platinum Sponsor of the MariaDB Foundation |
| Visma               | https://visma.com             | Gold Sponsor of the MariaDB Foundation                      |
| DBS                 | https://dbs.com               | Gold Sponsor of the MariaDB Foundation                      |
| IBM                 | https://www.ibm.com           | Gold Sponsor of the MariaDB Foundation                      |
| Tencent Games       | http://game.qq.com/           | Gold Sponsor of the MariaDB Foundation                      |
| Nexedi              | https://www.nexedi.com        | Silver Sponsor of the MariaDB Foundation                    |
| Acronis             | https://www.acronis.com       | Silver Sponsor of the MariaDB Foundation                    |
| Verkkokauppa.com    | https://www.verkkokauppa.com  | Bronze Sponsor of the MariaDB Foundation                    |
| Virtuozzo           | https://virtuozzo.com         | Bronze Sponsor of the MariaDB Foundation                    |
| Tencent Game DBA    | http://tencentdba.com/about   | Bronze Sponsor of the MariaDB Foundation                    |
| Tencent TDSQL       | http://tdsql.org              | Bronze Sponsor of the MariaDB Foundation                    |
| Percona             | https://www.percona.com/      | Bronze Sponsor of the MariaDB Foundation                    |
| Google              | USA                           | Sponsoring encryption, parallel replication and GTID        |
| Facebook            | USA                           | Sponsoring non-blocking API, LIMIT ROWS EXAMINED etc        |
| Ronald Bradford     | Brisbane, Australia           | EFF contribution for UC2006 Auction                         |
| Sheeri Kritzer      | Boston, Mass. USA             | EFF contribution for UC2006 Auction                         |
| Mark Shuttleworth   | London, UK.                   | EFF contribution for UC2006 Auction                         |
+---------------------+-------------------------------+-------------------------------------------------------------+
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/log-of-mariadb-contributions/">Log of MariaDB contributors</a>.
</li><li><a href="#show-authors">SHOW AUTHORS</a> list the authors of MariaDB (including documentation, QA etc).
</li><li><a href="https://mariadb.org/donate/">MariaDB Foundation page on contributing financially</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-create-database">SHOW CREATE DATABASE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-create-databasesyntax">Syntax</h2>
<pre class="fixed">SHOW CREATE {DATABASE | SCHEMA} db_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-create-databasesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-create-databasedescription" title="Description">Description</a></li>
<li class=""><a href="#show-create-databaseexamples" title="Examples">Examples</a></li>
<li class=""><a href="#show-create-databasesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-create-databasedescription">Description</h2>
<p>Shows the <a href="#create-database">CREATE DATABASE</a> statement that
creates the given database. <code>SHOW CREATE SCHEMA</code> is a synonym
for <code>SHOW CREATE DATABASE</code>. <code>SHOW CREATE DATABASE</code> quotes database names according to the value of the <a href="https://mariadb.com/kb/en/server-system-variables/#sql_quote_show_create">sql_quote_show_create</a> server system variable.</p>
<h2 class="anchored_heading" id="show-create-databaseexamples">Examples</h2>
<pre class="fixed">SHOW CREATE DATABASE test;
+----------+-----------------------------------------------------------------+
| Database | Create Database                                                 |
+----------+-----------------------------------------------------------------+
| test     | CREATE DATABASE `test` /*!40100 DEFAULT CHARACTER SET latin1 */ |
+----------+-----------------------------------------------------------------+

SHOW CREATE SCHEMA test;
+----------+-----------------------------------------------------------------+
| Database | Create Database                                                 |
+----------+-----------------------------------------------------------------+
| test     | CREATE DATABASE `test` /*!40100 DEFAULT CHARACTER SET latin1 */ |
+----------+-----------------------------------------------------------------+
</pre><p>With <code><a href="https://mariadb.com/kb/en/server-system-variables/#sql_quote_show_create">sql_quote_show_create</a></code> off:</p>
<pre class="fixed">SHOW CREATE DATABASE test;
+----------+---------------------------------------------------------------+
| Database | Create Database                                               |
+----------+---------------------------------------------------------------+
| test     | CREATE DATABASE test /*!40100 DEFAULT CHARACTER SET latin1 */ |
+----------+---------------------------------------------------------------+
</pre><p>With a comment, from <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a>:</p>
<pre class="fixed">SHOW CREATE DATABASE p;
+----------+--------------------------------------------------------------------------------------+
| Database | Create Database                                                                      |
+----------+--------------------------------------------------------------------------------------+
| p        | CREATE DATABASE `p` /*!40100 DEFAULT CHARACTER SET latin1 */ COMMENT 'presentations' |
+----------+--------------------------------------------------------------------------------------+
</pre><h2 class="anchored_heading" id="show-create-databasesee-also">See Also</h2>
<ul start="1"><li><a href="#create-database">CREATE DATABASE</a>
</li><li><a href="#alter-database">ALTER DATABASE</a>
</li><li><a href="https://mariadb.com/kb/en/character-sets-and-collations/">Character Sets and Collations</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-create-event">SHOW CREATE EVENT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW CREATE EVENT event_name
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This statement displays the <code class="highlight fixed" style="white-space:pre-wrap"><a href="#create-event">CREATE EVENT</a></code>
statement needed to re-create a given <a href="https://mariadb.com/kb/en/events/">event</a>, as well as the <code><a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a></code> that was used when the trigger has been created and the character set used by the connection. To find out which events are present, use <code><a href="#show-events">SHOW EVENTS</a></code>.</p>
<p>The output of this statement is unreliably affected by the <code><a href="https://mariadb.com/kb/en/server-system-variables/#sql_quote_show_create">sql_quote_show_create</a></code> server system variable - see <a href="http://bugs.mysql.com/bug.php?id=12719">http://bugs.mysql.com/bug.php?id=12719</a></p>
<p>The <code><a href="https://mariadb.com/kb/en/information-schema-events-table/">information_schema.EVENTS</a></code> table provides similar, but more complete, information.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SHOW CREATE EVENT test.e_daily\G
*************************** 1. row ***************************
               Event: e_daily
            sql_mode: 
           time_zone: SYSTEM
        Create Event: CREATE EVENT `e_daily`
                        ON SCHEDULE EVERY 1 DAY
                        STARTS CURRENT_TIMESTAMP + INTERVAL 6 HOUR
                        ON COMPLETION NOT PRESERVE
                        ENABLE
                        COMMENT 'Saves total number of sessions then
                                clears the table each day'
                        DO BEGIN
                          INSERT INTO site_activity.totals (time, total)
                            SELECT CURRENT_TIMESTAMP, COUNT(*) 
                            FROM site_activity.sessions;
                          DELETE FROM site_activity.sessions;
                        END
character_set_client: latin1
collation_connection: latin1_swedish_ci
  Database Collation: latin1_swedish_ci
</pre><h2 class="anchored_heading" id="see-also">See also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/events-overview/">Events Overview</a>
</li><li><code><a href="#create-event">CREATE EVENT</a></code>
</li><li><code><a href="#alter-event">ALTER EVENT</a></code>
</li><li><code><a href="#drop-event">DROP EVENT</a></code></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-create-function">SHOW CREATE FUNCTION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW CREATE FUNCTION func_name
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This statement is similar to 
<code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-create-procedure">SHOW CREATE PROCEDURE</a></code> but for
<a href="https://mariadb.com/kb/en/stored-functions/">stored functions</a>.</p>
<p>The output of this statement is unreliably affected by the <code><a href="https://mariadb.com/kb/en/server-system-variables/#sql_quote_show_create">sql_quote_show_create</a></code> server system variable - see <a href="http://bugs.mysql.com/bug.php?id=12719">http://bugs.mysql.com/bug.php?id=12719</a></p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed">MariaDB [test]&gt; SHOW CREATE FUNCTION VatCents\G
*************************** 1. row ***************************
            Function: VatCents
            sql_mode: 
     Create Function: CREATE DEFINER=`root`@`localhost` FUNCTION `VatCents`(price DECIMAL(10,2)) RETURNS int(11)
    DETERMINISTIC
BEGIN
 DECLARE x INT;
 SET x = price * 114;
 RETURN x;
END
character_set_client: utf8
collation_connection: utf8_general_ci
  Database Collation: latin1_swedish_ci
</pre><h2 class="anchored_heading" id="see-also">See also:</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/stored-functions/">Stored Functions</a>
</li><li><code class="highlight fixed" style="white-space:pre-wrap"><a href="#create-function">CREATE FUNCTION</a></code></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-create-package">SHOW CREATE PACKAGE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_5 mariadb from_10_3_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">10.3.5</a></h5><p>Oracle-style packages were introduced in <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">MariaDB 10.3.5</a>.</p>
</div><h2 class="anchored_heading" id="show-create-packagesyntax">Syntax</h2>
<pre class="fixed">SHOW CREATE PACKAGE  [ db_name . ] package_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_5"><a href="#show-create-packagesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_5"><a href="#show-create-packagedescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_5"><a href="#show-create-packageexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3_5"><a href="#show-create-packagesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-create-packagedescription">Description</h2>
<p>The <code>SHOW CREATE PACKAGE</code> statement can be used when <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle SQL_MODE</a> is set.</p>
<p>Shows the <code>CREATE</code> statement that creates the given package specification.</p>
<h2 class="anchored_heading" id="show-create-packageexamples">Examples</h2>
<pre class="fixed">SHOW CREATE PACKAGE employee_tools\G
*************************** 1. row ***************************
             Package: employee_tools
            sql_mode: PIPES_AS_CONCAT,ANSI_QUOTES,IGNORE_SPACE,ORACLE,NO_KEY_OPTIONS,NO_TABLE_OPTIONS,NO_FIELD_OPTIONS,NO_AUTO_CREATE_USER
      Create Package: CREATE DEFINER="root"@"localhost" PACKAGE "employee_tools" AS
  FUNCTION getSalary(eid INT) RETURN DECIMAL(10,2);
  PROCEDURE raiseSalary(eid INT, amount DECIMAL(10,2));
  PROCEDURE raiseSalaryStd(eid INT);
  PROCEDURE hire(ename TEXT, esalary DECIMAL(10,2));
END
character_set_client: utf8
collation_connection: utf8_general_ci
  Database Collation: latin1_swedish_ci
</pre><h2 class="anchored_heading" id="show-create-packagesee-also">See Also</h2>
<ul start="1"><li><a href="#create-package">CREATE PACKAGE</a>
</li><li><a href="#drop-package">DROP PACKAGE</a>
</li><li><a href="#create-package-body">CREATE PACKAGE BODY</a>
</li><li><a href="#show-create-package-body">SHOW CREATE PACKAGE BODY</a>
</li><li><a href="#drop-package-body">DROP PACKAGE BODY</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle SQL_MODE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-create-package-body">SHOW CREATE PACKAGE BODY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_5 mariadb from_10_3_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">10.3.5</a></h5><p>Oracle-style packages were introduced in <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">MariaDB 10.3.5</a>.</p>
</div><h2 class="anchored_heading" id="show-create-package-bodysyntax">Syntax</h2>
<pre class="fixed">SHOW CREATE PACKAGE BODY  [ db_name . ] package_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_5"><a href="#show-create-package-bodysyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_5"><a href="#show-create-package-bodydescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_5"><a href="#show-create-package-bodyexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3_5"><a href="#show-create-package-bodysee-also" title="See also">See also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-create-package-bodydescription">Description</h2>
<p>The <code>SHOW CREATE PACKAGE BODY</code> statement can be used when <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle SQL_MODE</a> is set.</p>
<p>Shows the <code>CREATE</code> statement that creates the given package body (i.e. the implementation).</p>
<h2 class="anchored_heading" id="show-create-package-bodyexamples">Examples</h2>
<pre class="fixed">SHOW CREATE PACKAGE BODY employee_tools\G
*************************** 1. row ***************************
        Package body: employee_tools
            sql_mode: PIPES_AS_CONCAT,ANSI_QUOTES,IGNORE_SPACE,ORACLE,NO_KEY_OPTIONS,NO_TABLE_OPTIONS,NO_FIELD_OPTIONS,NO_AUTO_CREATE_USER
 Create Package Body: CREATE DEFINER="root"@"localhost" PACKAGE BODY "employee_tools" AS
  
  stdRaiseAmount DECIMAL(10,2):=500;
  
  PROCEDURE log (eid INT, ecmnt TEXT) AS
  BEGIN
    INSERT INTO employee_log (id, cmnt) VALUES (eid, ecmnt);
  END;
  
  PROCEDURE hire(ename TEXT, esalary DECIMAL(10,2)) AS
    eid INT;
  BEGIN
    INSERT INTO employee (name, salary) VALUES (ename, esalary);
    eid:= last_insert_id();
    log(eid, 'hire ' || ename);
  END;

  FUNCTION getSalary(eid INT) RETURN DECIMAL(10,2) AS
    nSalary DECIMAL(10,2);
  BEGIN
    SELECT salary INTO nSalary FROM employee WHERE id=eid;
    log(eid, 'getSalary id=' || eid || ' salary=' || nSalary);
    RETURN nSalary;
  END;

  PROCEDURE raiseSalary(eid INT, amount DECIMAL(10,2)) AS
  BEGIN
    UPDATE employee SET salary=salary+amount WHERE id=eid;
    log(eid, 'raiseSalary id=' || eid || ' amount=' || amount);
  END;

  PROCEDURE raiseSalaryStd(eid INT) AS
  BEGIN
    raiseSalary(eid, stdRaiseAmount);
    log(eid, 'raiseSalaryStd id=' || eid);
  END;

BEGIN  
  log(0, 'Session ' || connection_id() || ' ' || current_user || ' started');
END
character_set_client: utf8
collation_connection: utf8_general_ci
  Database Collation: latin1_swedish_ci
</pre><h2 class="anchored_heading" id="show-create-package-bodysee-also">See also</h2>
<ul start="1"><li><a href="#create-package">CREATE PACKAGE</a>
</li><li><a href="#show-create-package">SHOW CREATE PACKAGE</a>
</li><li><a href="#drop-package">DROP PACKAGE</a>
</li><li><a href="#create-package-body">CREATE PACKAGE BODY</a>
</li><li><a href="#drop-package-body">DROP PACKAGE BODY</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle SQL_MODE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-create-procedure">SHOW CREATE PROCEDURE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-create-proceduresyntax">Syntax</h2>
<pre class="fixed">SHOW CREATE PROCEDURE proc_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-create-proceduresyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-create-proceduredescription" title="Description">Description</a></li>
<li class=""><a href="#show-create-procedureexamples" title="Examples">Examples</a></li>
<li class=""><a href="#show-create-proceduresee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-create-proceduredescription">Description</h2>
<p>This statement is a MariaDB extension. It returns the exact string that
can be used to re-create the named <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedure</a>, as well as the <code><a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a></code> that was used when the trigger has been created and the character set used by the connection.. A similar
statement, <code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-create-function">SHOW CREATE FUNCTION</a></code>,
displays information about <a href="https://mariadb.com/kb/en/stored-functions/">stored functions</a>.</p>
<p>Both statements require that you are the owner of the routine or have the <code><a href="#grant">SELECT</a></code> privilege on the <code><a href="https://mariadb.com/kb/en/mysqlproc-table/">mysql.proc</a></code> table.  When neither is true, the statements display <code>NULL</code> for the <code>Create Procedure</code> or <code>Create Function</code> field.</p>
<div class="cstm-style redbox"><p><strong>Warning</strong> Users with <code>SELECT</code> privileges on <code><a href="https://mariadb.com/kb/en/mysqlproc-table/">mysql.proc</a></code> or <code>USAGE</code> privileges on <code>*.*</code> can view the text of routines, even when they do not have privileges for the function or procedure itself.</p>
</div><p>The output of these statements is unreliably affected by the <code><a href="https://mariadb.com/kb/en/server-system-variables/#sql_quote_show_create">sql_quote_show_create</a></code> server system variable - see <a href="http://bugs.mysql.com/bug.php?id=12719">http://bugs.mysql.com/bug.php?id=12719</a></p>
<h2 class="anchored_heading" id="show-create-procedureexamples">Examples</h2>
<p>Here's a comparison of the <code>SHOW CREATE PROCEDURE</code> and <code><a href="#show-create-function">SHOW CREATE FUNCTION</a></code> statements.</p>
<pre class="fixed">SHOW CREATE PROCEDURE test.simpleproc\G
*************************** 1. row ***************************
           Procedure: simpleproc
            sql_mode: 
    Create Procedure: CREATE PROCEDURE `simpleproc`(OUT param1 INT)
                      BEGIN
                      SELECT COUNT(*) INTO param1 FROM t;
                      END
character_set_client: latin1
collation_connection: latin1_swedish_ci
  Database Collation: latin1_swedish_ci

SHOW CREATE FUNCTION test.hello\G
*************************** 1. row ***************************
            Function: hello
            sql_mode:
     Create Function: CREATE FUNCTION `hello`(s CHAR(20))
                      RETURNS CHAR(50)
                      RETURN CONCAT('Hello, ',s,'!')
character_set_client: latin1
collation_connection: latin1_swedish_ci
  Database Collation: latin1_swedish_ci
</pre><p>When the user issuing the statement does not have privileges on the routine, attempting to <code><a href="#call">CALL</a></code> the procedure raises Error 1370.</p>
<pre class="fixed">CALL test.prc1();
Error 1370 (42000): execute command denieed to user 'test_user'@'localhost' for routine 'test'.'prc1'
</pre><p>If the user neither has privilege to the routine nor the <code><a href="#grant">SELECT</a></code> privilege on <code><a href="https://mariadb.com/kb/en/mysqlproc-table/">mysql.proc</a></code> table, it raises Error 1305, informing them that the procedure does not exist.</p>
<pre class="fixed">SHOW CREATE TABLES test.prc1\G
Error 1305 (42000): PROCEDURE prc1 does not exist
</pre><h2 class="anchored_heading" id="show-create-proceduresee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/stored-procedure-overview/">Stored Procedure Overview</a>
</li><li><a href="#create-procedure">CREATE PROCEDURE</a>
</li><li><a href="#alter-procedure">ALTER PROCEDURE</a>
</li><li><a href="#drop-procedure">DROP PROCEDURE</a>
</li><li><a href="#show-procedure-status">SHOW PROCEDURE STATUS</a>
</li><li><a href="https://mariadb.com/kb/en/stored-routine-privileges/">Stored Routine Privileges</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-routines-table/">Information Schema ROUTINES Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-create-sequence">SHOW CREATE SEQUENCE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_1 mariadb from_10_3_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">10.3.1</a></h5><p>Sequences were introduced in <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>.</p>
</div><h2 class="anchored_heading" id="show-create-sequencesyntax">Syntax</h2>
<pre class="fixed">SHOW CREATE SEQUENCE sequence_name;
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_1"><a href="#show-create-sequencesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_1"><a href="#show-create-sequencedescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_1"><a href="#show-create-sequenceexample" title="Example">Example</a></li>
<li class="mariadb_from_10_3_1"><a href="#show-create-sequencenotes" title="Notes">Notes</a></li>
<li class="mariadb_from_10_3_1"><a href="#show-create-sequencesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-create-sequencedescription">Description</h2>
<p>Shows the <a href="#create-sequence">CREATE SEQUENCE</a> statement that created the given sequence. The statement requires the <code>SELECT</code> privilege for the table.</p>
<h2 class="anchored_heading" id="show-create-sequenceexample">Example</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">SEQUENCE</span> <span class="n">s1</span> <span class="k">START</span> <span class="k">WITH</span> <span class="mi">50</span><span class="p">;</span>
<span class="k">SHOW</span> <span class="k">CREATE</span> <span class="n">SEQUENCE</span> <span class="n">s1</span><span class="err">\</span><span class="k">G</span><span class="p">;</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
       <span class="k">Table</span><span class="p">:</span> <span class="n">s1</span>
<span class="k">Create</span> <span class="k">Table</span><span class="p">:</span> <span class="k">CREATE</span> <span class="n">SEQUENCE</span> <span class="o">`</span><span class="n">s1</span><span class="o">`</span> <span class="k">start</span> <span class="k">with</span> <span class="mi">50</span> <span class="k">minvalue</span> <span class="mi">1</span> <span class="k">maxvalue</span> <span class="mi">9223372036854775806</span> 
  <span class="k">increment</span> <span class="k">by</span> <span class="mi">1</span> <span class="k">cache</span> <span class="mi">1000</span> <span class="n">nocycle</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span>
</pre><h2 class="anchored_heading" id="show-create-sequencenotes">Notes</h2>
<p>If you want to see the underlying table structure used for the <code>SEQUENCE</code>
you can use <a href="#show-create-table">SHOW CREATE TABLE</a> on the <code>SEQUENCE</code>. You can also use <code>SELECT</code> to read the current recorded state of the <code>SEQUENCE</code>:</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">s1</span><span class="err">\</span><span class="k">G</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
       <span class="k">Table</span><span class="p">:</span> <span class="n">s1</span>
<span class="k">Create</span> <span class="k">Table</span><span class="p">:</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="o">`</span><span class="n">s1</span><span class="o">`</span> <span class="p">(</span>
  <span class="o">`</span><span class="n">next_not_cached_value</span><span class="o">`</span> <span class="nb">bigint</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="n">minimum_value</span><span class="o">`</span> <span class="nb">bigint</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="n">maximum_value</span><span class="o">`</span> <span class="nb">bigint</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="n">start_value</span><span class="o">`</span> <span class="nb">bigint</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">COMMENT</span> <span class="s1">'start value when sequences is created </span>
<span class="s1">     or value if RESTART is used'</span><span class="p">,</span>
  <span class="o">`</span><span class="k">increment</span><span class="o">`</span> <span class="nb">bigint</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">COMMENT</span> <span class="s1">'increment value'</span><span class="p">,</span>
  <span class="o">`</span><span class="n">cache_size</span><span class="o">`</span> <span class="nb">bigint</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span> <span class="n">unsigned</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="n">cycle_option</span><span class="o">`</span> <span class="n">tinyint</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">unsigned</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">COMMENT</span> <span class="s1">'0 if no cycles are allowed, </span>
<span class="s1">     1 if the sequence should begin a new cycle when maximum_value is passed'</span><span class="p">,</span>
  <span class="o">`</span><span class="n">cycle_count</span><span class="o">`</span> <span class="nb">bigint</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">COMMENT</span> <span class="s1">'How many cycles have been done'</span>
<span class="p">)</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span> <span class="n">SEQUENCE</span><span class="o">=</span><span class="mi">1</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">s1</span><span class="err">\</span><span class="k">G</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
<span class="n">next_not_cached_value</span><span class="p">:</span> <span class="mi">50</span>
        <span class="n">minimum_value</span><span class="p">:</span> <span class="mi">1</span>
        <span class="n">maximum_value</span><span class="p">:</span> <span class="mi">9223372036854775806</span>
          <span class="n">start_value</span><span class="p">:</span> <span class="mi">50</span>
            <span class="k">increment</span><span class="p">:</span> <span class="mi">1</span>
           <span class="n">cache_size</span><span class="p">:</span> <span class="mi">1000</span>
         <span class="n">cycle_option</span><span class="p">:</span> <span class="mi">0</span>
          <span class="n">cycle_count</span><span class="p">:</span> <span class="mi">0</span>
</pre><h2 class="anchored_heading" id="show-create-sequencesee-also">See Also</h2>
<ul start="1"><li><a href="#create-sequence">CREATE SEQUENCE</a>
</li><li><a href="https://mariadb.com/kb/en/alter-sequence/">ALTER SEQUENCE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-create-table">SHOW CREATE TABLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-create-tablesyntax">Syntax</h2>
<pre class="fixed">SHOW CREATE TABLE tbl_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-create-tablesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-create-tabledescription" title="Description">Description</a></li>
<li class=""><a href="#show-create-tableexamples" title="Examples">Examples</a></li>
<li class=""><a href="#show-create-tablesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-create-tabledescription">Description</h2>
<p>Shows the <a href="#create-table">CREATE TABLE</a> statement that created the given
table. The statement requires the <a href="#select">SELECT privilege</a> for the table. This statement also works with <a href="https://mariadb.com/kb/en/views/">views</a> and <a href="#create-sequence">SEQUENCE</a>.</p>
<p><code>SHOW CREATE TABLE</code> quotes table and
column names according to the value of the <a href="https://mariadb.com/kb/en/server-system-variables/#sql_quote_show_create">sql_quote_show_create</a> server system variable.</p>
<div class="cstm-style redbox"><p>Certain <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> values can result in parts of the original CREATE statement not being included in the output. MariaDB-specific table options, column options, and index options are not included in the output of this statement if the <a href="https://mariadb.com/kb/en/sql-mode/#no_table_options">NO_TABLE_OPTIONS</a>, <a href="https://mariadb.com/kb/en/sql-mode/#no_field_options">NO_FIELD_OPTIONS</a> and <a href="https://mariadb.com/kb/en/sql-mode/#no_key_options">NO_KEY_OPTIONS</a> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> flags are used. All MariaDB-specific table attributes are also not shown when a non-MariaDB/MySQL emulation mode is used, which includes <a href="https://mariadb.com/kb/en/sql-mode/#ansi">ANSI</a>, <a href="https://mariadb.com/kb/en/sql-mode/#db2">DB2</a>, <a href="https://mariadb.com/kb/en/sql-mode/#postgresql">POSTGRESQL</a>, <a href="https://mariadb.com/kb/en/sql-mode/#mssql">MSSQL</a>, <a href="https://mariadb.com/kb/en/sql-mode/#maxdb">MAXDB</a> or <a href="https://mariadb.com/kb/en/sql-mode/#oracle">ORACLE</a>.</p>
</div><p>Invalid table options, column options and index options are normally commented out (note, that it is possible to create a table with invalid options, by altering a table of a different engine, where these options were valid). To have them uncommented, enable the <a href="https://mariadb.com/kb/en/sql-mode/#ignore_bad_table_options">IGNORE_BAD_TABLE_OPTIONS</a> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a>. Remember that replaying a <a href="#create-table">CREATE TABLE</a> statement with uncommented invalid options will fail with an error, unless the <a href="https://mariadb.com/kb/en/sql-mode/#ignore_bad_table_options">IGNORE_BAD_TABLE_OPTIONS</a> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is in effect.</p>
<p>Note that <code>SHOW CREATE TABLE</code> is not meant to provide metadata about a table. It provides information about how the table was declared, but the real table structure could differ a bit. For example, if an index has been declared as <code>HASH</code>, the <code>CREATE TABLE</code> statement returned by <code>SHOW CREATE TABLE</code> will declare that index as <code>HASH</code>; however, it is possible that the index is in fact a <code>BTREE</code>, because the storage engine does not support <code>HASH</code>.</p>
<div class="mariadb_from_10_2_1 mariadb from_10_2_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">10.2.1</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a> permits <a href="#text">TEXT</a> and <a href="#blob">BLOB</a> data types to be assigned a <a ">DEFAULT</a> value. As a result, from <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a>, <code>SHOW CREATE TABLE</code> will append a <code>DEFAULT NULL</code> to nullable TEXT or BLOB fields if no specific default is provided. </p>
</div><div class="mariadb_from_10_2_2 mariadb from_10_2_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">10.2.2</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>, numbers are no longer quoted in the <code>DEFAULT</code> clause in <code>SHOW CREATE</code> statement. Previously, MariaDB quoted numbers. </p>
</div><h2 class="anchored_heading" id="show-create-tableexamples">Examples</h2>
<pre class="fixed">SHOW CREATE TABLE t\G
*************************** 1. row ***************************
       Table: t
Create Table: CREATE TABLE `t` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `s` char(60) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1
</pre><p>With <a href="https://mariadb.com/kb/en/server-system-variables/#sql_quote_show_create">sql_quote_show_create</a> off:</p>
<pre class="fixed">SHOW CREATE TABLE t\G
*************************** 1. row ***************************
       Table: t
Create Table: CREATE TABLE t (
  id int(11) NOT NULL AUTO_INCREMENT,
  s char(60) DEFAULT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=latin1
</pre><p>Unquoted numeric DEFAULTs, from <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>:</p>
<pre class="fixed">CREATE TABLE td (link TINYINT DEFAULT 1);

SHOW CREATE TABLE td\G
*************************** 1. row ***************************
       Table: td
Create Table: CREATE TABLE `td` (
  `link` tinyint(4) DEFAULT 1
) ENGINE=InnoDB DEFAULT CHARSET=latin1
</pre><p>Quoted numeric DEFAULTs, until <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a>:</p>
<pre class="fixed">CREATE TABLE td (link TINYINT DEFAULT 1);

SHOW CREATE TABLE td\G
*************************** 1. row ***************************
       Table: td
Create Table: CREATE TABLE `td` (
  `link` tinyint(4) DEFAULT '1'
) ENGINE=InnoDB DEFAULT CHARSET=latin1
</pre><p><a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> impacting the output:</p>
<pre class="fixed">SELECT @@sql_mode;
+-------------------------------------------------------------------------------------------+
| @@sql_mode                                                                                |
+-------------------------------------------------------------------------------------------+
| STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION |
+-------------------------------------------------------------------------------------------+

CREATE TABLE `t1` (
       `id` int(11) NOT NULL AUTO_INCREMENT,
       `msg` varchar(100) DEFAULT NULL,
       PRIMARY KEY (`id`)
     ) ENGINE=InnoDB DEFAULT CHARSET=latin1
;

SHOW CREATE TABLE t1\G
*************************** 1. row ***************************
       Table: t1
Create Table: CREATE TABLE `t1` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `msg` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

SET SQL_MODE=ORACLE;

SHOW CREATE TABLE t1\G
*************************** 1. row ***************************
       Table: t1
Create Table: CREATE TABLE "t1" (
  "id" int(11) NOT NULL,
  "msg" varchar(100) DEFAULT NULL,
  PRIMARY KEY ("id")
</pre><h2 class="anchored_heading" id="show-create-tablesee-also">See Also</h2>
<ul start="1"><li><a href="#show-create-sequence">SHOW CREATE SEQUENCE</a>
</li><li><a href="#show-create-view">SHOW CREATE VIEW</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-create-trigger">SHOW CREATE TRIGGER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-create-triggersyntax">Syntax</h2>
<pre class="fixed">SHOW CREATE TRIGGER trigger_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-create-triggersyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-create-triggerdescription" title="Description">Description</a></li>
<li class=""><a href="#show-create-triggerexamples" title="Examples">Examples</a></li>
<li class=""><a href="#show-create-triggersee-also" title="See also">See also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-create-triggerdescription">Description</h2>
<p>This statement shows a <code class="highlight fixed" style="white-space:pre-wrap"><a href="#create-trigger">CREATE TRIGGER</a></code>
statement that creates the given trigger, as well as the <code><a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a></code> that was used when the trigger has been created and the character set used by the connection.</p>
<p>The output of this statement is unreliably affected by the <code><a href="https://mariadb.com/kb/en/server-system-variables/#sql_quote_show_create">sql_quote_show_create</a></code> server system variable - see <a href="http://bugs.mysql.com/bug.php?id=12719">http://bugs.mysql.com/bug.php?id=12719</a></p>
<h2 class="anchored_heading" id="show-create-triggerexamples">Examples</h2>
<pre class="fixed">SHOW CREATE TRIGGER example\G
*************************** 1. row ***************************
               Trigger: example
              sql_mode: ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,STRICT_ALL_TABLES
,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_
ENGINE_SUBSTITUTION
SQL Original Statement: CREATE DEFINER=`root`@`localhost` TRIGGER example BEFORE
 INSERT ON t FOR EACH ROW
BEGIN
        SET NEW.c = NEW.c * 2;
END
  character_set_client: cp850
  collation_connection: cp850_general_ci
  Database Collation: utf8_general_ci
  Created: 2016-09-29 13:53:34.35
</pre><div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>The <code>Created</code> column was added in MySQL 5.7 and <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a> as part of introducing multiple trigger events per action.</p>
</div><h2 class="anchored_heading" id="show-create-triggersee-also">See also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/trigger-overview/">Trigger Overview</a>
</li><li><code><a href="#create-trigger">CREATE TRIGGER</a></code>
</li><li><code><a href="#drop-trigger">DROP TRIGGER</a></code>
</li><li><code><a href="https://mariadb.com/kb/en/information-schema-triggers-table/">information_schema.TRIGGERS Table</a></code>
</li><li><code><a href="#show-triggers">SHOW TRIGGERS</a></code>
</li><li><a href="https://mariadb.com/kb/en/trigger-limitations/">Trigger Limitations</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-create-user">SHOW CREATE USER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_0 mariadb from_10_2_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">10.2.0</a></h5><p><code>SHOW CREATE USER</code> was introduced in <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a></p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW CREATE USER user_name
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Shows the <a href="#create-user">CREATE USER</a> statement that created the given
user. The statement requires the <a ">SELECT</a> privilege for the <a href="https://mariadb.com/kb/en/the-mysql-database-tables/">mysql</a> database, except for the current user.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">foo4</span><span class="o">@</span><span class="n">test</span> <span class="n">require</span> <span class="n">cipher</span> <span class="s1">'text'</span> 
  <span class="n">issuer</span> <span class="s1">'foo_issuer'</span> <span class="n">subject</span> <span class="s1">'foo_subject'</span><span class="p">;</span>

<span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="n">foo4</span><span class="o">@</span><span class="n">test</span><span class="err">\</span><span class="k">G</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'foo4'</span><span class="o">@</span><span class="s1">'test'</span> 
  <span class="n">REQUIRE</span> <span class="n">ISSUER</span> <span class="s1">'foo_issuer'</span> 
  <span class="n">SUBJECT</span> <span class="s1">'foo_subject'</span> 
  <span class="n">CIPHER</span> <span class="s1">'text'</span>
</pre><p><a href="#user-password-expiry">User Password Expiry</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="nb">INTERVAL</span> <span class="mi">120</span> <span class="k">DAY</span><span class="p">;</span>

<span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="k">for</span> <span class="n">monty</span><span class="o">@</span><span class="n">localhost</span>                                  <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="nb">INTERVAL</span> <span class="mi">120</span> <span class="k">DAY</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#create-user">CREATE USER</a>
</li><li><a href="#alter-user">ALTER USER</a>
</li><li><a href="#show-grants">SHOW GRANTS</a> shows the <code>GRANTS/PRIVILEGES</code> for a user.
</li><li><a href="#show-privileges">SHOW PRIVILEGES</a> shows the privileges supported by MariaDB.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-create-view">SHOW CREATE VIEW</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW CREATE VIEW view_name
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This statement shows a <code class="highlight fixed" style="white-space:pre-wrap"><a href="#create-view">CREATE VIEW</a></code> statement that creates the given <a href="https://mariadb.com/kb/en/views/">view</a>, as well as the character set used by the connection when the view was created. This statement
also works with views.</p>
<p><code class="highlight fixed" style="white-space:pre-wrap">SHOW CREATE VIEW</code> quotes table, column and stored function names according to the value of the <code><a href="https://mariadb.com/kb/en/server-system-variables/#sql_quote_show_create">sql_quote_show_create</a></code> server system variable.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SHOW CREATE VIEW example\G
*************************** 1. row ***************************
                View: example
         Create View: CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL
SECURITY DEFINER VIEW `example` AS (select `t`.`id` AS `id`,`t`.`s` AS `s` from
`t`)
character_set_client: cp850
collation_connection: cp850_general_ci
</pre><p>With <code><a href="https://mariadb.com/kb/en/server-system-variables/#sql_quote_show_create">sql_quote_show_create</a></code> off:</p>
<pre class="fixed">SHOW CREATE VIEW example\G
*************************** 1. row ***************************
                View: example
         Create View: CREATE ALGORITHM=UNDEFINED DEFINER=root@localhost SQL SECU
RITY DEFINER VIEW example AS (select t.id AS id,t.s AS s from t)
character_set_client: cp850
collation_connection: cp850_general_ci
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-databases">SHOW DATABASES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-databasessyntax">Syntax</h2>
<pre class="fixed">SHOW {DATABASES | SCHEMAS}
    [LIKE 'pattern' | WHERE expr]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-databasessyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-databasesdescription" title="Description">Description</a></li>
<li class=""><a href="#show-databasesexamples" title="Examples">Examples</a></li>
<li class=""><a href="#show-databasessee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-databasesdescription">Description</h2>
<p><code class="highlight fixed" style="white-space:pre-wrap">SHOW DATABASES</code> lists the databases on the MariaDB server host.
<code class="highlight fixed" style="white-space:pre-wrap">SHOW SCHEMAS</code> is a synonym for 
<code class="highlight fixed" style="white-space:pre-wrap">SHOW DATABASES</code>. The <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clause, if
present on its own, indicates which database names to match. The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> and <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clauses can be given to select rows using more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>.</p>
<p>You see only those databases for which you have some kind of
privilege, unless you have the global 
<a href="#grant">SHOW DATABASES privilege</a>. You
can also get this list using the <a href="https://mariadb.com/kb/en/mysqlshow/">mysqlshow</a> command.</p>
<p>If the server was started with the <code class="highlight fixed" style="white-space:pre-wrap">--skip-show-database</code>
option, you cannot use this statement at all unless you have the
<a href="#grant">SHOW DATABASES privilege</a>.</p>
<p>The list of results returned by <code>SHOW DATABASES</code> is based on directories in the data directory, which is how MariaDB implements databases. It's possible that output includes directories that do not correspond to actual databases.</p>
<p>The <a href="https://mariadb.com/kb/en/information-schema-schemata-table/">Information Schema SCHEMATA table</a> also contains database information. </p>
<h2 class="anchored_heading" id="show-databasesexamples">Examples</h2>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">DATABASES</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="k">Database</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">information_schema</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">mysql</span>              <span class="o">|</span>
<span class="o">|</span> <span class="n">performance_schema</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre><pre class="fixed"><span class="k">SHOW</span> <span class="n">DATABASES</span> <span class="k">LIKE</span> <span class="s1">'m%'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="k">Database</span> <span class="p">(</span><span class="n">m</span><span class="o">%</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="n">mysql</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
</pre><h2 class="anchored_heading" id="show-databasessee-also">See Also</h2>
<ul start="1"><li><a href="#create-database">CREATE DATABASE</a>
</li><li><a href="#alter-database">ALTER DATABASE</a>
</li><li><a href="#drop-database">DROP DATABASE</a>
</li><li><a href="#show-create-database">SHOW CREATE DATABASE</a>
</li><li><a href="https://mariadb.com/kb/en/character-sets-and-collations/">Character Sets and Collations</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-schemata-table/">Information Schema SCHEMATA Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-engines">SHOW ENGINES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW [STORAGE] ENGINES
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code class="highlight fixed" style="white-space:pre-wrap">SHOW ENGINES</code> displays status information about the server's
storage engines. This is particularly useful for checking whether a storage
engine is supported, or to see what the default engine is. 
<code class="highlight fixed" style="white-space:pre-wrap">SHOW TABLE TYPES</code> is a deprecated synonym.</p>
<p>The <code><a href="https://mariadb.com/kb/en/information-schema-engines-table/">information_schema.ENGINES</a></code> table provides the same information.</p>
<p>Since storage engines are plugins, different information about them is also shown in the <code><a href="https://mariadb.com/kb/en/information_schemaplugins-table/">information_schema.PLUGINS</a></code> table and by the <code><a href="#show-plugins">SHOW PLUGINS</a></code> statement.</p>
<p>Note that both MySQL's InnoDB and Percona's XtraDB replacement are labeled as <code>InnoDB</code>.  However, if XtraDB is in use, it will be specified in the <code>COMMENT</code> field. See <a href="https://mariadb.com/kb/en/xtradb-and-innodb/">XtraDB and InnoDB</a>. The same applies to <a href="https://mariadb.com/kb/en/federatedx/">FederatedX</a>.</p>
<p>The output consists of the following columns:</p>
<ul start="1"><li><code>Engine</code> indicates the engine's name.
</li><li><code>Support</code> indicates whether the engine is installed, and whether it is the default engine for the current session.
</li><li><code>Comment</code> is a brief description.
</li><li><code>Transactions</code>, <code>XA</code> and <code>Savepoints</code> indicate whether <a href="https://mariadb.com/kb/en/transactions/">transactions</a>, <a href="#xa-transactions">XA transactions</a> and <a href="#savepoint">transaction savepoints</a> are supported by the engine.
</li></ul>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SHOW ENGINES\G
*************************** 1. row ***************************
      Engine: InnoDB
     Support: DEFAULT
     Comment: Supports transactions, row-level locking, and foreign keys
Transactions: YES
          XA: YES
  Savepoints: YES
*************************** 2. row ***************************
      Engine: CSV
     Support: YES
     Comment: CSV storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 3. row ***************************
      Engine: MyISAM
     Support: YES
     Comment: MyISAM storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 4. row ***************************
      Engine: BLACKHOLE
     Support: YES
     Comment: /dev/null storage engine (anything you write to it disappears)
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 5. row ***************************
      Engine: FEDERATED
     Support: YES
     Comment: FederatedX pluggable storage engine
Transactions: YES
          XA: NO
  Savepoints: YES
*************************** 6. row ***************************
      Engine: MRG_MyISAM
     Support: YES
     Comment: Collection of identical MyISAM tables
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 7. row ***************************
      Engine: ARCHIVE
     Support: YES
     Comment: Archive storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 8. row ***************************
      Engine: MEMORY
     Support: YES
     Comment: Hash based, stored in memory, useful for temporary tables
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 9. row ***************************
      Engine: PERFORMANCE_SCHEMA
     Support: YES
     Comment: Performance Schema
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 10. row ***************************
      Engine: Aria
     Support: YES
     Comment: Crash-safe tables with MyISAM heritage
Transactions: NO
          XA: NO
  Savepoints: NO
10 rows in set (0.00 sec)
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-engine">SHOW ENGINE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-enginesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-enginedescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#show-engineshow-engine-innodb-status" title="SHOW ENGINE INNODB STATUS">SHOW ENGINE INNODB STATUS</a></li>
<li class=""><a href="#show-engineshow-engine-innodb-mutex" title="SHOW ENGINE INNODB MUTEX">SHOW ENGINE INNODB MUTEX</a></li>
<li class=""><a href="#show-engineshow-engine-performance_schema-status" title="SHOW ENGINE PERFORMANCE_SCHEMA STATUS">SHOW ENGINE PERFORMANCE_SCHEMA STATUS</a></li>
<li class=""><a href="#show-engineshow-engine-rocksdb-status" title="SHOW ENGINE ROCKSDB STATUS">SHOW ENGINE ROCKSDB STATUS</a> </li></ol>
</li></ol>

</div>
<h2 class="anchored_heading" id="show-enginesyntax">Syntax</h2>
<pre class="fixed">SHOW ENGINE engine_name {STATUS | MUTEX}
</pre><h2 class="anchored_heading" id="show-enginedescription">Description</h2>
<p><code class="highlight fixed" style="white-space:pre-wrap">SHOW ENGINE</code> displays operational information about a storage
engine.  The following statements currently are supported:</p>
<pre class="fixed">SHOW ENGINE INNODB STATUS
SHOW ENGINE INNODB MUTEX
SHOW ENGINE PERFORMANCE_SCHEMA STATUS
SHOW ENGINE ROCKSDB STATUS
</pre><p>If the <a href="https://mariadb.com/kb/en/sphinxse/">Sphinx Storage Engine</a> is installed, the following is also supported:</p>
<pre class="fixed">SHOW ENGINE SPHINX STATUS
</pre><p>See <code><a href="https://mariadb.com/kb/en/about-sphinxse/#show-engine-sphinx-status">SHOW ENGINE SPHINX STATUS</a></code>.</p>
<p>Older (and now removed) synonyms were <code class="highlight fixed" style="white-space:pre-wrap">SHOW INNODB STATUS</code>
for <code class="highlight fixed" style="white-space:pre-wrap">SHOW ENGINE INNODB STATUS</code> and 
<code class="highlight fixed" style="white-space:pre-wrap">SHOW MUTEX STATUS</code> for 
<code class="highlight fixed" style="white-space:pre-wrap">SHOW ENGINE INNODB MUTEX</code>.</p>
<h3 class="anchored_heading" id="show-engineshow-engine-innodb-status">SHOW ENGINE INNODB STATUS</h3>
<p><code class="highlight fixed" style="white-space:pre-wrap">SHOW ENGINE INNODB STATUS</code> displays extensive information
from the standard InnoDB Monitor about the state of the InnoDB storage engine.
See <code><a href="#show-engine-innodb-status">SHOW ENGINE INNODB STATUS</a></code> for more.</p>
<h3 class="anchored_heading" id="show-engineshow-engine-innodb-mutex">SHOW ENGINE INNODB MUTEX</h3>
<p><code class="highlight fixed" style="white-space:pre-wrap">SHOW ENGINE INNODB MUTEX</code> displays InnoDB mutex statistics.</p>
<p>The statement displays the following output fields:</p>
<ul start="1"><li><strong>Type:</strong> Always InnoDB.
</li><li><strong>Name:</strong> The source file where the mutex is implemented, and the line number
  in the file where the mutex is created. The line number is dependent on the MariaDB version.
</li><li><strong>Status:</strong> This field displays the following values if <code>UNIV_DEBUG</code> was defined at compilation time (for example, in include/univ.h in the InnoDB part of the source tree). Only the <code>os_waits</code> value is displayed if <code>UNIV_DEBUG</code> was not defined. Without <code>UNIV_DEBUG</code>, the information on which the output is based is insufficient to distinguish regular mutexes and mutexes that protect
  rw-locks (which allow multiple readers or a single writer). Consequently, the
  output may appear to contain multiple rows for the same mutex.
<ul start="1"><li><strong>count</strong> indicates how many times the mutex was requested.
</li><li><strong>spin_waits</strong> indicates how many times the spinlock had to run.
</li><li><strong>spin_rounds</strong> indicates the number of spinlock rounds. (spin_rounds divided by
   spin_waits provides the average round count.)
</li><li><strong>os_waits</strong> indicates the number of operating system waits. This occurs when
   the spinlock did not work (the mutex was not locked during the spinlock and
   it was necessary to yield to the operating system and wait).
</li><li><strong>os_yields</strong> indicates the number of times a the thread trying to lock a mutex
   gave up its timeslice and yielded to the operating system (on the
   presumption that allowing other threads to run will free the mutex so that
   it can be locked).
</li><li><strong>os_wait_times</strong> indicates the amount of time (in ms) spent in operating system
   waits, if the timed_mutexes system variable is 1 (ON). If timed_mutexes is 0
   (OFF), timing is disabled, so os_wait_times is 0. timed_mutexes is off by
   default.
</li></ul>
</li></ul>
<p>Information from this statement can be used to diagnose system problems. For
example, large values of spin_waits and spin_rounds may indicate scalability
problems.</p>
<p>The <code><a href="https://mariadb.com/kb/en/information-schema/">information_schema</a>.<a href="https://mariadb.com/kb/en/information-schema-innodb_mutexes-table/">INNODB_MUTEXES</a></code> table provides similar information.</p>
<h3 class="anchored_heading" id="show-engineshow-engine-performance_schema-status">SHOW ENGINE PERFORMANCE_SCHEMA STATUS</h3>
<p>This statement shows how much memory is used for <code><a href="https://mariadb.com/kb/en/performance-schema/">performance_schema</a></code> tables and internal buffers.</p>
<p>The output contains the following fields:</p>
<ul start="1"><li><strong>Type:</strong> Always <code>performance_schema</code>.
</li><li><strong>Name:</strong> The name of a table, the name of an internal buffer, or the <code>performance_schema</code> word, followed by a dot and an attribute. Internal buffers names are enclosed by parenthesis. <code>performance_schema</code> means that the attribute refers to the whole database (it is a total). 
</li><li><strong>Status:</strong> The value for the attribute.
</li></ul>
<p>The following attributes are shown, in this order, for all tables:</p>
<ul start="1"><li><strong>row_size:</strong> The memory used for an individual record. This value will never change.
</li><li><strong>row_count:</strong> The number of rows in the table or buffer. For some tables, this value depends on a server system variable.
</li><li><strong>memory:</strong> For tables and <code>performance_schema</code>, this is the result of <code>row_size</code> * <code>row_count</code>.
</li></ul>
<p>For internal buffers, the attributes are:</p>
<ul start="1"><li><strong>count</strong>
</li><li><strong>size</strong>
</li></ul>
<h3 class="anchored_heading" id="show-engineshow-engine-rocksdb-status">SHOW ENGINE ROCKSDB STATUS</h3>
<p>See also <a href="https://mariadb.com/kb/en/myrocks-performance-troubleshooting/">MyRocks Performance Troubleshooting</a></p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-errors">SHOW ERRORS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-errorssyntax">Syntax</h2>
<pre class="fixed">SHOW ERRORS [LIMIT [offset,] row_count]
SHOW ERRORS [LIMIT row_count OFFSET offset]
SHOW COUNT(*) ERRORS
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-errorssyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-errorsdescription" title="Description">Description</a></li>
<li class=""><a href="#show-errorsexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-errorsdescription">Description</h2>
<p>This statement is similar to <a href="#show-warnings">SHOW WARNINGS</a>, except that instead of
displaying errors, warnings, and notes, it displays only errors.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">LIMIT</code> clause has the same syntax as for the
<a href="#select">SELECT</a> statement.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">SHOW COUNT(*) ERRORS</code> statement displays the number of
errors. You can also retrieve this number from the <a href="https://mariadb.com/kb/en/server-system-variables/#error_count">error_count</a> variable.</p>
<pre class="fixed">SHOW COUNT(*) ERRORS;
SELECT @@error_count;
</pre><p>The value of <a href="https://mariadb.com/kb/en/server-system-variables/#error_count">error_count</a> might be greater than the number of messages displayed by <a href="#show-warnings">SHOW WARNINGS</a> if the <a href="https://mariadb.com/kb/en/server-system-variables/#max_error_count">max_error_count</a> system variable is set so low that not all messages are stored.</p>
<p>For a list of MariaDB error codes, see <a href="https://mariadb.com/kb/en/mariadb-error-codes/">MariaDB Error Codes</a>.</p>
<h2 class="anchored_heading" id="show-errorsexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">f</span><span class="p">();</span>
<span class="n">ERROR</span> <span class="mi">1305</span> <span class="p">(</span><span class="mi">42000</span><span class="p">):</span> <span class="k">FUNCTION</span> <span class="n">f</span> <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span>

<span class="k">SHOW</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="n">ERRORS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="o">@@</span><span class="k">session</span><span class="p">.</span><span class="n">error_count</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                     <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>

<span class="k">SHOW</span> <span class="n">ERRORS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+---------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+---------------------------+</span>
<span class="o">|</span> <span class="n">Error</span> <span class="o">|</span> <span class="mi">1305</span> <span class="o">|</span> <span class="k">FUNCTION</span> <span class="n">f</span> <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+---------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-engine-innodb-status">SHOW ENGINE INNODB STATUS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p><code>SHOW ENGINE INNODB STATUS</code> is a specific form of the <a href="#show-engine">SHOW ENGINE</a> statement that displays the <a href="https://mariadb.com/kb/en/innodb-monitors/">InnoDB Monitor</a> output, which is extensive InnoDB information which can be useful in diagnosing problems.</p>
<p>The following sections are displayed</p>
<ul start="1"><li><strong>Status:</strong> Shows the timestamp, monitor name and the number of seconds, or the elapsed time between the current time and the time the InnoDB Monitor output was last displayed. The per-second averages are based upon this time.
</li><li><strong>BACKGROUND THREAD:</strong> srv_master_thread lines show work performed by the main background thread.
</li><li><strong>SEMAPHORES:</strong> Threads waiting for a semaphore and stats on how the number of times threads have needed a spin or a wait on a mutex or rw-lock semaphore. If this number of threads is large, there may be I/O or contention issues. Reducing the size of the <a href="https://mariadb.com/kb/en/xtradbinnodb-server-system-variables/#innodb_thread_concurrency">innodb_thread_concurrency</a> system variable may help if contention is related to thread scheduling. <code>Spin rounds per wait</code> shows the number of spinlock rounds per OS wait for a mutex. 
</li><li><strong>LATEST FOREIGN KEY ERROR:</strong> Only shown if there has been a foreign key constraint error, it displays the failed statement and information about the constraint and the related tables.
</li><li><strong>LATEST DETECTED DEADLOCK:</strong> Only shown if there has been a deadlock, it displays the transactions involved in the deadlock and the statements being executed, held and required locked and the transaction rolled back to.
</li><li><strong>TRANSACTIONS:</strong> The output of this section can help identify lock contention, as well as reasons for the deadlocks.
</li><li><strong>FILE I/O:</strong> InnoDB thread information as well as pending I/O operations and I/O performance statistics.
</li><li><strong>INSERT BUFFER AND ADAPTIVE HASH INDEX:</strong> InnoDB insert buffer (old name for the <a href="https://mariadb.com/kb/en/innodb-change-buffering/">change buffer</a>) and adaptive hash index status information, including the number of each type of operation performed, and adaptive hash index performance.
</li><li><strong>LOG:</strong> InnoDB log information, including current log sequence number, how far the log has been flushed to disk, the position at which InnoDB last took a checkpoint, pending writes and write performance statistics.
</li><li><strong>BUFFER POOL AND MEMORY:</strong> Information on buffer pool pages read and written, which allows you to see the number of data file I/O operations performed by your queries. See <a href="https://mariadb.com/kb/en/innodb-buffer-pool/">InnoDB Buffer Pool</a> for more. Similar information is also available from the <a href="https://mariadb.com/kb/en/information-schema-innodb_buffer_pool_stats-table/">INFORMATION_SCHEMA.INNODB_BUFFER_POOL_STATS</a> table.
</li><li><strong>ROW OPERATIONS:</strong>Information about the main thread, including the number and performance rate for each type of row operation. 
</li></ul>
<p>If the <a href="https://mariadb.com/kb/en/xtradbinnodb-server-system-variables/#innodb_status_output_locks">innodb_status_output_locks</a> system variable is set to <code>1</code>, extended lock information will be displayed.</p>
<p>Example output:</p>
<pre class="fixed">=====================================
2019-09-06 12:44:13 0x7f93cc236700 INNODB MONITOR OUTPUT
=====================================
Per second averages calculated from the last 4 seconds
-----------------
BACKGROUND THREAD
-----------------
srv_master_thread loops: 2 srv_active, 0 srv_shutdown, 83698 srv_idle
srv_master_thread log flush and writes: 83682
----------
SEMAPHORES
----------
OS WAIT ARRAY INFO: reservation count 15
OS WAIT ARRAY INFO: signal count 8
RW-shared spins 0, rounds 20, OS waits 7
RW-excl spins 0, rounds 0, OS waits 0
RW-sx spins 0, rounds 0, OS waits 0
Spin rounds per wait: 20.00 RW-shared, 0.00 RW-excl, 0.00 RW-sx
------------
TRANSACTIONS
------------
Trx id counter 236
Purge done for trx's n:o &lt; 236 undo n:o &lt; 0 state: running
History list length 22
LIST OF TRANSACTIONS FOR EACH SESSION:
---TRANSACTION 421747401994584, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421747401990328, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
--------
FILE I/O
--------
I/O thread 0 state: waiting for completed aio requests (insert buffer thread)
I/O thread 1 state: waiting for completed aio requests (log thread)
I/O thread 2 state: waiting for completed aio requests (read thread)
I/O thread 3 state: waiting for completed aio requests (read thread)
I/O thread 4 state: waiting for completed aio requests (read thread)
I/O thread 5 state: waiting for completed aio requests (read thread)
I/O thread 6 state: waiting for completed aio requests (write thread)
I/O thread 7 state: waiting for completed aio requests (write thread)
I/O thread 8 state: waiting for completed aio requests (write thread)
I/O thread 9 state: waiting for completed aio requests (write thread)
Pending normal aio reads: [0, 0, 0, 0] , aio writes: [0, 0, 0, 0] ,
 ibuf aio reads:, log i/o's:, sync i/o's:
Pending flushes (fsync) log: 0; buffer pool: 0
286 OS file reads, 171 OS file writes, 22 OS fsyncs
0.00 reads/s, 0 avg bytes/read, 0.00 writes/s, 0.00 fsyncs/s
-------------------------------------
INSERT BUFFER AND ADAPTIVE HASH INDEX
-------------------------------------
Ibuf: size 1, free list len 0, seg size 2, 0 merges
merged operations:
 insert 0, delete mark 0, delete 0
discarded operations:
 insert 0, delete mark 0, delete 0
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 0 buffer(s)
0.00 hash searches/s, 0.00 non-hash searches/s
---
LOG
---
Log sequence number 445926
Log flushed up to   445926
Pages flushed up to 445926
Last checkpoint at  445917
0 pending log flushes, 0 pending chkp writes
18 log i/o's done, 0.00 log i/o's/second
----------------------
BUFFER POOL AND MEMORY
----------------------
Total large memory allocated 167772160
Dictionary memory allocated 50768
Buffer pool size   8012
Free buffers       7611
Database pages     401
Old database pages 0
Modified db pages  0
Percent of dirty pages(LRU &amp; free pages): 0.000
Max dirty pages percent: 75.000
Pending reads 0
Pending writes: LRU 0, flush list 0, single page 0
Pages made young 0, not young 0
0.00 youngs/s, 0.00 non-youngs/s
Pages read 264, created 137, written 156
0.00 reads/s, 0.00 creates/s, 0.00 writes/s
No buffer pool page gets since the last printout
Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s
LRU len: 401, unzip_LRU len: 0
I/O sum[0]:cur[0], unzip sum[0]:cur[0]
--------------
ROW OPERATIONS
--------------
0 queries inside InnoDB, 0 queries in queue
0 read views open inside InnoDB
Process ID=4267, Main thread ID=140272021272320, state: sleeping
Number of rows inserted 1, updated 0, deleted 0, read 1
0.00 inserts/s, 0.00 updates/s, 0.00 deletes/s, 0.00 reads/s
Number of system rows inserted 0, updated 0, deleted 0, read 0
0.00 inserts/s, 0.00 updates/s, 0.00 deletes/s, 0.00 reads/s
----------------------------
END OF INNODB MONITOR OUTPUT
============================
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-events">SHOW EVENTS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW EVENTS [{FROM | IN} schema_name]
    [LIKE 'pattern' | WHERE expr]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Shows information about Event Manager <a href="https://mariadb.com/kb/en/events/">events</a> (created with <code><a href="#create-event">CREATE EVENT</a></code>). Requires the <code><a ">EVENT</a></code> privilege. Without any arguments, <code class="highlight fixed" style="white-space:pre-wrap">SHOW EVENTS</code> lists all of the events in the current schema:</p>
<pre class="fixed">SELECT CURRENT_USER(), SCHEMA();
+----------------+----------+
| CURRENT_USER() | SCHEMA() |
+----------------+----------+
| jon@ghidora    | myschema |
+----------------+----------+

SHOW EVENTS\G
*************************** 1. row ***************************
                  Db: myschema
                Name: e_daily
             Definer: jon@ghidora
           Time zone: SYSTEM
                Type: RECURRING
          Execute at: NULL
      Interval value: 10
      Interval field: SECOND
              Starts: 2006-02-09 10:41:23
                Ends: NULL
              Status: ENABLED
          Originator: 0
character_set_client: latin1
collation_connection: latin1_swedish_ci
  Database Collation: latin1_swedish_ci
</pre><p>To see the event action, use <code><a href="#show-create-event">SHOW CREATE EVENT</a></code> instead, or look at the <code><a href="https://mariadb.com/kb/en/information-schema-events-table/">information_schema.EVENTS</a></code> table.</p>
<p>To see events for a specific schema, use the <code class="highlight fixed" style="white-space:pre-wrap">FROM</code> clause.
For example, to see events for the test schema, use the following statement:</p>
<pre class="fixed">SHOW EVENTS FROM test;
</pre><p>The <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clause, if present, indicates which event names to
match. The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> clause can be given to select rows using
more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended Show</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-explain">SHOW EXPLAIN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-explainsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-explaindescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#show-explainpossible-errors" title="Possible Errors">Possible Errors</a></li>
<li class=""><a href="#show-explaindifferences-between-show-explain-and-explain-outputs" title="Differences Between SHOW EXPLAIN and EXPLAIN Outputs">Differences Between SHOW EXPLAIN and EXPLAIN Outputs</a> <ol class="toc">
<li class=""><a href="#show-explainbackground" title="Background">Background</a></li>
<li class=""><a href="#show-explainlist-of-recorded-differences" title="List of Recorded Differences">List of Recorded Differences</a></li>
<li class=""><a href="#show-explainrequired-permissions" title="Required Permissions">Required Permissions</a> </li></ol>
</li></ol>
</li>
<li class=""><a href="#show-explainsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-explainsyntax">Syntax</h2>
<pre class="fixed"><span class="k">SHOW</span> <span class="k">EXPLAIN</span> <span class="k">FOR</span> <span class="o">&lt;</span><span class="n">thread_id</span><span class="o">&gt;</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="show-explaindescription">Description</h2>
<p>The <code>SHOW EXPLAIN</code> command allows one to get an <a href="#explain">EXPLAIN</a> (that is, a
description of a query plan) of a query running in a certain thread.</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="k">EXPLAIN</span> <span class="k">FOR</span> <span class="o">&lt;</span><span class="n">thread_id</span><span class="o">&gt;</span><span class="p">;</span>
</pre><p>will produce an <code>EXPLAIN</code> output for the query that thread number <code>thread_id</code> is running. The thread id can be obtained with <a href="#show-processlist">SHOW PROCESSLIST</a>.</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="k">EXPLAIN</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+-------------+-------+-------+---------------+------+---------+------+---------+-------------+</span>
<span class="o">|</span> <span class="n">id</span>   <span class="o">|</span> <span class="n">select_type</span> <span class="o">|</span> <span class="k">table</span> <span class="o">|</span> <span class="k">type</span>  <span class="o">|</span> <span class="n">possible_keys</span> <span class="o">|</span> <span class="k">key</span>  <span class="o">|</span> <span class="n">key_len</span> <span class="o">|</span> <span class="k">ref</span>  <span class="o">|</span> <span class="k">rows</span>    <span class="o">|</span> <span class="n">Extra</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------+-------+-------+---------------+------+---------+------+---------+-------------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="k">SIMPLE</span>      <span class="o">|</span> <span class="n">tbl</span>   <span class="o">|</span> <span class="k">index</span> <span class="o">|</span> <span class="k">NULL</span>          <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="mi">5</span>       <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span> <span class="mi">1000107</span> <span class="o">|</span> <span class="k">Using</span> <span class="k">index</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+-------------+-------+-------+---------------+------+---------+------+---------+-------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>The output is always accompanied with a warning which shows the query the
target thread is running (this shows what the <code>EXPLAIN</code> is for):</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1003</span> <span class="o">|</span> <span class="k">select</span> <span class="k">sum</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">from</span> <span class="n">tbl</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><h3 class="anchored_heading" id="show-explainpossible-errors">Possible Errors</h3>
<p>The output can be only produced if the target thread is <em>currently</em> running a
query, which has a ready query plan. If this is not the case, the output will
be:</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="k">EXPLAIN</span> <span class="k">FOR</span> <span class="mi">2</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1932</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="n">Target</span> <span class="k">is</span> <span class="k">not</span> <span class="n">running</span> <span class="n">an</span> <span class="n">EXPLAINable</span> <span class="n">command</span>
</pre><p>You will get this error when:</p>
<ul start="1"><li>the target thread is not running a command for which one can run <code>EXPLAIN</code>
</li><li>the target thread is running a command for which one can run <code>EXPLAIN</code>, but
<ul start="1"><li>there is no query plan yet (for example, tables are open and locks are
   acquired before the query plan is produced)
</li></ul>
</li></ul>
<h3 class="anchored_heading" id="show-explaindifferences-between-show-explain-and-explain-outputs">Differences Between SHOW EXPLAIN and EXPLAIN Outputs</h3>
<h4 class="anchored_heading" id="show-explainbackground">Background</h4>
<p>In MySQL, <code>EXPLAIN</code> execution takes a slightly different route from the way
the real query (typically the <code>SELECT</code>) is optimized. This is unfortunate,
and has caused a number of bugs in <code>EXPLAIN</code>. (For example, see
<a href="https://jira.mariadb.org/browse/MDEV-326">MDEV-326</a>, <a href="https://jira.mariadb.org/browse/MDEV-410">MDEV-410</a>, and
<a href="https://bugs.launchpad.net/maria/+bug/1013343">lp:1013343</a>.
<a href="https://bugs.launchpad.net/maria/+bug/992942">lp:992942</a> is not directly
about <code>EXPLAIN</code>, but it also would not have existed if MySQL didn't try to delete
parts of a query plan in the middle of the query) </p>
<p><code>SHOW EXPLAIN</code> examines a running <code>SELECT</code>, and hence its output may be
slightly different from what <code>EXPLAIN SELECT</code> would produce. We did our best
to make sure that either the difference is negligible, or <code>SHOW EXPLAIN</code>'s
output is closer to reality than <code>EXPLAIN</code>'s output.</p>
<h4 class="anchored_heading" id="show-explainlist-of-recorded-differences">List of Recorded Differences</h4>
<ul start="1"><li><code>SHOW EXPLAIN</code> may have Extra='<code>no matching row in const table</code>', where  <code>EXPLAIN</code> would produce Extra='<code>Impossible WHERE ...</code>'
</li><li>For queries with subqueries, <code>SHOW EXPLAIN</code> may print <code>select_type==PRIMARY</code> where regular <code>EXPLAIN</code> used to print <code>select_type==SIMPLE</code>, or vice versa.
</li></ul>
<h4 class="anchored_heading" id="show-explainrequired-permissions">Required Permissions</h4>
<p>Running <code>SHOW EXPLAIN</code> requires the same permissions as
running <code>SHOW PROCESSLIST</code> would.</p>
<h2 class="anchored_heading" id="show-explainsee-also">See Also</h2>
<ul start="1"><li><a href="#explain-analyze">EXPLAIN ANALYZE</a>, which will perform a query and outputs enhanced <code>EXPLAIN</code> results.
</li><li>It is also possible to <a href="https://mariadb.com/kb/en/explain-in-the-slow-query-log/">save EXPLAIN into the slow query log</a>.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-function-status">SHOW FUNCTION STATUS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW FUNCTION STATUS
    [LIKE 'pattern' | WHERE expr]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This statement is similar to 
<code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-procedure-status">SHOW PROCEDURE STATUS</a></code> but for
<a href="https://mariadb.com/kb/en/stored-functions/">stored functions</a>.</p>
<p>The LIKE clause, if present on its own, indicates which function names to match. </p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> and <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clauses can be given to select rows using more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>.</p>
<p>The <code><a href="https://mariadb.com/kb/en/information-schema-routines-table/">information_schema.ROUTINES</a></code> table contains more detailed information.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<p>Showing all stored functions:</p>
<pre class="fixed">SHOW FUNCTION STATUS\G
*************************** 1. row ***************************
                  Db: test
                Name: VatCents
                Type: FUNCTION
             Definer: root@localhost
            Modified: 2013-06-01 12:40:31
             Created: 2013-06-01 12:40:31
       Security_type: DEFINER
             Comment: 
character_set_client: utf8
collation_connection: utf8_general_ci
  Database Collation: latin1_swedish_ci
</pre><p>Stored functions whose name starts with 'V': </p>
<pre class="fixed">SHOW FUNCTION STATUS LIKE 'V%' \G
*************************** 1. row ***************************
                  Db: test
                Name: VatCents
                Type: FUNCTION
             Definer: root@localhost
            Modified: 2013-06-01 12:40:31
             Created: 2013-06-01 12:40:31
       Security_type: DEFINER
             Comment: 
character_set_client: utf8
collation_connection: utf8_general_ci
  Database Collation: latin1_swedish_ci
</pre><p>Stored functions with a security type of 'DEFINER':</p>
<pre class="fixed">SHOW FUNCTION STATUS WHERE Security_type LIKE 'DEFINER' \G
*************************** 1. row ***************************
                  Db: test
                Name: VatCents
                Type: FUNCTION
             Definer: root@localhost
            Modified: 2013-06-01 12:40:31
             Created: 2013-06-01 12:40:31
       Security_type: DEFINER
             Comment: 
character_set_client: utf8
collation_connection: utf8_general_ci
  Database Collation: latin1_swedish_ci
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-grants">SHOW GRANTS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-grantssyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-grantsdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#show-grantsusers" title="Users">Users</a></li>
<li class=""><a href="#show-grantsroles" title="Roles">Roles</a> <ol class="toc">
<li class=""><a href="#show-grantsexample" title="Example">Example</a> </li></ol>
</li></ol>
</li>
<li class=""><a href="#show-grantssee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-grantssyntax">Syntax</h2>
<pre class="fixed">SHOW GRANTS [FOR user|role]
</pre><h2 class="anchored_heading" id="show-grantsdescription">Description</h2>
<p>The <code>SHOW GRANTS</code> statement lists privileges granted to a particular user or role.</p>
<h3 class="anchored_heading" id="show-grantsusers">Users</h3>
<p>The statement lists the <a href="#grant">GRANT</a> statement or
statements that must be issued to duplicate the privileges that are granted to
a MariaDB user account. The account is named using the same format as for the
<code class="fixed" style="white-space:pre-wrap">GRANT</code> statement; for example,
'<code class="fixed" style="white-space:pre-wrap">jeffrey'@'localhost</code>'. If you specify only the user name part
of the account name, a host name part of '<code class="fixed" style="white-space:pre-wrap">%</code>' is used.  For
additional information about specifying account names, see
<a href="#grant">GRANT</a>.</p>
<pre class="fixed">SHOW GRANTS FOR 'root'@'localhost';
+---------------------------------------------------------------------+
| Grants for root@localhost                                           |
+---------------------------------------------------------------------+
| GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' WITH GRANT OPTION |
+---------------------------------------------------------------------+
</pre><p>To list the privileges granted to the account that you are using to
connect to the server, you can use any of the following statements:</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">GRANTS</span><span class="p">;</span>
<span class="k">SHOW</span> <span class="n">GRANTS</span> <span class="k">FOR</span> <span class="k">CURRENT_USER</span><span class="p">;</span>
<span class="k">SHOW</span> <span class="n">GRANTS</span> <span class="k">FOR</span> <span class="k">CURRENT_USER</span><span class="p">();</span>
</pre><p>If <code class="highlight fixed" style="white-space:pre-wrap">SHOW GRANTS FOR CURRENT_USER</code> (or any
of the equivalent syntaxes) is used in <code class="highlight fixed" style="white-space:pre-wrap">DEFINER</code> context (such
as within a stored procedure that is defined with 
 <code class="highlight fixed" style="white-space:pre-wrap">SQL SECURITY DEFINER</code>), the grants displayed are those of the
definer and not the invoker.</p>
<p>Note that the <code>DELETE HISTORY</code> privilege, introduced in <a href="https://mariadb.com/kb/en/mariadb-1034-release-notes/">MariaDB 10.3.4</a>, was displayed as <code>DELETE VERSIONING ROWS</code> when running <code>SHOW GRANTS</code> until <a href="https://mariadb.com/kb/en/mariadb-10315-release-notes/">MariaDB 10.3.15</a> (<a href="https://jira.mariadb.org/browse/MDEV-17655">MDEV-17655</a>).</p>
<h3 class="anchored_heading" id="show-grantsroles">Roles</h3>
<p><code>SHOW GRANTS</code> can also be used to view the privileges granted to a <a href="https://mariadb.com/kb/en/roles/">role</a>.</p>
<h4 class="anchored_heading" id="show-grantsexample">Example</h4>
<pre class="fixed">SHOW GRANTS FOR journalist;
+------------------------------------------+
| Grants for journalist                    |
+------------------------------------------+
| GRANT USAGE ON *.* TO 'journalist'       |
| GRANT DELETE ON `test`.* TO 'journalist' |
+------------------------------------------+
</pre><h2 class="anchored_heading" id="show-grantssee-also">See Also</h2>
<ul start="1"><li><a href="#authentication-from-mariadb-104">Authentication from MariaDB 10.4</a>
</li><li><a href="#show-create-user">SHOW CREATE USER</a> shows how the user was created.
</li><li><a href="#show-privileges">SHOW PRIVILEGES</a> shows the privileges supported by MariaDB.
</li><li><a href="https://mariadb.com/kb/en/roles/">Roles</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-index">SHOW INDEX</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-indexsyntax">Syntax</h2>
<pre class="fixed">SHOW {INDEX | INDEXES | KEYS} 
 FROM tbl_name [FROM db_name]
 [WHERE expr]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-indexsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-indexdescription" title="Description">Description</a></li>
<li class=""><a href="#show-indexexamples" title="Examples">Examples</a></li>
<li class=""><a href="#show-indexsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-indexdescription">Description</h2>
<p><code class="highlight fixed" style="white-space:pre-wrap">SHOW INDEX</code> returns table index information. The format
resembles that of the SQLStatistics call in ODBC.</p>
<p>You can use <code class="highlight fixed" style="white-space:pre-wrap">db_name.tbl_name</code> as an alternative to the
 <code class="highlight fixed" style="white-space:pre-wrap">tbl_name FROM db_name</code> syntax. These two statements are
 equivalent:</p>
<pre class="fixed">SHOW INDEX FROM mytable FROM mydb;
SHOW INDEX FROM mydb.mytable;
</pre><p><code class="highlight fixed" style="white-space:pre-wrap">SHOW KEYS</code> and <code class="highlight fixed" style="white-space:pre-wrap">SHOW INDEXES</code> are synonyms for <code class="highlight fixed" style="white-space:pre-wrap">SHOW INDEX</code>.</p>
<p>You can also list a table's indexes with the <a href="https://mariadb.com/kb/en/mysqlshow/">mariadb-show/mysqlshow</a> command: </p>
<pre class="fixed">mysqlshow -k db_name tbl_name
</pre><p>The <a href="https://mariadb.com/kb/en/information-schema-statistics-table/">information_schema.STATISTICS</a> table stores similar information.</p>
<p>The following fields are returned by <code>SHOW INDEX</code>.</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Field</th><th>Description</th></tr>
<tr><td><strong><code>Table</code></strong></td><td>Table name</td></tr>
<tr><td><strong><code>Non_unique</code></strong></td><td><code>1</code> if the index permits duplicate values, <code>0</code> if values must be unique.</td></tr>
<tr><td><strong><code>Key_name</code></strong></td><td>Index name. The primary key is always named <code>PRIMARY</code>.</td></tr>
<tr><td><strong><code>Seq_in_index</code></strong></td><td>The column's sequence in the index, beginning with <code>1</code>.</td></tr>
<tr><td><strong><code>Column_name</code></strong></td><td>Column name.</td></tr>
<tr><td><strong><code>Collation</code></strong></td><td>Either <code>A</code>, if the column is sorted in ascending order in the index, or <code>NULL</code> if it's not sorted.</td></tr>
<tr><td><strong><code>Cardinality</code></strong></td><td>Estimated number of unique values in the index. The cardinality statistics are calculated at various times, and can help the optimizer make improved decisions.</td></tr>
<tr><td><strong><code>Sub_part</code></strong></td><td><code>NULL</code> if the entire column is included in the index, or the number of included characters if not.</td></tr>
<tr><td><strong><code>Packed</code></strong></td><td><code>NULL</code> if the index is not packed, otherwise how the index is packed.</td></tr>
<tr><td><strong><code>Null</code></strong></td><td><code>NULL</code> if <code>NULL</code> values are permitted in the column, an empty string if <code>NULL</code>'s are not permitted.</td></tr>
<tr><td><strong><code>Index_type</code></strong></td><td>The index type, which can be <code>BTREE</code>, <code>FULLTEXT</code>, <code>HASH</code> or <code>RTREE</code>. See <a href="https://mariadb.com/kb/en/storage-engine-index-types/">Storage Engine Index Types</a>.</td></tr>
<tr><td><strong><code>Comment</code></strong></td><td>Other information, such as whether the index is disabled.</td></tr>
<tr><td><strong><code>Index_comment</code></strong></td><td>Contents of the <code>COMMENT</code> attribute when the index was created.</td></tr>
<tr><td><strong><code>Ignored</code></strong></td><td>Whether or not an index will be ignored by the optimizer. See <a href="https://mariadb.com/kb/en/ignored-indexes/">Ignored Indexes</a>. From <a href="https://mariadb.com/kb/en/mariadb-1060-release-notes/">MariaDB 10.6.0</a>.</td></tr>
</table>
</div><p>The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> and <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clauses can be given to select rows using more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>.</p>
<h2 class="anchored_heading" id="show-indexexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="o">`</span><span class="n">employees_example</span><span class="o">`</span> <span class="p">(</span>
  <span class="o">`</span><span class="n">id</span><span class="o">`</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
  <span class="o">`</span><span class="n">first_name</span><span class="o">`</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="n">last_name</span><span class="o">`</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="k">position</span><span class="o">`</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="n">home_address</span><span class="o">`</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="n">home_phone</span><span class="o">`</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="n">employee_code</span><span class="o">`</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">),</span>
  <span class="k">UNIQUE</span> <span class="k">KEY</span> <span class="o">`</span><span class="n">employee_code</span><span class="o">`</span> <span class="p">(</span><span class="o">`</span><span class="n">employee_code</span><span class="o">`</span><span class="p">),</span>
  <span class="k">KEY</span> <span class="o">`</span><span class="n">first_name</span><span class="o">`</span> <span class="p">(</span><span class="o">`</span><span class="n">first_name</span><span class="o">`</span><span class="p">,</span><span class="o">`</span><span class="n">last_name</span><span class="o">`</span><span class="p">)</span>
<span class="p">)</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">Aria</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="o">`</span><span class="n">employees_example</span><span class="o">`</span> <span class="p">(</span><span class="o">`</span><span class="n">first_name</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">last_name</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="k">position</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">home_address</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">home_phone</span><span class="o">`</span><span class="p">,</span> <span class="o">`</span><span class="n">employee_code</span><span class="o">`</span><span class="p">)</span>
  <span class="k">VALUES</span>
  <span class="p">(</span><span class="s1">'Mustapha'</span><span class="p">,</span> <span class="s1">'Mond'</span><span class="p">,</span> <span class="s1">'Chief Executive Officer'</span><span class="p">,</span> <span class="s1">'692 Promiscuous Plaza'</span><span class="p">,</span> <span class="s1">'326-555-3492'</span><span class="p">,</span> <span class="s1">'MM1'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Henry'</span><span class="p">,</span> <span class="s1">'Foster'</span><span class="p">,</span> <span class="s1">'Store Manager'</span><span class="p">,</span> <span class="s1">'314 Savage Circle'</span><span class="p">,</span> <span class="s1">'326-555-3847'</span><span class="p">,</span> <span class="s1">'HF1'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Bernard'</span><span class="p">,</span> <span class="s1">'Marx'</span><span class="p">,</span> <span class="s1">'Cashier'</span><span class="p">,</span> <span class="s1">'1240 Ambient Avenue'</span><span class="p">,</span> <span class="s1">'326-555-8456'</span><span class="p">,</span> <span class="s1">'BM1'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Lenina'</span><span class="p">,</span> <span class="s1">'Crowne'</span><span class="p">,</span> <span class="s1">'Cashier'</span><span class="p">,</span> <span class="s1">'281 Bumblepuppy Boulevard'</span><span class="p">,</span> <span class="s1">'328-555-2349'</span><span class="p">,</span> <span class="s1">'LC1'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Fanny'</span><span class="p">,</span> <span class="s1">'Crowne'</span><span class="p">,</span> <span class="s1">'Restocker'</span><span class="p">,</span> <span class="s1">'1023 Bokanovsky Lane'</span><span class="p">,</span> <span class="s1">'326-555-6329'</span><span class="p">,</span> <span class="s1">'FC1'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Helmholtz'</span><span class="p">,</span> <span class="s1">'Watson'</span><span class="p">,</span> <span class="s1">'Janitor'</span><span class="p">,</span> <span class="s1">'944 Soma Court'</span><span class="p">,</span> <span class="s1">'329-555-2478'</span><span class="p">,</span> <span class="s1">'HW1'</span><span class="p">);</span>
</pre><pre class="fixed">SHOW INDEXES FROM employees_example\G
*************************** 1. row ***************************
        Table: employees_example
   Non_unique: 0
     Key_name: PRIMARY
 Seq_in_index: 1
  Column_name: id
    Collation: A
  Cardinality: 6
     Sub_part: NULL
       Packed: NULL
         Null: 
   Index_type: BTREE
      Comment: 
Index_comment: 
      Ignored: NO
*************************** 2. row ***************************
        Table: employees_example
   Non_unique: 0
     Key_name: employee_code
 Seq_in_index: 1
  Column_name: employee_code
    Collation: A
  Cardinality: 6
     Sub_part: NULL
       Packed: NULL
         Null: 
   Index_type: BTREE
      Comment: 
Index_comment: 
      Ignored: NO
*************************** 3. row ***************************
        Table: employees_example
   Non_unique: 1
     Key_name: first_name
 Seq_in_index: 1
  Column_name: first_name
    Collation: A
  Cardinality: NULL
     Sub_part: NULL
       Packed: NULL
         Null: 
   Index_type: BTREE
      Comment: 
Index_comment: 
      Ignored: NO
*************************** 4. row ***************************
        Table: employees_example
   Non_unique: 1
     Key_name: first_name
 Seq_in_index: 2
  Column_name: last_name
    Collation: A
  Cardinality: NULL
     Sub_part: NULL
       Packed: NULL
         Null: 
   Index_type: BTREE
      Comment: 
Index_comment: 
      Ignored: NO
</pre><h2 class="anchored_heading" id="show-indexsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/ignored-indexes/">Ignored Indexes</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-locales">SHOW LOCALES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p><code>SHOW LOCALES</code> was introduced as part of the <a href="https://mariadb.com/kb/en/information-schema-plugins-show-and-flush-statements/">Information Schema plugin extension</a>.</p>
<p><code>SHOW LOCALES</code> is used to return <code><a href="https://mariadb.com/kb/en/server-locale/">locales</a></code> information as part of the <a href="https://mariadb.com/kb/en/locales-plugin/">Locales</a> plugin. While the <code><a href="https://mariadb.com/kb/en/information-schema-locales-table/">information_schema.LOCALES</a></code> table has 8 columns, the <code>SHOW LOCALES</code> statement will only display 4 of them:</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed">SHOW LOCALES;
+-----+-------+-------------------------------------+------------------------+
| Id  | Name  | Description                         | Error_Message_Language |
+-----+-------+-------------------------------------+------------------------+
|   0 | en_US | English - United States             | english                |
|   1 | en_GB | English - United Kingdom            | english                |
|   2 | ja_JP | Japanese - Japan                    | japanese               |
|   3 | sv_SE | Swedish - Sweden                    | swedish                |
...
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-master-status">SHOW MASTER STATUS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW MASTER STATUS
SHOW BINLOG STATUS -- From MariaDB 10.5.2
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Provides status information about the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> files of the primary.</p>
<p>This statement requires the <a ">SUPER</a> privilege, the <a ">REPLICATION_CLIENT</a> privilege, or, from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the <a ">BINLOG MONITOR</a> privilege.</p>
<p>To see information about the current GTIDs in the binary log, use the
<a href="https://mariadb.com/kb/en/global-transaction-id/#gtid_binlog_pos">gtid_binlog_pos</a> variable.</p>
<p><code>SHOW MASTER STATUS</code> was renamed to <code>SHOW BINLOG STATUS</code> in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, but the old name remains an alias for compatibility purposes.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed">SHOW MASTER STATUS;
+--------------------+----------+--------------+------------------+
| File               | Position | Binlog_Do_DB | Binlog_Ignore_DB |
+--------------------+----------+--------------+------------------+
| mariadb-bin.000016 |      475 |              |                  |
+--------------------+----------+--------------+------------------+
SELECT @@global.gtid_binlog_pos;
+--------------------------+
| @@global.gtid_binlog_pos |
+--------------------------+
| 0-1-2                    |
+--------------------------+
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/high-availability-performance-tuning-mariadb-replication/">MariaDB replication</a>
</li><li><a href="https://mariadb.com/kb/en/using-and-maintaining-the-binary-log/">Using and Maintaining the Binary Log</a>
</li><li><a href="https://mariadb.com/kb/en/global-transaction-id/#gtid_binlog_pos">The gtid_binlog_pos variable</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-open-tables">SHOW OPEN TABLES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW OPEN TABLES [FROM db_name]
    [LIKE 'pattern' | WHERE expr]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p> <code class="highlight fixed" style="white-space:pre-wrap">SHOW OPEN TABLES</code> lists the non-<code class="highlight fixed" style="white-space:pre-wrap">TEMPORARY</code>
tables that are currently open in the table cache. See
<a href="http://dev.mysql.com/doc/refman/5.1/en/table-cache.html">http://dev.mysql.com/doc/refman/5.1/en/table-cache.html</a>.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">FROM</code> and <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clauses may be used.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">FROM</code>
clause, if present, restricts the tables shown to those present in the
<code class="highlight fixed" style="white-space:pre-wrap">db_name</code> database. </p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clause, if
present on its own, indicates which table names to match. The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> and <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clauses can be given to select rows using more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>.</p>
<p>The following information is returned:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Column</th><th>Description</th></tr>
<tr><td>Database</td><td>Database name.</td></tr>
<tr><td>Name</td><td>Table name.</td></tr>
<tr><td>In_use</td><td>Number of  table instances being used.</td></tr>
<tr><td>Name_locked</td><td><code>1</code> if the table is name-locked, e.g. if it is being dropped or renamed, otherwise <code>0</code>.</td></tr>
</table>
</div><p>Before <a href="https://mariadb.com/kb/en/what-is-mariadb-55/">MariaDB 5.5</a>, each use of, for example, <a href="https://mariadb.com/kb/en/lock-tables-and-unlock-tables/">LOCK TABLE ... WRITE</a> would increment <code>In_use</code> for that table. With the implementation of the metadata locking improvements in <a href="https://mariadb.com/kb/en/what-is-mariadb-55/">MariaDB 5.5</a>, <code>LOCK TABLE... WRITE</code> acquires a strong MDL lock, and concurrent connections will wait on this MDL lock, so any subsequent <code>LOCK TABLE... WRITE</code> will not increment <code>In_use</code>.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">SHOW</span> <span class="k">OPEN</span> <span class="n">TABLES</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+---------------------------+--------+-------------+</span>
<span class="o">|</span> <span class="k">Database</span> <span class="o">|</span> <span class="k">Table</span>                     <span class="o">|</span> <span class="n">In_use</span> <span class="o">|</span> <span class="n">Name_locked</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+---------------------------+--------+-------------+</span>
<span class="p">...</span>
<span class="o">|</span> <span class="n">test</span>     <span class="o">|</span> <span class="n">xjson</span>                     <span class="o">|</span>      <span class="mi">0</span> <span class="o">|</span>           <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span>     <span class="o">|</span> <span class="n">jauthor</span>                   <span class="o">|</span>      <span class="mi">0</span> <span class="o">|</span>           <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span>     <span class="o">|</span> <span class="n">locks</span>                     <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>           <span class="mi">0</span> <span class="o">|</span>
<span class="p">...</span>
<span class="o">+</span><span class="c1">----------+---------------------------+--------+-------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-package-body-status">SHOW PACKAGE BODY STATUS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_5 mariadb from_10_3_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">10.3.5</a></h5><p>Oracle-style packages were introduced in <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">MariaDB 10.3.5</a>.</p>
</div><h2 class="anchored_heading" id="show-package-body-statussyntax">Syntax</h2>
<pre class="fixed">SHOW PACKAGE BODY STATUS
    [LIKE 'pattern' | WHERE expr]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_5"><a href="#show-package-body-statussyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_5"><a href="#show-package-body-statusdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_5"><a href="#show-package-body-statusexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3_5"><a href="#show-package-body-statussee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-package-body-statusdescription">Description</h2>
<p>The <code>SHOW PACKAGE BODY STATUS</code> statement returns characteristics of stored package bodies (implementations), such as the database, name, type, creator, creation and modification dates, and character set information. A similar statement, <code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-package-status">SHOW PACKAGE STATUS</a></code>, displays information about stored package specifications.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clause, if present, indicates which package names to match. The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> and <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clauses can be given to select rows using more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>.</p>
<p>The <a href="https://mariadb.com/kb/en/information-schema-routines-table/">ROUTINES table</a> in the INFORMATION_SCHEMA database contains more detailed information.</p>
<h2 class="anchored_heading" id="show-package-body-statusexamples">Examples</h2>
<pre class="fixed">SHOW PACKAGE BODY STATUS LIKE 'pkg1'\G
*************************** 1. row ***************************
                  Db: test
                Name: pkg1
                Type: PACKAGE BODY
             Definer: root@localhost
            Modified: 2018-02-27 14:44:14
             Created: 2018-02-27 14:44:14
       Security_type: DEFINER
             Comment: This is my first package body
character_set_client: utf8
collation_connection: utf8_general_ci
  Database Collation: latin1_swedish_ci
</pre><h2 class="anchored_heading" id="show-package-body-statussee-also">See Also</h2>
<ul start="1"><li><a href="#show-package-status">SHOW PACKAGE STATUS</a>
</li><li><a href="#show-create-package-body">SHOW CREATE PACKAGE BODY</a>
</li><li><a href="#create-package-body">CREATE PACKAGE BODY</a>
</li><li><a href="#drop-package-body">DROP PACKAGE BODY</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle SQL_MODE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-package-status">SHOW PACKAGE STATUS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_5 mariadb from_10_3_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">10.3.5</a></h5><p>Oracle-style packages were introduced in <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">MariaDB 10.3.5</a>.</p>
</div><h2 class="anchored_heading" id="show-package-statussyntax">Syntax</h2>
<pre class="fixed">SHOW PACKAGE STATUS
    [LIKE 'pattern' | WHERE expr]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_5"><a href="#show-package-statussyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_5"><a href="#show-package-statusdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_5"><a href="#show-package-statusexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3_5"><a href="#show-package-statussee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-package-statusdescription">Description</h2>
<p>The <code>SHOW PACKAGE STATUS</code> statement returns characteristics of stored package specifications, such as the database, name, type, creator, creation and modification dates, and character set information. A similar statement, <code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-package-body-status">SHOW PACKAGE BODY STATUS</a></code>, displays information about stored package bodies (i.e. implementations).</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clause, if present, indicates which package names to match. The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> and <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clauses can be given to select rows using more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>.</p>
<p>The <a href="https://mariadb.com/kb/en/information-schema-routines-table/">ROUTINES table</a> in the INFORMATION_SCHEMA database contains more detailed information.</p>
<h2 class="anchored_heading" id="show-package-statusexamples">Examples</h2>
<pre class="fixed">SHOW PACKAGE STATUS LIKE 'pkg1'\G
*************************** 1. row ***************************
                  Db: test
                Name: pkg1
                Type: PACKAGE
             Definer: root@localhost
            Modified: 2018-02-27 14:38:15
             Created: 2018-02-27 14:38:15
       Security_type: DEFINER
             Comment: This is my first package
character_set_client: utf8
collation_connection: utf8_general_ci
  Database Collation: latin1_swedish_ci
</pre><h2 class="anchored_heading" id="show-package-statussee-also">See Also</h2>
<ul start="1"><li><a href="#show-package-body-status">SHOW PACKAGE BODY</a>
</li><li><a href="#show-create-package">SHOW CREATE PACKAGE</a>
</li><li><a href="#create-package">CREATE PACKAGE</a>
</li><li><a href="#drop-package">DROP PACKAGE</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle SQL_MODE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-plugins">SHOW PLUGINS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-pluginssyntax">Syntax</h2>
<pre class="fixed">SHOW PLUGINS;
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-pluginssyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-pluginsdescription" title="Description">Description</a></li>
<li class=""><a href="#show-pluginsexamples" title="Examples">Examples</a></li>
<li class=""><a href="#show-pluginssee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-pluginsdescription">Description</h2>
<p> <code class="highlight fixed" style="white-space:pre-wrap">SHOW PLUGINS</code> displays information about installed <a href="https://mariadb.com/kb/en/mariadb-plugins/">plugins</a>. The <code>Library</code> column indicates the plugin library - if it is <code>NULL</code>, the plugin is built-in and cannot be uninstalled.</p>
<p>The <code><a href="https://mariadb.com/kb/en/information_schemaplugins-table/">PLUGINS</a></code> table in the <code>information_schema</code> database contains more detailed information.</p>
<p>For specific information about storage engines (a particular type of plugin), see the <code><a href="https://mariadb.com/kb/en/information-schema-engines-table/">information_schema.ENGINES</a></code> table and the <code><a href="#show-engines">SHOW ENGINES</a></code> statement.</p>
<h2 class="anchored_heading" id="show-pluginsexamples">Examples</h2>
<pre class="fixed">SHOW PLUGINS;
+----------------------------+----------+--------------------+-------------+---------+
| Name                       | Status   | Type               | Library     | License |
+----------------------------+----------+--------------------+-------------+---------+
| binlog                     | ACTIVE   | STORAGE ENGINE     | NULL        | GPL     |
| mysql_native_password      | ACTIVE   | AUTHENTICATION     | NULL        | GPL     |
| mysql_old_password         | ACTIVE   | AUTHENTICATION     | NULL        | GPL     |
| MRG_MyISAM                 | ACTIVE   | STORAGE ENGINE     | NULL        | GPL     |
| MyISAM                     | ACTIVE   | STORAGE ENGINE     | NULL        | GPL     |
| CSV                        | ACTIVE   | STORAGE ENGINE     | NULL        | GPL     |
| MEMORY                     | ACTIVE   | STORAGE ENGINE     | NULL        | GPL     |
| FEDERATED                  | ACTIVE   | STORAGE ENGINE     | NULL        | GPL     |
| PERFORMANCE_SCHEMA         | ACTIVE   | STORAGE ENGINE     | NULL        | GPL     |
| Aria                       | ACTIVE   | STORAGE ENGINE     | NULL        | GPL     |
| InnoDB                     | ACTIVE   | STORAGE ENGINE     | NULL        | GPL     |
| INNODB_TRX                 | ACTIVE   | INFORMATION SCHEMA | NULL        | GPL     |
...
| INNODB_SYS_FOREIGN         | ACTIVE   | INFORMATION SCHEMA | NULL        | GPL     |
| INNODB_SYS_FOREIGN_COLS    | ACTIVE   | INFORMATION SCHEMA | NULL        | GPL     |
| SPHINX                     | ACTIVE   | STORAGE ENGINE     | NULL        | GPL     |
| ARCHIVE                    | ACTIVE   | STORAGE ENGINE     | NULL        | GPL     |
| BLACKHOLE                  | ACTIVE   | STORAGE ENGINE     | NULL        | GPL     |
| FEEDBACK                   | DISABLED | INFORMATION SCHEMA | NULL        | GPL     |
| partition                  | ACTIVE   | STORAGE ENGINE     | NULL        | GPL     |
| pam                        | ACTIVE   | AUTHENTICATION     | auth_pam.so | GPL     |
+----------------------------+----------+--------------------+-------------+---------+
</pre><h2 class="anchored_heading" id="show-pluginssee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/list-of-plugins/">List of Plugins</a>
</li><li><a href="#plugin-overview">Plugin Overview</a>
</li><li><a href="https://mariadb.com/kb/en/plugins-table-information-schema/">INFORMATION_SCHEMA.PLUGINS Table</a>
</li><li><a href="#install-plugin">INSTALL PLUGIN</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-all_plugins-table/">INFORMATION_SCHEMA.ALL_PLUGINS Table</a> (all plugins, installed or not)
</li><li><a href="#install-soname">INSTALL SONAME</a>
</li><li><a href="#uninstall-plugin">UNINSTALL PLUGIN</a>
</li><li><a href="#uninstall-soname">UNINSTALL SONAME</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-plugins-soname">SHOW PLUGINS SONAME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW PLUGINS SONAME { library | LIKE 'pattern' | WHERE expr };
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code class="highlight fixed" style="white-space:pre-wrap">SHOW PLUGINS SONAME</code> displays information about compiled-in and all server plugins in the <code><a href="https://mariadb.com/kb/en/server-system-variables/#plugin_dir">plugin_dir</a></code> directory, including plugins that haven't been installed.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SHOW PLUGINS SONAME 'ha_example.so';
+----------+---------------+----------------+---------------+---------+
| Name     | Status        | Type           | Library       | License |
+----------+---------------+----------------+---------------+---------+
| EXAMPLE  | NOT INSTALLED | STORAGE ENGINE | ha_example.so | GPL     |
| UNUSABLE | NOT INSTALLED | DAEMON         | ha_example.so | GPL     |
+----------+---------------+----------------+---------------+---------+
</pre><p>There is also a corresponding <code><a href="https://mariadb.com/kb/en/information_schema/">information_schema</a></code> table, called <code><a href="https://mariadb.com/kb/en/information-schema-all_plugins-table/">ALL_PLUGINS</a></code>, which contains more complete information.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-privileges">SHOW PRIVILEGES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW PRIVILEGES
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p> <code class="highlight fixed" style="white-space:pre-wrap">SHOW PRIVILEGES</code> shows the list of <a href="#grant">system privileges</a> that the MariaDB server supports. The exact list of privileges depends on the version of your server.</p>
<p>Note that before <a href="https://mariadb.com/kb/en/mariadb-10323-release-notes/">MariaDB 10.3.23</a>, <a href="https://mariadb.com/kb/en/mariadb-10413-release-notes/">MariaDB 10.4.13</a> and <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a> , the <a ">Delete history</a> privilege displays as <code>Delete versioning rows</code> (<a href="https://jira.mariadb.org/browse/MDEV-20382">MDEV-20382</a>).</p>
<h2 class="anchored_heading" id="example">Example</h2>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1059-release-notes/">MariaDB 10.5.9</a></p>
<pre class="fixed">SHOW PRIVILEGES;
+--------------------------+---------------------------------------+--------------------------------------------------------------------+
| Privilege                | Context                               | Comment                                                            |
+--------------------------+---------------------------------------+--------------------------------------------------------------------+
| Alter                    | Tables                                | To alter the table                                                 |
| Alter routine            | Functions,Procedures                  | To alter or drop stored functions/procedures                       |
| Create                   | Databases,Tables,Indexes              | To create new databases and tables                                 |
| Create routine           | Databases                             | To use CREATE FUNCTION/PROCEDURE                                   |
| Create temporary tables  | Databases                             | To use CREATE TEMPORARY TABLE                                      |
| Create view              | Tables                                | To create new views                                                |
| Create user              | Server Admin                          | To create new users                                                |
| Delete                   | Tables                                | To delete existing rows                                            |
| Delete history           | Tables                                | To delete versioning table historical rows                         |
| Drop                     | Databases,Tables                      | To drop databases, tables, and views                               |
| Event                    | Server Admin                          | To create, alter, drop and execute events                          |
| Execute                  | Functions,Procedures                  | To execute stored routines                                         |
| File                     | File access on server                 | To read and write files on the server                              |
| Grant option             | Databases,Tables,Functions,Procedures | To give to other users those privileges you possess                |
| Index                    | Tables                                | To create or drop indexes                                          |
| Insert                   | Tables                                | To insert data into tables                                         |
| Lock tables              | Databases                             | To use LOCK TABLES (together with SELECT privilege)                |
| Process                  | Server Admin                          | To view the plain text of currently executing queries              |
| Proxy                    | Server Admin                          | To make proxy user possible                                        |
| References               | Databases,Tables                      | To have references on tables                                       |
| Reload                   | Server Admin                          | To reload or refresh tables, logs and privileges                   |
| Binlog admin             | Server                                | To purge binary logs                                               |
| Binlog monitor           | Server                                | To use SHOW BINLOG STATUS and SHOW BINARY LOG                      |
| Binlog replay            | Server                                | To use BINLOG (generated by mariadb-binlog)                        |
| Replication master admin | Server                                | To monitor connected slaves                                        |
| Replication slave admin  | Server                                | To start/stop slave and apply binlog events                        |
| Slave monitor            | Server                                | To use SHOW SLAVE STATUS and SHOW RELAYLOG EVENTS                  |
| Replication slave        | Server Admin                          | To read binary log events from the master                          |
| Select                   | Tables                                | To retrieve rows from table                                        |
| Show databases           | Server Admin                          | To see all databases with SHOW DATABASES                           |
| Show view                | Tables                                | To see views with SHOW CREATE VIEW                                 |
| Shutdown                 | Server Admin                          | To shut down the server                                            |
| Super                    | Server Admin                          | To use KILL thread, SET GLOBAL, CHANGE MASTER, etc.                |
| Trigger                  | Tables                                | To use triggers                                                    |
| Create tablespace        | Server Admin                          | To create/alter/drop tablespaces                                   |
| Update                   | Tables                                | To update existing rows                                            |
| Set user                 | Server                                | To create views and stored routines with a different definer       |
| Federated admin          | Server                                | To execute the CREATE SERVER, ALTER SERVER, DROP SERVER statements |
| Connection admin         | Server                                | To bypass connection limits and kill other users' connections      |
| Read_only admin          | Server                                | To perform write operations even if @@read_only=ON                 |
| Usage                    | Server Admin                          | No privileges - allow connect only                                 |
+--------------------------+---------------------------------------+--------------------------------------------------------------------+
41 rows in set (0.000 sec)
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#show-create-user">SHOW CREATE USER</a> shows how the user was created.
</li><li><a href="#show-grants">SHOW GRANTS</a> shows the <code>GRANTS/PRIVILEGES</code> for a user.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-procedure-code">SHOW PROCEDURE CODE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-procedure-codesyntax">Syntax</h2>
<pre class="fixed">SHOW PROCEDURE CODE proc_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-procedure-codesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-procedure-codedescription" title="Description">Description</a></li>
<li class=""><a href="#show-procedure-codeexamples" title="Examples">Examples</a></li>
<li class=""><a href="#show-procedure-codesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-procedure-codedescription">Description</h2>
<p>This statement is a MariaDB extension that is available only for servers that
have been built with debugging support. It displays a representation of the
internal implementation of the named <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedure</a>. A similar statement,
 <code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-function-code">SHOW FUNCTION CODE</a></code>, displays
information about <a href="https://mariadb.com/kb/en/stored-functions/">stored functions</a>.</p>
<p>Both statements require that you be the owner of the routine or have
 <code class="highlight fixed" style="white-space:pre-wrap"><a href="#grant">SELECT</a></code> access to the <code><a href="https://mariadb.com/kb/en/mysqlproc-table/">mysql.proc</a></code> table.</p>
<p>If the named routine is available, each statement produces a result
set. Each row in the result set corresponds to one "instruction" in
the routine. The first column is Pos, which is an ordinal number
beginning with 0. The second column is Instruction, which contains an
SQL statement (usually changed from the original source), or a
directive which has meaning only to the stored-routine handler.</p>
<h2 class="anchored_heading" id="show-procedure-codeexamples">Examples</h2>
<pre class="fixed">DELIMITER //

CREATE PROCEDURE p1 ()
  BEGIN
    DECLARE fanta INT DEFAULT 55;
    DROP TABLE t2;
    LOOP
      INSERT INTO t3 VALUES (fanta);
      END LOOP;
  END//
Query OK, 0 rows affected (0.00 sec)

SHOW PROCEDURE CODE p1//
+-----+----------------------------------------+
| Pos | Instruction                            |
+-----+----------------------------------------+
|   0 | set fanta@0 55                         |
|   1 | stmt 9 "DROP TABLE t2"                 |
|   2 | stmt 5 "INSERT INTO t3 VALUES (fanta)" |
|   3 | jump 2                                 |
+-----+----------------------------------------+
</pre><h2 class="anchored_heading" id="show-procedure-codesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/stored-procedure-overview/">Stored Procedure Overview</a>
</li><li><a href="#create-procedure">CREATE PROCEDURE</a>
</li><li><a href="#alter-procedure">ALTER PROCEDURE</a>
</li><li><a href="#drop-procedure">DROP PROCEDURE</a>
</li><li><a href="#show-create-procedure">SHOW CREATE PROCEDURE</a>
</li><li><a href="#show-procedure-status">SHOW PROCEDURE STATUS</a>
</li><li><a href="https://mariadb.com/kb/en/stored-routine-privileges/">Stored Routine Privileges</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-routines-table/">Information Schema ROUTINES Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-procedure-status">SHOW PROCEDURE STATUS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW PROCEDURE STATUS
    [LIKE 'pattern' | WHERE expr]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This statement is a MariaDB extension. It returns characteristics of a stored
procedure, such as the database, name, type, creator, creation and modification
dates, and character set information. A similar statement, 
 <code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-function-status">SHOW FUNCTION STATUS</a></code>, displays
information about stored functions.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clause, if present, indicates which procedure or
function names to match. The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> and <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clauses can be given to select rows using more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>.</p>
<p>The <a href="https://mariadb.com/kb/en/information-schema-routines-table/">ROUTINES table</a> in the INFORMATION_SCHEMA database contains more detailed information.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SHOW PROCEDURE STATUS LIKE 'p1'\G
*************************** 1. row ***************************
                  Db: test
                Name: p1
                Type: PROCEDURE
             Definer: root@localhost
            Modified: 2010-08-23 13:23:03
             Created: 2010-08-23 13:23:03
       Security_type: DEFINER
             Comment: 
character_set_client: latin1
collation_connection: latin1_swedish_ci
  Database Collation: latin1_swedish_ci
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/stored-procedure-overview/">Stored Procedure Overview</a>
</li><li><a href="#create-procedure">CREATE PROCEDURE</a>
</li><li><a href="#alter-procedure">ALTER PROCEDURE</a>
</li><li><a href="#drop-procedure">DROP PROCEDURE</a>
</li><li><a href="#show-create-procedure">SHOW CREATE PROCEDURE</a>
</li><li><a href="https://mariadb.com/kb/en/stored-routine-privileges/">Stored Routine Privileges</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-routines-table/">Information Schema ROUTINES Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-relaylog-events">SHOW RELAYLOG EVENTS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="cstm-style bluebox text"><p>The terms <em>master</em> and <em>slave</em> have historically been used in replication, but the terms terms <em>primary</em> and <em>replica</em> are now preferred. The old terms are used still used in parts of the documentation, and in MariaDB commands, although <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a> has begun the process of renaming. The documentation process is ongoing. See <a href="https://jira.mariadb.org/browse/MDEV-18777">MDEV-18777</a> to follow progress on this effort.</p>
</div>
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW RELAYLOG ['connection_name'] EVENTS
    [IN 'log_name'] [FROM pos] [LIMIT [offset,] row_count]
    [ FOR CHANNEL 'channel_name']
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>On <a href="https://mariadb.com/kb/en/standard-replication/">replicas</a>, this command shows the events in the <a href="https://mariadb.com/kb/en/relay-log/">relay log</a>. If <code>'log_name'</code> is not specified, the first relay log is shown.</p>
<p>Syntax for the <code>LIMIT</code> clause is the same as for <a ">SELECT ... LIMIT</a>.</p>
<div class="cstm-style redbox"><p>Using the <code>LIMIT</code> clause is highly recommended because the <code>SHOW RELAYLOG EVENTS</code> command returns the complete contents of the relay log, which can be quite large.</p>
</div><p>This command does not return events related to setting user and system variables. If you need those, use <a href="https://mariadb.com/kb/en/mysqlbinlog/">mariadb-binlog/mysqlbinlog</a>.</p>
<p>On the primary, this command does nothing.</p>
<p>Requires the <a ">REPLICA MONITOR</a> privilege (&gt;= <a href="https://mariadb.com/kb/en/mariadb-1059-release-notes/">MariaDB 10.5.9</a>), the <a ">REPLICATION SLAVE ADMIN</a> privilege (&gt;= <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>) or the <a ">REPLICATION SLAVE</a> privilege (&lt;= <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>).</p>
<h4 class="anchored_heading" id="connection_name">connection_name</h4>
<p>If there is only one nameless primary, or the default primary (as specified by the <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#default_master_connection">default_master_connection</a> system variable) is intended, <code>connection_name</code> can be omitted. If provided, the <code>SHOW RELAYLOG</code> statement will apply to the specified primary. <code>connection_name</code> is case-insensitive.</p>
<div class="mariadb_from_10_7_0 mariadb from_10_7_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1070-release-notes/">10.7.0</a></h5><p>The <code>FOR CHANNEL</code> keyword was added for MySQL compatibility. This is identical as
using the channel_name directly after <code>SHOW RELAYLOG</code>.</p>
</div>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-slave-hosts">SHOW SLAVE HOSTS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-slave-hostssyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-slave-hostsdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#show-slave-hostsshow-replica-hosts" title="SHOW REPLICA HOSTS">SHOW REPLICA HOSTS</a> </li></ol>
</li>
<li class=""><a href="#show-slave-hostssee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-slave-hostssyntax">Syntax</h2>
<pre class="fixed">SHOW SLAVE HOSTS
SHOW REPLICA HOSTS -- from MariaDB 10.5.1
</pre><h2 class="anchored_heading" id="show-slave-hostsdescription">Description</h2>
<p>This command is run on the primary and displays a list of replicas that are currently registered with it. Only replicas started with the <code class="highlight fixed" style="white-space:pre-wrap">--report-host=host_name</code> option
are visible in this list.</p>
<p>The list is displayed on any server (not just the primary server). The output
looks like this:</p>
<pre class="fixed">SHOW SLAVE HOSTS;
+------------+-----------+------+-----------+
| Server_id  | Host      | Port | Master_id |
+------------+-----------+------+-----------+
|  192168010 | iconnect2 | 3306 | 192168011 |
| 1921680101 | athena    | 3306 | 192168011 |
+------------+-----------+------+-----------+
</pre><ul start="1"><li><strong><code>Server_id</code></strong>: The unique server ID of the replica server, as configured in the server's option file, or on the command line with <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#server_id">--server-id=value</a>.
</li><li><strong><code>Host</code></strong>: The host name of the replica server, as configured in the server's option file, or on the command line with <code>--report-host=host_name</code>. Note that this can differ from the machine name as configured in the operating system.
</li><li><strong><code>Port</code></strong>: The port the replica server is listening on.
</li><li><strong><code>Master_id</code></strong>: The unique server ID of the primary server that the replica server is replicating from.
</li></ul>
<p>Some MariaDB and MySQL versions report another variable, <a href="https://mariadb.com/kb/en/server-system-variables/#rpl_recovery_rank">rpl_recovery_rank</a>. This
variable was never used, and was eventually removed in <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a> .</p>
<p>Requires the <a ">REPLICATION MASTER ADMIN</a> privilege (&gt;= <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>) or the <a ">REPLICATION SLAVE</a> privilege (&lt;= <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>).</p>
<h4 class="anchored_heading" id="show-slave-hostsshow-replica-hosts">SHOW REPLICA HOSTS</h4>
<div class="mariadb_from_10_5_1 mariadb from_10_5_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">10.5.1</a></h5><p><code>SHOW REPLICA HOSTS</code> is an alias for <code>SHOW SLAVE HOSTS</code> from <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>. </p>
</div><h2 class="anchored_heading" id="show-slave-hostssee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/high-availability-performance-tuning-mariadb-replication/">MariaDB replication</a>
</li><li><a href="https://mariadb.com/kb/en/replication-threads/">Replication threads</a>
</li><li><a href="#show-processlist">SHOW PROCESSLIST</a>. In <code><a href="#show-processlist">SHOW PROCESSLIST</a></code> output, replica threads are identified by <code>Binlog Dump</code></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-processlist">SHOW PROCESSLIST</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW [FULL] PROCESSLIST
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p> <code class="highlight fixed" style="white-space:pre-wrap">SHOW PROCESSLIST</code> shows you which threads are running. You
can also get this information from the
<a href="https://mariadb.com/kb/en/information-schema-processlist-table/">information_schema.PROCESSLIST</a> table or the <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin processlist</a> command. If you have the 
<code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-privileges">PROCESS privilege</a></code>, you can see all threads.
Otherwise, you can see only your own threads (that is, threads associated with
the MariaDB account that you are using). If you do not use the
<code class="highlight fixed" style="white-space:pre-wrap">FULL</code> keyword, only the first 100 characters of each
statement are shown in the Info field.</p>
<p>The columns shown in <code>SHOW PROCESSLIST</code> are:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Name</th><th>Description</th></tr>
<tr><td><strong><code>ID</code></strong></td><td>The client's process ID.</td></tr>
<tr><td><strong><code>USER</code></strong></td><td>The username associated with the process.</td></tr>
<tr><td><strong><code>HOST</code></strong></td><td>The host the client is connected to.</td></tr>
<tr><td><strong><code>DB</code></strong></td><td>The default database of the process (NULL if no default).</td></tr>
<tr><td><strong><code>COMMAND</code></strong></td><td>The command type. See <a href="https://mariadb.com/kb/en/thread-command-values/">Thread Command Values</a>.</td></tr>
<tr><td><strong><code>TIME</code></strong></td><td>The amount of time, in seconds, the process has been in its current state. For a replica SQL thread before <a href="https://mariadb.com/kb/en/what-is-mariadb-101/">MariaDB 10.1</a>, this is the time in seconds between the last replicated event's timestamp and the replica machine's real time.</td></tr>
<tr><td><strong><code>STATE</code></strong></td><td>See <a href="https://mariadb.com/kb/en/thread-states/">Thread States</a>.</td></tr>
<tr><td><strong><code>INFO</code></strong></td><td>The statement being executed.</td></tr>
<tr><td><strong><code>PROGRESS</code></strong></td><td>The total progress of the process (0-100%) (see <a href="https://mariadb.com/kb/en/progress-reporting/">Progress Reporting</a>).</td></tr>
</table>
</div><p>See <code>TIME_MS</code> column in <a href="https://mariadb.com/kb/en/time_ms-column-in-information_schemaprocesslist/">information_schema.PROCESSLIST</a> for differences in the <code>TIME</code> column between MariaDB and MySQL.</p>
<p>The <a href="https://mariadb.com/kb/en/information-schema-processlist-table/">information_schema.PROCESSLIST</a>  table contains the following additional columns:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Name</th><th>Description</th></tr>
<tr><td><strong><code>TIME_MS</code></strong></td><td>The amount of time, in milliseconds, the process has been in its current state.</td></tr>
<tr><td><strong><code>STAGE</code></strong></td><td>The stage the process is currently in.</td></tr>
<tr><td><strong><code>MAX_STAGE</code></strong></td><td>The maximum number of stages.</td></tr>
<tr><td><strong><code>PROGRESS</code></strong></td><td>The progress of the process within the current stage (0-100%).</td></tr>
<tr><td><strong><code>MEMORY_USED</code></strong></td><td>The amount of memory used by the process.</td></tr>
<tr><td><strong><code>EXAMINED_ROWS</code></strong></td><td>The number of rows the process has examined.</td></tr>
<tr><td><strong><code>QUERY_ID</code></strong></td><td>Query ID.</td></tr>
</table>
</div><p>Note that the <code>PROGRESS</code> field from the information schema, and the <code>PROGRESS</code> field from <code>SHOW PROCESSLIST</code> display different results. <code>SHOW PROCESSLIST</code> shows the total progress, while the information schema shows the progress for the current stage only.</p>
<p>Threads can be killed using their thread_id, or, since <a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">MariaDB 10.0.5</a>, their query_id, with the <a href="#data-manipulation-kill-connection-query">KILL</a> statement.</p>
<p>Since queries on this table are locking, if the <a href="https://mariadb.com/kb/en/performance-schema/">performance_schema</a> is enabled, you may want to query the <a href="https://mariadb.com/kb/en/performance-schema-threads-table/">THREADS</a> table instead.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SHOW PROCESSLIST;
+----+-----------------+-----------+------+---------+------+------------------------+------------------+----------+
| Id | User            | Host      | db   | Command | Time | State                  | Info             | Progress |
+----+-----------------+-----------+------+---------+------+------------------------+------------------+----------+
|  2 | event_scheduler | localhost | NULL | Daemon  | 2693 | Waiting on empty queue | NULL             |    0.000 |
|  4 | root            | localhost | NULL | Query   |    0 | Table lock             | SHOW PROCESSLIST |    0.000 |
+----+-----------------+-----------+------+---------+------+------------------------+------------------+----------+
</pre><h2 class="anchored_heading" id="see-also">See also</h2>
<p><a href="#connection_id">CONNECTION_ID()</a></p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-profile">SHOW PROFILE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW PROFILE [type [, type] ... ]
    [FOR QUERY n]
    [LIMIT row_count [OFFSET offset]]

type:
    ALL
  | BLOCK IO
  | CONTEXT SWITCHES
  | CPU
  | IPC
  | MEMORY
  | PAGE FAULTS
  | SOURCE
  | SWAPS
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">SHOW PROFILE</code> and 
<code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-profiles">SHOW PROFILES</a></code> statements display profiling
information that indicates resource usage for statements executed during the
course of the current session.</p>
<p>Profiling is controlled by the <a href="https://mariadb.com/kb/en/server-system-variables/#profiling">profiling</a> session variable, which has a default value of <code>0</code> (<code>OFF</code>). Profiling is enabled by setting profiling to <code>1</code> or <code>ON</code>:</p>
<pre class="fixed"><span class="k">SET</span> <span class="n">profiling</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</pre><p><code class="highlight fixed" style="white-space:pre-wrap">SHOW PROFILES</code> displays a list of the most recent statements
sent to the master. The size of the list is controlled by the
<code><a href="https://mariadb.com/kb/en/server-system-variables/#profiling_history_size">profiling_history_size</a></code> session variable, which has a default value of <code>15</code>. The maximum value is <code>100</code>. Setting the value to <code>0</code> has the practical effect of disabling profiling.</p>
<p>All statements are profiled except <code class="highlight fixed" style="white-space:pre-wrap">SHOW PROFILES</code> and 
<code class="highlight fixed" style="white-space:pre-wrap">SHOW PROFILE</code>, so you will find neither of those statements
in the profile list.  Malformed statements are profiled. For example, 
 <code class="highlight fixed" style="white-space:pre-wrap">SHOW PROFILING</code> is an illegal statement, and a syntax error
occurs if you try to execute it, but it will show up in the profiling list.</p>
<p> <code class="highlight fixed" style="white-space:pre-wrap">SHOW PROFILE</code> displays detailed information about a single
statement.  Without the <code class="highlight fixed" style="white-space:pre-wrap">FOR QUERY <em>n</em></code> clause, the output
pertains to the most recently executed statement. If 
 <code class="highlight fixed" style="white-space:pre-wrap">FOR QUERY <em>n</em></code> is included,
 <code class="highlight fixed" style="white-space:pre-wrap">SHOW PROFILE</code> displays information for statement <em>n</em>. The
values of <em>n</em> correspond to
the <code class="highlight fixed" style="white-space:pre-wrap">Query_ID</code> values displayed by <code class="highlight fixed" style="white-space:pre-wrap">SHOW PROFILES</code>.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">LIMIT <em>row_count</em></code> clause may be given to limit the
output to <em>row_count</em> rows. If <code class="highlight fixed" style="white-space:pre-wrap">LIMIT</code> is given, 
 <code class="highlight fixed" style="white-space:pre-wrap">OFFSET <em>offset</em></code> may be added to begin the output offset
rows into the full set of rows.</p>
<p>By default, <code class="highlight fixed" style="white-space:pre-wrap">SHOW PROFILE</code> displays Status and Duration
columns. The Status values are like the State values displayed by 
<code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-processlist">SHOW PROCESSLIST</a></code>,
although there might be some minor differences in interpretation for
the two statements for some status values (see
<a href="http://dev.mysql.com/doc/refman/5.6/en/thread-information.html">http://dev.mysql.com/doc/refman/5.6/en/thread-information.html</a>).</p>
<p>Optional type values may be specified to display specific additional
types of information:</p>
<ul start="1"><li><code class="highlight fixed" style="white-space:pre-wrap"><strong>ALL</strong></code> displays all information
</li><li><code class="highlight fixed" style="white-space:pre-wrap"><strong>BLOCK IO</strong></code> displays counts for block input and output operations
</li><li><code class="highlight fixed" style="white-space:pre-wrap"><strong>CONTEXT SWITCHES</strong></code> displays counts for voluntary and involuntary context switches
</li><li><code class="highlight fixed" style="white-space:pre-wrap"><strong>CPU</strong></code> displays user and system CPU usage times
</li><li><code class="highlight fixed" style="white-space:pre-wrap"><strong>IPC</strong></code> displays counts for messages sent and received
</li><li><code class="highlight fixed" style="white-space:pre-wrap"><strong>MEMORY</strong></code> is not currently implemented
</li><li><code class="highlight fixed" style="white-space:pre-wrap"><strong>PAGE FAULTS</strong></code> displays counts for major and minor page faults
</li><li><code class="highlight fixed" style="white-space:pre-wrap"><strong>SOURCE</strong></code> displays the names of functions from the source code, together with the name and line number of the file in which the function occurs
</li><li><code class="highlight fixed" style="white-space:pre-wrap"><strong>SWAPS</strong></code> displays swap counts
</li></ul>
<p>Profiling is enabled per session. When a session ends, its profiling information is lost.</p>
<p>The <code><a href="https://mariadb.com/kb/en/information-schema-profiling-table/">information_schema.PROFILING</a> table contains similar information.</code></p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT @@profiling;
+-------------+
| @@profiling |
+-------------+
|           0 |
+-------------+

SET profiling = 1;

USE test;

DROP TABLE IF EXISTS t1;

CREATE TABLE T1 (id INT);

SHOW PROFILES;
+----------+------------+--------------------------+
| Query_ID | Duration   | Query                    |
+----------+------------+--------------------------+
|        1 | 0.00009200 | SELECT DATABASE()        |
|        2 | 0.00023800 | show databases           |
|        3 | 0.00018900 | show tables              |
|        4 | 0.00014700 | DROP TABLE IF EXISTS t1  |
|        5 | 0.24476900 | CREATE TABLE T1 (id INT) |
+----------+------------+--------------------------+

SHOW PROFILE;
+----------------------+----------+
| Status               | Duration |
+----------------------+----------+
| starting             | 0.000042 |
| checking permissions | 0.000044 |
| creating table       | 0.244645 |
| After create         | 0.000013 |
| query end            | 0.000003 |
| freeing items        | 0.000016 |
| logging slow query   | 0.000003 |
| cleaning up          | 0.000003 |
+----------------------+----------+

SHOW PROFILE FOR QUERY 4;
+--------------------+----------+
| Status             | Duration |
+--------------------+----------+
| starting           | 0.000126 |
| query end          | 0.000004 |
| freeing items      | 0.000012 |
| logging slow query | 0.000003 |
| cleaning up        | 0.000002 |
+--------------------+----------+

SHOW PROFILE CPU FOR QUERY 5;
+----------------------+----------+----------+------------+
| Status               | Duration | CPU_user | CPU_system |
+----------------------+----------+----------+------------+
| starting             | 0.000042 | 0.000000 |   0.000000 |
| checking permissions | 0.000044 | 0.000000 |   0.000000 |
| creating table       | 0.244645 | 0.000000 |   0.000000 |
| After create         | 0.000013 | 0.000000 |   0.000000 |
| query end            | 0.000003 | 0.000000 |   0.000000 |
| freeing items        | 0.000016 | 0.000000 |   0.000000 |
| logging slow query   | 0.000003 | 0.000000 |   0.000000 |
| cleaning up          | 0.000003 | 0.000000 |   0.000000 |
+----------------------+----------+----------+------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-table-status">SHOW TABLE STATUS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-table-statussyntax">Syntax</h2>
<pre class="fixed">SHOW TABLE STATUS [{FROM | IN} db_name]
    [LIKE 'pattern' | WHERE expr]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-table-statussyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-table-statusdescription" title="Description">Description</a></li>
<li class=""><a href="#show-table-statusexample" title="Example">Example</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-table-statusdescription">Description</h2>
<p> <code class="highlight fixed" style="white-space:pre-wrap">SHOW TABLE STATUS</code> works like 
 <code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-tables">SHOW TABLES</a></code>, but provides more extensive information about each non-<code class="highlight fixed" style="white-space:pre-wrap">TEMPORARY</code> table.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clause, if present on its own, indicates which table names to
match. The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> and <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clauses can be given to select rows using more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>.</p>
<p>The following information is returned:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Column</th><th>Description</th></tr>
<tr><td>Name</td><td>Table name.</td></tr>
<tr><td>Engine</td><td>Table <a href="https://mariadb.com/kb/en/storage-engines/">storage engine</a>.</td></tr>
<tr><td>Version</td><td>Version number from the table's .frm file.</td></tr>
<tr><td>Row_format</td><td>Row format (see <a href="https://mariadb.com/kb/en/xtradbinnodb-storage-formats/">InnoDB</a>, <a href="https://mariadb.com/kb/en/aria-storage-formats/">Aria</a> and <a href="https://mariadb.com/kb/en/myisam-storage-formats/">MyISAM</a> row formats).</td></tr>
<tr><td>Rows</td><td>Number of rows in the table. Some engines, such as <a href="https://mariadb.com/kb/en/innodb/">XtraDB and InnoDB</a> may store an estimate.</td></tr>
<tr><td>Avg_row_length</td><td>Average row length in the table.</td></tr>
<tr><td>Data_length</td><td>For <a href="https://mariadb.com/kb/en/innodb/">InnoDB/XtraDB</a>, the index size, in pages, multiplied by the page size. For <a href="https://mariadb.com/kb/en/aria/">Aria</a> and <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a>, length of the data file, in bytes. For <a href="https://mariadb.com/kb/en/memory-storage-engine/">MEMORY</a>, the approximate allocated memory.</td></tr>
<tr><td>Max_data_length</td><td>Maximum length of the data file, ie the total number of bytes that could be stored in the table. Not used in <a href="https://mariadb.com/kb/en/innodb/">XtraDB and InnoDB</a>.</td></tr>
<tr><td>Index_length</td><td>Length of the index file.</td></tr>
<tr><td>Data_free</td><td>Bytes allocated but unused. For InnoDB tables in a shared tablespace, the free space of the shared tablespace with small safety margin. An estimate in the case of partitioned tables - see the <code><a href="https://mariadb.com/kb/en/information-schema-partitions-table/">PARTITIONS</a></code> table.</td></tr>
<tr><td>Auto_increment</td><td>Next <code><a href="#auto_increment">AUTO_INCREMENT</a></code> value.</td></tr>
<tr><td>Create_time</td><td>Time the table was created.</td></tr>
<tr><td>Update_time</td><td>Time the table was last updated. On Windows, the timestamp is not updated on update, so MyISAM values will be inaccurate. In <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>, if shared tablespaces are used, will be <code>NULL</code>, while buffering can also delay the update, so the value will differ from the actual time of the last <code>UPDATE</code>, <code>INSERT</code> or <code>DELETE</code>.</td></tr>
<tr><td>Check_time</td><td>Time the table was last checked. Not kept by all storage engines, in which case will be <code>NULL</code>.</td></tr>
<tr><td>Collation</td><td><a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">Character set and collation</a>.</td></tr>
<tr><td>Checksum</td><td>Live checksum value, if any.</td></tr>
<tr><td>Create_options</td><td>Extra <code><a href="#create-table">CREATE TABLE</a></code> options.</td></tr>
<tr><td>Comment</td><td>Table comment provided when MariaDB created the table.</td></tr>
<tr><td>Max_index_length</td><td>Maximum index length (supported by MyISAM and Aria tables). Added in <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">MariaDB 10.3.5</a>.</td></tr>
<tr><td>Temporary</td><td>Placeholder to signal that a table is a temporary table. Currently always "N", except "Y" for generated information_schema tables and NULL for <a href="https://mariadb.com/kb/en/views/">views</a>. Added in <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">MariaDB 10.3.5</a>.</td></tr>
</table>
</div><p>Similar information can be found in the <code><a href="https://mariadb.com/kb/en/information-schema-tables-table/">information_schema.TABLES</a></code> table as well as by using <code><a href="https://mariadb.com/kb/en/mysqlshow/">mysqlshow</a></code>:</p>
<pre class="fixed">mysqlshow --status db_name
</pre><h2 class="anchored_heading" id="show-table-statusexample">Example</h2>
<pre class="fixed">show table status\G
*************************** 1. row ***************************
           Name: bus_routes
         Engine: InnoDB
        Version: 10
     Row_format: Dynamic
           Rows: 5
 Avg_row_length: 3276
    Data_length: 16384
Max_data_length: 0
   Index_length: 0
      Data_free: 0
 Auto_increment: NULL
    Create_time: 2017-05-24 11:17:46
    Update_time: NULL
     Check_time: NULL
      Collation: latin1_swedish_ci
       Checksum: NULL
 Create_options: 
        Comment:
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-tables">SHOW TABLES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-tablessyntax">Syntax</h2>
<pre class="fixed">SHOW [FULL] TABLES [FROM db_name]
    [LIKE 'pattern' | WHERE expr]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-tablessyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-tablesdescription" title="Description">Description</a></li>
<li class=""><a href="#show-tablesexamples" title="Examples">Examples</a></li>
<li class=""><a href="#show-tablessee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-tablesdescription">Description</h2>
<p><code>SHOW TABLES</code> lists the non-<code>TEMPORARY</code> tables, <a href="https://mariadb.com/kb/en/sequences/">sequences</a> and <a href="https://mariadb.com/kb/en/views/">views</a> in a given database. </p>
<p>The <code>LIKE</code> clause, if present on its own, indicates which table names to match. The <code>WHERE</code> and <code>LIKE</code> clauses can be given to select rows using more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>. For example, when searching for tables in the <code>test</code> database, the column name for use in the <code>WHERE</code> and <code>LIKE</code> clauses will be <code>Tables_in_test</code></p>
<p>The <code>FULL</code> modifier is supported such that <code>SHOW FULL TABLES</code> displays a second output column. Values for the second column. <code>Table_type</code>, are <code>BASE TABLE</code> for a table, <code>VIEW</code> for a <a href="https://mariadb.com/kb/en/views/">view</a> and <code>SEQUENCE</code> for a <a href="https://mariadb.com/kb/en/sequences/">sequence</a>.</p>
<p>You can also get this information using:</p>
<pre class="fixed">mysqlshow db_name
</pre><p>See <a href="https://mariadb.com/kb/en/mysqlshow/">mysqlshow</a> for more details.</p>
<p>If you have no privileges for a base table or view, it does not show up in the output from <code>SHOW TABLES</code> or <code>mysqlshow <em>db_name</em></code>.</p>
<p>The <code><a href="https://mariadb.com/kb/en/information-schema-tables-table/">information_schema.TABLES</a></code> table, as well as the <code><a href="#show-table-status">SHOW TABLE STATUS</a></code> statement, provide extended information about tables.</p>
<h2 class="anchored_heading" id="show-tablesexamples">Examples</h2>
<pre class="fixed">SHOW TABLES;
+----------------------+
| Tables_in_test       |
+----------------------+
| animal_count         |
| animals              |
| are_the_mooses_loose |
| aria_test2           |
| t1                   |
| view1                |
+----------------------+
</pre><p>Showing the tables beginning with <em>a</em> only.</p>
<pre class="fixed">SHOW TABLES WHERE Tables_in_test LIKE 'a%';
+----------------------+
| Tables_in_test       |
+----------------------+
| animal_count         |
| animals              |
| are_the_mooses_loose |
| aria_test2           |
+----------------------+
</pre><p>Showing tables and table types:</p>
<pre class="fixed">SHOW FULL TABLES;
+----------------+------------+
| Tables_in_test | Table_type |
+----------------+------------+
| s1             | SEQUENCE   |
| student        | BASE TABLE |
| v1             | VIEW       |
+----------------+------------+
</pre><h2 class="anchored_heading" id="show-tablessee-also">See Also</h2>
<ul start="1"><li><a href="#show-table-status">SHOW TABLE STATUS</a>
</li><li>The <a href="https://mariadb.com/kb/en/information-schema-tables-table/">information_schema.TABLES</a> table</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-table-statistics">SHOW TABLE_STATISTICS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW TABLE_STATISTICS
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code>SHOW TABLE_STATISTICS</code> statementis part of the <a href="https://mariadb.com/kb/en/user-statistics/">User Statistics</a> feature. It was removed as a separate statement in <a href="https://mariadb.com/kb/en/mariadb-1011-release-notes/">MariaDB 10.1.1</a>, but effectively replaced by the generic <a href="https://mariadb.com/kb/en/information-schema-plugins-show-and-flush-statements/">SHOW information_schema_table</a> statement. The <a href="https://mariadb.com/kb/en/information-schema-table_statistics-table/">information_schema.TABLE_STATISTICS</a> table shows statistics on table usage</p>
<p>The <a href="https://mariadb.com/kb/en/server-system-variables/#userstat">userstat</a> system variable must be set to 1 to activate this feature. See the <a href="https://mariadb.com/kb/en/user-statistics/">User Statistics</a> and <a href="https://mariadb.com/kb/en/information-schema-table_statistics-table/">information_schema.TABLE_STATISTICS</a> articles for more information.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">TABLE_STATISTICS</span><span class="err">\</span><span class="k">G</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
           <span class="n">Table_schema</span><span class="p">:</span> <span class="n">mysql</span>
             <span class="k">Table_name</span><span class="p">:</span> <span class="n">proxies_priv</span>
              <span class="n">Rows_read</span><span class="p">:</span> <span class="mi">2</span>
           <span class="n">Rows_changed</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">Rows_changed_x_</span><span class="o">#</span><span class="n">indexes</span><span class="p">:</span> <span class="mi">0</span>
<span class="o">***************************</span> <span class="mi">2</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
           <span class="n">Table_schema</span><span class="p">:</span> <span class="n">test</span>
             <span class="k">Table_name</span><span class="p">:</span> <span class="n">employees_example</span>
              <span class="n">Rows_read</span><span class="p">:</span> <span class="mi">7</span>
           <span class="n">Rows_changed</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">Rows_changed_x_</span><span class="o">#</span><span class="n">indexes</span><span class="p">:</span> <span class="mi">0</span>
<span class="o">***************************</span> <span class="mi">3</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
           <span class="n">Table_schema</span><span class="p">:</span> <span class="n">mysql</span>
             <span class="k">Table_name</span><span class="p">:</span> <span class="k">user</span>
              <span class="n">Rows_read</span><span class="p">:</span> <span class="mi">16</span>
           <span class="n">Rows_changed</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">Rows_changed_x_</span><span class="o">#</span><span class="n">indexes</span><span class="p">:</span> <span class="mi">0</span>
<span class="o">***************************</span> <span class="mi">4</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
           <span class="n">Table_schema</span><span class="p">:</span> <span class="n">mysql</span>
             <span class="k">Table_name</span><span class="p">:</span> <span class="n">db</span>
              <span class="n">Rows_read</span><span class="p">:</span> <span class="mi">2</span>
           <span class="n">Rows_changed</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">Rows_changed_x_</span><span class="o">#</span><span class="n">indexes</span><span class="p">:</span> <span class="mi">0</span>

</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-triggers">SHOW TRIGGERS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-triggerssyntax">Syntax</h2>
<pre class="fixed">SHOW TRIGGERS [FROM db_name]
    [LIKE 'pattern' | WHERE expr]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_3"><a href="#show-triggerssyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2_3"><a href="#show-triggersdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2_3"><a href="#show-triggersexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_2_3"><a href="#show-triggerssee-also" title="See also">See also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-triggersdescription">Description</h2>
<p> <code class="highlight fixed" style="white-space:pre-wrap">SHOW TRIGGERS</code> lists the triggers currently defined for
tables in a database (the default database unless a <code class="highlight fixed" style="white-space:pre-wrap">FROM</code>
clause is given).  This statement requires the
<code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-privileges">TRIGGER</a></code> privilege (prior to MySQL
5.1.22, it required the <code class="highlight fixed" style="white-space:pre-wrap">SUPER</code> privilege). </p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clause, if present on its own, indicates which table names to
match and causes the statement to display triggers for those tables. The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> and <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clauses can be given to select rows using more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>.</p>
<p>Similar information is stored in the <code><a href="https://mariadb.com/kb/en/information-schema-triggers-table/">information_schema.TRIGGERS</a></code> table.</p>
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>If there are multiple triggers for the same action, then the triggers are shown in action order.</p>
</div><h2 class="anchored_heading" id="show-triggersexamples">Examples</h2>
<p>For the trigger defined at <a href="https://mariadb.com/kb/en/trigger-overview/">Trigger Overview</a>:</p>
<pre class="fixed">SHOW triggers Like 'animals' \G
*************************** 1. row ***************************
             Trigger: the_mooses_are_loose
               Event: INSERT
               Table: animals
           Statement: BEGIN
 IF NEW.name = 'Moose' THEN
  UPDATE animal_count SET animal_count.animals = animal_count.animals+100;
 ELSE 
  UPDATE animal_count SET animal_count.animals = animal_count.animals+1;
 END IF;
END
              Timing: AFTER
             Created: 2016-09-29 13:53:34.35
            sql_mode: 
             Definer: root@localhost
character_set_client: utf8
collation_connection: utf8_general_ci
  Database Collation: latin1_swedish_ci
</pre><p>Listing all triggers associated with a certain table:</p>
<pre class="fixed">SHOW TRIGGERS FROM test WHERE `Table` = 'user' \G
*************************** 1. row ***************************
             Trigger: user_ai
               Event: INSERT
               Table: user
           Statement: BEGIN END
              Timing: AFTER
             Created:  2016-09-29 13:53:34.35
            sql_mode: 
             Definer: root@%
character_set_client: utf8
collation_connection: utf8_general_ci
  Database Collation: latin1_swedish_ci
</pre><pre class="fixed">SHOW triggers WHERE Event Like 'Insert' \G
*************************** 1. row ***************************
             Trigger: the_mooses_are_loose
               Event: INSERT
               Table: animals
           Statement: BEGIN
 IF NEW.name = 'Moose' THEN
  UPDATE animal_count SET animal_count.animals = animal_count.animals+100;
 ELSE 
  UPDATE animal_count SET animal_count.animals = animal_count.animals+1;
 END IF;
END
              Timing: AFTER
             Created: 2016-09-29 13:53:34.35
            sql_mode: 
             Definer: root@localhost
character_set_client: utf8
collation_connection: utf8_general_ci
  Database Collation: latin1_swedish_ci
</pre><ul><li><code class="highlight fixed" style="white-space:pre-wrap">character_set_client</code> is the session value of the <code><a href="https://mariadb.com/kb/en/server-system-variables/#character_set_client">character_set_client</a></code> system variable when the trigger was created. 
</li><li><code class="highlight fixed" style="white-space:pre-wrap">collation_connection</code> is the session value of the <code><a href="https://mariadb.com/kb/en/server-system-variables/#collation_connection">collation_connection</a></code> system variable when the trigger was
 created. 
</li><li><code class="highlight fixed" style="white-space:pre-wrap">Database Collation</code> is the collation of the database 
 with which the trigger is associated.
</li></ul>
<p>These columns were added in MariaDB/MySQL 5.1.21.</p>
<p>Old triggers created before MySQL 5.7 and <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a> has NULL in the <code>Created</code> column.</p>
<h2 class="anchored_heading" id="show-triggerssee-also">See also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/trigger-overview/">Trigger Overview</a>
</li><li><code><a href="#create-trigger">CREATE TRIGGER</a></code>
</li><li><code><a href="#drop-trigger">DROP TRIGGER</a></code>
</li><li><code><a href="https://mariadb.com/kb/en/information-schema-triggers-table/">information_schema.TRIGGERS</a></code> table
</li><li><code><a href="#show-create-trigger">SHOW CREATE TRIGGER</a></code>
</li><li><a href="https://mariadb.com/kb/en/trigger-limitations/">Trigger Limitations</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-user-statistics">SHOW USER_STATISTICS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW USER_STATISTICS
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code>SHOW USER_STATISTICS</code> statement is part of the <a href="https://mariadb.com/kb/en/user-statistics/">User Statistics</a> feature. It was removed as a separate statement in <a href="https://mariadb.com/kb/en/mariadb-1011-release-notes/">MariaDB 10.1.1</a>, but effectively replaced by the generic <a href="https://mariadb.com/kb/en/information-schema-plugins-show-and-flush-statements/">SHOW information_schema_table</a> statement. The <a href="https://mariadb.com/kb/en/information-schema-user_statistics-table/">information_schema.USER_STATISTICS</a> table holds statistics about user activity. You can use this table to find out such things as which user is causing the most load and which users are being abusive. You can also use this table to measure how close to capacity the server may be.</p>
<p>The <a href="https://mariadb.com/kb/en/server-system-variables/#userstat">userstat</a> system variable must be set to 1 to activate this feature. See the <a href="https://mariadb.com/kb/en/user-statistics/">User Statistics</a> and <a href="https://mariadb.com/kb/en/information-schema-user_statistics-table/">information_schema.USER_STATISTICS</a> table for more information.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">USER_STATISTICS</span><span class="err">\</span><span class="k">G</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
                  <span class="k">User</span><span class="p">:</span> <span class="n">root</span>
     <span class="n">Total_connections</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">Concurrent_connections</span><span class="p">:</span> <span class="mi">0</span>
        <span class="n">Connected_time</span><span class="p">:</span> <span class="mi">3297</span>
             <span class="n">Busy_time</span><span class="p">:</span> <span class="mi">0</span><span class="p">.</span><span class="mi">14113400000000006</span>
              <span class="n">Cpu_time</span><span class="p">:</span> <span class="mi">0</span><span class="p">.</span><span class="mi">017637000000000003</span>
        <span class="n">Bytes_received</span><span class="p">:</span> <span class="mi">969</span>
            <span class="n">Bytes_sent</span><span class="p">:</span> <span class="mi">22355</span>
  <span class="n">Binlog_bytes_written</span><span class="p">:</span> <span class="mi">0</span>
             <span class="n">Rows_read</span><span class="p">:</span> <span class="mi">10</span>
             <span class="n">Rows_sent</span><span class="p">:</span> <span class="mi">67</span>
          <span class="n">Rows_deleted</span><span class="p">:</span> <span class="mi">0</span>
         <span class="n">Rows_inserted</span><span class="p">:</span> <span class="mi">0</span>
          <span class="n">Rows_updated</span><span class="p">:</span> <span class="mi">0</span>
       <span class="n">Select_commands</span><span class="p">:</span> <span class="mi">7</span>
       <span class="n">Update_commands</span><span class="p">:</span> <span class="mi">0</span>
        <span class="n">Other_commands</span><span class="p">:</span> <span class="mi">0</span>
   <span class="n">Commit_transactions</span><span class="p">:</span> <span class="mi">1</span>
 <span class="n">Rollback_transactions</span><span class="p">:</span> <span class="mi">0</span>
    <span class="n">Denied_connections</span><span class="p">:</span> <span class="mi">0</span>
      <span class="n">Lost_connections</span><span class="p">:</span> <span class="mi">0</span>
         <span class="n">Access_denied</span><span class="p">:</span> <span class="mi">0</span>
         <span class="n">Empty_queries</span><span class="p">:</span> <span class="mi">7</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-wsrep_membership">SHOW WSREP_MEMBERSHIP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p><code>SHOW WSREP_MEMBERSHIP</code> is part of the <code><a href="https://mariadb.com/kb/en/wsrep_info-plugin/">WSREP_INFO</a></code> plugin.</p>
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW WSREP_MEMBERSHIP
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code>SHOW WSREP_MEMBERSHIP</code> statement returns <a href="https://mariadb.com/kb/en/galera/">Galera</a> node cluster membership information. It returns the same information as found in the <code><a href="https://mariadb.com/kb/en/information-schema-wsrep_membership-table/">information_schema.WSREP_MEMBERSHIP</a></code> table. Only users with the <code><a href="#grant">SUPER</a></code> privilege can access this information.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SHOW WSREP_MEMBERSHIP;
+-------+--------------------------------------+----------+-----------------+
| Index | Uuid                                 | Name     | Address         |
+-------+--------------------------------------+----------+-----------------+
|     0 | 19058073-8940-11e4-8570-16af7bf8fced | my_node1 | 10.0.2.15:16001 |
|     1 | 19f2b0e0-8942-11e4-9cb8-b39e8ee0b5dd | my_node3 | 10.0.2.15:16003 |
|     2 | d85e62db-8941-11e4-b1ef-4bc9980e476d | my_node2 | 10.0.2.15:16002 |
+-------+--------------------------------------+----------+-----------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-variables">SHOW VARIABLES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-variablessyntax">Syntax</h2>
<pre class="fixed">SHOW [GLOBAL | SESSION] VARIABLES
    [LIKE 'pattern' | WHERE expr]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-variablessyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-variablesdescription" title="Description">Description</a></li>
<li class=""><a href="#show-variablesexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-variablesdescription">Description</h2>
<p><code>SHOW VARIABLES</code> shows the values of MariaDB <a href="https://mariadb.com/kb/en/server-system-variables/">system variables</a>. This
information also can be obtained using the <code><a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin</a></code> variables
command. The <code>LIKE</code> clause, if present, indicates which variable names
to match. The <code>WHERE</code> clause can be given to select rows using more
general conditions.</p>
<p>With the <code>GLOBAL</code> modifier, <code>SHOW VARIABLES</code> displays the values that are
used for new connections to MariaDB. With <code>SESSION</code>, it displays the
values that are in effect for the current connection. If no modifier
is present, the default is <code>SESSION</code>. <code>LOCAL</code> is a synonym for <code>SESSION</code>.
With a <code>LIKE</code> clause, the statement displays only rows for those
variables with names that match the pattern. To obtain the row for a
specific variable, use a <code>LIKE</code> clause as shown:</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'maria_group_commit'</span><span class="p">;</span>
<span class="k">SHOW</span> <span class="k">SESSION</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'maria_group_commit'</span><span class="p">;</span>
</pre><p>To get a list of variables whose name match a pattern, use the "<code>%</code>"
wildcard character in a <code>LIKE</code> clause:</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'%maria%'</span><span class="p">;</span>
<span class="k">SHOW</span> <span class="k">GLOBAL</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'%maria%'</span><span class="p">;</span>
</pre><p>Wildcard characters can be used in any position within the pattern to
be matched. Strictly speaking, because "<code>_</code>" is a wildcard that matches
any single character, you should escape it as "<code>\_</code>" to match it
literally. In practice, this is rarely necessary.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code> and <code class="highlight fixed" style="white-space:pre-wrap">LIKE</code> clauses can be given to select rows using more general conditions, as discussed in <a href="https://mariadb.com/kb/en/extended-show/">Extended SHOW</a>.</p>
<p>See <code><a href="#set">SET</a></code> for information on setting server system variables.</p>
<p>See <a href="https://mariadb.com/kb/en/server-system-variables/">Server System Variables</a> for a list of all the variables that can be set.</p>
<p>You can also see the server variables by querying the <a href="https://mariadb.com/kb/en/information-schema-global_variables-and-session_variables-tables/">Information Schema GLOBAL_VARIABLES and SESSION_VARIABLES</a> tables.</p>
<h2 class="anchored_heading" id="show-variablesexamples">Examples</h2>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'aria%'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------------------------------+---------------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>                            <span class="o">|</span> <span class="n">Value</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+---------------------+</span>
<span class="o">|</span> <span class="n">aria_block_size</span>                          <span class="o">|</span> <span class="mi">8192</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_checkpoint_interval</span>                 <span class="o">|</span> <span class="mi">30</span>                  <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_checkpoint_log_activity</span>             <span class="o">|</span> <span class="mi">1048576</span>             <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_force_start_after_recovery_failures</span> <span class="o">|</span> <span class="mi">0</span>                   <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_group_commit</span>                        <span class="o">|</span> <span class="k">none</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_group_commit_interval</span>               <span class="o">|</span> <span class="mi">0</span>                   <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_log_file_size</span>                       <span class="o">|</span> <span class="mi">1073741824</span>          <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_log_purge_type</span>                      <span class="o">|</span> <span class="k">immediate</span>           <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_max_sort_file_size</span>                  <span class="o">|</span> <span class="mi">9223372036853727232</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_page_checksum</span>                       <span class="o">|</span> <span class="k">ON</span>                  <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_pagecache_age_threshold</span>             <span class="o">|</span> <span class="mi">300</span>                 <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_pagecache_buffer_size</span>               <span class="o">|</span> <span class="mi">134217728</span>           <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_pagecache_division_limit</span>            <span class="o">|</span> <span class="mi">100</span>                 <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_recover</span>                             <span class="o">|</span> <span class="n">NORMAL</span>              <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_repair_threads</span>                      <span class="o">|</span> <span class="mi">1</span>                   <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_sort_buffer_size</span>                    <span class="o">|</span> <span class="mi">134217728</span>           <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_stats_method</span>                        <span class="o">|</span> <span class="n">nulls_unequal</span>       <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_sync_log_dir</span>                        <span class="o">|</span> <span class="n">NEWFILE</span>             <span class="o">|</span>
<span class="o">|</span> <span class="n">aria_used_for_temp_tables</span>                <span class="o">|</span> <span class="k">ON</span>                  <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+---------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">VARIABLE_NAME</span><span class="p">,</span> <span class="n">SESSION_VALUE</span><span class="p">,</span> <span class="n">GLOBAL_VALUE</span> <span class="k">FROM</span>
  <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">SYSTEM_VARIABLES</span> <span class="k">WHERE</span>
  <span class="n">VARIABLE_NAME</span> <span class="k">LIKE</span> <span class="s1">'max_error_count'</span> <span class="k">OR</span>
  <span class="n">VARIABLE_NAME</span> <span class="k">LIKE</span> <span class="s1">'innodb_sync_spin_loops'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------------+---------------+--------------+</span>
<span class="o">|</span> <span class="n">VARIABLE_NAME</span>             <span class="o">|</span> <span class="n">SESSION_VALUE</span> <span class="o">|</span> <span class="n">GLOBAL_VALUE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+---------------+--------------+</span>
<span class="o">|</span> <span class="n">MAX_ERROR_COUNT</span>           <span class="o">|</span> <span class="mi">64</span>            <span class="o">|</span> <span class="mi">64</span>           <span class="o">|</span>
<span class="o">|</span> <span class="n">INNODB_SYNC_SPIN_LOOPS</span>    <span class="o">|</span> <span class="k">NULL</span>          <span class="o">|</span> <span class="mi">30</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+---------------+--------------+</span>

<span class="k">SET</span> <span class="k">GLOBAL</span> <span class="n">max_error_count</span><span class="o">=</span><span class="mi">128</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">VARIABLE_NAME</span><span class="p">,</span> <span class="n">SESSION_VALUE</span><span class="p">,</span> <span class="n">GLOBAL_VALUE</span> <span class="k">FROM</span>
  <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">SYSTEM_VARIABLES</span> <span class="k">WHERE</span>
  <span class="n">VARIABLE_NAME</span> <span class="k">LIKE</span> <span class="s1">'max_error_count'</span> <span class="k">OR</span>
  <span class="n">VARIABLE_NAME</span> <span class="k">LIKE</span> <span class="s1">'innodb_sync_spin_loops'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------------+---------------+--------------+</span>
<span class="o">|</span> <span class="n">VARIABLE_NAME</span>             <span class="o">|</span> <span class="n">SESSION_VALUE</span> <span class="o">|</span> <span class="n">GLOBAL_VALUE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+---------------+--------------+</span>
<span class="o">|</span> <span class="n">MAX_ERROR_COUNT</span>           <span class="o">|</span> <span class="mi">64</span>            <span class="o">|</span> <span class="mi">128</span>          <span class="o">|</span>
<span class="o">|</span> <span class="n">INNODB_SYNC_SPIN_LOOPS</span>    <span class="o">|</span> <span class="k">NULL</span>          <span class="o">|</span> <span class="mi">30</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+---------------+--------------+</span>

<span class="k">SET</span> <span class="k">GLOBAL</span> <span class="n">max_error_count</span><span class="o">=</span><span class="mi">128</span><span class="p">;</span>

<span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'max_error_count'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>   <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-------+</span>
<span class="o">|</span> <span class="n">max_error_count</span> <span class="o">|</span> <span class="mi">64</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-------+</span>

<span class="k">SHOW</span> <span class="k">GLOBAL</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'max_error_count'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>   <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-------+</span>
<span class="o">|</span> <span class="n">max_error_count</span> <span class="o">|</span> <span class="mi">128</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-------+</span>
</pre><p>Because the following variable only has a global scope, the global value is returned even when specifying SESSION (in this case by default):</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">'innodb_sync_spin_loops'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>          <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+-------+</span>
<span class="o">|</span> <span class="n">innodb_sync_spin_loops</span> <span class="o">|</span> <span class="mi">30</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+-------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-wsrep_status">SHOW WSREP_STATUS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p><code>SHOW WSREP_STATUS</code> is part of the <code><a href="https://mariadb.com/kb/en/wsrep_info-plugin/">WSREP_INFO</a></code> plugin.</p>
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SHOW WSREP_STATUS
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code>SHOW WSREP_STATUS</code> statement returns <a href="https://mariadb.com/kb/en/galera/">Galera</a> node and cluster status information. It returns the same information as found in the <code><a href="https://mariadb.com/kb/en/information-schema-wsrep_status-table/">information_schema.WSREP_STATUS</a></code> table. Only users with the <code><a href="#grant">SUPER</a></code> privilege can access this information.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SHOW WSREP_STATUS;
+------------+-------------+----------------+--------------+
| Node_Index | Node_Status | Cluster_Status | Cluster_Size |
+------------+-------------+----------------+--------------+
|          0 | Synced      | Primary        |            3 |
+------------+-------------+----------------+--------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="show-warnings">SHOW WARNINGS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="show-warningssyntax">Syntax</h2>
<pre class="fixed">SHOW WARNINGS [LIMIT [offset,] row_count]
SHOW ERRORS [LIMIT row_count OFFSET offset]
SHOW COUNT(*) WARNINGS
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#show-warningssyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#show-warningsdescription" title="Description">Description</a></li>
<li class=""><a href="#show-warningsexamples" title="Examples">Examples</a> <ol class="toc">
<li class=""><a href="#show-warningsstack-trace" title="Stack Trace">Stack Trace</a> </li></ol>
</li>
<li class=""><a href="#show-warningssee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="show-warningsdescription">Description</h2>
<p> <code class="highlight fixed" style="white-space:pre-wrap">SHOW WARNINGS</code> shows the error, warning, and note messages
that resulted from the last statement that generated messages in the
current session.  It shows nothing if the last statement used a table
and generated no messages. (That is, a statement that uses a table but
generates no messages clears the message list.) Statements that do not
use tables and do not generate messages have no effect on the message
list.</p>
<p>A note is different to a warning in that it only appears if the <code><a href="https://mariadb.com/kb/en/server-system-variables/#sql_notes">sql_notes</a></code> variable is set to 1 (the default), and is not converted to an error if <code><a href="https://mariadb.com/kb/en/sql_mode/">strict mode</a></code> is enabled.</p>
<p>A related statement, <code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-errors">SHOW ERRORS</a></code>, shows only the errors.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">SHOW COUNT(*) WARNINGS</code> statement displays the total
number of errors, warnings, and notes. You can also retrieve this number from
the <a href="https://mariadb.com/kb/en/server-system-variables/#warning_count">warning_count</a> variable:</p>
<pre class="fixed">SHOW COUNT(*) WARNINGS;
SELECT @@warning_count;
</pre><p>The value of <code><a href="https://mariadb.com/kb/en/server-system-variables/#warning_count">warning_count</a></code> might be greater than the number of messages displayed by <code class="highlight fixed" style="white-space:pre-wrap">SHOW WARNINGS</code> if the <code><a href="https://mariadb.com/kb/en/server-system-variables/#max_error_count">max_error_count</a></code> system variable is set so low that not all messages are stored.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">LIMIT</code> clause has the same syntax as for the
 <code class="highlight fixed" style="white-space:pre-wrap"><a href="#select">SELECT statement</a></code>.</p>
<p><code class="highlight fixed" style="white-space:pre-wrap">SHOW WARNINGS</code> can be used after <code><a href="#explain">EXPLAIN EXTENDED</a></code> to see how a query is internally rewritten by MariaDB.</p>
<p>If the <code><a href="https://mariadb.com/kb/en/server-system-variables/#sql_notes">sql_notes</a></code> server variable is set to 1, Notes are included in the output of <code>SHOW WARNINGS</code>; if it is set to 0, this statement will not show (or count) Notes.</p>
<p>The results of <code>SHOW WARNINGS</code> and <code>SHOW COUNT(*) WARNINGS</code> are directly sent to the client. If you need to access those information in a stored program, you can use the <code><a href="https://mariadb.com/kb/en/get-diagnostics/">GET DIAGNOSTICS</a></code> statement instead.</p>
<p>For a list of MariaDB error codes, see <a href="https://mariadb.com/kb/en/mariadb-error-codes/">MariaDB Error Codes</a>.</p>
<p>The <code><a href="https://mariadb.com/kb/en/mysql-command-line-client/">mysql</a></code> client also has a number of options related to warnings.  The <code>\W</code> command will show warnings after every statement, while <code>\w</code> will disable this. Starting the client with the <code>--show-warnings</code> option will show warnings after every statement.</p>
<p><a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a> implements a stored routine error stack trace. <code>SHOW WARNINGS</code> can also be used to show more information. See the example below.</p>
<h2 class="anchored_heading" id="show-warningsexamples">Examples</h2>
<pre class="fixed">SELECT 1/0;
+------+
| 1/0  |
+------+
| NULL |
+------+

SHOW COUNT(*) WARNINGS;
+-------------------------+
| @@session.warning_count |
+-------------------------+
|                       1 |
+-------------------------+

SHOW WARNINGS;
+---------+------+---------------+
| Level   | Code | Message       |
+---------+------+---------------+
| Warning | 1365 | Division by 0 |
+---------+------+---------------+
</pre><h3 class="anchored_heading" id="show-warningsstack-trace">Stack Trace</h3>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>, displaying a stack trace:</p>
<pre class="fixed">DELIMITER $$
CREATE OR REPLACE PROCEDURE p1()
  BEGIN
    DECLARE c CURSOR FOR SELECT * FROM not_existing;
    OPEN c;
    CLOSE c;
  END;
$$
CREATE OR REPLACE PROCEDURE p2()
  BEGIN
    CALL p1;
  END;
$$
DELIMITER ;
CALL p2;
ERROR 1146 (42S02): Table 'test.not_existing' doesn't exist

SHOW WARNINGS;
+-------+------+-----------------------------------------+
| Level | Code | Message                                 |
+-------+------+-----------------------------------------+
| Error | 1146 | Table 'test.not_existing' doesn't exist |
| Note  | 4091 | At line 6 in test.p1                    |
| Note  | 4091 | At line 4 in test.p2                    |
+-------+------+-----------------------------------------+
</pre><p><code>SHOW WARNINGS</code> displays a stack trace, showing where the error actually happened:</p>
<ul start="1"><li>Line 4 in test.p1 is the OPEN command which actually raised the error
</li><li>Line 3 in test.p2 is the CALL statement, calling p1 from p2.
</li></ul>
<h2 class="anchored_heading" id="show-warningssee-also">See Also</h2>
<ul start="1"><li><a href="#show-errors">SHOW ERRORS</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="call">CALL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CALL sp_name([parameter[,...]])
CALL sp_name[()]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">CALL</code> statement invokes a <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedure</a> that was
defined previously with <a href="#create-procedure">CREATE PROCEDURE</a>. </p>
<p>Stored procedure names can be specified as <code>database_name.procedure_name</code>. Procedure names and database names can be quoted with backticks (). This is necessary if they are reserved words, or contain special characters. See <a href="https://mariadb.com/kb/en/identifier-qualifiers/">identifier qualifiers</a> for details.</p>
<p><code>CALL p()</code> and <code>CALL p</code> are equivalent.</p>
<p>If parentheses are used, any number of spaces, tab characters and newline characters are allowed between the procedure's name and the open parenthesis.</p>
<p><code class="highlight fixed" style="white-space:pre-wrap">CALL</code> can pass back values to its caller using parameters
that are declared as <code class="highlight fixed" style="white-space:pre-wrap">OUT</code> or <code class="highlight fixed" style="white-space:pre-wrap">INOUT</code>
parameters. If no value is assigned to an <code>OUT</code> parameter, <code>NULL</code> is assigned (and its former value is lost). To pass such values from another stored program you can use <a href="https://mariadb.com/kb/en/user-defined-variables/">user-defined variables</a>, <a href="#declare-variable">local variables</a> or routine's parameters; in other contexts, you can only use user-defined variables. </p>
<p><code>CALL</code> can also be executed as a prepared statement. Placeholders can be used for <code>IN</code> parameters in all versions of MariaDB; for <code>OUT</code> and <code>INOUT</code> parameters, placeholders can be used since <a href="https://mariadb.com/kb/en/what-is-mariadb-55/">MariaDB 5.5</a>.</p>
<p>When the procedure returns, a client program can also obtain the
number of rows affected for the final statement executed within the routine: At
the SQL level, call the <code><a href="#row_count">ROW_COUNT()</a></code> function; from the C
API, call the <code class="highlight fixed" style="white-space:pre-wrap">mysql_affected_rows()</code> function.</p>
<p>If the <code>CLIENT_MULTI_RESULTS</code> API flag is set, <code>CALL</code> can return any number of resultsets and the called stored procedure can execute prepared statements. If it is not set, at most one resultset can be returned and prepared statements cannot be used within procedures.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="concurrent-inserts">Concurrent Inserts</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#concurrent-insertsnotes" title="Notes">Notes</a></li>
<li class=""><a href="#concurrent-insertssee-also" title="See Also">See Also</a> </li></ol>

</div><p>
The <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> storage engine supports concurrent inserts. This feature allows <a href="#select">SELECT</a> statements to be executed during <a href="#insert">INSERT</a> operations, reducing contention.</p>
<p>Whether concurrent inserts can be used or not depends on the value of the <a href="https://mariadb.com/kb/en/server-system-variables/#concurrent_insert">concurrent_insert</a> server system variable:</p>
<ul start="1"><li><code>NEVER</code> (0) disables concurrent inserts.
</li><li><code>AUTO</code> (1) allows concurrent inserts only when the target table has no free blocks (no data in the middle of the table has been deleted after the last <a href="#optimize-table">OPTIMIZE TABLE</a>). This is the default.
</li><li><code>ALWAYS</code> (2) always enables concurrent inserts, in which case new rows are added at the end of a table if the table is being used by another thread. 
</li></ul>
<p>If the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> is used, <a ">CREATE TABLE ... SELECT</a> and <a href="#insert-select">INSERT ... SELECT</a> statements cannot use concurrent inserts. These statements acquire a read lock on the table, so concurrent inserts will need to wait. This way the log can be safely used to restore data.</p>
<p>Concurrent inserts are not used by replicas with the row based <a href="https://mariadb.com/kb/en/replication/">replication</a> (see <a href="https://mariadb.com/kb/en/binary-log-formats/">binary log formats</a>).</p>
<p>If an <a href="#insert">INSERT</a> statement contain the <a href="https://mariadb.com/kb/en/high_priority-and-low_priority-clauses/">HIGH_PRIORITY</a> clause, concurrent inserts cannot be used. <a href="#insert-delayed">INSERT ... DELAYED</a> is usually unneeded if concurrent inserts are enabled.</p>
<p><a href="#load-data-infile">LOAD DATA INFILE</a> uses concurrent inserts if the <code>CONCURRENT</code> keyword is specified and  <a href="https://mariadb.com/kb/en/server-system-variables/#concurrent_insert">concurrent_insert</a> is not <code>NEVER</code>. This makes the statement slower (even if no other sessions access the table) but reduces contention.</p>
<p><a href="https://mariadb.com/kb/en/transactions-lock/">LOCK TABLES</a> allows non-conflicting concurrent inserts if a <code>READ LOCAL</code> lock is used. Concurrent inserts are not allowed if the <code>LOCAL</code> keyword is omitted.</p>
<h2 class="anchored_heading" id="concurrent-insertsnotes">Notes</h2>
<p>The decision to enable concurrent insert for a table  is done when the table is opened. If you change the value of <a href="https://mariadb.com/kb/en/server-system-variables/#concurrent_insert">concurrent_insert</a> it will only affect new opened tables. If you want it to work for also for tables in use or cached, you should do <a href="#flush">FLUSH TABLES</a> after setting the variable.</p>
<h2 class="anchored_heading" id="concurrent-insertssee-also">See Also</h2>
<ul start="1"><li><a href="#insert">INSERT</a>
</li><li><a href="#insert-delayed">INSERT DELAYED</a>
</li><li><a href="#insert-select">INSERT SELECT</a>
</li><li><a href="#high_priority-and-low_priority">HIGH_PRIORITY and LOW_PRIORITY</a>
</li><li><a href="#insert-default-duplicate-values">INSERT - Default &amp; Duplicate Values</a>
</li><li><a href="#insert-ignore">INSERT IGNORE</a>
</li><li><a href="#insert-on-duplicate-key-update">INSERT ON DUPLICATE KEY UPDATE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="delete">DELETE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#deletesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#deletedescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#deletepartition" title="PARTITION">PARTITION</a></li>
<li class=""><a href="#deletefor-portion-of" title="FOR PORTION OF">FOR PORTION OF</a></li>
<li class=""><a href="#deletereturning" title="RETURNING">RETURNING</a></li>
<li class=""><a href="#deletesame-source-and-target-table" title="Same Source and Target Table">Same Source and Target Table</a></li>
<li class=""><a href="#deletedelete-history" title="DELETE HISTORY">DELETE HISTORY</a> </li></ol>
</li>
<li class=""><a href="#deleteexamples" title="Examples">Examples</a> <ol class="toc">
<li class=""><a href="#deletedeleting-from-the-same-source-and-target" title="Deleting from the Same Source and Target">Deleting from the Same Source and Target</a> </li></ol>
</li>
<li class=""><a href="#deletesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="deletesyntax">Syntax</h2>
<p>Single-table syntax:</p>
<pre class="fixed">DELETE [LOW_PRIORITY] [QUICK] [IGNORE] 
  FROM tbl_name [PARTITION (partition_list)]
  [FOR PORTION OF period FROM expr1 TO expr2]
  [WHERE where_condition]
  [ORDER BY ...]
  [LIMIT row_count]
  [RETURNING select_expr 
    [, select_expr ...]]
</pre><p>Multiple-table syntax:</p>
<pre class="fixed">DELETE [LOW_PRIORITY] [QUICK] [IGNORE]
    tbl_name[.*] [, tbl_name[.*]] ...
    FROM table_references
    [WHERE where_condition]
</pre><p>Or:</p>
<pre class="fixed">DELETE [LOW_PRIORITY] [QUICK] [IGNORE]
    FROM tbl_name[.*] [, tbl_name[.*]] ...
    USING table_references
    [WHERE where_condition]
</pre><p>Trimming history:</p>
<pre class="fixed">DELETE HISTORY
  FROM tbl_name [PARTITION (partition_list)]
  [BEFORE SYSTEM_TIME [TIMESTAMP|TRANSACTION] expression]
</pre><h2 class="anchored_heading" id="deletedescription">Description</h2>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Option</th><th>Description</th></tr>
<tr><td>LOW_PRIORITY</td><td>Wait until all SELECT's are done before starting the statement. Used with storage engines that uses table locking (MyISAM, Aria etc). See <a href="https://mariadb.com/kb/en/high_priority-and-low_priority-clauses/">HIGH_PRIORITY and LOW_PRIORITY clauses</a> for details.</td></tr>
<tr><td>QUICK</td><td>Signal the storage engine that it should expect that a lot of rows are deleted. The storage engine engine can do things to speed up the DELETE like ignoring merging of data blocks until all rows are deleted from the block (instead of when a block is half full). This speeds up things at the expanse of lost space in data blocks. At least <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> and <a href="https://mariadb.com/kb/en/aria/">Aria</a> support this feature.</td></tr>
<tr><td>IGNORE</td><td>Don't stop the query even if a not-critical error occurs (like data overflow). See <a href="#ignore">How IGNORE works</a> for a full description.</td></tr>
</table>
</div><p>For the single-table syntax, the <code class="fixed" style="white-space:pre-wrap">DELETE</code> statement deletes rows
from tbl_name and returns a count of the number of deleted rows. This count can
be obtained by calling the <a href="https://mariadb.com/kb/en/row-count/">ROW_COUNT()</a> function. The
<code class="fixed" style="white-space:pre-wrap">WHERE</code> clause, if given, specifies the conditions that identify
which rows to delete. With no <code class="fixed" style="white-space:pre-wrap">WHERE</code> clause, all rows are
deleted. If the <a href="#order-by">ORDER BY</a> clause is specified, the rows are
deleted in the order that is specified. The <a href="#limit">LIMIT</a> clause
places a limit on the number of rows that can be deleted.</p>
<p>For the multiple-table syntax, <code class="fixed" style="white-space:pre-wrap">DELETE</code> deletes from each
<code class="fixed" style="white-space:pre-wrap">tbl_name</code> the rows that satisfy the conditions. In this case,
<a href="#order-by">ORDER BY</a> and <a href="#limit">LIMIT</a>&gt; cannot be used. A <code>DELETE</code> can also reference tables which are located in different databases; see <a href="https://mariadb.com/kb/en/identifier-qualifiers/">Identifier Qualifiers</a> for the syntax.</p>
<p><code class="fixed" style="white-space:pre-wrap">where_condition</code> is an expression that evaluates to true for
each row to be deleted. It is specified as described in <a href="#select">SELECT</a>.</p>
<p>Currently, you cannot delete from a table and select from the same
table in a subquery.</p>
<p>You need the <code class="fixed" style="white-space:pre-wrap">DELETE</code> privilege on a table to delete rows from
it. You need only the <code class="fixed" style="white-space:pre-wrap">SELECT</code> privilege for any columns that
are only read, such as those named in the <code class="fixed" style="white-space:pre-wrap">WHERE</code> clause. See
<a href="#grant">GRANT</a>.</p>
<p>As stated, a <code class="highlight fixed" style="white-space:pre-wrap">DELETE</code> statement with no <code class="highlight fixed" style="white-space:pre-wrap">WHERE</code>
clause deletes all rows. A faster way to do this, when you do not need to know
the number of deleted rows, is to use <code class="highlight fixed" style="white-space:pre-wrap">TRUNCATE TABLE</code>. However,
within a transaction or if you have a lock on the table, 
<code class="fixed" style="white-space:pre-wrap">TRUNCATE TABLE</code> cannot be used whereas <code class="fixed" style="white-space:pre-wrap">DELETE</code>
can. See <code class="highlight fixed" style="white-space:pre-wrap"><a href="#truncate-table">TRUNCATE TABLE</a></code>, and
<code class="highlight fixed" style="white-space:pre-wrap"><a href="https://mariadb.com/kb/en/lock/">LOCK</a></code>.</p>
<h3 class="anchored_heading" id="deletepartition">PARTITION</h3>
<p>See <a href="https://mariadb.com/kb/en/partition-pruning-and-selection/">Partition Pruning and Selection</a> for details.</p>
<h3 class="anchored_heading" id="deletefor-portion-of">FOR PORTION OF</h3>
<div class="mariadb_from_10_4_3 mariadb from_10_4_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">10.4.3</a></h5><p>See <a href="https://mariadb.com/kb/en/application-time-periods/#deletion-by-portion">Application Time Periods - Deletion by Portion</a>.</p>
</div><h3 class="anchored_heading" id="deletereturning">RETURNING</h3>
<p>It is possible to return a resultset of the deleted rows for a single table to the client by using the syntax <code>DELETE ... RETURNING select_expr [, select_expr2 ...]]</code></p>
<p>Any of SQL expression that can be calculated from a single row fields is allowed. Subqueries are allowed. The AS keyword is allowed, so it is possible to use aliases.</p>
<p>The use of aggregate functions is not allowed. RETURNING cannot be used in multi-table DELETEs.</p>
<div class="mariadb_from_10_3_1 mariadb from_10_3_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">10.3.1</a></h5><h3 class="anchored_heading" id="deletesame-source-and-target-table">Same Source and Target Table</h3>
<p>Until <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>, deleting from a table with the same source and target was not possible. From <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>, this is now possible. For example:</p>
<pre class="fixed"><span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="n">c1</span> <span class="k">IN</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">b</span><span class="p">.</span><span class="n">c1</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="n">b</span> <span class="k">WHERE</span> <span class="n">b</span><span class="p">.</span><span class="n">c2</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span>
</pre></div><div class="mariadb_from_10_3_4 mariadb from_10_3_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1034-release-notes/">10.3.4</a></h5><h3 class="anchored_heading" id="deletedelete-history">DELETE HISTORY</h3>
<p>One can use <code>DELETE HISTORY</code> to delete historical information from <a href="https://mariadb.com/kb/en/system-versioned-tables/">System-versioned tables</a>.</p>
</div><h2 class="anchored_heading" id="deleteexamples">Examples</h2>
<p>How to use the <a href="#order-by">ORDER BY</a> and <a href="#limit">LIMIT</a> clauses:</p>
<pre class="fixed"><span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">page_hit</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="k">timestamp</span> <span class="k">LIMIT</span> <span class="mi">1000000</span><span class="p">;</span>
</pre><p>How to use the RETURNING clause:</p>
<pre class="fixed"><span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">t</span> <span class="n">RETURNING</span> <span class="n">f1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">f1</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>   <span class="mi">50</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">500</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+ </span>
</pre><p>The following statement joins two tables: one is only used to satisfy a WHERE condition, but no row is deleted from it; rows from the other table are deleted, instead.</p>
<pre class="fixed"><span class="k">DELETE</span> <span class="n">post</span> <span class="k">FROM</span> <span class="n">blog</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">post</span> <span class="k">WHERE</span> <span class="n">blog</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">post</span><span class="p">.</span><span class="n">blog_id</span><span class="p">;</span>
</pre><h3 class="anchored_heading" id="deletedeleting-from-the-same-source-and-target">Deleting from the Same Source and Target</h3>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">c1</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">c2</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="n">c1</span> <span class="k">IN</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">b</span><span class="p">.</span><span class="n">c1</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="n">b</span> <span class="k">WHERE</span> <span class="n">b</span><span class="p">.</span><span class="n">c2</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span>
</pre><p>Until <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>, this returned:</p>
<pre class="fixed"><span class="n">ERROR</span> <span class="mi">1093</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="k">Table</span> <span class="s1">'t1'</span> <span class="k">is</span> <span class="n">specified</span> <span class="n">twice</span><span class="p">,</span> <span class="k">both</span> <span class="k">as</span> <span class="n">a</span> <span class="n">target</span> <span class="k">for</span> <span class="s1">'DELETE'</span> 
  <span class="k">and</span> <span class="k">as</span> <span class="n">a</span> <span class="n">separate</span> <span class="k">source</span> <span class="k">for</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>:</p>
<pre class="fixed"><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><h2 class="anchored_heading" id="deletesee-also">See Also</h2>
<ul start="1"><li><a href="#ignore">How IGNORE works</a>
</li><li><a href="#select">SELECT</a>
</li><li><a href="#order-by">ORDER BY</a>
</li><li><a href="#limit">LIMIT</a>
</li><li><a href="https://mariadb.com/kb/en/replacereturning/">REPLACE ... RETURNING</a>
</li><li><a href="https://mariadb.com/kb/en/insertreturning/">INSERT ... RETURNING</a>
</li><li><a href="https://www.youtube.com/watch?v=n-LTdEBeAT4">Returning clause</a> (video)</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="except">EXCEPT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_0 mariadb from_10_3_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">10.3.0</a></h5><p>EXCEPT was introduced in <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">MariaDB 10.3.0</a>.</p>
</div><p>The result of <code>EXCEPT</code> is all records of the left <code>SELECT</code> result set except records which are in right <code>SELECT</code> result set, i.e. it is subtraction of two result sets. From <a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">MariaDB 10.6.1</a>, <code>MINUS</code> is a synonym.</p>
<h1 class="anchored_heading" id="exceptsyntax">Syntax</h1>
<pre class="fixed">SELECT ...
(INTERSECT [ALL | DISTINCT] | EXCEPT [ALL | DISTINCT] | UNION [ALL | DISTINCT]) SELECT ...
[(INTERSECT [ALL | DISTINCT] | EXCEPT [ALL | DISTINCT] | UNION [ALL | DISTINCT]) SELECT ...]
[ORDER BY [column [, column ...]]]
[LIMIT {[offset,] row_count | row_count OFFSET offset}]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_4_0"><a href="#exceptsyntax" title="Syntax">Syntax</a> <ol class="toc">
<li class="mariadb_from_10_4_0"><a href="#exceptdescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_4_0"><a href="#exceptparentheses" title="Parentheses">Parentheses</a></li>
<li class="mariadb_from_10_4_0"><a href="#exceptalldistinct" title="ALL/DISTINCT">ALL/DISTINCT</a> </li></ol>
</li>
<li class="mariadb_from_10_4_0"><a href="#exceptexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_4_0"><a href="#exceptsee-also" title="See Also">See Also</a> </li></ol>
</li>
</ol></div>
<p>Please note:</p>
<ul start="1"><li>Brackets for explicit operation precedence are not supported; use a subquery in the <code class="fixed" style="white-space:pre-wrap">FROM</code> clause as a workaround).
</li></ul>
<h2 class="anchored_heading" id="exceptdescription">Description</h2>
<p>MariaDB has supported <code>EXCEPT</code> and <a href="#intersect">INTERSECT</a> in addition to <a href="#union">UNION</a> since <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>.</p>
<p>All behavior for naming columns, <code class="fixed" style="white-space:pre-wrap">ORDER BY</code> and <code class="fixed" style="white-space:pre-wrap">LIMIT</code> is the same as for <a href="#union"><code class="fixed" style="white-space:pre-wrap">UNION</code></a>.</p>
<p><code>EXCEPT</code> implicitly supposes a <code>DISTINCT</code> operation.</p>
<p>The result of <code>EXCEPT</code> is all records of the left <code>SELECT</code> result except records which are in right <code>SELECT</code> result set, i.e. it is subtraction of two result sets.</p>
<p><code>EXCEPT</code> and <code>UNION</code> have the same operation precedence and <code>INTERSECT</code> has a higher precedence, unless <a href="https://mariadb.com/kb/en/sql_modeoracle/">running in Oracle mode</a>, in which case all three have the same precedence.
<br/>
<br/></p>
<div class="mariadb_from_10_4_0 mariadb from_10_4_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">10.4.0</a></h5><h3 class="anchored_heading" id="exceptparentheses">Parentheses</h3>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">MariaDB 10.4.0</a>, parentheses can be used to specify precedence. Before this, a syntax error would be returned.</p>
</div><div class="mariadb_from_10_5_0 mariadb from_10_5_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">10.5.0</a></h5><h3 class="anchored_heading" id="exceptalldistinct">ALL/DISTINCT</h3>
<p><code>EXCEPT ALL</code> and <code>EXCEPT DISTINCT</code> were introduced in <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>. The <code>ALL</code> operator leaves duplicates intact, while the <code>DISTINCT</code> operator removes duplicates. <code>DISTINCT</code> is the default behavior if neither operator is supplied, and the only behavior prior to <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a>.  </p>
</div><h2 class="anchored_heading" id="exceptexamples">Examples</h2>
<p>Show customers which are not employees:</p>
<pre class="fixed"><span class="p">(</span><span class="k">SELECT</span> <span class="n">e_name</span> <span class="k">AS</span> <span class="n">name</span><span class="p">,</span> <span class="n">email</span> <span class="k">FROM</span> <span class="n">customers</span><span class="p">)</span>
<span class="k">EXCEPT</span>
<span class="p">(</span><span class="k">SELECT</span> <span class="n">c_name</span> <span class="k">AS</span> <span class="n">name</span><span class="p">,</span> <span class="n">email</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">);</span>
</pre><p>Difference between <a href="#union">UNION</a>, EXCEPT and <a href="#intersect">INTERSECT</a>. <code>INTERSECT ALL</code> and <code>EXCEPT ALL</code> are available from <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">seqs</span> <span class="p">(</span><span class="n">i</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">seqs</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">),(</span><span class="mi">5</span><span class="p">),(</span><span class="mi">6</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">UNION</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">UNION</span> <span class="k">ALL</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">EXCEPT</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">EXCEPT</span> <span class="k">ALL</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">INTERSECT</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">INTERSECT</span> <span class="k">ALL</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>Parentheses for specifying precedence, from <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">MariaDB 10.4.0</a></p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t2</span> <span class="p">(</span><span class="n">b</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t3</span> <span class="p">(</span><span class="k">c</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t2</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">5</span><span class="p">),(</span><span class="mi">6</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t3</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">6</span><span class="p">);</span>

<span class="p">((</span><span class="k">SELECT</span> <span class="n">a</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">)</span> <span class="k">UNION</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">b</span> <span class="k">FROM</span> <span class="n">t2</span><span class="p">))</span> <span class="k">EXCEPT</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">c</span> <span class="k">FROM</span> <span class="n">t3</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="p">(</span><span class="k">SELECT</span> <span class="n">a</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">)</span> <span class="k">UNION</span> <span class="p">((</span><span class="k">SELECT</span> <span class="n">b</span> <span class="k">FROM</span> <span class="n">t2</span><span class="p">)</span> <span class="k">EXCEPT</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">c</span> <span class="k">FROM</span> <span class="n">t3</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><h2 class="anchored_heading" id="exceptsee-also">See Also</h2>
<ul start="1"><li><a href="#union">UNION</a>
</li><li><a href="#intersect">INTERSECT</a>
</li><li><a href="https://www.youtube.com/watch?v=UNi-fVSpRm0">Get Set for Set Theory: UNION, INTERSECT and EXCEPT in SQL</a> (video tutorial)</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="high_priority-and-low_priority">HIGH_PRIORITY and LOW_PRIORITY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#high_priority-and-low_prioritysee-also" title="See Also">See Also</a> </li></ol>

</div><p>
The <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a> storage engine uses row-level locking to ensure data integrity. However some storage engines (such as <a href="https://mariadb.com/kb/en/memory-storage-engine/">MEMORY</a>, <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a>, <a href="https://mariadb.com/kb/en/aria/">Aria</a> and <a href="#merge">MERGE</a>) lock the whole table to prevent conflicts. These storage engines use two separate queues to remember pending statements; one is for <a href="#select">SELECTs</a> and the other one is for write statements (<a href="#insert">INSERT</a>, <a href="#delete">DELETE</a>, <a href="#update">UPDATE</a>). By default, the latter has a higher priority.</p>
<p>To give write operations a lower priority, the <a href="https://mariadb.com/kb/en/server-system-variables/#low_priority_updates">low_priority_updates</a> server system variable can be set to <code>ON</code>. The option is available on both the global and session levels, and it can be set at startup or via the <a href="#set">SET</a> statement.</p>
<p>When too many table locks have been set by write statements, some pending SELECTs are executed. The maximum number of write locks that can be acquired before this happens is determined by the <a href="https://mariadb.com/kb/en/server-system-variables/#max_write_lock_count">max_write_lock_count</a> server system variable, which is dynamic.</p>
<p>If write statements have a higher priority (default), the priority of individual write statements (<a href="#insert">INSERT</a>, <a href="#replace">REPLACE</a>, <a href="#update">UPDATE</a>, <a href="#delete">DELETE</a>) can be changed via the <code>LOW_PRIORITY</code> attribute, and the priority of a <code>SELECT</code> statement can be raised via the <code>HIGH_PRIORITY</code> attribute. Also, <a href="https://mariadb.com/kb/en/transactions-lock/">LOCK TABLES</a> supports a <code>LOW_PRIORITY</code> attribute for <code>WRITE</code> locks.</p>
<p>If read statements have a higher priority, the priority of an <code>INSERT</code> can be changed via the <code>HIGH_PRIORITY</code> attribute. However, the priority of other write statements cannot be raised individually.</p>
<p>The use of <code>LOW_PRIORITY</code> or <code>HIGH_PRIORITY</code> for an <code>INSERT</code> prevents <a href="#concurrent-inserts">Concurrent Inserts</a> from being used.</p>
<h2 class="anchored_heading" id="high_priority-and-low_prioritysee-also">See Also</h2>
<ul start="1"><li><a href="#insert">INSERT</a>
</li><li><a href="#insert-delayed">INSERT DELAYED</a>
</li><li><a href="#insert-select">INSERT SELECT</a>
</li><li><a href="#concurrent-inserts">Concurrent Inserts</a>
</li><li><a href="#insert-default-duplicate-values">INSERT - Default &amp; Duplicate Values</a>
</li><li><a href="#insert-ignore">INSERT IGNORE</a>
</li><li><a href="#insert-on-duplicate-key-update">INSERT ON DUPLICATE KEY UPDATE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="ignore">IGNORE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>The <code>IGNORE</code> option tells the server to ignore some common errors.</p>
<p><code>IGNORE</code> can be used with the following statements:</p>
<ul start="1"><li><a href="#delete">DELETE</a>
</li><li><a href="#insert">INSERT</a> (see also <a href="#insert-ignore">INSERT IGNORE</a>)
</li><li><a href="#load-data-infile">LOAD DATA INFILE</a>
</li><li><a href="#update">UPDATE</a>
</li><li><a href="#alter-table">ALTER TABLE</a>
</li><li><a ">CREATE TABLE ... SELECT</a>
</li><li><a href="#insert-select">INSERT ... SELECT</a>
</li></ul>
<p>The logic used:</p>
<ul start="1"><li>Variables out of ranges are replaced with the maximum/minimum value.
</li></ul>
<ul start="1"><li><a href="https://mariadb.com/kb/en/sql_mode/">SQL_MODEs</a> <code>STRICT_TRANS_TABLES</code>, <code>STRICT_ALL_TABLES</code>, <code>NO_ZERO_IN_DATE</code>, <code>NO_ZERO_DATE</code> are ignored.
</li></ul>
<ul start="1"><li>Inserting <code>NULL</code> in a <code>NOT NULL</code> field will insert 0 ( in a numerical
  field), 0000-00-00 ( in a date field) or an empty string ( in a character
  field).
</li></ul>
<ul start="1"><li>Rows that cause a duplicate key error or break a foreign key constraint are
  not inserted, updated, or deleted.
</li></ul>
<p>The following errors are ignored:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Error number</th><th>Symbolic error name</th><th>Description</th></tr>
<tr><td><code>1022</code></td><td><code>ER_DUP_KEY</code></td><td>Can't write; duplicate key in table '%s'</td></tr>
<tr><td><code>1048</code></td><td><code>ER_BAD_NULL_ERROR</code></td><td>Column '%s' cannot be null</td></tr>
<tr><td><code>1062</code></td><td><code>ER_DUP_ENTRY</code></td><td>Duplicate entry '%s' for key %d</td></tr>
<tr><td><code>1242</code></td><td><code>ER_SUBQUERY_NO_1_ROW</code></td><td>Subquery returns more than 1 row</td></tr>
<tr><td><code>1264</code></td><td><code>ER_WARN_DATA_OUT_OF_RANGE</code></td><td>Out of range value for column '%s' at row %ld</td></tr>
<tr><td><code>1265</code></td><td><code>WARN_DATA_TRUNCATED</code></td><td>Data truncated for column '%s' at row %ld</td></tr>
<tr><td><code>1292</code></td><td><code>ER_TRUNCATED_WRONG_VALUE</code></td><td>Truncated incorrect %s value: '%s'</td></tr>
<tr><td><code>1366</code></td><td><code>ER_TRUNCATED_WRONG_VALUE_FOR_FIELD</code></td><td>Incorrect integer value</td></tr>
<tr><td><code>1369</code></td><td><code>ER_VIEW_CHECK_FAILED</code></td><td><code>CHECK OPTION failed '%s.%s'</code></td></tr>
<tr><td><code>1451</code></td><td><code>ER_ROW_IS_REFERENCED_2</code></td><td>Cannot delete or update a parent row</td></tr>
<tr><td><code>1452</code></td><td><code>ER_NO_REFERENCED_ROW_2</code></td><td>Cannot add or update a child row: a foreign key constraint fails (%s)</td></tr>
<tr><td><code>1526</code></td><td><code>ER_NO_PARTITION_FOR_GIVEN_VALUE</code></td><td>Table has no partition for value %s</td></tr>
<tr><td><code>1586</code></td><td><code>ER_DUP_ENTRY_WITH_KEY_NAME</code></td><td>Duplicate entry '%s' for key '%s'</td></tr>
<tr><td><code>1591</code></td><td><code>ER_NO_PARTITION_FOR_GIVEN_VALUE_SILENT</code></td><td>Table has no partition for some existing values</td></tr>
<tr><td><code>1748</code></td><td><code>ER_ROW_DOES_NOT_MATCH_GIVEN_PARTITION_SET</code></td><td>Found a row not matching the given partition set</td></tr>
</table>
</div><p>Ignored errors normally generate a warning.</p>
<p>A property of the <code>IGNORE</code> clause consists in causing transactional engines and non-transactional engines (like XtraDB and Aria) to behave the same way. For example, normally a multi-row insert which tries to violate a <code>UNIQUE</code> contraint is completely rolled back on XtraDB/InnoDB, but might be partially executed on Aria. With the <code>IGNORE</code> clause, the statement will be partially executed in both engines.</p>
<p>Duplicate key errors also generate warnings. The <a href="https://mariadb.com/kb/en/old_mode/">OLD_MODE</a> server variable can be used to prevent this.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="group-by">GROUP BY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#group-bywith-rollup" title="WITH ROLLUP">WITH ROLLUP</a></li>
<li class=""><a href="#group-bygroup-by-examples" title="GROUP BY Examples">GROUP BY Examples</a></li>
<li class=""><a href="#group-bysee-also" title="See Also">See Also</a> </li></ol>


</div><p>
Use the <code>GROUP BY</code> clause in a <a href="#select">SELECT</a> statement to group rows together that have the same value in one or more column, or the same computed value using expressions with any
<a href="https://mariadb.com/kb/en/functions-and-operators/">functions and operators</a> except
<a href="https://mariadb.com/kb/en/functions-and-modifiers-for-use-with-group-by/">grouping functions</a>. When you
use a <code>GROUP BY</code> clause, you will get a single result row for each group of rows
that have the same value for the expression given in <code>GROUP BY</code>.</p>
<p>When grouping rows, grouping values are compared as if by the <code><a href="#equal">=</a></code> operator.
For string values, the <code>=</code> operator ignores trailing whitespace and may normalize
characters and ignore case, depending on the <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">collation</a> in use.</p>
<p>You can use any of the grouping functions in your select expression. Their values will
be calculated based on all the rows that have been grouped together for each result
row. If you select a non-grouped column or a value computed from a non-grouped
column, it is undefined which row the returned value is taken from. This is not permitted if the <code>ONLY_FULL_GROUP_BY</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is used.</p>
<p>You can use multiple expressions in the <code>GROUP BY</code> clause, separated by commas.
Rows are grouped together if they match on each of the expressions.</p>
<p>You can also use a single integer as the grouping expression. If you use an integer <em>n</em>,
the results will be grouped by the <em>n</em>th column in the select expression.</p>
<p>The <code>WHERE</code> clause is applied before the <code>GROUP BY</code> clause. It filters non-aggregated
rows before the rows are grouped together. To filter grouped rows based on aggregate values,
use the <code>HAVING</code> clause. The <code>HAVING</code> clause takes any expression and evaluates it as
a boolean, just like the <code>WHERE</code> clause. You can use grouping functions in the <code>HAVING</code>
clause. As with the select expression, if you reference non-grouped columns in the <code>HAVING</code>
clause, the behavior is undefined.</p>
<p>By default, if a <code>GROUP BY</code> clause is present, the rows in the output will be sorted by the expressions used in the <code>GROUP BY</code>. You can also specify <code>ASC</code> or <code>DESC</code> (ascending, descending) after those expressions, like in <a href="#order-by">ORDER BY</a>. The default is <code>ASC</code>.</p>
<p>If you want the rows to be sorted by another field, you can add an explicit <a href="#order-by">ORDER BY</a>. If you don't want the result to be ordered, you can add <a href="#order-by">ORDER BY NULL</a>.</p>
<h3 class="anchored_heading" id="group-bywith-rollup">WITH ROLLUP</h3>
<p>The <code>WITH ROLLUP</code> modifer adds extra rows to the resultset that represent super-aggregate summaries. For a full description with examples, see <a href="#select-with-rollup">SELECT WITH ROLLUP</a>.</p>
<h3 class="anchored_heading" id="group-bygroup-by-examples">GROUP BY Examples</h3>
<p>Consider the following table that records how many times each user has played and won a game:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">plays</span> <span class="p">(</span><span class="n">name</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">16</span><span class="p">),</span> <span class="n">plays</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">wins</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">plays</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="ss">"John"</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> 
  <span class="p">(</span><span class="ss">"Robert"</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
  <span class="p">(</span><span class="ss">"Wanda"</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
  <span class="p">(</span><span class="ss">"Susan"</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</pre><p>Get a list of win counts along with a count:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">wins</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">plays</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">wins</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+----------+</span>
<span class="o">|</span> <span class="n">wins</span> <span class="o">|</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+----------+</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+----------+</span>
<span class="mi">3</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>The <code>GROUP BY</code> expression can be a computed value, and can refer back to an identifer
specified with <code>AS</code>. Get a list of win averages along with a count:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="p">(</span><span class="n">wins</span> <span class="o">/</span> <span class="n">plays</span><span class="p">)</span> <span class="k">AS</span> <span class="n">winavg</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">plays</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">winavg</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------+----------+</span>
<span class="o">|</span> <span class="n">winavg</span> <span class="o">|</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+----------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1765</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2500</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">3636</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+----------+</span>
<span class="mi">3</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>You can use any <a href="https://mariadb.com/kb/en/functions-and-modifiers-for-use-with-group-by/">grouping function</a>
in the select expression. For each win average as above, get a list of the average play
count taken to get that average:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="p">(</span><span class="n">wins</span> <span class="o">/</span> <span class="n">plays</span><span class="p">)</span> <span class="k">AS</span> <span class="n">winavg</span><span class="p">,</span> <span class="k">AVG</span><span class="p">(</span><span class="n">plays</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">plays</span> 
  <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">winavg</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------+------------+</span>
<span class="o">|</span> <span class="n">winavg</span> <span class="o">|</span> <span class="k">AVG</span><span class="p">(</span><span class="n">plays</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+------------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1765</span> <span class="o">|</span>    <span class="mi">17</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2500</span> <span class="o">|</span>    <span class="mi">26</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">3636</span> <span class="o">|</span>    <span class="mi">22</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+------------+</span>
<span class="mi">3</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>You can filter on aggregate information using the <code>HAVING</code> clause. The <code>HAVING</code>
clause is applied after <code>GROUP BY</code> and allows you to filter on aggregate data that is
not available to the <code>WHERE</code> clause. Restrict the above example to results that involve
an average number of plays over 20:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="p">(</span><span class="n">wins</span> <span class="o">/</span> <span class="n">plays</span><span class="p">)</span> <span class="k">AS</span> <span class="n">winavg</span><span class="p">,</span> <span class="k">AVG</span><span class="p">(</span><span class="n">plays</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">plays</span> 
  <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">winavg</span> <span class="k">HAVING</span> <span class="k">AVG</span><span class="p">(</span><span class="n">plays</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------+------------+</span>
<span class="o">|</span> <span class="n">winavg</span> <span class="o">|</span> <span class="k">AVG</span><span class="p">(</span><span class="n">plays</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+------------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2500</span> <span class="o">|</span>    <span class="mi">26</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">3636</span> <span class="o">|</span>    <span class="mi">22</span><span class="p">.</span><span class="mi">0000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+------------+</span>
<span class="mi">2</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><h3 class="anchored_heading" id="group-bysee-also">See Also</h3>
<ul start="1"><li><a href="#select">SELECT</a>
</li><li><a href="https://mariadb.com/kb/en/joins-subqueries/">Joins and Subqueries</a>
</li><li><a href="#limit">LIMIT</a>
</li><li><a href="#order-by">ORDER BY</a>
</li><li><a href="https://mariadb.com/kb/en/common-table-expressions/">Common Table Expressions</a>
</li><li><a href="#select-with-rollup">SELECT WITH ROLLUP</a>
</li><li><a href="#select-into-outfile">SELECT INTO OUTFILE</a>
</li><li><a href="#select-into-dumpfile">SELECT INTO DUMPFILE</a>
</li><li><a href="#for-update">FOR UPDATE</a>
</li><li><a href="#lock-in-share-mode">LOCK IN SHARE MODE</a>
</li><li><a href="https://mariadb.com/kb/en/optimizer-hints/">Optimizer Hints</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="insert-default-duplicate-values">INSERT - Default &amp; Duplicate Values</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#insert-default-duplicate-valuesdefault-values" title="Default Values">Default Values</a></li>
<li class=""><a href="#insert-default-duplicate-valuesduplicate-values" title="Duplicate Values">Duplicate Values</a></li>
<li class=""><a href="#insert-default-duplicate-valuessee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="insert-default-duplicate-valuesdefault-values">Default Values</h2>
<p>If the <code><a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a></code> contains <code>STRICT_TRANS_TABLES</code> and you are <a href="#insert">inserting</a> into a transactional table (like InnoDB), or if the SQL_MODE contains <code>STRICT_ALL_TABLES</code>, all <code>NOT NULL</code> columns which does not have a <code>DEFAULT</code> value (and is not <a href="#auto_increment">AUTO_INCREMENT</a>) must be explicitly referenced in <code>INSERT</code> statements. If not, an error like this is produced:</p>
<pre class="fixed">ERROR 1364 (HY000): Field 'col' doesn't have a default value
</pre><p>In all other cases, if a <code>NOT NULL</code> column without a <code>DEFAULT</code> value is not referenced, an empty value will be inserted (for example, 0 for <code>INTEGER</code> columns and '' for <code>CHAR</code> columns). See <a href="https://mariadb.com/kb/en/null-values-in-mariadb/#inserting">NULL Values in MariaDB:Inserting</a> for examples.</p>
<p>If a <code>NOT NULL</code> column having a <code>DEFAULT</code> value is not referenced, <code>NULL</code> will be inserted.</p>
<p>If a <code>NULL</code> column having a <code>DEFAULT</code> value is not referenced, its default value will be inserted. It is also possible to explicitly assign the default value using the <code>DEFAULT</code> keyword or the <code><a href="#default">DEFAULT()</a></code> function.</p>
<p>If the <code>DEFAULT</code> keyword is used but the column does not have a <code>DEFAULT</code> value, an error like this is produced:</p>
<pre class="fixed">ERROR 1364 (HY000): Field 'col' doesn't have a default value
</pre><h2 class="anchored_heading" id="insert-default-duplicate-valuesduplicate-values">Duplicate Values</h2>
<p>By default, if you try to insert a duplicate row and there is a <code>UNIQUE</code> index, <code>INSERT</code> stops and an error like this is produced:</p>
<pre class="fixed">ERROR 1062 (23000): Duplicate entry 'dup_value' for key 'col'
</pre><p>To handle duplicates you can use the <a href="#ignore">IGNORE</a> clause, <a href="#insert-on-duplicate-key-update">INSERT ON DUPLICATE KEY UPDATE</a> or the <a href="#replace">REPLACE</a> statement. Note that the IGNORE and DELAYED options are ignored when you use <a href="#insert-on-duplicate-key-update">ON DUPLICATE KEY UPDATE</a>.</p>
<h2 class="anchored_heading" id="insert-default-duplicate-valuessee-also">See Also</h2>
<ul start="1"><li><a href="#insert">INSERT</a>
</li><li><a href="#insert-delayed">INSERT DELAYED</a>
</li><li><a href="#insert-select">INSERT SELECT</a>
</li><li><a href="#high_priority-and-low_priority">HIGH_PRIORITY and LOW_PRIORITY</a>
</li><li><a href="#concurrent-inserts">Concurrent Inserts</a>
</li><li><a href="#insert-ignore">INSERT IGNORE</a>
</li><li><a href="#insert-on-duplicate-key-update">INSERT ON DUPLICATE KEY UPDATE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="insert">INSERT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="insertsyntax">Syntax</h2>
<pre class="fixed">INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE]
 [INTO] tbl_name [PARTITION (partition_list)] [(col,...)]
 {VALUES | VALUE} ({expr | DEFAULT},...),(...),...
 [ ON DUPLICATE KEY UPDATE
   col=expr
     [, col=expr] ... ] [RETURNING select_expr 
      [, select_expr ...]]
</pre><p>Or:</p>
<pre class="fixed">INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE]
    [INTO] tbl_name [PARTITION (partition_list)]
    SET col={expr | DEFAULT}, ...
    [ ON DUPLICATE KEY UPDATE
      col=expr
        [, col=expr] ... ] [RETURNING select_expr 
      [, select_expr ...]]
</pre><p>Or:</p>
<pre class="fixed">INSERT [LOW_PRIORITY | HIGH_PRIORITY] [IGNORE]
    [INTO] tbl_name [PARTITION (partition_list)] [(col,...)]
    SELECT ...
    [ ON DUPLICATE KEY UPDATE
      col=expr
        [, col=expr] ... ] [RETURNING select_expr 
      [, select_expr ...]]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_5"><a href="#insertsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_5"><a href="#insertinsert-delayed" title="INSERT DELAYED">INSERT DELAYED</a></li>
<li class="mariadb_from_10_5"><a href="#inserthigh-priority-and-low-priority" title="HIGH PRIORITY and LOW PRIORITY">HIGH PRIORITY and LOW PRIORITY</a></li>
<li class="mariadb_from_10_5"><a href="#insertdefaults-and-duplicate-values" title="Defaults and Duplicate Values">Defaults and Duplicate Values</a></li>
<li class="mariadb_from_10_5"><a href="#insertinsert-ignore" title="INSERT IGNORE">INSERT IGNORE</a></li>
<li class="mariadb_from_10_5"><a href="#insertinsert-on-duplicate-key-update" title="INSERT ON DUPLICATE KEY UPDATE">INSERT ON DUPLICATE KEY UPDATE</a></li>
<li class="mariadb_from_10_5"><a href="#insertexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_5"><a href="#insertinsert-returning" title="INSERT ... RETURNING">INSERT ... RETURNING</a> <ol class="toc">
<li class="mariadb_from_10_5"><a href="#insertexamples" title="Examples">Examples</a> </li></ol>
</li>
<li class="mariadb_from_10_5"><a href="#insertsee-also" title="See Also">See Also</a> </li></ol>

</div>
<p>The <code>INSERT</code> statement is used to insert new rows into an existing table. The <code>INSERT ... VALUES</code>
and <code>INSERT ... SET</code> forms of the statement insert rows based on explicitly specified values. The <code>INSERT ... SELECT</code> form inserts rows selected from another table or tables. <code>INSERT ... SELECT</code> is discussed further in the <code><a href="#insert-select">INSERT ... SELECT</a></code> article.</p>
<p>The table name can be specified in the form <code>db_name</code>.<code>tbl_name</code> or, if a default database is selected, in the form <code>tbl_name</code> (see <a href="https://mariadb.com/kb/en/identifier-qualifiers/">Identifier Qualifiers</a>). This allows to use <a href="#insert-select">INSERT ... SELECT</a> to copy rows between different databases.</p>
<p>The PARTITION clause can be used in both the INSERT and the SELECT part. See <a href="https://mariadb.com/kb/en/partition-pruning-and-selection/">Partition Pruning and Selection</a> for details.</p>
<div class="mariadb_from_10_5 mariadb from_10_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">10.5</a></h5><p>The RETURNING clause was introduced in <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a>.</p>
</div><p>The columns list is optional. It specifies which values are explicitly inserted, and in which order. If this clause is not specified, all values must be explicitly specified, in the same order they are listed in the table definition.</p>
<p>The list of value follow the <code>VALUES</code> or <code>VALUE</code> keyword (which are interchangeable, regardless how much values you want to insert), and is wrapped by parenthesis. The values must be listed in the same order as the columns list. It is possible to specify more than one list to insert more than one rows with a single statement. If many rows are inserted, this is a speed optimization.</p>
<p>For one-row statements, the <code>SET</code> clause may be more simple, because you don't need to remember the columns order. All values are specified in the form <code>col</code> = <code>expr</code>.</p>
<p>Values can also be specified in the form of a SQL expression or subquery. However, the subquery cannot access the same table that is named in the <code>INTO</code> clause.</p>
<p>If you use the <code>LOW_PRIORITY</code> keyword, execution of the <code>INSERT</code> is delayed until no other clients are reading from the table. If you use the <code>HIGH_PRIORITY</code> keyword, the statement has the same priority as <code>SELECT</code>s. This affects only storage engines that use only table-level locking (MyISAM, MEMORY, MERGE). However, if one of these keywords is specified, <a href="#concurrent-inserts">concurrent inserts</a> cannot be used. See <a href="https://mariadb.com/kb/en/high_priority-and-low_priority-clauses/">HIGH_PRIORITY and LOW_PRIORITY clauses</a> for details.</p>
<h2 class="anchored_heading" id="insertinsert-delayed">INSERT DELAYED</h2>
<p>For more details on the <code>DELAYED</code> option, see <a href="#insert-delayed">INSERT DELAYED</a>.</p>
<h2 class="anchored_heading" id="inserthigh-priority-and-low-priority">HIGH PRIORITY and LOW PRIORITY</h2>
<p>See <a href="#high_priority-and-low_priority">HIGH_PRIORITY and LOW_PRIORITY</a>.</p>
<h2 class="anchored_heading" id="insertdefaults-and-duplicate-values">Defaults and Duplicate Values</h2>
<p>See <a href="#insert-default-duplicate-values">INSERT - Default &amp; Duplicate Values</a> for details..</p>
<h2 class="anchored_heading" id="insertinsert-ignore">INSERT IGNORE</h2>
<p>See <a href="#insert-ignore">INSERT IGNORE</a>.</p>
<h2 class="anchored_heading" id="insertinsert-on-duplicate-key-update">INSERT ON DUPLICATE KEY UPDATE</h2>
<p>See <a href="#insert-on-duplicate-key-update">INSERT ON DUPLICATE KEY UPDATE</a>.</p>
<h2 class="anchored_heading" id="insertexamples">Examples</h2>
<p>Specifying the column names:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">person</span> <span class="p">(</span><span class="n">first_name</span><span class="p">,</span> <span class="n">last_name</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'John'</span><span class="p">,</span> <span class="s1">'Doe'</span><span class="p">);</span>
</pre><p>Inserting more than 1 row at a time:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tbl_name</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="ss">"row 1"</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="ss">"row 2"</span><span class="p">);</span>
</pre><p>Using the <code>SET</code> clause:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">person</span> <span class="k">SET</span> <span class="n">first_name</span> <span class="o">=</span> <span class="s1">'John'</span><span class="p">,</span> <span class="n">last_name</span> <span class="o">=</span> <span class="s1">'Doe'</span><span class="p">;</span>
</pre><p>SELECTing from another table:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">contractor</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">person</span> <span class="k">WHERE</span> <span class="n">status</span> <span class="o">=</span> <span class="s1">'c'</span><span class="p">;</span>
</pre><p>See <a href="#insert-on-duplicate-key-update">INSERT ON DUPLICATE KEY UPDATE</a> and <a href="#insert-ignore">INSERT IGNORE</a> for further examples.</p>
<h2 class="anchored_heading" id="insertinsert-returning">INSERT ... RETURNING</h2>
<div class="cstm-style darkheader-nospace-borders"><p><code>INSERT ... RETURNING</code> returns a resultset of the inserted rows.</p>
<p>This returns the listed columns for all the rows that are inserted, or alternatively, the specified SELECT expression. Any SQL expressions which can be calculated can be used in the select expression for the RETURNING clause, including virtual columns and aliases, expressions which use various operators such as bitwise, logical and arithmetic operators, string functions, date-time functions, numeric functions, control flow functions, secondary functions and stored functions. Along with this, statements which have subqueries and prepared statements can also be used.</p>
</div><h3 class="anchored_heading" id="insertexamples">Examples</h3>
<p>Simple INSERT statement</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t2</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">'Dog'</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="s1">'Lion'</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="s1">'Tiger'</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="s1">'Leopard'</span><span class="p">)</span> 
<span class="n">RETURNING</span> <span class="n">id2</span><span class="p">,</span><span class="n">id2</span><span class="o">+</span><span class="n">id2</span><span class="p">,</span><span class="n">id2</span><span class="o">&amp;</span><span class="n">id2</span><span class="p">,</span><span class="n">id2</span><span class="o">||</span><span class="n">id2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----+---------+---------+----------+</span>
<span class="o">|</span> <span class="n">id2</span> <span class="o">|</span> <span class="n">id2</span><span class="o">+</span><span class="n">id2</span> <span class="o">|</span> <span class="n">id2</span><span class="o">&amp;</span><span class="n">id2</span> <span class="o">|</span> <span class="n">id2</span><span class="o">||</span><span class="n">id2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----+---------+---------+----------+</span>
<span class="o">|</span>   <span class="mi">1</span> <span class="o">|</span>       <span class="mi">2</span> <span class="o">|</span>       <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>   <span class="mi">2</span> <span class="o">|</span>       <span class="mi">4</span> <span class="o">|</span>       <span class="mi">2</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>   <span class="mi">3</span> <span class="o">|</span>       <span class="mi">6</span> <span class="o">|</span>       <span class="mi">3</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>   <span class="mi">4</span> <span class="o">|</span>       <span class="mi">8</span> <span class="o">|</span>       <span class="mi">4</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----+---------+---------+----------+</span>
</pre><p>Using stored functions in RETURNING</p>
<pre class="fixed"><span class="k">DELIMITER</span> <span class="o">|</span>
<span class="k">CREATE</span> <span class="k">FUNCTION</span> <span class="n">f</span><span class="p">(</span><span class="n">arg</span> <span class="nb">INT</span><span class="p">)</span> <span class="k">RETURNS</span> <span class="nb">INT</span>
    <span class="k">BEGIN</span>
       <span class="k">RETURN</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">arg</span><span class="o">+</span><span class="n">arg</span><span class="p">);</span>
    <span class="k">END</span><span class="o">|</span>

<span class="k">DELIMITER</span> <span class="p">;</span>

<span class="k">PREPARE</span> <span class="n">stmt</span> <span class="k">FROM</span> <span class="ss">"INSERT INTO t1 SET id1=1, animal1='Bear' RETURNING f(id1), UPPER(animal1)"</span><span class="p">;</span>

<span class="k">EXECUTE</span> <span class="n">stmt</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+----------------+</span>
<span class="o">|</span> <span class="n">f</span><span class="p">(</span><span class="n">id1</span><span class="p">)</span>  <span class="o">|</span> <span class="k">UPPER</span><span class="p">(</span><span class="n">animal1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+----------------+</span>
<span class="o">|</span>       <span class="mi">2</span> <span class="o">|</span> <span class="n">BEAR</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+----------------+</span>
</pre><p>Subqueries in the RETURNING clause that return more than one row or column cannot be used.</p>
<p>Aggregate functions cannot be used in the RETURNING clause. Since aggregate functions work on a set of values, and if the purpose is to get the row count, ROW_COUNT() with SELECT can be used or it can be used in INSERT...SELECT...RETURNING if the table in the RETURNING clause is not the same as the INSERT table.</p>
<h2 class="anchored_heading" id="insertsee-also">See Also</h2>
<ul start="1"><li><a href="#insert-delayed">INSERT DELAYED</a>
</li><li><a href="#insert-select">INSERT SELECT</a>
</li><li><a href="#replace">REPLACE</a> Equivalent to DELETE + INSERT of conflicting row.
</li><li><a href="#high_priority-and-low_priority">HIGH_PRIORITY and LOW_PRIORITY</a>
</li><li><a href="#concurrent-inserts">Concurrent Inserts</a>
</li><li><a href="#insert-default-duplicate-values">INSERT - Default &amp; Duplicate Values</a>
</li><li><a href="#insert-ignore">INSERT IGNORE</a>
</li><li><a href="#insert-on-duplicate-key-update">INSERT ON DUPLICATE KEY UPDATE</a>
</li><li><a href="https://mariadb.com/kb/en/how-to-quickly-insert-data-into-mariadb/">How to quickly insert data into MariaDB</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="insert-ignore">INSERT IGNORE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#insert-ignoreignoring-errors" title="Ignoring Errors">Ignoring Errors</a></li>
<li class=""><a href="#insert-ignoreexamples" title="Examples">Examples</a></li>
<li class=""><a href="#insert-ignoresee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="insert-ignoreignoring-errors">Ignoring Errors</h2>
<p>Normally <a href="#insert">INSERT</a> stops and rolls back when it encounters an error.</p>
<p>By using the <a href="#ignore">IGNORE</a> keyword all errors are converted to warnings, which will not stop inserts of additional rows.</p>
<p>The IGNORE and DELAYED options are ignored when you use <a href="#insert-on-duplicate-key-update">ON DUPLICATE KEY UPDATE</a>.</p>
<p>Prior to MySQL and <a href="https://mariadb.com/kb/en/mariadb-5528-release-notes/">MariaDB 5.5.28</a>, no warnings were issued for duplicate key errors when using <code class="highlight fixed" style="white-space:pre-wrap">IGNORE</code>.
You can get the old behavior if you set <a href="https://mariadb.com/kb/en/old_mode/">OLD_MODE</a> to <code class="highlight fixed" style="white-space:pre-wrap">NO_DUP_KEY_WARNINGS_WITH_IGNORE</code>.</p>
<h2 class="anchored_heading" id="insert-ignoreexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">x</span> <span class="nb">INT</span> <span class="k">UNIQUE</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1062</span> <span class="p">(</span><span class="mi">23000</span><span class="p">):</span> <span class="n">Duplicate</span> <span class="n">entry</span> <span class="s1">'2'</span> <span class="k">for</span> <span class="k">key</span> <span class="s1">'x'</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">x</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="mi">2</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">INSERT</span> <span class="k">IGNORE</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------+---------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span>   <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                         <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+---------------------------------+</span>
<span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1062</span> <span class="o">|</span> <span class="n">Duplicate</span> <span class="n">entry</span> <span class="s1">'2'</span> <span class="k">for</span> <span class="k">key</span> <span class="s1">'x'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+---------------------------------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">x</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>See <a href="#insert-on-duplicate-key-update">INSERT ON DUPLICATE KEY UPDATE</a> for further examples using that syntax.</p>
<h2 class="anchored_heading" id="insert-ignoresee-also">See Also</h2>
<ul start="1"><li><a href="#insert">INSERT</a>
</li><li><a href="#insert-delayed">INSERT DELAYED</a>
</li><li><a href="#insert-select">INSERT SELECT</a>
</li><li><a href="#high_priority-and-low_priority">HIGH_PRIORITY and LOW_PRIORITY</a>
</li><li><a href="#concurrent-inserts">Concurrent Inserts</a>
</li><li><a href="#insert-default-duplicate-values">INSERT - Default &amp; Duplicate Values</a>
</li><li><a href="#insert-ignore">INSERT IGNORE</a>
</li><li><a href="#insert-on-duplicate-key-update">INSERT ON DUPLICATE KEY UPDATE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="insert-delayed">INSERT DELAYED</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="insert-delayedsyntax">Syntax</h2>
<pre class="fixed">INSERT DELAYED ...
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#insert-delayedsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#insert-delayeddescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#insert-delayedlimitations" title="Limitations">Limitations</a> </li></ol>
</li>
<li class=""><a href="#insert-delayedsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="insert-delayeddescription">Description</h2>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">DELAYED</code> option for the <code><a href="#insert">INSERT</a></code>
statement is a MariaDB/MySQL extension to standard SQL that is very useful if you have
clients that cannot or need not wait for the <code class="highlight fixed" style="white-space:pre-wrap">INSERT</code> to
complete. This is a common situation when you use MariaDB for logging and you
also periodically run <code class="highlight fixed" style="white-space:pre-wrap">SELECT</code> and <code class="highlight fixed" style="white-space:pre-wrap">UPDATE</code>
statements that take a long time to complete.</p>
<p>When a client uses <code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code>, it gets an okay from the
server at once, and the row is queued to be inserted when the table is not in
use by any other thread.</p>
<p>Another major benefit of using <code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code> is that
inserts from many clients are bundled together and written in one block. This
is much faster than performing many separate inserts.</p>
<p>Note that <code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code> is slower than a normal
 <code class="highlight fixed" style="white-space:pre-wrap">INSERT</code> if the table is not otherwise in use. There is also
the additional overhead for the server to handle a separate thread for each
table for which there are delayed rows. This means that you should use
<code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code> only when you are really sure that you need
it.</p>
<p>The queued rows are held only in memory until they are inserted into the table.
This means that if you terminate mysqld forcibly (for example, with kill -9) or
if mysqld dies unexpectedly, any queued rows that have not been written to disk
are lost.</p>
<p>The number of concurrent <code>INSERT DELAYED</code> threads is limited by the <code><a href="https://mariadb.com/kb/en/server-system-variables/#max_delayed_threads">max_delayed_threads</a></code> server system variables. If it is set to 0, <code>INSERT DELAYED</code> is disabled. The session value can be equal to the global value, or 0 to disable this statement for the current session. If this limit has been reached, the <code>DELAYED</code> clause will be silently ignore for subsequent statements (no error will be produced).</p>
<h3 class="anchored_heading" id="insert-delayedlimitations">Limitations</h3>
<p>There are some limitations on the use of <code class="highlight fixed" style="white-space:pre-wrap">DELAYED</code>:</p>
<ul start="1"><li><code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code> works only with <a href="https://mariadb.com/kb/en/myisam-storage-engine/">MyISAM</a>, <a href="https://mariadb.com/kb/en/memory-storage-engine/">MEMORY</a>, <a href="https://mariadb.com/kb/en/archive/">ARCHIVE</a>,
  and <a href="https://mariadb.com/kb/en/blackhole/">BLACKHOLE</a> tables. If you execute INSERT DELAYED with another storage engine, you will get an error like this: <code>ERROR 1616 (HY000): DELAYED option not supported for table 'tab_name'</code>
</li><li>For MyISAM tables, if there are no free blocks in the middle of the data
  file, concurrent SELECT and INSERT statements are supported. Under these
  circumstances, you very seldom need to use <code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code>
  with MyISAM.
</li><li><code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code> should be used only for
  <code class="highlight fixed" style="white-space:pre-wrap">INSERT</code> statements that specify value lists. The server
  ignores <code class="highlight fixed" style="white-space:pre-wrap">DELAYED</code> for <code class="highlight fixed" style="white-space:pre-wrap">INSERT ... SELECT</code>
  or <code class="highlight fixed" style="white-space:pre-wrap">INSERT ... ON DUPLICATE KEY UPDATE</code> statements.
</li><li>Because the <code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code> statement returns immediately,
  before the rows are inserted, you cannot use
  <code class="highlight fixed" style="white-space:pre-wrap">LAST_INSERT_ID()</code> to get the
  <code class="highlight fixed" style="white-space:pre-wrap">AUTO_INCREMENT</code> value that the statement might generate.
</li><li><code class="highlight fixed" style="white-space:pre-wrap">DELAYED</code> rows are not visible to <code class="highlight fixed" style="white-space:pre-wrap">SELECT</code>
  statements until they actually have been inserted.
</li><li>After <code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code>, <a href="#row_count">ROW_COUNT()</a> returns the number of the rows you tried to insert, not the number of the successful writes.
</li><li><code class="highlight fixed" style="white-space:pre-wrap">DELAYED</code> is ignored on slave replication servers, so that 
  <code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code> is treated as a normal
  <code class="highlight fixed" style="white-space:pre-wrap">INSERT</code> on slaves. This is because
  <code class="highlight fixed" style="white-space:pre-wrap">DELAYED</code> could cause the slave to have different data than
  the master. <code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code> statements are not <a href="https://mariadb.com/kb/en/unsafe-statements-for-replication/">safe for replication</a>.
</li><li>Pending <code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code> statements are lost if a table is
  write locked and ALTER TABLE is used to modify the table structure.
</li><li><code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code> is not supported for views. If you try, you will get an error like this: <code>ERROR 1347 (HY000): 'view_name' is not BASE TABLE</code>
</li><li><code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code> is not supported for <a href="https://mariadb.com/kb/en/managing-mariadb-partitioning/">partitioned tables</a>.
</li><li><code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code> is not supported within <a href="https://mariadb.com/kb/en/stored-programs-and-views/">stored programs</a>.
</li><li><code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code> does not work with <a href="https://mariadb.com/kb/en/triggers/">triggers</a>.
</li><li><code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code> does not work if there is a check constraint in place.
</li><li><code class="highlight fixed" style="white-space:pre-wrap">INSERT DELAYED</code> does not work if <a href="https://mariadb.com/kb/en/mysqld-options/#-skip-new">skip-new</a> mode is active.
</li></ul>
<h2 class="anchored_heading" id="insert-delayedsee-also">See Also</h2>
<ul start="1"><li><a href="#insert">INSERT</a>
</li><li><a href="#insert-select">INSERT SELECT</a>
</li><li><a href="#high_priority-and-low_priority">HIGH_PRIORITY and LOW_PRIORITY</a>
</li><li><a href="#concurrent-inserts">Concurrent Inserts</a>
</li><li><a href="#insert-default-duplicate-values">INSERT - Default &amp; Duplicate Values</a>
</li><li><a href="#insert-ignore">INSERT IGNORE</a>
</li><li><a href="#insert-on-duplicate-key-update">INSERT ON DUPLICATE KEY UPDATE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="insert-select">INSERT SELECT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="insert-selectsyntax">Syntax</h2>
<pre class="fixed">INSERT [LOW_PRIORITY | HIGH_PRIORITY] [IGNORE]
    [INTO] tbl_name [(col_name,...)]
    SELECT ...
    [ ON DUPLICATE KEY UPDATE col_name=expr, ... ]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#insert-selectsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#insert-selectdescription" title="Description">Description</a></li>
<li class=""><a href="#insert-selectsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="insert-selectdescription">Description</h2>
<p>With <code class="highlight fixed" style="white-space:pre-wrap">INSERT ... SELECT</code>, you can quickly insert many rows
into a table from one or more other tables. For example:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="nf">tbl_temp2</span> <span class="p">(</span><span class="n">fld_id</span><span class="p">)</span>
  <span class="k">SELECT</span> <span class="n">tbl_temp1</span><span class="p">.</span><span class="n">fld_order_id</span>
  <span class="k">FROM</span> <span class="n">tbl_temp1</span> <span class="k">WHERE</span> <span class="n">tbl_temp1</span><span class="p">.</span><span class="n">fld_order_id</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">;</span>
</pre><p><code>tbl_name</code> can also be specified in the form <code>db_name</code>.<code>tbl_name</code> (see <a href="https://mariadb.com/kb/en/identifier-qualifiers/">Identifier Qualifiers</a>). This allows to copy rows between different databases.</p>
<p>If the new table has a primary key or UNIQUE indexes, you can use <a href="#ignore">IGNORE</a> to handle duplicate key errors during the query. The newer values will not be inserted if an identical value already exists.</p>
<p><code><a href="#replace">REPLACE</a></code> can be used instead of <code>INSERT</code> to prevent duplicates on <code>UNIQUE</code> indexes by deleting old values. In that case, <code>ON DUPLICATE KEY UPDATE</code> cannot be used.</p>
<p><code>INSERT ... SELECT</code> works for tables which already exist. To create a table for a given resultset, you can use <a href="#create-table">CREATE TABLE ... SELECT</a>.</p>
<h2 class="anchored_heading" id="insert-selectsee-also">See Also</h2>
<ul start="1"><li><a href="#insert">INSERT</a>
</li><li><a href="#insert-delayed">INSERT DELAYED</a>
</li><li><a href="#high_priority-and-low_priority">HIGH_PRIORITY and LOW_PRIORITY</a>
</li><li><a href="#concurrent-inserts">Concurrent Inserts</a>
</li><li><a href="#insert-default-duplicate-values">INSERT - Default &amp; Duplicate Values</a>
</li><li><a href="#insert-ignore">INSERT IGNORE</a>
</li><li><a href="#insert-on-duplicate-key-update">INSERT ON DUPLICATE KEY UPDATE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="intersect">INTERSECT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_0 mariadb from_10_3_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">10.3.0</a></h5><p>INTERSECT was introduced in <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">MariaDB 10.3.0</a>.</p>
</div><p>The result of an intersect is the intersection of right and left <code>SELECT</code> results, i.e. only records that are present in both result sets will be included in the result of the operation.</p>
<h1 class="anchored_heading" id="intersectsyntax">Syntax</h1>
<pre class="fixed">SELECT ...
(INTERSECT [ALL | DISTINCT] | EXCEPT [ALL | DISTINCT] | UNION [ALL | DISTINCT]) SELECT ...
[(INTERSECT [ALL | DISTINCT] | EXCEPT [ALL | DISTINCT] | UNION [ALL | DISTINCT]) SELECT ...]
[ORDER BY [column [, column ...]]]
[LIMIT {[offset,] row_count | row_count OFFSET offset}]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_0"><a href="#intersectsyntax" title="Syntax">Syntax</a> <ol class="toc">
<li class="mariadb_from_10_3_0"><a href="#intersectdescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_3_0"><a href="#intersectparentheses" title="Parentheses">Parentheses</a></li>
<li class="mariadb_from_10_3_0"><a href="#intersectalldistinct" title="ALL/DISTINCT">ALL/DISTINCT</a> </li></ol>
</li>
<li class="mariadb_from_10_3_0"><a href="#intersectexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3_0"><a href="#intersectsee-also" title="See Also">See Also</a> </li></ol>
</li>
</ol></div>
<h2 class="anchored_heading" id="intersectdescription">Description</h2>
<p>MariaDB has supported <code>INTERSECT</code> (as well as <a href="#except">EXCEPT</a>) in addition to <a href="#union">UNION</a> since <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>.</p>
<p>All behavior for naming columns, <code class="fixed" style="white-space:pre-wrap">ORDER BY</code> and <code class="fixed" style="white-space:pre-wrap">LIMIT</code> is the same as for <a href="#union">UNION</a>.</p>
<p><code>INTERSECT</code> implicitly supposes a <code>DISTINCT</code> operation.</p>
<p>The result of an intersect is the intersection of right and left <code>SELECT</code> results, i.e. only records that are present in both result sets will be included in the result of the operation.</p>
<p><code>INTERSECT</code> has higher precedence than <code>UNION</code> and <code>EXCEPT</code> (unless running <a href="https://mariadb.com/kb/en/sql_modeoracle/">running in Oracle mode</a>, in which case all three have the same precedence). If possible it will be executed linearly but if not it will be translated to a subquery in the <code>FROM</code> clause:</p>
<pre class="fixed"><span class="p">(</span><span class="k">select</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="k">from</span> <span class="n">t1</span><span class="p">)</span>
<span class="k">union</span>
<span class="p">(</span><span class="k">select</span> <span class="k">c</span><span class="p">,</span><span class="n">d</span> <span class="k">from</span> <span class="n">t2</span><span class="p">)</span>
<span class="k">intersect</span>
<span class="p">(</span><span class="k">select</span> <span class="n">e</span><span class="p">,</span><span class="n">f</span> <span class="k">from</span> <span class="n">t3</span><span class="p">)</span>
<span class="k">union</span>
<span class="p">(</span><span class="k">select</span> <span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>
</pre><p>will be translated to:</p>
<pre class="fixed"><span class="p">(</span><span class="k">select</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="k">from</span> <span class="n">t1</span><span class="p">)</span>
<span class="k">union</span>
<span class="k">select</span> <span class="k">c</span><span class="p">,</span><span class="n">d</span> <span class="k">from</span>
  <span class="p">((</span><span class="k">select</span> <span class="k">c</span><span class="p">,</span><span class="n">d</span> <span class="k">from</span> <span class="n">t2</span><span class="p">)</span>
   <span class="k">intersect</span>
   <span class="p">(</span><span class="k">select</span> <span class="n">e</span><span class="p">,</span><span class="n">f</span> <span class="k">from</span> <span class="n">t3</span><span class="p">))</span> <span class="n">dummy_subselect</span>
<span class="k">union</span>
<span class="p">(</span><span class="k">select</span> <span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</pre><p><br/>
<br/></p>
<div class="mariadb_from_10_4_0 mariadb from_10_4_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">10.4.0</a></h5><h3 class="anchored_heading" id="intersectparentheses">Parentheses</h3>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">MariaDB 10.4.0</a>, parentheses can be used to specify precedence. Before this, a syntax error would be returned.</p>
</div><div class="mariadb_from_10_5_0 mariadb from_10_5_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">10.5.0</a></h5><h3 class="anchored_heading" id="intersectalldistinct">ALL/DISTINCT</h3>
<p><code>INTERSECT ALL</code> and <code>INTERSECT DISTINCT</code> were introduced in <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>. The <code>ALL</code> operator leaves duplicates intact, while the <code>DISTINCT</code> operator removes duplicates. <code>DISTINCT</code> is the default behavior if neither operator is supplied, and the only behavior prior to <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a>.  </p>
</div><h2 class="anchored_heading" id="intersectexamples">Examples</h2>
<p>Show customers which are employees:</p>
<pre class="fixed"><span class="p">(</span><span class="k">SELECT</span> <span class="n">e_name</span> <span class="k">AS</span> <span class="n">name</span><span class="p">,</span> <span class="n">email</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">)</span>
<span class="nf">INTERSECT</span>
<span class="p">(</span><span class="k">SELECT</span> <span class="n">c_name</span> <span class="k">AS</span> <span class="n">name</span><span class="p">,</span> <span class="n">email</span> <span class="k">FROM</span> <span class="n">customers</span><span class="p">);</span>
</pre><p>Difference between <a href="#union">UNION</a>, <a href="#except">EXCEPT</a> and INTERSECT. <code>INTERSECT ALL</code> and <code>EXCEPT ALL</code> are available from <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">seqs</span> <span class="p">(</span><span class="n">i</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">seqs</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">),(</span><span class="mi">5</span><span class="p">),(</span><span class="mi">6</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">UNION</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">UNION</span> <span class="k">ALL</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">EXCEPT</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">EXCEPT</span> <span class="k">ALL</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">INTERSECT</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">INTERSECT</span> <span class="k">ALL</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>Parentheses for specifying precedence, from <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">MariaDB 10.4.0</a></p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t2</span> <span class="p">(</span><span class="n">b</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t3</span> <span class="p">(</span><span class="k">c</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t2</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">5</span><span class="p">),(</span><span class="mi">6</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t3</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">6</span><span class="p">);</span>

<span class="p">((</span><span class="k">SELECT</span> <span class="n">a</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">)</span> <span class="k">UNION</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">b</span> <span class="k">FROM</span> <span class="n">t2</span><span class="p">))</span> <span class="k">INTERSECT</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">c</span> <span class="k">FROM</span> <span class="n">t3</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="p">(</span><span class="k">SELECT</span> <span class="n">a</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">)</span> <span class="k">UNION</span> <span class="p">((</span><span class="k">SELECT</span> <span class="n">b</span> <span class="k">FROM</span> <span class="n">t2</span><span class="p">)</span> <span class="k">INTERSECT</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">c</span> <span class="k">FROM</span> <span class="n">t3</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><h2 class="anchored_heading" id="intersectsee-also">See Also</h2>
<ul start="1"><li><a href="#union">UNION</a>
</li><li><a href="#except">EXCEPT</a>
</li><li><a href="https://www.youtube.com/watch?v=UNi-fVSpRm0">Get Set for Set Theory: UNION, INTERSECT and EXCEPT in SQL</a> (video tutorial)</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="insert-on-duplicate-key-update">INSERT ON DUPLICATE KEY UPDATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="insert-on-duplicate-key-updatesyntax">Syntax</h2>
<pre class="fixed">INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE]
  [INTO] tbl_name [PARTITION (partition_list)] [(col,...)]
  {VALUES | VALUE} ({expr | DEFAULT},...),(...),...
  [ ON DUPLICATE KEY UPDATE
    col=expr
      [, col=expr] ... ]
</pre><p>Or:</p>
<pre class="fixed">INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE]
    [INTO] tbl_name [PARTITION (partition_list)]
    SET col={expr | DEFAULT}, ...
    [ ON DUPLICATE KEY UPDATE
      col=expr
        [, col=expr] ... ]
</pre><p>Or:</p>
<pre class="fixed">INSERT [LOW_PRIORITY | HIGH_PRIORITY] [IGNORE]
    [INTO] tbl_name [PARTITION (partition_list)] [(col,...)]
    SELECT ...
    [ ON DUPLICATE KEY UPDATE
      col=expr
        [, col=expr] ... ]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_0"><a href="#insert-on-duplicate-key-updatesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_0"><a href="#insert-on-duplicate-key-updatedescription" title="Description">Description</a></li>
<li class="mariadb_from_10_0"><a href="#insert-on-duplicate-key-updateexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_0"><a href="#insert-on-duplicate-key-updatesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="insert-on-duplicate-key-updatedescription">Description</h2>
<p>INSERT ... ON DUPLICATE KEY UPDATE is a MariaDB/MySQL extension to the <a href="#insert">INSERT</a> statement that, if it finds a duplicate unique or primary key, will instead perform an <a href="#update">UPDATE</a>.</p>
<p>The row/s affected value is reported as 1 if a row is inserted, and 2 if a row is updated, unless the API's <code>CLIENT_FOUND_ROWS</code> flag is set.</p>
<p>If more than one unique index is matched, only the first is updated. It is not recommended to use this statement on tables with more than one unique index.</p>
<p>If the table has an <code><a href="#auto_increment">AUTO_INCREMENT</a></code> primary key and the statement inserts or updates a row, the <code><a href="#last_insert_id">LAST_INSERT_ID()</a></code> function returns its AUTO_INCREMENT value.</p>
<p>The <code><a href="https://mariadb.com/kb/en/values/">VALUES()</a></code> function can only be used in a <code>ON DUPLICATE KEY UPDATE</code> clause and has no meaning in any other context. It returns the column values from the <code>INSERT</code> portion of the statement. This function is particularly useful for multi-rows inserts.</p>
<p>The <code><a href="#ignore">IGNORE</a></code> and <code><a href="#insert-delayed">DELAYED</a></code> options are ignored when you use <code>ON DUPLICATE KEY UPDATE</code>.</p>
<div class="mariadb_from_10_0 mariadb from_10_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-100/">10.0</a></h5><p>The PARTITION clause was introduced in <a href="https://mariadb.com/kb/en/what-is-mariadb-100/">MariaDB 10.0</a>. See <a href="https://mariadb.com/kb/en/partition-pruning-and-selection/">Partition Pruning and Selection</a> for details.</p>
</div><p>This statement activates INSERT and UPDATE triggers. See <a href="https://mariadb.com/kb/en/trigger-overview/">Trigger Overview</a> for details.</p>
<p>See also a similar statement, <a href="#replace">REPLACE</a>.</p>
<h2 class="anchored_heading" id="insert-on-duplicate-key-updateexamples">Examples</h2>
<pre class="fixed">CREATE TABLE ins_duplicate (id INT PRIMARY KEY, animal VARCHAR(30));
INSERT INTO ins_duplicate VALUES (1,'Aardvark'), (2,'Cheetah'), (3,'Zebra');
</pre><p>If there is no existing key, the statement runs as a regular INSERT:</p>
<pre class="fixed">INSERT INTO ins_duplicate VALUES (4,'Gorilla') ON DUPLICATE KEY UPDATE animal='Gorilla';
Query OK, 1 row affected (0.07 sec)
</pre><pre class="fixed">SELECT * FROM ins_duplicate;
+----+----------+
| id | animal   |
+----+----------+
|  1 | Aardvark |
|  2 | Cheetah  |
|  3 | Zebra    |
|  4 | Gorilla  |
+----+----------+
</pre><p>A regular INSERT with a primary key value of 1 will fail, due to the existing key:</p>
<pre class="fixed">INSERT INTO ins_duplicate VALUES (1,'Antelope');
ERROR 1062 (23000): Duplicate entry '1' for key 'PRIMARY'
</pre><p>However, we can use an INSERT ON DUPLICATE KEY UPDATE instead:</p>
<pre class="fixed">INSERT INTO ins_duplicate VALUES (1,'Antelope') ON DUPLICATE KEY UPDATE animal='Antelope';
Query OK, 2 rows affected (0.09 sec)
</pre><p>Note that there are two rows reported as affected, but this refers only to the UPDATE.</p>
<pre class="fixed">SELECT * FROM ins_duplicate;
+----+----------+
| id | animal   |
+----+----------+
|  1 | Antelope |
|  2 | Cheetah  |
|  3 | Zebra    |
|  4 | Gorilla  |
+----+----------+
</pre><p>Adding a second unique column:</p>
<pre class="fixed">ALTER TABLE ins_duplicate ADD id2 INT;
UPDATE ins_duplicate SET id2=id+10;
ALTER TABLE ins_duplicate ADD UNIQUE KEY(id2);
</pre><p>Where two rows match the unique keys match, only the first is updated.  This can be unsafe and is not recommended unless you are certain what you are doing. Note that the warning shown below appears in <a href="https://mariadb.com/kb/en/what-is-mariadb-55/">MariaDB 5.5</a> and before, but has been removed in <a href="https://mariadb.com/kb/en/what-is-mariadb-100/">MariaDB 10.0</a>, as MariaDB now assumes that the keys are checked in order, as shown in <a href="#show-create-table">SHOW CREATE TABLE</a>.</p>
<pre class="fixed">INSERT INTO ins_duplicate VALUES (2,'Lion',13) ON DUPLICATE KEY UPDATE animal='Lion';
Query OK, 2 rows affected, 1 warning (0.06 sec)

SHOW WARNINGS;
+-------+------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Level | Code | Message                                                                                                                                                                                  |
+-------+------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Note  | 1592 | Unsafe statement written to the binary log using statement format since BINLOG_FORMAT = STATEMENT. INSERT... ON DUPLICATE KEY UPDATE  on a table with more than one UNIQUE KEY is unsafe |
+-------+------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

SELECT * FROM ins_duplicate;
+----+----------+------+
| id | animal   | id2  |
+----+----------+------+
|  1 | Antelope |   11 |
|  2 | Lion     |   12 |
|  3 | Zebra    |   13 |
|  4 | Gorilla  |   14 |
+----+----------+------+
</pre><p>Although the third row with an id of 3 has an id2 of 13, which also matched, it was not updated.</p>
<p>Changing id to an auto_increment field. If a new row is added, the auto_increment is moved forward. If the row is updated, it remains the same.</p>
<pre class="fixed">ALTER TABLE `ins_duplicate` CHANGE `id` `id` INT( 11 ) NOT NULL AUTO_INCREMENT;
ALTER TABLE ins_duplicate DROP id2;
SELECT Auto_increment FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME='ins_duplicate';
+----------------+
| Auto_increment |
+----------------+
|              5 |
+----------------+

INSERT INTO ins_duplicate VALUES (2,'Leopard') ON DUPLICATE KEY UPDATE animal='Leopard';
Query OK, 2 rows affected (0.00 sec)

SELECT Auto_increment FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME='ins_duplicate';
+----------------+
| Auto_increment |
+----------------+
|              5 |
+----------------+

INSERT INTO ins_duplicate VALUES (5,'Wild Dog') ON DUPLICATE KEY UPDATE animal='Wild Dog';
Query OK, 1 row affected (0.09 sec)

SELECT * FROM ins_duplicate;
+----+----------+
| id | animal   |
+----+----------+
|  1 | Antelope |
|  2 | Leopard  |
|  3 | Zebra    |
|  4 | Gorilla  |
|  5 | Wild Dog |
+----+----------+

SELECT Auto_increment FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME='ins_duplicate';
+----------------+
| Auto_increment |
+----------------+
|              6 |
+----------------+
</pre><p>Refering to column values from the INSERT portion of the statement: </p>
<pre class="fixed">INSERT INTO table (a,b,c) VALUES (1,2,3),(4,5,6)
    ON DUPLICATE KEY UPDATE c=VALUES(a)+VALUES(b);
</pre><p>See the <a href="https://mariadb.com/kb/en/values/">VALUES()</a> function for more.</p>
<h2 class="anchored_heading" id="insert-on-duplicate-key-updatesee-also">See Also</h2>
<ul start="1"><li><a href="#insert">INSERT</a>
</li><li><a href="#insert-delayed">INSERT DELAYED</a>
</li><li><a href="#insert-select">INSERT SELECT</a>
</li><li><a href="#high_priority-and-low_priority">HIGH_PRIORITY and LOW_PRIORITY</a>
</li><li><a href="#concurrent-inserts">Concurrent Inserts</a>
</li><li><a href="#insert-default-duplicate-values">INSERT - Default &amp; Duplicate Values</a>
</li><li><a href="#insert-ignore">INSERT IGNORE</a>
</li><li><a href="https://mariadb.com/kb/en/values/">VALUES()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="join-syntax">JOIN Syntax</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="description">Description</h2>
<p>MariaDB supports the following <code class="fixed" style="white-space:pre-wrap">JOIN</code> syntaxes for
the <code>table_references</code> part of <code><a href="#select">SELECT</a></code> statements and
multiple-table <code><a href="#delete">DELETE</a></code> and <code><a href="#update">UPDATE</a></code> statements:</p>
<pre class="fixed">table_references:
    table_reference [, table_reference] ...

table_reference:
    table_factor
  | join_table

table_factor:
    tbl_name [PARTITION (partition_list)]
        [query_system_time_period_specification] [[AS] alias] [index_hint_list]
  | table_subquery [query_system_time_period_specification] [AS] alias
  | ( table_references )
  | { ON table_reference LEFT OUTER JOIN table_reference
        ON conditional_expr }

join_table:
    table_reference [INNER | CROSS] JOIN table_factor [join_condition]
  | table_reference STRAIGHT_JOIN table_factor
  | table_reference STRAIGHT_JOIN table_factor ON conditional_expr
  | table_reference {LEFT|RIGHT} [OUTER] JOIN table_reference join_condition
  | table_reference NATURAL [{LEFT|RIGHT} [OUTER]] JOIN table_factor

join_condition:
    ON conditional_expr
  | USING (column_list)

query_system_time_period_specification:
    FOR SYSTEM_TIME AS OF point_in_time
  | FOR SYSTEM_TIME BETWEEN point_in_time AND point_in_time
  | FOR SYSTEM_TIME FROM point_in_time TO point_in_time
  | FOR SYSTEM_TIME ALL

point_in_time:
    [TIMESTAMP] expression
  | TRANSACTION expression

index_hint_list:
    index_hint [, index_hint] ...

index_hint:
    USE {INDEX|KEY}
      [{FOR {JOIN|ORDER BY|GROUP BY}] ([index_list])
  | IGNORE {INDEX|KEY}
      [{FOR {JOIN|ORDER BY|GROUP BY}] (index_list)
  | FORCE {INDEX|KEY}
      [{FOR {JOIN|ORDER BY|GROUP BY}] (index_list)

index_list:
    index_name [, index_name] ...
</pre><p>A table reference is also known as a join expression.</p>
<p>Each table can also be specified as <code>db_name</code>.<code>tabl_name</code>. This allows to write queries which involve multiple databases. See <a href="https://mariadb.com/kb/en/identifier-qualifiers/">Identifier Qualifiers</a> for syntax details.</p>
<p>The syntax of <code class="fixed" style="white-space:pre-wrap">table_factor</code> is extended in comparison with the
SQL Standard. The latter accepts only <code class="fixed" style="white-space:pre-wrap">table_reference</code>, not a
list of them inside a pair of parentheses.</p>
<p>This is a conservative extension if we consider each comma in a list of
table_reference items as equivalent to an inner join. For example:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">LEFT</span> <span class="k">JOIN</span> <span class="p">(</span><span class="n">t2</span><span class="p">,</span> <span class="n">t3</span><span class="p">,</span> <span class="n">t4</span><span class="p">)</span>
                 <span class="k">ON</span> <span class="p">(</span><span class="n">t2</span><span class="p">.</span><span class="n">a</span><span class="o">=</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span> <span class="k">AND</span> <span class="n">t3</span><span class="p">.</span><span class="n">b</span><span class="o">=</span><span class="n">t1</span><span class="p">.</span><span class="n">b</span> <span class="k">AND</span> <span class="n">t4</span><span class="p">.</span><span class="k">c</span><span class="o">=</span><span class="n">t1</span><span class="p">.</span><span class="k">c</span><span class="p">)</span>
</pre><p>is equivalent to:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">LEFT</span> <span class="k">JOIN</span> <span class="p">(</span><span class="n">t2</span> <span class="k">CROSS</span> <span class="k">JOIN</span> <span class="n">t3</span> <span class="k">CROSS</span> <span class="k">JOIN</span> <span class="n">t4</span><span class="p">)</span>
                 <span class="k">ON</span> <span class="p">(</span><span class="n">t2</span><span class="p">.</span><span class="n">a</span><span class="o">=</span><span class="n">t1</span><span class="p">.</span><span class="n">a</span> <span class="k">AND</span> <span class="n">t3</span><span class="p">.</span><span class="n">b</span><span class="o">=</span><span class="n">t1</span><span class="p">.</span><span class="n">b</span> <span class="k">AND</span> <span class="n">t4</span><span class="p">.</span><span class="k">c</span><span class="o">=</span><span class="n">t1</span><span class="p">.</span><span class="k">c</span><span class="p">)</span>
</pre><p>In MariaDB, <code class="fixed" style="white-space:pre-wrap">CROSS JOIN</code> is a syntactic equivalent to
<code class="fixed" style="white-space:pre-wrap">INNER JOIN</code> (they can replace each other). In standard SQL,
they are not equivalent. <code class="fixed" style="white-space:pre-wrap">INNER JOIN</code> is used with an
<code class="fixed" style="white-space:pre-wrap">ON</code> clause, <code class="fixed" style="white-space:pre-wrap">CROSS JOIN</code> is used otherwise.</p>
<p>In general, parentheses can be ignored in join expressions containing only
inner join operations. MariaDB also supports nested joins (see
<a href="http://dev.mysql.com/doc/refman/5.1/en/nested-join-optimization.html">http://dev.mysql.com/doc/refman/5.1/en/nested-join-optimization.html</a>).</p>
<p>See <a href="https://mariadb.com/kb/en/system-versioned-tables/">System-versioned tables</a> for more information
about <code>FOR SYSTEM_TIME</code> syntax.</p>
<p>Index hints can be specified to affect how the MariaDB optimizer makes
use of indexes. For more information, see <a href="https://mariadb.com/kb/en/how-to-force-query-plans/">How to force query plans</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">left_tbl</span><span class="p">.</span><span class="o">*</span>
  <span class="k">FROM</span> <span class="n">left_tbl</span> <span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">right_tbl</span> <span class="k">ON</span> <span class="n">left_tbl</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">right_tbl</span><span class="p">.</span><span class="n">id</span>
  <span class="k">WHERE</span> <span class="n">right_tbl</span><span class="p">.</span><span class="n">id</span> <span class="k">IS</span> <span class="k">NULL</span><span class="p">;</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="load-xml">LOAD XML</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LOAD XML [LOW_PRIORITY | CONCURRENT] [LOCAL] INFILE 'file_name'
    [REPLACE | IGNORE]
    INTO TABLE [db_name.]tbl_name
    [CHARACTER SET charset_name]
    [ROWS IDENTIFIED BY '&lt;tagname&gt;']
    [IGNORE number {LINES | ROWS}]
    [(column_or_user_var,...)]
    [SET col_name = expr,...]
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The LOAD XML statement reads data from an XML file into a table. The
<code>file_name</code> must be given as a literal string. The <code>tagname</code> in the
optional ROWS IDENTIFIED BY clause must also be given as a literal
string, and must be surrounded by angle brackets (&lt; and &gt;).</p>
<p>LOAD XML acts as the complement of running the <a href="https://mariadb.com/kb/en/mysql-command-line-client/">mysql client</a> in XML
output mode (that is, starting the client with the --xml option). To
write data from a table to an XML file, use a command such as the
following one from the system shell:</p>
<pre class="fixed">shell&gt; mysql --xml -e 'SELECT * FROM mytable' &gt; file.xml
</pre><p>To read the file back into a table, use LOAD XML INFILE. By default,
the &lt;row&gt; element is considered to be the equivalent of a database
table row; this can be changed using the ROWS IDENTIFIED BY clause.</p>
<p>This statement supports three different XML formats:</p>
<ul><li>Column names as attributes and column values as attribute values:
</li></ul>
<pre class="fixed">&lt;row column1="value1" column2="value2" .../&gt;
</pre><ul><li>Column names as tags and column values as the content of these tags:
</li></ul>
<pre class="fixed">&lt;row&gt;
  &lt;column1&gt;value1&lt;/column1&gt;
  &lt;column2&gt;value2&lt;/column2&gt;
&lt;/row&gt;
</pre><ul><li>Column names are the name attributes of &lt;field&gt; tags, and values are
  the contents of these tags:
</li></ul>
<pre class="fixed">&lt;row&gt;
  &lt;field name='column1'&gt;value1&lt;/field&gt;
  &lt;field name='column2'&gt;value2&lt;/field&gt;
&lt;/row&gt;
</pre><p>  This is the format used by other tools, such as <a href="https://mariadb.com/kb/en/mysqldump/">mysqldump</a>.</p>
<p>All 3 formats can be used in the same XML file; the import routine
automatically detects the format for each row and interprets it
correctly. Tags are matched based on the tag or attribute name and the
column name.</p>
<p>The following clauses work essentially the same way for LOAD XML as
they do for LOAD DATA:</p>
<ul><li>LOW_PRIORITY or CONCURRENT
</li><li>LOCAL
</li><li>REPLACE or IGNORE
</li><li>CHARACTER SET
</li><li>(column_or_user_var,...)
</li><li>SET
</li></ul>
<p>See <a href="#load-data-infile">LOAD DATA</a> for more information about these clauses.</p>
<p>The IGNORE number LINES or IGNORE number ROWS clause causes the first
number rows in the XML file to be skipped. It is analogous to the LOAD
DATA statement's IGNORE ... LINES clause.</p>
<p>If the <code><a href="https://mariadb.com/kb/en/high_priority-and-low_priority-clauses/">LOW_PRIORITY</a></code> keyword is used, insertions are delayed until no other clients are reading from the table. The <code>CONCURRENT</code> keyword allowes the use of <a href="#concurrent-inserts">concurrent inserts</a>. These clauses cannot be specified together.</p>
<p>This statement activates INSERT <a href="https://mariadb.com/kb/en/triggers/">triggers</a>.</p>
<h2 class="anchored_heading" id="see-also">See also</h2>
<ul start="1"><li>The <a href="https://mariadb.com/kb/en/connect/">CONNECT</a> storage engine has an <a href="https://mariadb.com/kb/en/connect-table-types-data-files/#xml-table-type">XML table type</a>.
</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="limit">LIMIT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#limitdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#limitmulti-table-updates" title="Multi-Table Updates">Multi-Table Updates</a></li>
<li class=""><a href="#limitgroup_concat" title="GROUP_CONCAT">GROUP_CONCAT</a> </li></ol>
</li>
<li class=""><a href="#limitexamples" title="Examples">Examples</a></li>
<li class=""><a href="#limitsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="limitdescription">Description</h2>
<p>Use the <code>LIMIT</code> clause to restrict the number of returned rows. When you use a single
integer <em>n</em> with <code>LIMIT</code>, the first <em>n</em> rows will be returned. Use the <a href="#order-by">ORDER BY</a>
clause to control which rows come first. You can also select a number of rows after an offset
using either of the following:</p>
<pre class="fixed">LIMIT offset, row_count
LIMIT row_count OFFSET offset
</pre><p>When you provide an offset <em>m</em> with a limit <em>n</em>, the first <em>m</em> rows will be ignored, and the
following <em>n</em> rows will be returned.</p>
<p>Executing an <a href="#update">UPDATE</a> with the <code>LIMIT</code> clause is not safe for replication. <code>LIMIT 0</code> is an exception to this rule (see <a href="https://jira.mariadb.org/browse/MDEV-6170">MDEV-6170</a>).</p>
<p>There is a <a href="https://mariadb.com/kb/en/limit-rows-examined/">LIMIT ROWS EXAMINED</a> optimization which provides the
means to terminate the execution of <a href="#select">SELECT</a> statements which examine too
many rows, and thus use too many resources. See <a href="https://mariadb.com/kb/en/limit-rows-examined/">LIMIT ROWS EXAMINED</a>.</p>
<h3 class="anchored_heading" id="limitmulti-table-updates">Multi-Table Updates</h3>
<div class="mariadb_from_10_3_2 mariadb from_10_3_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">10.3.2</a></h5><p>Until <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>, it was not possible to use <code>LIMIT</code> (or <a href="#order-by">ORDER BY</a>) in a multi-table <a href="#update">UPDATE</a> statement. This restriction was lifted in <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a>.</p>
</div><h3 class="anchored_heading" id="limitgroup_concat">GROUP_CONCAT</h3>
<div class="mariadb_from_10_3_2 mariadb from_10_3_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">10.3.2</a></h5><p>Starting from <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">MariaDB 10.3.3</a>, it is possible to use <code>LIMIT</code> with <a href="#group_concat">GROUP_CONCAT()</a>.</p>
</div><h2 class="anchored_heading" id="limitexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">members</span> <span class="p">(</span><span class="n">name</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">));</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">members</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'Jagdish'</span><span class="p">),(</span><span class="s1">'Kenny'</span><span class="p">),(</span><span class="s1">'Rokurou'</span><span class="p">),(</span><span class="s1">'Immaculada'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">members</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">name</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">Jagdish</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">Kenny</span>      <span class="o">|</span>
<span class="o">|</span> <span class="n">Rokurou</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">Immaculada</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><p>Select the first two names (no ordering specified):</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">members</span> <span class="k">LIMIT</span> <span class="mi">2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="n">Jagdish</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kenny</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
</pre><p>All the names in alphabetical order:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">members</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">name</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">name</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">Immaculada</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Jagdish</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">Kenny</span>      <span class="o">|</span>
<span class="o">|</span> <span class="n">Rokurou</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><p>The first two names, ordered alphabetically:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">members</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">name</span> <span class="k">LIMIT</span> <span class="mi">2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">name</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">Immaculada</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Jagdish</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><p>The third name, ordered alphabetically (the first name would be offset zero, so the third is offset two):</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">members</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">name</span> <span class="k">LIMIT</span> <span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span> <span class="n">name</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
<span class="o">|</span> <span class="n">Kenny</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a>, <code>LIMIT</code> can be used in a multi-table update:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">warehouse</span> <span class="p">(</span><span class="n">product_id</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">qty</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">warehouse</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">store</span> <span class="p">(</span><span class="n">product_id</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">qty</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">store</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span>

<span class="k">UPDATE</span> <span class="n">warehouse</span><span class="p">,</span><span class="n">store</span> <span class="k">SET</span> <span class="n">warehouse</span><span class="p">.</span><span class="n">qty</span> <span class="o">=</span> <span class="n">warehouse</span><span class="p">.</span><span class="n">qty</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">store</span><span class="p">.</span><span class="n">qty</span> <span class="o">=</span> <span class="n">store</span><span class="p">.</span><span class="n">qty</span><span class="o">+</span><span class="mi">2</span> 
  <span class="k">WHERE</span> <span class="p">(</span><span class="n">warehouse</span><span class="p">.</span><span class="n">product_id</span> <span class="o">=</span> <span class="n">store</span><span class="p">.</span><span class="n">product_id</span> <span class="k">AND</span> <span class="n">store</span><span class="p">.</span><span class="n">product_id</span>  <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">)</span> 
    <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">store</span><span class="p">.</span><span class="n">product_id</span> <span class="k">DESC</span> <span class="k">LIMIT</span> <span class="mi">2</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">warehouse</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+------+</span>
<span class="o">|</span> <span class="n">product_id</span> <span class="o">|</span> <span class="n">qty</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+------+</span>
<span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
<span class="o">|</span>          <span class="mi">2</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
<span class="o">|</span>          <span class="mi">3</span> <span class="o">|</span>   <span class="mi">98</span> <span class="o">|</span>
<span class="o">|</span>          <span class="mi">4</span> <span class="o">|</span>   <span class="mi">98</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">store</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+------+</span>
<span class="o">|</span> <span class="n">product_id</span> <span class="o">|</span> <span class="n">qty</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+------+</span>
<span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>          <span class="mi">2</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>          <span class="mi">3</span> <span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>
<span class="o">|</span>          <span class="mi">4</span> <span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+------+</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">MariaDB 10.3.3</a>, <code>LIMIT</code> can be used with <a href="#group_concat">GROUP_CONCAT</a>, so, for example, given the following table:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">d</span> <span class="p">(</span><span class="n">dd</span> <span class="nb">DATE</span><span class="p">,</span> <span class="n">cc</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">d</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2017-01-01'</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">d</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2017-01-02'</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">d</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2017-01-04'</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
</pre><p>the following query:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SUBSTRING_INDEX</span><span class="p">(</span><span class="n">GROUP_CONCAT</span><span class="p">(</span><span class="n">CONCAT_WS</span><span class="p">(</span><span class="ss">":"</span><span class="p">,</span><span class="n">dd</span><span class="p">,</span><span class="n">cc</span><span class="p">)</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">cc</span> <span class="k">DESC</span><span class="p">),</span><span class="ss">","</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">d</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">SUBSTRING_INDEX</span><span class="p">(</span><span class="n">GROUP_CONCAT</span><span class="p">(</span><span class="n">CONCAT_WS</span><span class="p">(</span><span class="ss">":"</span><span class="p">,</span><span class="n">dd</span><span class="p">,</span><span class="n">cc</span><span class="p">)</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">cc</span> <span class="k">DESC</span><span class="p">),</span><span class="ss">","</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">04</span><span class="p">:</span><span class="mi">3</span>                                                               <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------------------+</span>
</pre><p>can be more simply rewritten as:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GROUP_CONCAT</span><span class="p">(</span><span class="n">CONCAT_WS</span><span class="p">(</span><span class="ss">":"</span><span class="p">,</span><span class="n">dd</span><span class="p">,</span><span class="n">cc</span><span class="p">)</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">cc</span> <span class="k">DESC</span> <span class="k">LIMIT</span> <span class="mi">1</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">d</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">GROUP_CONCAT</span><span class="p">(</span><span class="n">CONCAT_WS</span><span class="p">(</span><span class="ss">":"</span><span class="p">,</span><span class="n">dd</span><span class="p">,</span><span class="n">cc</span><span class="p">)</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">cc</span> <span class="k">DESC</span> <span class="k">LIMIT</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">04</span><span class="p">:</span><span class="mi">3</span>                                                <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="limitsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/rownum/">ROWNUM() function</a>
</li><li><a href="#select">SELECT</a>
</li><li><a href="#update">UPDATE</a>
</li><li><a href="#delete">DELETE</a>
</li><li><a href="https://mariadb.com/kb/en/joins-subqueries/">Joins and Subqueries</a>
</li><li><a href="#order-by">ORDER BY</a>
</li><li><a href="#group-by">GROUP BY</a>
</li><li><a href="https://mariadb.com/kb/en/common-table-expressions/">Common Table Expressions</a>
</li><li><a href="#select-with-rollup">SELECT WITH ROLLUP</a>
</li><li><a href="#select-into-outfile">SELECT INTO OUTFILE</a>
</li><li><a href="#select-into-dumpfile">SELECT INTO DUMPFILE</a>
</li><li><a href="#for-update">FOR UPDATE</a>
</li><li><a href="#lock-in-share-mode">LOCK IN SHARE MODE</a>
</li><li><a href="https://mariadb.com/kb/en/optimizer-hints/">Optimizer Hints</a>
</li><li><a href="https://mariadb.com/kb/en/select-offset-fetch/">SELECT ... OFFSET ... FETCH</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="non-recursive-common-table-expressions-overview">Non-Recursive Common Table Expressions Overview</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_1"><a href="#non-recursive-common-table-expressions-overviewnon-recursive-ctes" title="Non-Recursive CTEs">Non-Recursive CTEs</a> <ol class="toc">
<li class="mariadb_from_10_2_1"><a href="#non-recursive-common-table-expressions-overviewa-cte-referencing-another-cte" title="A CTE referencing Another CTE">A CTE referencing Another CTE</a></li>
<li class="mariadb_from_10_2_1"><a href="#non-recursive-common-table-expressions-overviewmultiple-uses-of-a-cte" title="Multiple Uses of a CTE">Multiple Uses of a CTE</a> </li></ol>
</li></ol>

</div><p>
Common Table Expressions (CTEs) are a standard SQL feature, and are essentially temporary named result sets. There are two kinds of CTEs: Non-Recursive, which this article covers; and <a href="#recursive-common-table-expressions-overview">Recursive</a>.</p>
<div class="mariadb_from_10_2_1 mariadb from_10_2_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">10.2.1</a></h5><p>Common table expressions were introduced in <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a>.</p>
</div><h2 class="anchored_heading" id="non-recursive-common-table-expressions-overviewnon-recursive-ctes">Non-Recursive CTEs</h2>
<p>The <a href="#with">WITH</a> keyword signifies a CTE. It is given a name, followed by a body (the main query) as follows:
<img alt="cte_syntax" src="/kb/en/non-recursive-common-table-expressions-overview/+image/cte_syntax" title="cte_syntax"/></p>
<p>CTEs are similar to derived tables. For example</p>
<pre class="fixed"><span class="k">WITH</span> <span class="n">engineers</span> <span class="k">AS</span> 
   <span class="p">(</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span>
     <span class="k">WHERE</span> <span class="n">dept</span> <span class="o">=</span> <span class="s1">'Engineering'</span> <span class="p">)</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">engineers</span>
<span class="k">WHERE</span> <span class="p">...</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span>
   <span class="p">(</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span>
     <span class="k">WHERE</span> <span class="n">dept</span> <span class="o">=</span> <span class="s1">'Engineering'</span> <span class="p">)</span> <span class="k">AS</span> <span class="n">engineers</span>
<span class="k">WHERE</span>
<span class="p">...</span>
</pre><p>A non-recursive CTE is basically a query-local <a href="https://mariadb.com/kb/en/views/">VIEW</a>. There are several advantages and caveats to them. The syntax is more readable than nested <code>FROM (SELECT ...)</code>.
A CTE can refer to another and it can be referenced from multiple places.</p>
<h3 class="anchored_heading" id="non-recursive-common-table-expressions-overviewa-cte-referencing-another-cte">A CTE referencing Another CTE</h3>
<p>Using this format makes for a more readable SQL than a nested <code>FROM(SELECT ...)</code> clause.  Below is an example of this:</p>
<pre class="fixed"><span class="k">WITH</span> <span class="n">engineers</span> <span class="k">AS</span> <span class="p">(</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span>
<span class="k">WHERE</span> <span class="n">dept</span> <span class="k">IN</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">,</span><span class="s1">'Support'</span><span class="p">)</span> <span class="p">),</span>
<span class="n">eu_engineers</span> <span class="k">AS</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">engineers</span> <span class="k">WHERE</span> <span class="n">country</span> <span class="k">IN</span><span class="p">(</span><span class="s1">'NL'</span><span class="p">,...)</span> <span class="p">)</span>
<span class="k">SELECT</span>
<span class="p">...</span>
<span class="k">FROM</span> <span class="n">eu_engineers</span><span class="p">;</span>
</pre><h3 class="anchored_heading" id="non-recursive-common-table-expressions-overviewmultiple-uses-of-a-cte">Multiple Uses of a CTE</h3>
<p>This can be an 'anti-self join', for example:</p>
<pre class="fixed"><span class="k">WITH</span> <span class="n">engineers</span> <span class="k">AS</span> <span class="p">(</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span>
<span class="k">WHERE</span> <span class="n">dept</span> <span class="k">IN</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">,</span><span class="s1">'Support'</span><span class="p">)</span> <span class="p">)</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">engineers</span> <span class="n">E1</span>
<span class="k">WHERE</span> <span class="k">NOT</span> <span class="k">EXISTS</span>
   <span class="p">(</span><span class="k">SELECT</span> <span class="mi">1</span> <span class="k">FROM</span> <span class="n">engineers</span> <span class="n">E2</span>
    <span class="k">WHERE</span> <span class="n">E2</span><span class="p">.</span><span class="n">country</span><span class="o">=</span><span class="n">E1</span><span class="p">.</span><span class="n">country</span>
    <span class="k">AND</span> <span class="n">E2</span><span class="p">.</span><span class="n">name</span> <span class="o">&lt;&gt;</span> <span class="n">E1</span><span class="p">.</span><span class="n">name</span> <span class="p">);</span>
</pre><p>Or, for year-over-year comparisons, for example:</p>
<pre class="fixed"><span class="k">WITH</span> <span class="n">sales_product_year</span> <span class="k">AS</span> <span class="p">(</span>
<span class="k">SELECT</span> <span class="n">product</span><span class="p">,</span> <span class="k">YEAR</span><span class="p">(</span><span class="n">ship_date</span><span class="p">)</span> <span class="k">AS</span> <span class="k">year</span><span class="p">,</span>
<span class="k">SUM</span><span class="p">(</span><span class="n">price</span><span class="p">)</span> <span class="k">AS</span> <span class="n">total_amt</span>
<span class="k">FROM</span> <span class="n">item_sales</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">product</span><span class="p">,</span> <span class="k">year</span> <span class="p">)</span>

<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">sales_product_year</span> <span class="n">CUR</span><span class="p">,</span>
<span class="n">sales_product_year</span> <span class="n">PREV</span><span class="p">,</span>
<span class="k">WHERE</span> <span class="n">CUR</span><span class="p">.</span><span class="n">product</span><span class="o">=</span><span class="n">PREV</span><span class="p">.</span><span class="n">product</span> 
<span class="k">AND</span>  <span class="n">CUR</span><span class="p">.</span><span class="k">year</span><span class="o">=</span><span class="n">PREV</span><span class="p">.</span><span class="k">year</span> <span class="o">+</span> <span class="mi">1</span> 
<span class="k">AND</span> <span class="n">CUR</span><span class="p">.</span><span class="n">total_amt</span> <span class="o">&gt;</span> <span class="n">PREV</span><span class="p">.</span><span class="n">total_amt</span>
</pre><p>Another use is to compare individuals against their group. Below is an example of how this might be executed:</p>
<pre class="fixed"><span class="k">WITH</span> <span class="n">sales_product_year</span> <span class="k">AS</span> <span class="p">(</span>
<span class="k">SELECT</span> <span class="n">product</span><span class="p">,</span>
<span class="k">YEAR</span><span class="p">(</span><span class="n">ship_date</span><span class="p">)</span> <span class="k">AS</span> <span class="k">year</span><span class="p">,</span>
<span class="k">SUM</span><span class="p">(</span><span class="n">price</span><span class="p">)</span> <span class="k">AS</span> <span class="n">total_amt</span>
<span class="k">FROM</span> <span class="n">item_sales</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">product</span><span class="p">,</span> <span class="k">year</span>
<span class="p">)</span>

<span class="k">SELECT</span> <span class="o">*</span> 
<span class="k">FROM</span> <span class="n">sales_product_year</span> <span class="n">S1</span>
<span class="k">WHERE</span>
<span class="n">total_amt</span> <span class="o">&gt;</span> 
    <span class="p">(</span><span class="k">SELECT</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1</span> <span class="o">*</span> <span class="k">SUM</span><span class="p">(</span><span class="n">total_amt</span><span class="p">)</span>
     <span class="k">FROM</span> <span class="n">sales_product_year</span> <span class="n">S2</span>
     <span class="k">WHERE</span> <span class="n">S2</span><span class="p">.</span><span class="k">year</span> <span class="o">=</span> <span class="n">S1</span><span class="p">.</span><span class="k">year</span><span class="p">)</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="load-data-infile">LOAD DATA INFILE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="load-data-infilesyntax">Syntax</h2>
<pre class="fixed">LOAD DATA [LOW_PRIORITY | CONCURRENT] [LOCAL] INFILE 'file_name'
    [REPLACE | IGNORE]
    INTO TABLE tbl_name
    [CHARACTER SET charset_name]
    [{FIELDS | COLUMNS}
        [TERMINATED BY 'string']
        [[OPTIONALLY] ENCLOSED BY 'char']
        [ESCAPED BY 'char']
    ]
    [LINES
        [STARTING BY 'string']
        [TERMINATED BY 'string']
    ]
    [IGNORE number LINES]
    [(col_name_or_user_var,...)]
    [SET col_name = expr,...]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#load-data-infilesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#load-data-infiledescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#load-data-infileload-data-local-infile" title="LOAD DATA LOCAL INFILE">LOAD DATA LOCAL INFILE</a></li>
<li class=""><a href="#load-data-infilereplace-and-ignore" title="REPLACE and IGNORE">REPLACE and IGNORE</a></li>
<li class=""><a href="#load-data-infilecharacter-sets" title="Character-sets">Character-sets</a></li>
<li class=""><a href="#load-data-infilepreprocessing-inputs" title="Preprocessing Inputs">Preprocessing Inputs</a></li>
<li class=""><a href="#load-data-infilepriority-and-concurrency" title="Priority and Concurrency">Priority and Concurrency</a></li>
<li class=""><a href="#load-data-infileprogress-reporting" title="Progress Reporting">Progress Reporting</a></li>
<li class=""><a href="#load-data-infileusing-mariadb-importmysqlimport" title="Using mariadb-import/mysqlimport">Using mariadb-import/mysqlimport</a></li>
<li class=""><a href="#load-data-infileindexing" title="Indexing">Indexing</a> </li></ol>
</li>
<li class=""><a href="#load-data-infileexamples" title="Examples">Examples</a></li>
<li class=""><a href="#load-data-infilesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="load-data-infiledescription">Description</h2>
<div class="cstm-style redbox"><p><code>LOAD DATA INFILE</code> is <a href="https://mariadb.com/kb/en/unsafe-statements-for-replication/">unsafe</a> for statement-based replication.</p>
</div><p>Reads rows from a text file into the designated table on the database at a very high speed. The file name must be given as a literal string. </p>
<p>Files are written to disk using the <a href="#select-into-outfile">SELECT INTO OUTFILE</a> statement.  You can then read the files back into a table using the <code>LOAD DATA INFILE</code> statement.  The <code>FIELDS</code> and <code>LINES</code> clauses are the same in both statements.  These clauses are optional, but if both are specified then the <code>FIELDS</code> clause must precede <code>LINES</code>.</p>
<p>Executing this statement activates <code>INSERT</code> <a href="https://mariadb.com/kb/en/triggers/">triggers</a>.</p>
<p>One must have the <a ">FILE</a> privilege to be able to execute LOAD DATA. This is the ensure the normal users will not attempt to read system files.</p>
<p>Note that MariaDB's <a href="https://mariadb.com/kb/en/systemd/">systemd</a> unit file restricts access to <code>/home</code>, <code>/root</code>, and <code>/run/user</code> by default. See <a href="https://mariadb.com/kb/en/systemd/#configuring-access-to-home-directories">Configuring access to home directories</a>.</p>
<h3 class="anchored_heading" id="load-data-infileload-data-local-infile"><code>LOAD DATA LOCAL INFILE</code></h3>
<p>When you execute the <code>LOAD DATA INFILE</code> statement, MariaDB Server attempts to read the input file from its own file system. In contrast, when you execute the <code>LOAD DATA LOCAL INFILE</code> statement, the client attempts to read the input file from its file system, and it sends the contents of the input file to the MariaDB Server. This allows you to load files from the client's local file system into the database.</p>
<p>In the event that you don't want to permit this operation (such as for security reasons), you can disable the <code>LOAD DATA LOCAL INFILE</code> statement on either the server or the client.</p>
<ul start="1"><li>The <code>LOAD DATA LOCAL INFILE</code> statement can be disabled on the server by setting the <a href="https://mariadb.com/kb/en/server-system-variables/#local_infile">local_infile</a> system variable to <code>0</code>.
</li><li>The <code>LOAD DATA LOCAL INFILE</code> statement can be disabled on the client. If you are using <a href="https://mariadb.com/kb/en/about-mariadb-connector-c/">MariaDB Connector/C</a>, this can be done by unsetting the <code>CLIENT_LOCAL_FILES</code> capability flag with the <a href="https://mariadb.com/kb/en/mysql_real_connect/">mysql_real_connect</a> function or by unsetting the <code>MYSQL_OPT_LOCAL_INFILE</code> option with <a href="https://mariadb.com/kb/en/mysql_optionsv/">mysql_optionsv</a> function. If you are using a different client or client library, then see the documentation for your specific client or client library to determine how it handles the <code>LOAD DATA LOCAL INFILE</code> statement.
</li></ul>
<p>If the <code>LOAD DATA LOCAL INFILE</code> statement is disabled by either the server or the client and if the user attempts to execute it, then the server will cause the statement to fail with the following error message:</p>
<pre class="fixed">The used command is not allowed with this MariaDB version
</pre><p>Note that it is not entirely accurate to say that the MariaDB version does not support the command. It would be more accurate to say that the MariaDB configuration does not support the command. See <a href="https://jira.mariadb.org/browse/MDEV-20500">MDEV-20500</a> for more information.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the error message is more accurate:</p>
<pre class="fixed">The used command is not allowed because the MariaDB server or client 
  has disabled the local infile capability
</pre><h3 class="anchored_heading" id="load-data-infilereplace-and-ignore"><code>REPLACE</code> and <code>IGNORE</code></h3>
<p>In cases where you load data from a file into a table that already contains data and has a <a href="https://mariadb.com/kb/en/getting-started-with-indexes/#primary-key">primary key</a>, you may encounter issues where the statement attempts to insert a row with a primary key that already exists. When this happens, the statement fails with Error 1064, protecting the data already on the table. In cases where you want MariaDB to overwrite duplicates, use the <code>REPLACE</code> keyword.</p>
<p>The <code>REPLACE</code> keyword works like the <a href="#replace">REPLACE</a> statement. Here, the statement attempts to load the data from the file. If the row does not exist, it adds it to the table.  If the row contains an existing Primary Key, it replaces the table data. That is, in the event of a conflict, it assumes the file contains the desired row. </p>
<p>This operation can cause a degradation in load speed by a factor of 20 or more if the part that has already been loaded is larger than the capacity of the <a href="https://mariadb.com/kb/en/innodb-buffer-pool/">InnoDB Buffer Pool</a>.  This happens because it causes a lot of turnaround in the buffer pool.</p>
<p>Use the <code>IGNORE</code> keyword when you want to skip any rows that contain a conflicting primary key. Here, the statement attempts to load the data from the file. If the row does not exist, it adds it to the table. If the row contains an existing primary key, it ignores the addition request and moves on to the next. That is, in the event of a conflict, it assumes the table contains the desired row.</p>
<h3 class="anchored_heading" id="load-data-infilecharacter-sets">Character-sets</h3>
<p>When the statement opens the file, it attempts to read the contents using the default character-set, as defined by the <a href="https://mariadb.com/kb/en/server-system-variables/#character_set_database">character_set_database</a> system variable.  </p>
<p>In the cases where the file was written using a character-set other than the default, you can specify the character-set to use with the <code>CHARACTER SET</code> clause in the statement.  It ignores character-sets specified by the <a href="https://mariadb.com/kb/en/set-names/">SET NAMES</a> statement and by the <a href="https://mariadb.com/kb/en/server-system-variables/#character_set_client">character_set_client</a> system variable.  Setting the <code>CHARACTER SET</code> clause to a value of <code>binary</code> indicates "no conversion."</p>
<p>The statement interprets all fields in the file as having the same character-set, regardless of the column data type.  To properly interpret file contents, you must ensure that it was written with the correct character-set.  If you write a data file with <a href="https://mariadb.com/kb/en/mysqldump/">mysqldump -T</a> or with the <a href="#select-into-outfile">SELECT INTO OUTFILE</a> statement with the <a href="https://mariadb.com/kb/en/mysql-command-line-client/">mysql</a> client, be sure to use the <code>--default-character-set</code> option, so that the output is written with the desired character-set.</p>
<p>When using mixed character sets, use the <code>CHARACTER SET</code> clause in both <a href="#select-into-outfile">SELECT INTO OUTFILE</a> and <code>LOAD DATA INFILE</code> to ensure that MariaDB correctly interprets the escape sequences.</p>
<div class="cstm-style greenbox"><p>The <a href="https://mariadb.com/kb/en/server-system-variables/#character_set_filesystem">character_set_filesystem</a> system variable controls the interpretation of the filename.</p>
<p>It is currently not possible to load data files that use the <code>ucs2</code> character set.</p>
</div><h3 class="anchored_heading" id="load-data-infilepreprocessing-inputs">Preprocessing Inputs</h3>
<p><em>col_name_or_user_var</em> can be a column name, or a user variable. In the case of a variable, the <a href="#set">SET</a> statement can be used to preprocess the value before loading into the table.</p>
<h3 class="anchored_heading" id="load-data-infilepriority-and-concurrency">Priority and Concurrency</h3>
<p>In storage engines that perform table-level locking (<a href="https://mariadb.com/kb/en/myisam/">MyISAM</a>, <a href="https://mariadb.com/kb/en/memory/">MEMORY</a> and <a href="#merge">MERGE</a>), using the <a href="https://mariadb.com/kb/en/high_priority-and-low_priority-clauses/">LOW_PRIORITY</a> keyword, MariaDB delays insertions until no other clients are reading from the table. Alternatively, when using the <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> storage engine, you can use the <a href="#concurrent-inserts">CONCURRENT</a> keyword to perform concurrent insertion.</p>
<div class="cstm-style greenbox"><p>The <code>LOW_PRIORITY</code> and <code>CONCURRENT</code> keywords are mutually exclusive.  They cannot be used in the same statement.</p>
</div><h3 class="anchored_heading" id="load-data-infileprogress-reporting">Progress Reporting</h3>
<p>The <code>LOAD DATA INFILE</code> statement supports <a href="https://mariadb.com/kb/en/progress-reporting/">progress reporting</a>. You may find this useful when dealing with long-running operations. Using another client you can issue a <a href="#show-processlist">SHOW PROCESSLIST</a> query to check the progress of the data load.</p>
<h3 class="anchored_heading" id="load-data-infileusing-mariadb-importmysqlimport">Using mariadb-import/mysqlimport</h3>
<p>MariaDB ships with a separate utility for loading data from files: <a href="https://mariadb.com/kb/en/mysqlimport/">mariadb-import</a> (or <code>mysqlimport</code> before <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a>). It operates by sending <code>LOAD DATA INFILE</code> statements to the server.</p>
<p>Using <a href="https://mariadb.com/kb/en/mysqlimport/">mariadb-import/mysqlimport</a> you can compress the file using the <code>--compress</code> option, to get better performance over slow networks, providing both the client and server support the compressed protocol.  Use the <code>--local</code> option to load from the local file system.</p>
<h3 class="anchored_heading" id="load-data-infileindexing">Indexing</h3>
<p>In cases where the storage engine supports <a ">ALTER TABLE... DISABLE KEYS</a> statements (<a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> and <a href="https://mariadb.com/kb/en/aria/">Aria</a>), the <code>LOAD DATA INFILE</code> statement automatically disables indexes during the execution.</p>
<h2 class="anchored_heading" id="load-data-infileexamples">Examples</h2>
<p>You have a file with this content (note the the separator is ',', not tab, which is the default):</p>
<pre class="fixed">2,2
3,3
4,4
5,5
6,8
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span> <span class="nb">int</span><span class="p">,</span> <span class="k">c</span> <span class="nb">int</span><span class="p">,</span> <span class="n">d</span> <span class="nb">int</span><span class="p">);</span>
<span class="k">LOAD</span> <span class="k">DATA</span> <span class="k">LOCAL</span> <span class="n">INFILE</span> 
 <span class="s1">'/tmp/loaddata7.dat'</span> <span class="k">into</span> <span class="k">table</span> <span class="n">t1</span> <span class="n">fields</span> <span class="n">terminated</span> <span class="k">by</span> <span class="s1">','</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="k">set</span> <span class="k">c</span><span class="o">=</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span> <span class="k">c</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>   <span class="mi">14</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
</pre><p>Another example, given the following data (the separator is a tab):</p>
<pre class="fixed">1       a
2       b
</pre><p>The value of the first column is doubled before loading:</p>
<pre class="fixed"><span class="k">LOAD</span> <span class="k">DATA</span> <span class="n">INFILE</span> <span class="s1">'ld.txt'</span> <span class="k">INTO</span> <span class="k">TABLE</span> <span class="n">ld</span> <span class="p">(</span><span class="o">@</span><span class="n">i</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="k">SET</span> <span class="n">i</span><span class="o">=@</span><span class="n">i</span><span class="o">*</span><span class="mi">2</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">ld</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span> <span class="n">v</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
</pre><h2 class="anchored_heading" id="load-data-infilesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/how-to-quickly-insert-data-into-mariadb/">How to quickly insert data into MariaDB</a>
</li><li><a href="https://mariadb.com/kb/en/character-sets-and-collations/">Character Sets and Collations</a>
</li><li><a href="#select-into-outfile">SELECT ... INTO OUTFILE</a>
</li><li><a href="https://mariadb.com/kb/en/mysqlimport/">mariadb-import/mysqlimport</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="order-by">ORDER BY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_2"><a href="#order-bydescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_2"><a href="#order-byexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3_2"><a href="#order-bysee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="order-bydescription">Description</h2>
<p>Use the <code>ORDER BY</code> clause to order a resultset, such as that are returned from a <a href="#select">SELECT</a>
statement. You can specify just a column or use any expression with functions. If you are
using the <code>GROUP BY</code> clause, you can use grouping functions in <code>ORDER BY</code>.
Ordering is done after grouping.</p>
<p>You can use multiple ordering expressions, separated by commas. Rows will be sorted by
the first expression, then by the second expression if they have the same value for the
first, and so on.</p>
<p>You can use the keywords <code>ASC</code> and <code>DESC</code> after each ordering expression to
force that ordering to be ascending or descending, respectively. Ordering is ascending
by default.</p>
<p>You can also use a single integer as the ordering expression. If you use an integer <em>n</em>,
the results will be ordered by the <em>n</em>th column in the select expression.</p>
<p>When string values are compared, they are compared as if by the <a href="#strcmp">STRCMP</a>
function. <code>STRCMP</code> ignores trailing whitespace and may normalize
characters and ignore case, depending on the <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">collation</a> in use.</p>
<p>Duplicated entries in the <code>ORDER BY</code> clause are removed.</p>
<p><code>ORDER BY</code> can also be used to order the activities of a <a href="#delete">DELETE</a> or <a href="#update">UPDATE</a> statement (usually with the <a href="#limit">LIMIT</a> clause). </p>
<div class="mariadb_from_10_3_2 mariadb from_10_3_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">10.3.2</a></h5><p>Until <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>, it was not possible to use <code>ORDER BY</code> (or <a href="#limit">LIMIT</a>) in a multi-table <a href="#update">UPDATE</a> statement. This restriction was lifted in <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a>.</p>
</div><div class="mariadb_from_10_5 mariadb from_10_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">10.5</a></h5><p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a>, MariaDB allows packed sort keys and values of non-sorted fields in the sort buffer. This can make filesort temporary files much smaller when VARCHAR, CHAR or BLOBs are used, notably speeding up some ORDER BY sorts.</p>
</div><h2 class="anchored_heading" id="order-byexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">seq</span> <span class="p">(</span><span class="n">i</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">x</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">seq</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">'a'</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="s1">'b'</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="s1">'b'</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="s1">'f'</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="s1">'e'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">seq</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span> <span class="n">x</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span> <span class="n">f</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span> <span class="n">e</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">seq</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">DESC</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span> <span class="n">x</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span> <span class="n">e</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span> <span class="n">f</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">seq</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">x</span><span class="p">,</span><span class="n">i</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span> <span class="n">x</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span> <span class="n">e</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span> <span class="n">f</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
</pre><p>ORDER BY in an <a href="#update">UPDATE</a> statement, in conjunction with <a href="#limit">LIMIT</a>:</p>
<pre class="fixed"><span class="k">UPDATE</span> <span class="n">seq</span> <span class="k">SET</span> <span class="n">x</span><span class="o">=</span><span class="s1">'z'</span> <span class="k">WHERE</span> <span class="n">x</span><span class="o">=</span><span class="s1">'b'</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">DESC</span> <span class="k">LIMIT</span> <span class="mi">1</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">seq</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span> <span class="n">x</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="n">z</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span> <span class="n">f</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span> <span class="n">e</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a>, <code>ORDER BY</code> can be used in a multi-table update:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">warehouse</span> <span class="p">(</span><span class="n">product_id</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">qty</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">warehouse</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">store</span> <span class="p">(</span><span class="n">product_id</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">qty</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">store</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span>

<span class="k">UPDATE</span> <span class="n">warehouse</span><span class="p">,</span><span class="n">store</span> <span class="k">SET</span> <span class="n">warehouse</span><span class="p">.</span><span class="n">qty</span> <span class="o">=</span> <span class="n">warehouse</span><span class="p">.</span><span class="n">qty</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">store</span><span class="p">.</span><span class="n">qty</span> <span class="o">=</span> <span class="n">store</span><span class="p">.</span><span class="n">qty</span><span class="o">+</span><span class="mi">2</span> 
  <span class="k">WHERE</span> <span class="p">(</span><span class="n">warehouse</span><span class="p">.</span><span class="n">product_id</span> <span class="o">=</span> <span class="n">store</span><span class="p">.</span><span class="n">product_id</span> <span class="k">AND</span> <span class="n">store</span><span class="p">.</span><span class="n">product_id</span>  <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">)</span> 
    <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">store</span><span class="p">.</span><span class="n">product_id</span> <span class="k">DESC</span> <span class="k">LIMIT</span> <span class="mi">2</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">warehouse</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+------+</span>
<span class="o">|</span> <span class="n">product_id</span> <span class="o">|</span> <span class="n">qty</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+------+</span>
<span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
<span class="o">|</span>          <span class="mi">2</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
<span class="o">|</span>          <span class="mi">3</span> <span class="o">|</span>   <span class="mi">98</span> <span class="o">|</span>
<span class="o">|</span>          <span class="mi">4</span> <span class="o">|</span>   <span class="mi">98</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">store</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+------+</span>
<span class="o">|</span> <span class="n">product_id</span> <span class="o">|</span> <span class="n">qty</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+------+</span>
<span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>          <span class="mi">2</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>          <span class="mi">3</span> <span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>
<span class="o">|</span>          <span class="mi">4</span> <span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+------+</span>
</pre><h2 class="anchored_heading" id="order-bysee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/why-is-order-by-in-a-from-subquery-ignored/">Why is ORDER BY in a FROM subquery ignored?</a>
</li><li><a href="#select">SELECT</a>
</li><li><a href="#update">UPDATE</a>
</li><li><a href="#delete">DELETE</a>
</li><li><a href="https://mariadb.com/kb/en/improvements-to-order-by/">Improvements to ORDER BY Optimization</a>
</li><li><a href="https://mariadb.com/kb/en/joins-subqueries/">Joins and Subqueries</a>
</li><li><a href="#limit">LIMIT</a>
</li><li><a href="#group-by">GROUP BY</a>
</li><li><a href="https://mariadb.com/kb/en/common-table-expressions/">Common Table Expressions</a>
</li><li><a href="#select-with-rollup">SELECT WITH ROLLUP</a>
</li><li><a href="#select-into-outfile">SELECT INTO OUTFILE</a>
</li><li><a href="#select-into-dumpfile">SELECT INTO DUMPFILE</a>
</li><li><a href="#for-update">FOR UPDATE</a>
</li><li><a href="#lock-in-share-mode">LOCK IN SHARE MODE</a>
</li><li><a href="https://mariadb.com/kb/en/optimizer-hints/">Optimizer Hints</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="replace">REPLACE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="replacesyntax">Syntax</h2>
<pre class="fixed">REPLACE [LOW_PRIORITY | DELAYED]
 [INTO] tbl_name [PARTITION (partition_list)] [(col,...)]
 {VALUES | VALUE} ({expr | DEFAULT},...),(...),...
[RETURNING select_expr 
      [, select_expr ...]]
</pre><p>Or:</p>
<pre class="fixed">REPLACE [LOW_PRIORITY | DELAYED]
    [INTO] tbl_name [PARTITION (partition_list)]
    SET col={expr | DEFAULT}, ...
[RETURNING select_expr 
      [, select_expr ...]]
</pre><p>Or:</p>
<pre class="fixed">REPLACE [LOW_PRIORITY | DELAYED]
    [INTO] tbl_name [PARTITION (partition_list)] [(col,...)]
    SELECT ...
[RETURNING select_expr 
      [, select_expr ...]]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_5_0"><a href="#replacesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_5_0"><a href="#replacedescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_5_0"><a href="#replacepartition" title="PARTITION">PARTITION</a></li>
<li class="mariadb_from_10_5_0"><a href="#replacereplace-returning" title="REPLACE RETURNING">REPLACE RETURNING</a> <ol class="toc">
<li class="mariadb_from_10_5_0"><a href="#replaceexamples" title="Examples">Examples</a> </li></ol>
</li></ol>
</li>
<li class="mariadb_from_10_5_0"><a href="#replaceexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_5_0"><a href="#replacesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="replacedescription">Description</h2>
<p> <code class="highlight fixed" style="white-space:pre-wrap">REPLACE</code> works exactly like
 <code class="highlight fixed" style="white-space:pre-wrap"><a href="#insert">INSERT</a></code>, except that if an old row in the table
 has the same value as a new row for a <code class="highlight fixed" style="white-space:pre-wrap">PRIMARY KEY</code> or a
 <code class="highlight fixed" style="white-space:pre-wrap">UNIQUE</code> index, the old row is deleted before the new row is
 inserted. If the table has more than one <code>UNIQUE</code> keys, it is possible that the new row conflicts with more than one row. In this case, all conflicting rows will be deleted.</p>
<p>The table name can be specified in the form <code>db_name</code>.<code>tbl_name</code> or, if a default database is selected, in the form <code>tbl_name</code> (see <a href="https://mariadb.com/kb/en/identifier-qualifiers/">Identifier Qualifiers</a>). This allows to use <code><a href="#insert-select">REPLACE ... SELECT</a></code> to copy rows between different databases.
<br/><br/></p>
<div class="mariadb_from_10_5_0 mariadb from_10_5_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">10.5.0</a></h5><p>The RETURNING clause was introduced in <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a></p>
</div><p>Basically it works like this:</p>
<pre class="fixed">BEGIN;
SELECT 1 FROM t1 WHERE key=# FOR UPDATE;
IF found-row
  DELETE FROM t1 WHERE key=# ;
ENDIF
INSERT INTO t1 VALUES (...);
END;
</pre><p>The above can be replaced with:</p>
<pre class="fixed">REPLACE INTO t1 VALUES (...)
</pre><p> <code class="highlight fixed" style="white-space:pre-wrap">REPLACE</code> is a MariaDB/MySQL extension to the SQL standard. It
 either inserts, or deletes and inserts. For other MariaDB/MySQL extensions to
 standard SQL --- that also handle duplicate values --- see <a href="#ignore">IGNORE</a> and <a href="#insert-on-duplicate-key-update">INSERT ON DUPLICATE KEY UPDATE</a>.</p>
<p>Note that unless the table has a <code class="highlight fixed" style="white-space:pre-wrap">PRIMARY KEY</code> or
 <code class="highlight fixed" style="white-space:pre-wrap">UNIQUE</code> index, using a <code class="highlight fixed" style="white-space:pre-wrap">REPLACE</code> statement
makes no sense. It becomes equivalent to <code class="highlight fixed" style="white-space:pre-wrap">INSERT</code>, because
there is no index to be used to determine whether a new row duplicates another.</p>
<p>Values for all columns are taken from the values sSee <a href="https://mariadb.com/kb/en/partition-pruning-and-selection/">Partition Pruning and Selection</a> for details.pecified in the
 <code class="highlight fixed" style="white-space:pre-wrap">REPLACE</code> statement. Any missing columns are set to their
default values, just as happens for <code class="highlight fixed" style="white-space:pre-wrap">INSERT</code>. You cannot refer
to values from the current row and use them in the new row. If you use an
assignment such as <code class="highlight fixed" style="white-space:pre-wrap">'SET col = col + 1'</code>, the
reference to the column name on the right hand side is treated as
 <code class="highlight fixed" style="white-space:pre-wrap">DEFAULT(col)</code>, so the assignment is equivalent to
 <code class="highlight fixed" style="white-space:pre-wrap">'SET col = DEFAULT(col) + 1'</code>.</p>
<p>To use <code class="highlight fixed" style="white-space:pre-wrap">REPLACE</code>, you must have both the
 <code class="highlight fixed" style="white-space:pre-wrap">INSERT</code> and <code class="highlight fixed" style="white-space:pre-wrap">DELETE</code> <a href="#grant">privileges</a>
for the table.</p>
<p>There are some gotchas you should be aware of, before using <code>REPLACE</code>:</p>
<ul start="1"><li>If there is an <code><a href="#auto_increment">AUTO_INCREMENT</a></code> field, a new value will be generated.
</li><li>If there are foreign keys, <code>ON DELETE</code> action will be activated by <code>REPLACE</code>.
</li><li><a href="https://mariadb.com/kb/en/triggers/">Triggers</a> on <code>DELETE</code> and <code>INSERT</code> will be activated by <code>REPLACE</code>.
</li></ul>
<p>To avoid some of these behaviors, you can use <code>INSERT ... ON DUPLICATE KEY UPDATE</code>.</p>
<p>This statement activates INSERT and DELETE triggers. See <a href="https://mariadb.com/kb/en/trigger-overview/">Trigger Overview</a> for details.</p>
<h3 class="anchored_heading" id="replacepartition">PARTITION</h3>
<p>See <a href="https://mariadb.com/kb/en/partition-pruning-and-selection/">Partition Pruning and Selection</a> for details.</p>
<h3 class="anchored_heading" id="replacereplace-returning">REPLACE RETURNING</h3>
<div class="cstm-style darkheader-nospace-borders"><p><code>REPLACE ... RETURNING</code> returns a resultset of the replaced rows.</p>
<p>This returns the listed columns for all the rows that are replaced, or alternatively, the specified SELECT expression. Any SQL expressions which can be calculated can be used in the select expression for the RETURNING clause, including virtual columns and aliases, expressions which use various operators such as bitwise, logical and arithmetic operators, string functions, date-time functions, numeric functions, control flow functions, secondary functions and stored functions. Along with this, statements which have subqueries and prepared statements can also be used.</p>
</div><h4 class="anchored_heading" id="replaceexamples">Examples</h4>
<p>Simple REPLACE statement</p>
<pre class="fixed"><span class="k">REPLACE</span> <span class="k">INTO</span> <span class="n">t2</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">'Leopard'</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="s1">'Dog'</span><span class="p">)</span> <span class="n">RETURNING</span> <span class="n">id2</span><span class="p">,</span> <span class="n">id2</span><span class="o">+</span><span class="n">id2</span> 
<span class="k">as</span> <span class="n">Total</span> <span class="p">,</span><span class="n">id2</span><span class="o">|</span><span class="n">id2</span><span class="p">,</span> <span class="n">id2</span><span class="o">&amp;&amp;</span><span class="n">id2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----+-------+---------+----------+</span>
<span class="o">|</span> <span class="n">id2</span> <span class="o">|</span> <span class="n">Total</span> <span class="o">|</span> <span class="n">id2</span><span class="o">|</span><span class="n">id2</span> <span class="o">|</span> <span class="n">id2</span><span class="o">&amp;&amp;</span><span class="n">id2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----+-------+---------+----------+</span>
<span class="o">|</span>   <span class="mi">1</span> <span class="o">|</span>     <span class="mi">2</span> <span class="o">|</span>       <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>   <span class="mi">2</span> <span class="o">|</span>     <span class="mi">4</span> <span class="o">|</span>       <span class="mi">2</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----+-------+---------+----------+</span>
</pre><p>Using stored functions in RETURNING</p>
<pre class="fixed"><span class="k">DELIMITER</span> <span class="o">|</span>
<span class="k">CREATE</span> <span class="k">FUNCTION</span> <span class="n">f</span><span class="p">(</span><span class="n">arg</span> <span class="nb">INT</span><span class="p">)</span> <span class="k">RETURNS</span> <span class="nb">INT</span>
    <span class="k">BEGIN</span>
      <span class="k">RETURN</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">arg</span><span class="o">+</span><span class="n">arg</span><span class="p">);</span>
    <span class="k">END</span><span class="o">|</span>

<span class="k">DELIMITER</span> <span class="p">;</span>
<span class="k">PREPARE</span> <span class="n">stmt</span> <span class="k">FROM</span> <span class="ss">"REPLACE INTO t2 SET id2=3, animal2='Fox' RETURNING f2(id2),</span>
<span class="ss">UPPER(animal2)"</span><span class="p">;</span>

<span class="k">EXECUTE</span> <span class="n">stmt</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+----------------+</span>
<span class="o">|</span> <span class="n">f2</span><span class="p">(</span><span class="n">id2</span><span class="p">)</span> <span class="o">|</span> <span class="k">UPPER</span><span class="p">(</span><span class="n">animal2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+----------------+</span>
<span class="o">|</span>       <span class="mi">6</span> <span class="o">|</span> <span class="n">FOX</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+----------------+</span>
</pre><p>Subqueries in the statement</p>
<pre class="fixed"><span class="k">REPLACE</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t2</span> <span class="n">RETURNING</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">id2</span> <span class="k">FROM</span> <span class="n">t2</span> <span class="k">WHERE</span> 
<span class="n">id2</span> <span class="k">IN</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">id2</span> <span class="k">FROM</span> <span class="n">t2</span> <span class="k">WHERE</span> <span class="n">id2</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span> <span class="k">AS</span> <span class="n">new_id</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="n">new_id</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
</pre><p>Subqueries in the RETURNING clause that return more than one row or column cannot be used..</p>
<p>Aggregate functions cannot be used in the RETURNING clause. Since aggregate functions work on a set of values and if the purpose is to get the row count, ROW_COUNT() with SELECT can be used, or it can be used in REPLACE...SEL== Description</p>
<div class="cstm-style darkheader-nospace-borders"><p><code>REPLACE ... RETURNING</code> returns a resultset of the replaced rows.</p>
<p>This returns the listed columns for all the rows that are replaced, or alternatively, the specified SELECT expression. Any SQL expressions which can be calculated can be used in the select expression for the RETURNING clause, including virtual columns and aliases, expressions which use various operators such as bitwise, logical and arithmetic operators, string functions, date-time functions, numeric functions, control flow functions, secondary functions and stored functions. Along with this, statements which have subqueries and prepared statements can also be used.</p>
</div><h2 class="anchored_heading" id="replaceexamples">Examples</h2>
<p>Simple REPLACE statement</p>
<pre class="fixed"><span class="k">REPLACE</span> <span class="k">INTO</span> <span class="n">t2</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">'Leopard'</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="s1">'Dog'</span><span class="p">)</span> <span class="n">RETURNING</span> <span class="n">id2</span><span class="p">,</span> <span class="n">id2</span><span class="o">+</span><span class="n">id2</span> 
<span class="k">as</span> <span class="n">Total</span> <span class="p">,</span><span class="n">id2</span><span class="o">|</span><span class="n">id2</span><span class="p">,</span> <span class="n">id2</span><span class="o">&amp;&amp;</span><span class="n">id2</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----+-------+---------+----------+</span>
<span class="o">|</span> <span class="n">id2</span> <span class="o">|</span> <span class="n">Total</span> <span class="o">|</span> <span class="n">id2</span><span class="o">|</span><span class="n">id2</span> <span class="o">|</span> <span class="n">id2</span><span class="o">&amp;&amp;</span><span class="n">id2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----+-------+---------+----------+</span>
<span class="o">|</span>   <span class="mi">1</span> <span class="o">|</span>     <span class="mi">2</span> <span class="o">|</span>       <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>   <span class="mi">2</span> <span class="o">|</span>     <span class="mi">4</span> <span class="o">|</span>       <span class="mi">2</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----+-------+---------+----------+</span>
</pre><p>Using stored functions in RETURNING</p>
<pre class="fixed"><span class="k">DELIMITER</span> <span class="o">|</span>
<span class="k">CREATE</span> <span class="k">FUNCTION</span> <span class="n">f</span><span class="p">(</span><span class="n">arg</span> <span class="nb">INT</span><span class="p">)</span> <span class="k">RETURNS</span> <span class="nb">INT</span>
    <span class="k">BEGIN</span>
      <span class="k">RETURN</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">arg</span><span class="o">+</span><span class="n">arg</span><span class="p">);</span>
    <span class="k">END</span><span class="o">|</span>

<span class="k">DELIMITER</span> <span class="p">;</span>
<span class="k">PREPARE</span> <span class="n">stmt</span> <span class="k">FROM</span> <span class="ss">"REPLACE INTO t2 SET id2=3, animal2='Fox' RETURNING f2(id2),</span>
<span class="ss">UPPER(animal2)"</span><span class="p">;</span>

<span class="k">EXECUTE</span> <span class="n">stmt</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+----------------+</span>
<span class="o">|</span> <span class="n">f2</span><span class="p">(</span><span class="n">id2</span><span class="p">)</span> <span class="o">|</span> <span class="k">UPPER</span><span class="p">(</span><span class="n">animal2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+----------------+</span>
<span class="o">|</span>       <span class="mi">6</span> <span class="o">|</span> <span class="n">FOX</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+----------------+</span>
</pre><p>Subqueries in the statement</p>
<pre class="fixed"><span class="k">REPLACE</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t2</span> <span class="n">RETURNING</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">id2</span> <span class="k">FROM</span> <span class="n">t2</span> <span class="k">WHERE</span> 
<span class="n">id2</span> <span class="k">IN</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">id2</span> <span class="k">FROM</span> <span class="n">t2</span> <span class="k">WHERE</span> <span class="n">id2</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span> <span class="k">AS</span> <span class="n">new_id</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="n">new_id</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
</pre><p>Subqueries in the RETURNING clause that return more than one row or column cannot be used..</p>
<p>Aggregate functions cannot be used in the RETURNING clause. Since aggregate functions work on a set of values and if the purpose is to get the row count, ROW_COUNT() with SELECT can be used, or it can be used in REPLACE...SELECT...RETURNING if the table in the RETURNING clause is not the same as the REPLACE table.
ECT...RETURNING if the table in the RETURNING clause is not the same as the REPLACE table.</p>
<h2 class="anchored_heading" id="replacesee-also">See Also</h2>
<ul start="1"><li><a href="#insert">INSERT</a>
</li><li><a href="https://mariadb.com/kb/en/high_priority-and-low_priority-clauses/">HIGH_PRIORITY and LOW_PRIORITY clauses</a>
</li><li><a href="#insert-delayed">INSERT DELAYED</a> for details on the <code>DELAYED</code> clause</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="recursive-common-table-expressions-overview">Recursive Common Table Expressions Overview</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_2 mariadb from_10_2_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">10.2.2</a></h5><p>Recursive Common Table Expressions have been supported since <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_2"><a href="#recursive-common-table-expressions-overviewsyntax-example" title="Syntax example">Syntax example</a></li>
<li class="mariadb_from_10_2_2"><a href="#recursive-common-table-expressions-overviewcomputation" title="Computation">Computation</a></li>
<li class="mariadb_from_10_2_2"><a href="#recursive-common-table-expressions-overviewsummary-so-far" title="Summary so far">Summary so far</a></li>
<li class="mariadb_from_10_2_2"><a href="#recursive-common-table-expressions-overviewcast-to-avoid-truncating-data" title="CAST to avoid truncating data">CAST to avoid truncating data</a></li>
<li class="mariadb_from_10_2_2"><a href="#recursive-common-table-expressions-overviewexamples" title="Examples">Examples</a> <ol class="toc">
<li class="mariadb_from_10_2_2"><a href="#recursive-common-table-expressions-overviewtransitive-closure-determining-bus-destinations" title="Transitive closure - determining bus destinations">Transitive closure - determining bus destinations</a></li>
<li class="mariadb_from_10_2_2"><a href="#recursive-common-table-expressions-overviewcomputing-paths-determining-bus-routes" title="Computing paths - determining bus routes">Computing paths - determining bus routes</a></li>
<li class="mariadb_from_10_2_2"><a href="#recursive-common-table-expressions-overviewcast-to-avoid-data-truncation" title="CAST to avoid data truncation">CAST to avoid data truncation</a> </li></ol>
</li></ol>


</div><p>
Common Table Expressions (CTEs) are a standard SQL feature, and are essentially temporary named result sets. CTEs first appeared in the SQL standard in 1999, and the first implementations began appearing in 2007.</p>
<p>There are two kinds of CTEs:</p>
<ul start="1"><li><a href="https://mariadb.com/kb/en/common-table-expressions-overview/">Non-recursive</a>
</li><li>Recursive, which this article covers.
</li></ul>
<p>SQL is generally poor at recursive structures.</p>
<p><img alt="trees_and_graphs" src="/kb/en/recursive-common-table-expressions-overview/+image/trees_and_graphs" title="trees_and_graphs"/></p>
<p>CTEs permit a query to reference itself. A recursive CTE will repeatedly execute subsets of the data until it obtains the complete result set. This makes it particularly useful for handing hierarchical or tree-structured data. <a href="https://mariadb.com/kb/en/server-system-variables/#max_recursive_iterations">max_recursive_iterations</a> avoids infinite loops.</p>
<h3 class="anchored_heading" id="recursive-common-table-expressions-overviewsyntax-example">Syntax example</h3>
<p><a href="#with">WITH RECURSIVE</a> signifies a recursive CTE. It is given a name, followed by a body (the main query) as follows:</p>
<p><img alt="rcte_syntax" src="/kb/en/recursive-common-table-expressions-overview/+image/rcte_syntax" title="rcte_syntax"/></p>
<p><img alt="cte_syntax" src="/kb/en/recursive-common-table-expressions-overview/+image/cte_syntax" title="cte_syntax"/></p>
<h3 class="anchored_heading" id="recursive-common-table-expressions-overviewcomputation">Computation</h3>
<p>Given the following structure:
<img alt="rcte_computation" src="/kb/en/recursive-common-table-expressions-overview/+image/rcte_computation" title="rcte_computation"/></p>
<p>First execute the anchor part of the query:
<img alt="rcte1" src="/kb/en/recursive-common-table-expressions-overview/+image/rcte1" title="rcte1"/></p>
<p>Next, execute the recursive part of the query:
<img alt="rcte_computation_2" src="/kb/en/recursive-common-table-expressions-overview/+image/rcte_computation_2" title="rcte_computation_2"/></p>
<p><img alt="rcte_computation_2b" src="/kb/en/recursive-common-table-expressions-overview/+image/rcte_computation_2b" title="rcte_computation_2b"/></p>
<p><img alt="rcte_computation_3" src="/kb/en/recursive-common-table-expressions-overview/+image/rcte_computation_3" title="rcte_computation_3"/></p>
<p><img alt="rcte_computation_3b" src="/kb/en/recursive-common-table-expressions-overview/+image/rcte_computation_3b" title="rcte_computation_3b"/></p>
<p><img alt="rcte_computation_4" src="/kb/en/recursive-common-table-expressions-overview/+image/rcte_computation_4" title="rcte_computation_4"/></p>
<h3 class="anchored_heading" id="recursive-common-table-expressions-overviewsummary-so-far">Summary so far</h3>
<pre class="fixed"><span class="k">with</span> <span class="k">recursive</span> <span class="n">R</span> <span class="k">as</span> <span class="p">(</span>
  <span class="k">select</span> <span class="n">anchor_data</span>
  <span class="k">union</span> <span class="p">[</span><span class="k">all</span><span class="p">]</span>
  <span class="k">select</span> <span class="n">recursive_part</span>
  <span class="k">from</span> <span class="n">R</span><span class="p">,</span> <span class="p">...</span>
<span class="p">)</span>
<span class="k">select</span> <span class="p">...</span>
</pre><ol start="1"><li>Compute anchor_data
</li><li>Compute recursive_part to get the new data
</li><li>if (new data is non-empty) goto 2;
</li></ol>
<h3 class="anchored_heading" id="recursive-common-table-expressions-overviewcast-to-avoid-truncating-data">CAST to avoid truncating data</h3>
<p>As currently implemented by MariaDB and by the SQL Standard, data may be truncated if not correctly cast. It is necessary to <a href="#cast">CAST</a> the column to the correct width if the CTE's recursive part produces wider values for a column than the CTE's nonrecursive part. Some other DBMS give an error in this situation, and MariaDB's behavior may change in future - see <a href="https://jira.mariadb.org/browse/MDEV-12325">MDEV-12325</a>. See the <a href="#recursive-common-table-expressions-overviewcast-to-avoid-data-truncation">examples below</a>.</p>
<h3 class="anchored_heading" id="recursive-common-table-expressions-overviewexamples">Examples</h3>
<h4 class="anchored_heading" id="recursive-common-table-expressions-overviewtransitive-closure-determining-bus-destinations">Transitive closure - determining bus destinations</h4>
<p>Sample data:</p>
<p><img alt="tc_1" src="/kb/en/recursive-common-table-expressions-overview/+image/tc_1" title="tc_1"/></p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">bus_routes</span> <span class="p">(</span><span class="n">origin</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">dst</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">));</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">bus_routes</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="s1">'New York'</span><span class="p">,</span> <span class="s1">'Boston'</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'Boston'</span><span class="p">,</span> <span class="s1">'New York'</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'New York'</span><span class="p">,</span> <span class="s1">'Washington'</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'Washington'</span><span class="p">,</span> <span class="s1">'Boston'</span><span class="p">),</span> 
  <span class="p">(</span><span class="s1">'Washington'</span><span class="p">,</span> <span class="s1">'Raleigh'</span><span class="p">);</span>
</pre><p>Now, we want to return the bus destinations with New York as the origin:</p>
<pre class="fixed"><span class="k">WITH</span> <span class="k">RECURSIVE</span> <span class="n">bus_dst</span> <span class="k">as</span> <span class="p">(</span> 
    <span class="k">SELECT</span> <span class="n">origin</span> <span class="k">as</span> <span class="n">dst</span> <span class="k">FROM</span> <span class="n">bus_routes</span> <span class="k">WHERE</span> <span class="n">origin</span><span class="o">=</span><span class="s1">'New York'</span> 
  <span class="k">UNION</span>
    <span class="k">SELECT</span> <span class="n">bus_routes</span><span class="p">.</span><span class="n">dst</span> <span class="k">FROM</span> <span class="n">bus_routes</span> <span class="k">JOIN</span> <span class="n">bus_dst</span> <span class="k">ON</span> <span class="n">bus_dst</span><span class="p">.</span><span class="n">dst</span><span class="o">=</span> <span class="n">bus_routes</span><span class="p">.</span><span class="n">origin</span> 
<span class="p">)</span> 
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">bus_dst</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">dst</span>        <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="k">New</span> <span class="n">York</span>   <span class="o">|</span>
<span class="o">|</span> <span class="n">Boston</span>     <span class="o">|</span>
<span class="o">|</span> <span class="n">Washington</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Raleigh</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><p>The above example is computed as follows:</p>
<p>First, the anchor data is calculated:</p>
<ul start="1"><li>Starting from New York
</li><li>Boston and Washington are added
</li></ul>
<p>Next, the recursive part:</p>
<ul start="1"><li>Starting from Boston and then Washington
</li><li>Raleigh is added
</li><li>UNION excludes nodes that are already present.
</li></ul>
<h4 class="anchored_heading" id="recursive-common-table-expressions-overviewcomputing-paths-determining-bus-routes">Computing paths - determining bus routes</h4>
<p>This time, we are trying to get bus routes such as  “New York -&gt; Washington -&gt; Raleigh”.</p>
<p>Using the same sample data as the previous example:</p>
<pre class="fixed"><span class="k">WITH</span> <span class="k">RECURSIVE</span> <span class="n">paths</span> <span class="p">(</span><span class="n">cur_path</span><span class="p">,</span> <span class="n">cur_dest</span><span class="p">)</span> <span class="k">AS</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="n">origin</span><span class="p">,</span> <span class="n">origin</span> <span class="k">FROM</span> <span class="n">bus_routes</span> <span class="k">WHERE</span> <span class="n">origin</span><span class="o">=</span><span class="s1">'New York'</span> 
  <span class="k">UNION</span>
    <span class="k">SELECT</span> <span class="n">CONCAT</span><span class="p">(</span><span class="n">paths</span><span class="p">.</span><span class="n">cur_path</span><span class="p">,</span> <span class="s1">','</span><span class="p">,</span> <span class="n">bus_routes</span><span class="p">.</span><span class="n">dst</span><span class="p">),</span> <span class="n">bus_routes</span><span class="p">.</span><span class="n">dst</span> 
     <span class="k">FROM</span> <span class="n">paths</span>
     <span class="k">JOIN</span> <span class="n">bus_routes</span> 
       <span class="k">ON</span> <span class="n">paths</span><span class="p">.</span><span class="n">cur_dest</span> <span class="o">=</span> <span class="n">bus_routes</span><span class="p">.</span><span class="n">origin</span> <span class="k">AND</span> 
         <span class="k">NOT</span> <span class="n">FIND_IN_SET</span><span class="p">(</span><span class="n">bus_routes</span><span class="p">.</span><span class="n">dst</span><span class="p">,</span> <span class="n">paths</span><span class="p">.</span><span class="n">cur_path</span><span class="p">)</span>
<span class="p">)</span> 
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">paths</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------------+------------+</span>
<span class="o">|</span> <span class="n">cur_path</span>                    <span class="o">|</span> <span class="n">cur_dest</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+------------+</span>
<span class="o">|</span> <span class="k">New</span> <span class="n">York</span>                    <span class="o">|</span> <span class="k">New</span> <span class="n">York</span>   <span class="o">|</span>
<span class="o">|</span> <span class="k">New</span> <span class="n">York</span><span class="p">,</span><span class="n">Boston</span>             <span class="o">|</span> <span class="n">Boston</span>     <span class="o">|</span>
<span class="o">|</span> <span class="k">New</span> <span class="n">York</span><span class="p">,</span><span class="n">Washington</span>         <span class="o">|</span> <span class="n">Washington</span> <span class="o">|</span>
<span class="o">|</span> <span class="k">New</span> <span class="n">York</span><span class="p">,</span><span class="n">Washington</span><span class="p">,</span><span class="n">Boston</span>  <span class="o">|</span> <span class="n">Boston</span>     <span class="o">|</span>
<span class="o">|</span> <span class="k">New</span> <span class="n">York</span><span class="p">,</span><span class="n">Washington</span><span class="p">,</span><span class="n">Raleigh</span> <span class="o">|</span> <span class="n">Raleigh</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+------------+</span>
</pre><h4 class="anchored_heading" id="recursive-common-table-expressions-overviewcast-to-avoid-data-truncation">CAST to avoid data truncation</h4>
<p>In the following example, data is truncated because the results are not specifically cast to a wide enough type:</p>
<pre class="fixed"><span class="k">WITH</span> <span class="k">RECURSIVE</span> <span class="n">tbl</span> <span class="k">AS</span> <span class="p">(</span>
  <span class="k">SELECT</span> <span class="k">NULL</span> <span class="k">AS</span> <span class="n">col</span>
  <span class="k">UNION</span>
  <span class="k">SELECT</span> <span class="ss">"THIS NEVER SHOWS UP"</span> <span class="k">AS</span> <span class="n">col</span> <span class="k">FROM</span> <span class="n">tbl</span>
<span class="p">)</span>
<span class="k">SELECT</span> <span class="n">col</span> <span class="k">FROM</span> <span class="n">tbl</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">col</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">|</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>Explicitly use <a href="#cast">CAST</a> to overcome this:</p>
<pre class="fixed"><span class="k">WITH</span> <span class="k">RECURSIVE</span> <span class="n">tbl</span> <span class="k">AS</span> <span class="p">(</span>
  <span class="k">SELECT</span> <span class="k">CAST</span><span class="p">(</span><span class="k">NULL</span> <span class="k">AS</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span> <span class="k">AS</span> <span class="n">col</span>
  <span class="k">UNION</span> <span class="k">SELECT</span> <span class="ss">"THIS NEVER SHOWS UP"</span> <span class="k">AS</span> <span class="n">col</span> <span class="k">FROM</span> <span class="n">tbl</span>
<span class="p">)</span>  
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">tbl</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">col</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="k">NULL</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">THIS</span> <span class="n">NEVER</span> <span class="n">SHOWS</span> <span class="n">UP</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="select-into-dumpfile">SELECT INTO DUMPFILE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#select-into-dumpfilesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#select-into-dumpfiledescription" title="Description">Description</a></li>
<li class=""><a href="#select-into-dumpfileexample" title="Example">Example</a></li>
<li class=""><a href="#select-into-dumpfilesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="select-into-dumpfilesyntax">Syntax</h2>
<pre class="fixed">SELECT ... INTO DUMPFILE 'file_path'
</pre><h2 class="anchored_heading" id="select-into-dumpfiledescription">Description</h2>
<p><code>SELECT ... INTO DUMPFILE</code> is a <a href="#select">SELECT</a> clause which writes the resultset into a single unformatted row, without any separators, in a file. The results will not be returned to the client.</p>
<p><em>file_path</em> can be an absolute path, or a relative path starting from the data directory. It can only be specified as a <a href="#string-literals">string literal</a>, not as a variable. However, the statement can be dynamically composed and executed as a prepared statement to work around this limitation.</p>
<p>This statement is binary-safe and so is particularly useful for writing <a href="#blob">BLOB</a> values to file. It can be used, for example, to copy an image or an audio document from the database to a file. SELECT ... INTO FILE can be used to save a text file.</p>
<p>The file must not exist. It cannot be overwritten. A user needs the <a ">FILE</a> privilege to run this statement. Also, MariaDB needs permission to write files in the specified location. If the <a href="https://mariadb.com/kb/en/server-system-variables/#secure_file_priv">secure_file_priv</a> system variable is set to a non-empty directory name, the file can only be written to that directory.</p>
<p>Since <a href="https://mariadb.com/kb/en/what-is-mariadb-51/">MariaDB 5.1</a>, the <a href="https://mariadb.com/kb/en/server-system-variables/#character_set_filesystem">character_set_filesystem</a> system variable has controlled interpretation of file names that are given as literal strings.</p>
<h2 class="anchored_heading" id="select-into-dumpfileexample">Example</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">_utf8</span><span class="s1">'Hello world!'</span> <span class="k">INTO</span> <span class="n">DUMPFILE</span> <span class="s1">'/tmp/world'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">LOAD_FILE</span><span class="p">(</span><span class="s1">'/tmp/world'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">world</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">world</span>        <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">Hello</span> <span class="n">world</span><span class="o">!</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
</pre><h2 class="anchored_heading" id="select-into-dumpfilesee-also">See Also</h2>
<ul start="1"><li><a href="#select">SELECT</a>
</li><li><a href="#load_file">LOAD_FILE()</a>
</li><li><a href="https://mariadb.com/kb/en/select-into-variable/">SELECT INTO Variable</a>
</li><li><a href="#select-into-outfile">SELECT INTO OUTFILE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="select">SELECT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="selectsyntax">Syntax</h2>
<pre class="highlight fixed"><p>SELECT
    [ALL | DISTINCT | DISTINCTROW]
    [HIGH_PRIORITY]
    [STRAIGHT_JOIN]
    [SQL_SMALL_RESULT] [SQL_BIG_RESULT] [SQL_BUFFER_RESULT]
    [SQL_CACHE | SQL_NO_CACHE] [SQL_CALC_FOUND_ROWS]
    select_expr [, select_expr ...]
    [ FROM <a href="#join-syntax">table_references</a>
      [WHERE where_condition]
      [GROUP BY {col_name | expr | position} [ASC | DESC], ... [WITH ROLLUP]]
      [HAVING where_condition]
      [ORDER BY {col_name | expr | position} [ASC | DESC], ...]
      [LIMIT {[offset,] row_count | row_count OFFSET offset  [ROWS EXAMINED rows_limit] } |
        [OFFSET start { ROW | ROWS }]
        [FETCH { FIRST | NEXT } [ count ] { ROW | ROWS } { ONLY | WITH TIES }] ]
      procedure|[PROCEDURE procedure_name(argument_list)]
      [INTO OUTFILE 'file_name' [CHARACTER SET charset_name] [export_options] |
        INTO DUMPFILE 'file_name' | INTO var_name [, var_name] ]
      [FOR UPDATE lock_option | LOCK IN SHARE MODE lock_option]</p>
<p>export_options:
    [{FIELDS | COLUMNS}
        [TERMINATED BY 'string']
        [[OPTIONALLY] ENCLOSED BY 'char']
        [ESCAPED BY 'char']
    ]
    [LINES
        [STARTING BY 'string']
        [TERMINATED BY 'string']
    ]</p>
<p>lock_option:
    [WAIT n | NOWAIT | SKIP LOCKED]</p></pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_6"><a href="#selectsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_6"><a href="#selectdescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_6"><a href="#selectselect-expressions" title="Select Expressions">Select Expressions</a></li>
<li class="mariadb_from_10_6"><a href="#selectdistinct" title="DISTINCT">DISTINCT</a></li>
<li class="mariadb_from_10_6"><a href="#selectinto" title="INTO">INTO</a></li>
<li class="mariadb_from_10_6"><a href="#selectlimit" title="LIMIT">LIMIT</a></li>
<li class="mariadb_from_10_6"><a href="#selectlock-in-share-modefor-update" title="LOCK IN SHARE MODE/FOR UPDATE">LOCK IN SHARE MODE/FOR UPDATE</a></li>
<li class="mariadb_from_10_6"><a href="#selectoffset-fetch" title="OFFSET ... FETCH">OFFSET ... FETCH</a></li>
<li class="mariadb_from_10_6"><a href="#selectorder-by" title="ORDER BY">ORDER BY</a></li>
<li class="mariadb_from_10_6"><a href="#selectpartition" title="PARTITION">PARTITION</a></li>
<li class="mariadb_from_10_6"><a href="#selectprocedure" title="PROCEDURE">PROCEDURE</a></li>
<li class="mariadb_from_10_6"><a href="#selectskip-locked" title="SKIP LOCKED">SKIP LOCKED</a></li>
<li class="mariadb_from_10_6"><a href="#selectsql_calc_found_rows" title="SQL_CALC_FOUND_ROWS">SQL_CALC_FOUND_ROWS</a></li>
<li class="mariadb_from_10_6"><a href="#selectmax_statement_time-clause" title="max_statement_time clause">max_statement_time clause</a></li>
<li class="mariadb_from_10_6"><a href="#selectwaitnowait" title="WAIT/NOWAIT">WAIT/NOWAIT</a> </li></ol>
</li>
<li class="mariadb_from_10_6"><a href="#selectexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_6"><a href="#selectsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="selectdescription">Description</h2>
<p><code>SELECT</code> is used to retrieve rows selected from one or more
tables, and can include <a href="#union">UNION</a> statements and <a href="https://mariadb.com/kb/en/subqueries/">subqueries</a>.</p>
<ul start="1"><li>Each <em>select_expr</em> expression indicates a column or data that you want to retrieve. You
must have at least one select expression. See <a href="#selectselect-expressions">Select Expressions</a> below.
</li></ul>
<ul start="1"><li>The <code>FROM</code> clause indicates the table or tables from which to retrieve rows.
Use either a single table name or a <code>JOIN</code> expression. See <a href="https://mariadb.com/kb/en/join/">JOIN</a>
for details. If no table is involved, <a href="#dual">FROM DUAL</a> can be specified.
</li></ul>
<ul start="1"><li>Each table can also be specified as <code>db_name</code>.<code>tabl_name</code>. Each column can also be specified as <code>tbl_name</code>.<code>col_name</code> or even <code>db_name</code>.<code>tbl_name</code>.<code>col_name</code>. This allows one to write queries which involve multiple databases. See <a href="https://mariadb.com/kb/en/identifier-qualifiers/">Identifier Qualifiers</a> for syntax details.
</li></ul>
<ul start="1"><li>The <code class="fixed" style="white-space:pre-wrap">WHERE</code> clause, if given, indicates the condition or
  conditions that rows must satisfy to be selected.
  <code class="fixed" style="white-space:pre-wrap">where_condition</code> is an expression that evaluates to true for
  each row to be selected. The statement selects all rows if there is no WHERE
  clause.
<ul start="1"><li>In the <code class="fixed" style="white-space:pre-wrap">WHERE</code> clause, you can use any of the functions and
   operators that MariaDB supports, except for aggregate (summary) functions. See <a href="https://mariadb.com/kb/en/functions-and-operators/">Functions and Operators</a> and <a href="https://mariadb.com/kb/en/functions-and-modifiers-for-use-with-group-by/">Functions and Modifiers for use with GROUP BY</a> (aggregate).
</li></ul>
</li></ul>
<ul start="1"><li>Use the <a href="#order-by">ORDER BY</a> clause to order the results.
</li></ul>
<ul start="1"><li>Use the <a href="#limit">LIMIT</a> clause allows you to restrict the results to only
a certain number of rows, optionally with an offset.
</li></ul>
<ul start="1"><li>Use the <a href="#group-by">GROUP BY</a> and <code>HAVING</code> clauses to group
rows together when they have columns or computed values in common.
</li></ul>
<p>SELECT can also be used to retrieve rows computed without reference to
any table.</p>
<h3 class="anchored_heading" id="selectselect-expressions">Select Expressions</h3>
<p>A <code>SELECT</code> statement must contain one or more select expressions, separated
by commas. Each select expression can be one of the following:</p>
<ul start="1"><li>The name of a column.
</li><li>Any expression using <a href="https://mariadb.com/kb/en/functions-and-operators/">functions and operators</a>.
</li><li><code>*</code> to select all columns from all tables in the <code>FROM</code> clause.
</li><li><code>tbl_name.*</code> to select all columns from just the table <em>tbl_name</em>.
</li></ul>
<p>When specifying a column, you can either use just the column name or qualify the column
name with  the name of the table using <code>tbl_name.col_name</code>. The qualified form is
useful if you are joining multiple tables in the <code>FROM</code> clause. If you do not qualify the
column names when selecting from multiple tables, MariaDB will try to find the column in
each table. It is an error if that column name exists in multiple tables.</p>
<p>You can quote column names using backticks. If you are qualifying column names
with table names, quote each part separately as <code>`tbl_name`.`col_name`</code>.</p>
<p>If you use any <a href="https://mariadb.com/kb/en/functions-and-modifiers-for-use-with-group-by/">grouping functions</a>
in any of the select expressions, all rows in your results will be implicitly grouped, as if
you had used <code>GROUP BY NULL</code>.</p>
<h3 class="anchored_heading" id="selectdistinct">DISTINCT</h3>
<p>A query may produce some identical rows. By default, all rows are retrieved, even when their values are the same. To explicitly specify that you want to retrieve identical rows, use the <code>ALL</code> option. If you want duplicates to be removed from the resultset, use the <code>DISTINCT</code> option. <code>DISTINCTROW</code> is a synonym for <code>DISTINCT</code>. See also <a href="https://mariadb.com/kb/en/count-distinct/">COUNT DISTINCT</a> and <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#simple-syntax-compatibility">SELECT UNIQUE in Oracle mode</a>.</p>
<h3 class="anchored_heading" id="selectinto">INTO</h3>
<p>The <code>INTO</code> clause is used to specify that the query results should be written to a file or variable.</p>
<ul start="1"><li><a href="#select-into-outfile">SELECT INTO OUTFILE</a> - formatting and writing the result to an external file.
</li><li><a href="#select-into-dumpfile">SELECT INTO DUMPFILE</a> - binary-safe writing of the unformatted results to an external file.
</li><li><a href="https://mariadb.com/kb/en/select-into-variable/">SELECT INTO Variable</a> - selecting and setting variables.
</li></ul>
<p>The reverse of <code>SELECT INTO OUTFILE</code> is <a href="https://mariadb.com/kb/en/load-data-into-tables-or-index/">LOAD DATA</a>.</p>
<h3 class="anchored_heading" id="selectlimit">LIMIT</h3>
<p>Restricts the number of returned rows. See <a href="#limit">LIMIT</a> and <a href="https://mariadb.com/kb/en/limit-rows-examined/">LIMIT ROWS EXAMINED</a> for details.</p>
<h3 class="anchored_heading" id="selectlock-in-share-modefor-update">LOCK IN SHARE MODE/FOR UPDATE</h3>
<p>See <a href="#lock-in-share-mode">LOCK IN SHARE MODE</a> and <a href="#for-update">FOR UPDATE</a> for details on the respective locking clauses.</p>
<h3 class="anchored_heading" id="selectoffset-fetch">OFFSET ... FETCH</h3>
<div class="mariadb_from_10_6 mariadb from_10_6 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-106/">10.6</a></h5><p>See <a href="https://mariadb.com/kb/en/select-offset-fetch/">SELECT ... OFFSET ... FETCH</a>.</p>
</div><h3 class="anchored_heading" id="selectorder-by">ORDER BY</h3>
<p>Order a resultset. See <a href="#order-by">ORDER BY</a> for details.</p>
<h3 class="anchored_heading" id="selectpartition">PARTITION</h3>
<p>Specifies to the optimizer which partitions are relevant for the query. Other partitions will not be read.  See <a href="https://mariadb.com/kb/en/partition-pruning-and-selection/">Partition Pruning and Selection</a> for details.</p>
<h3 class="anchored_heading" id="selectprocedure">PROCEDURE</h3>
<p>Passes the whole result set to a C Procedure. See <a href="#procedure">PROCEDURE</a> and <a href="#procedure-analyse">PROCEDURE ANALYSE</a> (the only built-in procedure not requiring the server to be recompiled).</p>
<h3 class="anchored_heading" id="selectskip-locked">SKIP LOCKED</h3>
<div class="mariadb_from_10_6 mariadb from_10_6 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-106/">10.6</a></h5><p>The SKIP LOCKED clause was introduced in <a href="https://mariadb.com/kb/en/mariadb-1060-release-notes/">MariaDB 10.6.0</a>.</p>
<p>This causes those rows that couldn't be locked (<a href="#lock-in-share-mode">LOCK IN SHARE MODE</a> or <a href="#for-update">FOR UPDATE</a>) to be excluded from the result set. An explicit <code>NOWAIT</code> is implied here. This is only implemented on <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a> tables and ignored otherwise.</p>
</div><h3 class="anchored_heading" id="selectsql_calc_found_rows">SQL_CALC_FOUND_ROWS</h3>
<p>When <code>SQL_CALC_FOUND_ROWS</code> is used, then MariaDB will calculate how many rows would
have been in the result, if there would be no <a href="#limit">LIMIT</a> clause. The result can be found by calling the function <a href="#found_rows">FOUND_ROWS()</a> in your next sql statement.</p>
<p><br/></p>
<h3 class="anchored_heading" id="selectmax_statement_time-clause">max_statement_time clause</h3>
<p>By using <a href="https://mariadb.com/kb/en/server-system-variables/#max_statement_time">max_statement_time</a> in conjunction with <a href="https://mariadb.com/kb/en/set-statement/">SET STATEMENT</a>, it is possible to limit the execution time of individual queries. For example:</p>
<pre class="fixed">SET STATEMENT max_statement_time=100 FOR 
  SELECT field1 FROM table_name ORDER BY field1;
</pre><h3 class="anchored_heading" id="selectwaitnowait">WAIT/NOWAIT</h3>
<p>Set the lock wait timeout. See <a href="#wait-and-nowait">WAIT and NOWAIT</a>.</p>
<h2 class="anchored_heading" id="selectexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">f1</span><span class="p">,</span><span class="n">f2</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="p">(</span><span class="n">f3</span><span class="o">&lt;=</span><span class="mi">10</span><span class="p">)</span> <span class="k">AND</span> <span class="p">(</span><span class="n">f4</span><span class="o">=</span><span class="s1">'y'</span><span class="p">);</span>
</pre><p>See <a href="https://mariadb.com/kb/en/getting-data-from-mariadb/">Getting Data from MariaDB</a> (Beginner tutorial), or the various sub-articles, for more examples.</p>
<h2 class="anchored_heading" id="selectsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/getting-data-from-mariadb/">Getting Data from MariaDB</a> (Beginner tutorial)
</li><li><a href="https://mariadb.com/kb/en/joins-subqueries/">Joins and Subqueries</a>
</li><li><a href="#limit">LIMIT</a>
</li><li><a href="#order-by">ORDER BY</a>
</li><li><a href="#group-by">GROUP BY</a>
</li><li><a href="https://mariadb.com/kb/en/common-table-expressions/">Common Table Expressions</a>
</li><li><a href="#select-with-rollup">SELECT WITH ROLLUP</a>
</li><li><a href="#select-into-outfile">SELECT INTO OUTFILE</a>
</li><li><a href="#select-into-dumpfile">SELECT INTO DUMPFILE</a>
</li><li><a href="#for-update">FOR UPDATE</a>
</li><li><a href="#lock-in-share-mode">LOCK IN SHARE MODE</a>
</li><li><a href="https://mariadb.com/kb/en/optimizer-hints/">Optimizer Hints</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#simple-syntax-compatibility">Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="select-into-outfile">SELECT INTO OUTFILE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="select-into-outfilesyntax">Syntax</h2>
<pre class="fixed">SELECT ... INTO OUTFILE 'file_name'
        [CHARACTER SET charset_name]
        [export_options]

export_options:
    [{FIELDS | COLUMNS}
        [TERMINATED BY 'string']
        [[OPTIONALLY] ENCLOSED BY 'char']
        [ESCAPED BY 'char']
    ]
    [LINES
        [STARTING BY 'string']
        [TERMINATED BY 'string']
    ]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#select-into-outfilesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#select-into-outfiledescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#select-into-outfilecharacter-sets" title="Character-sets">Character-sets</a> </li></ol>
</li>
<li class=""><a href="#select-into-outfileexample" title="Example">Example</a></li>
<li class=""><a href="#select-into-outfilesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="select-into-outfiledescription">Description</h2>
<p><code>SELECT INTO OUTFILE</code> writes the resulting rows to a file, and allows the use of column and row terminators to specify a particular output format. The default is to terminate fields with tabs (<code>\t</code>) and lines with newlines (<code>\n</code>).</p>
<p>The file must not exist. It cannot be overwritten. A user needs the <a ">FILE</a> privilege to run this statement. Also, MariaDB needs permission to write files in the specified location. If the <a href="https://mariadb.com/kb/en/server-system-variables/#secure_file_priv">secure_file_priv</a> system variable is set to a non-empty directory name, the file can only be written to that directory.</p>
<p>The <code><a href="#load-data-infile">LOAD DATA INFILE</a></code> statement complements <code>SELECT INTO OUTFILE</code>.</p>
<h3 class="anchored_heading" id="select-into-outfilecharacter-sets">Character-sets</h3>
<p>The <code>CHARACTER SET</code> clause specifies the <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set</a> in which the results are to be written. Without the clause, no conversion takes place (the binary character set). In this case, if there are multiple character sets, the output will contain these too, and may not easily be able to be reloaded.</p>
<p>In cases where you have two servers using different character-sets, using <code>SELECT INTO OUTFILE</code> to transfer data from one to the other can have unexpected results.  To ensure that MariaDB correctly interprets the escape sequences, use the <code>CHARACTER SET</code> clause on both the <code>SELECT INTO OUTFILE</code> statement and the subsequent <code><a href="#load-data-infile">LOAD DATA INFILE</a></code> statement.</p>
<h2 class="anchored_heading" id="select-into-outfileexample">Example</h2>
<p>The following example produces a file in the CSV format:</p>
<pre class="fixed">SELECT customer_id, firstname, surname INTO OUTFILE '/exportdata/customers.txt'
  FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"'
  LINES TERMINATED BY '\n'
  FROM customers;
</pre><h2 class="anchored_heading" id="select-into-outfilesee-also">See Also</h2>
<ul start="1"><li><a href="#select">SELECT</a>
</li><li><a href="#load_file">LOAD_DATA()</a> function
</li><li><a href="#load-data-infile">LOAD DATA INFILE</a>
</li><li><a href="https://mariadb.com/kb/en/select-into-variable/">SELECT INTO Variable</a>
</li><li><a href="#select-into-dumpfile">SELECT INTO DUMPFILE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="select-with-rollup">SELECT WITH ROLLUP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#select-with-rollupsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#select-with-rollupdescription" title="Description">Description</a></li>
<li class=""><a href="#select-with-rollupexamples" title="Examples">Examples</a></li>
<li class=""><a href="#select-with-rollupsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="select-with-rollupsyntax">Syntax</h2>
<p>See <a href="#select">SELECT</a> for the full syntax.</p>
<h2 class="anchored_heading" id="select-with-rollupdescription">Description</h2>
<p>The <code>WITH ROLLUP</code> modifier adds extra rows to the resultset that represent super-aggregate summaries. The super-aggregated column is represented by a <code>NULL</code> value. Multiple aggregates over different columns will be added if there are multiple <code>GROUP BY</code> columns.</p>
<p>The <a href="#limit">LIMIT</a> clause can be used at the same time, and is applied after the <code>WITH ROLLUP</code> rows have been added.</p>
<p><code>WITH ROLLUP</code> cannot be used with <a href="#order-by">ORDER BY</a>. Some sorting is still possible by using <code>ASC</code> or <code>DESC</code> clauses with the <code>GROUP BY</code> column, although the super-aggregate rows will always be added last.</p>
<h2 class="anchored_heading" id="select-with-rollupexamples">Examples</h2>
<p>These examples use the following sample table</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">booksales</span> <span class="p">(</span> 
  <span class="n">country</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">35</span><span class="p">),</span> <span class="n">genre</span> <span class="n">ENUM</span><span class="p">(</span><span class="s1">'fiction'</span><span class="p">,</span><span class="s1">'non-fiction'</span><span class="p">),</span> <span class="k">year</span> <span class="k">YEAR</span><span class="p">,</span> <span class="n">sales</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">booksales</span> <span class="k">VALUES</span>
  <span class="p">(</span><span class="s1">'Senegal'</span><span class="p">,</span><span class="s1">'fiction'</span><span class="p">,</span><span class="mi">2014</span><span class="p">,</span><span class="mi">12234</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Senegal'</span><span class="p">,</span><span class="s1">'fiction'</span><span class="p">,</span><span class="mi">2015</span><span class="p">,</span><span class="mi">15647</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Senegal'</span><span class="p">,</span><span class="s1">'non-fiction'</span><span class="p">,</span><span class="mi">2014</span><span class="p">,</span><span class="mi">64980</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Senegal'</span><span class="p">,</span><span class="s1">'non-fiction'</span><span class="p">,</span><span class="mi">2015</span><span class="p">,</span><span class="mi">78901</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Paraguay'</span><span class="p">,</span><span class="s1">'fiction'</span><span class="p">,</span><span class="mi">2014</span><span class="p">,</span><span class="mi">87970</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Paraguay'</span><span class="p">,</span><span class="s1">'fiction'</span><span class="p">,</span><span class="mi">2015</span><span class="p">,</span><span class="mi">76940</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Paraguay'</span><span class="p">,</span><span class="s1">'non-fiction'</span><span class="p">,</span><span class="mi">2014</span><span class="p">,</span><span class="mi">8760</span><span class="p">),</span> <span class="p">(</span><span class="s1">'Paraguay'</span><span class="p">,</span><span class="s1">'non-fiction'</span><span class="p">,</span><span class="mi">2015</span><span class="p">,</span><span class="mi">9030</span><span class="p">);</span>
</pre><p>The addition of the <code>WITH ROLLUP</code> modifier in this example adds an extra row that aggregates both years:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">year</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">sales</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">booksales</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="k">year</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------------+</span>
<span class="o">|</span> <span class="k">year</span> <span class="o">|</span> <span class="k">SUM</span><span class="p">(</span><span class="n">sales</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------+</span>
<span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span>     <span class="mi">173944</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span>     <span class="mi">180518</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------+</span>
<span class="mi">2</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">08</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SELECT</span> <span class="k">year</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">sales</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">booksales</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="k">year</span> <span class="k">WITH</span> <span class="k">ROLLUP</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------------+</span>
<span class="o">|</span> <span class="k">year</span> <span class="o">|</span> <span class="k">SUM</span><span class="p">(</span><span class="n">sales</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------+</span>
<span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span>     <span class="mi">173944</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span>     <span class="mi">180518</span> <span class="o">|</span>
<span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>     <span class="mi">354462</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------+</span>
</pre><p>In the following example, each time the genre, the year or the country change, another super-aggregate row is added:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">country</span><span class="p">,</span> <span class="k">year</span><span class="p">,</span> <span class="n">genre</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">sales</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="n">booksales</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">country</span><span class="p">,</span> <span class="k">year</span><span class="p">,</span> <span class="n">genre</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+------+-------------+------------+</span>
<span class="o">|</span> <span class="n">country</span>  <span class="o">|</span> <span class="k">year</span> <span class="o">|</span> <span class="n">genre</span>       <span class="o">|</span> <span class="k">SUM</span><span class="p">(</span><span class="n">sales</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+------+-------------+------------+</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="n">fiction</span>     <span class="o">|</span>      <span class="mi">87970</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="n">non</span><span class="o">-</span><span class="n">fiction</span> <span class="o">|</span>       <span class="mi">8760</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="n">fiction</span>     <span class="o">|</span>      <span class="mi">76940</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="n">non</span><span class="o">-</span><span class="n">fiction</span> <span class="o">|</span>       <span class="mi">9030</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="n">fiction</span>     <span class="o">|</span>      <span class="mi">12234</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="n">non</span><span class="o">-</span><span class="n">fiction</span> <span class="o">|</span>      <span class="mi">64980</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="n">fiction</span>     <span class="o">|</span>      <span class="mi">15647</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="n">non</span><span class="o">-</span><span class="n">fiction</span> <span class="o">|</span>      <span class="mi">78901</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+------+-------------+------------+</span>

<span class="k">SELECT</span> <span class="n">country</span><span class="p">,</span> <span class="k">year</span><span class="p">,</span> <span class="n">genre</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">sales</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="n">booksales</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">country</span><span class="p">,</span> <span class="k">year</span><span class="p">,</span> <span class="n">genre</span> <span class="k">WITH</span> <span class="k">ROLLUP</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+------+-------------+------------+</span>
<span class="o">|</span> <span class="n">country</span>  <span class="o">|</span> <span class="k">year</span> <span class="o">|</span> <span class="n">genre</span>       <span class="o">|</span> <span class="k">SUM</span><span class="p">(</span><span class="n">sales</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+------+-------------+------------+</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="n">fiction</span>     <span class="o">|</span>      <span class="mi">87970</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="n">non</span><span class="o">-</span><span class="n">fiction</span> <span class="o">|</span>       <span class="mi">8760</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>      <span class="mi">96730</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="n">fiction</span>     <span class="o">|</span>      <span class="mi">76940</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="n">non</span><span class="o">-</span><span class="n">fiction</span> <span class="o">|</span>       <span class="mi">9030</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>      <span class="mi">85970</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>     <span class="mi">182700</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="n">fiction</span>     <span class="o">|</span>      <span class="mi">12234</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="n">non</span><span class="o">-</span><span class="n">fiction</span> <span class="o">|</span>      <span class="mi">64980</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>      <span class="mi">77214</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="n">fiction</span>     <span class="o">|</span>      <span class="mi">15647</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="n">non</span><span class="o">-</span><span class="n">fiction</span> <span class="o">|</span>      <span class="mi">78901</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>      <span class="mi">94548</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>     <span class="mi">171762</span> <span class="o">|</span>
<span class="o">|</span> <span class="k">NULL</span>     <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>     <span class="mi">354462</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+------+-------------+------------+</span>
</pre><p>The LIMIT clause, applied after WITH ROLLUP:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">country</span><span class="p">,</span> <span class="k">year</span><span class="p">,</span> <span class="n">genre</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">sales</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="n">booksales</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">country</span><span class="p">,</span> <span class="k">year</span><span class="p">,</span> <span class="n">genre</span> <span class="k">WITH</span> <span class="k">ROLLUP</span> <span class="k">LIMIT</span> <span class="mi">4</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+------+-------------+------------+</span>
<span class="o">|</span> <span class="n">country</span>  <span class="o">|</span> <span class="k">year</span> <span class="o">|</span> <span class="n">genre</span>       <span class="o">|</span> <span class="k">SUM</span><span class="p">(</span><span class="n">sales</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+------+-------------+------------+</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="n">fiction</span>     <span class="o">|</span>      <span class="mi">87970</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="n">non</span><span class="o">-</span><span class="n">fiction</span> <span class="o">|</span>       <span class="mi">8760</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>      <span class="mi">96730</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="n">fiction</span>     <span class="o">|</span>      <span class="mi">76940</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+------+-------------+------------+</span>
</pre><p>Sorting by year descending:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">country</span><span class="p">,</span> <span class="k">year</span><span class="p">,</span> <span class="n">genre</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">sales</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="n">booksales</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">country</span><span class="p">,</span> <span class="k">year</span> <span class="k">DESC</span><span class="p">,</span> <span class="n">genre</span> <span class="k">WITH</span> <span class="k">ROLLUP</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------+------+-------------+------------+</span>
<span class="o">|</span> <span class="n">country</span>  <span class="o">|</span> <span class="k">year</span> <span class="o">|</span> <span class="n">genre</span>       <span class="o">|</span> <span class="k">SUM</span><span class="p">(</span><span class="n">sales</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+------+-------------+------------+</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="n">fiction</span>     <span class="o">|</span>      <span class="mi">76940</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="n">non</span><span class="o">-</span><span class="n">fiction</span> <span class="o">|</span>       <span class="mi">9030</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>      <span class="mi">85970</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="n">fiction</span>     <span class="o">|</span>      <span class="mi">87970</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="n">non</span><span class="o">-</span><span class="n">fiction</span> <span class="o">|</span>       <span class="mi">8760</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>      <span class="mi">96730</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Paraguay</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>     <span class="mi">182700</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="n">fiction</span>     <span class="o">|</span>      <span class="mi">15647</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="n">non</span><span class="o">-</span><span class="n">fiction</span> <span class="o">|</span>      <span class="mi">78901</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2015</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>      <span class="mi">94548</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="n">fiction</span>     <span class="o">|</span>      <span class="mi">12234</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="n">non</span><span class="o">-</span><span class="n">fiction</span> <span class="o">|</span>      <span class="mi">64980</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="mi">2014</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>      <span class="mi">77214</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Senegal</span>  <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>     <span class="mi">171762</span> <span class="o">|</span>
<span class="o">|</span> <span class="k">NULL</span>     <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>     <span class="mi">354462</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+------+-------------+------------+</span>
</pre><h2 class="anchored_heading" id="select-with-rollupsee-also">See Also</h2>
<ul start="1"><li><a href="#select">SELECT</a>
</li><li><a href="https://mariadb.com/kb/en/joins-subqueries/">Joins and Subqueries</a>
</li><li><a href="#limit">LIMIT</a>
</li><li><a href="#order-by">ORDER BY</a>
</li><li><a href="#group-by">GROUP BY</a>
</li><li><a href="https://mariadb.com/kb/en/common-table-expressions/">Common Table Expressions</a>
</li><li><a href="#select-into-outfile">SELECT INTO OUTFILE</a>
</li><li><a href="#select-into-dumpfile">SELECT INTO DUMPFILE</a>
</li><li><a href="#for-update">FOR UPDATE</a>
</li><li><a href="#lock-in-share-mode">LOCK IN SHARE MODE</a>
</li><li><a href="https://mariadb.com/kb/en/optimizer-hints/">Optimizer Hints</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="union">UNION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p><code>UNION</code> is used to combine the results from multiple <a href="#select">SELECT</a> statements into a single result set.</p>
<h2 class="anchored_heading" id="unionsyntax">Syntax</h2>
<pre class="fixed">SELECT ...
UNION [ALL | DISTINCT] SELECT ...
[UNION [ALL | DISTINCT] SELECT ...]
[ORDER BY [column [, column ...]]]
[LIMIT {[offset,] row_count | row_count OFFSET offset}]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_1_1"><a href="#unionsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_1_1"><a href="#uniondescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_1_1"><a href="#unionalldistinct" title="ALL/DISTINCT">ALL/DISTINCT</a></li>
<li class="mariadb_from_10_1_1"><a href="#unionorder-by-and-limit" title="ORDER BY and LIMIT">ORDER BY and LIMIT</a></li>
<li class="mariadb_from_10_1_1"><a href="#unionhigh_priority" title="HIGH_PRIORITY">HIGH_PRIORITY</a></li>
<li class="mariadb_from_10_1_1"><a href="#unionselect-into" title="SELECT ... INTO ...">SELECT ... INTO ...</a></li>
<li class="mariadb_from_10_1_1"><a href="#unionparentheses" title="Parentheses">Parentheses</a> </li></ol>
</li>
<li class="mariadb_from_10_1_1"><a href="#unionexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_1_1"><a href="#unionsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="uniondescription">Description</h2>
<p><code>UNION</code> is used to combine the results from multiple <a href="#select">SELECT</a> statements into a single result set.</p>
<p>The column names from the first <code class="fixed" style="white-space:pre-wrap">SELECT</code> statement are used as the column names for the results returned. Selected columns listed in corresponding positions of each SELECT statement should have the same data type. (For example, the first column selected by the first statement should have the same type as the first column selected by the other statements.)</p>
<p>If they don't, the type and length of the columns in the result take into account the values returned by all of the SELECTs, so there is no need for explicit casting. Note that currently this is not the case for <a href="#recursive-common-table-expressions-overview">recursive CTEs</a> - see <a href="https://jira.mariadb.org/browse/MDEV-12325">MDEV-12325</a>.</p>
<p>Table names can be specified as <code>db_name</code>.<code>tbl_name</code>. This permits writing <code>UNION</code>s which involve multiple databases. See <a href="https://mariadb.com/kb/en/identifier-qualifiers/">Identifier Qualifiers</a> for syntax details.</p>
<p>UNION queries cannot be used with <a href="https://mariadb.com/kb/en/functions-and-modifiers-for-use-with-group-by/">aggregate functions</a>.</p>
<p><code>EXCEPT</code> and <code>UNION</code> have the same operation precedence and <code>INTERSECT</code> has a higher precedence, unless <a href="https://mariadb.com/kb/en/sql_modeoracle/">running in Oracle mode</a>, in which case all three have the same precedence.</p>
<h3 class="anchored_heading" id="unionalldistinct">ALL/DISTINCT</h3>
<p>The <code>ALL</code> keyword causes duplicate rows to be preserved. The <code>DISTINCT</code> keyword (the default if the keyword is omitted) causes duplicate rows to be removed by the results.</p>
<p>UNION ALL and UNION DISTINCT can both be present in a query. In this case, UNION DISTINCT will override any UNION ALLs to its left.</p>
<div class="mariadb_from_10_1_1 mariadb from_10_1_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1011-release-notes/">10.1.1</a></h5><p>Until <a href="https://mariadb.com/kb/en/mariadb-1011-release-notes/">MariaDB 10.1.1</a>, all <code>UNION ALL</code> statements required the server to create a temporary table. Since <a href="https://mariadb.com/kb/en/mariadb-1011-release-notes/">MariaDB 10.1.1</a>, the server can in most cases execute <code>UNION ALL</code> without creating a temporary table, improving performance (see <a href="https://jira.mariadb.org/browse/MDEV-334">MDEV-334</a>).</p>
</div><h3 class="anchored_heading" id="unionorder-by-and-limit">ORDER BY and LIMIT</h3>
<p>Individual SELECTs can contain their own <a href="#order-by">ORDER BY</a> and <a href="#limit">LIMIT</a> clauses. In this case, the individual queries need to be wrapped between parentheses. However, this does not affect the order of the UNION, so they only are useful to limit the record read by one SELECT.</p>
<p>The UNION can have global <a href="#order-by">ORDER BY</a> and <a href="#limit">LIMIT</a> clauses, which affect the whole resultset. If the columns retrieved by individual SELECT statements have an alias (AS), the ORDER BY must use that alias, not the real column names.</p>
<h3 class="anchored_heading" id="unionhigh_priority">HIGH_PRIORITY</h3>
<p>Specifying a query as <a ">HIGH_PRIORITY</a> will not work inside a UNION. If applied to the first SELECT, it will be ignored. Applying to a later SELECT results in a syntax error:</p>
<pre class="fixed">ERROR 1234 (42000): Incorrect usage/placement of 'HIGH_PRIORITY'
</pre><h3 class="anchored_heading" id="unionselect-into">SELECT ... INTO ...</h3>
<p>Individual SELECTs cannot be written <a href="#select-into-dumpfile">INTO DUMPFILE</a> or <a href="#select-into-outfile">INTO OUTFILE</a>. If the last SELECT statement specifies INTO DUMPFILE or INTO OUTFILE, the entire result of the UNION will be written. Placing the clause after any other SELECT will result in a syntax error.</p>
<p>If the result is a single row, <a href="https://mariadb.com/kb/en/select-into-variable/">SELECT ... INTO @var_name</a> can also be used.
<br/>
<br/></p>
<div class="mariadb_from_10_4_0 mariadb from_10_4_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">10.4.0</a></h5><h3 class="anchored_heading" id="unionparentheses">Parentheses</h3>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">MariaDB 10.4.0</a>, parentheses can be used to specify precedence. Before this, a syntax error would be returned.</p>
</div><h2 class="anchored_heading" id="unionexamples">Examples</h2>
<p><code>UNION</code> between tables having different column names:</p>
<pre class="fixed"><span class="p">(</span><span class="k">SELECT</span> <span class="n">e_name</span> <span class="k">AS</span> <span class="n">name</span><span class="p">,</span> <span class="n">email</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">)</span>
<span class="k">UNION</span>
<span class="p">(</span><span class="k">SELECT</span> <span class="n">c_name</span> <span class="k">AS</span> <span class="n">name</span><span class="p">,</span> <span class="n">email</span> <span class="k">FROM</span> <span class="n">customers</span><span class="p">);</span>
</pre><p>Specifying the <code>UNION</code>'s global order and limiting total rows:</p>
<pre class="fixed"><span class="p">(</span><span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">email</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">)</span>
<span class="k">UNION</span>
<span class="p">(</span><span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">email</span> <span class="k">FROM</span> <span class="n">customers</span><span class="p">)</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">name</span> <span class="k">LIMIT</span> <span class="mi">10</span><span class="p">;</span>
</pre><p>Adding a constant row:</p>
<pre class="fixed"><span class="p">(</span><span class="k">SELECT</span> <span class="s1">'John Doe'</span> <span class="k">AS</span> <span class="n">name</span><span class="p">,</span> <span class="s1">'john.doe@example.net'</span> <span class="k">AS</span> <span class="n">email</span><span class="p">)</span>
<span class="k">UNION</span>
<span class="p">(</span><span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">email</span> <span class="k">FROM</span> <span class="n">customers</span><span class="p">);</span>
</pre><p>Differing types:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CAST</span><span class="p">(</span><span class="s1">'x'</span> <span class="k">AS</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="k">UNION</span> <span class="k">SELECT</span> <span class="n">REPEAT</span><span class="p">(</span><span class="s1">'y'</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="k">CAST</span><span class="p">(</span><span class="s1">'x'</span> <span class="k">AS</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">x</span>                    <span class="o">|</span>
<span class="o">|</span> <span class="n">yyyy</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre><p>Returning the results in order of each individual SELECT by use of a sort column:</p>
<pre class="fixed"><span class="p">(</span><span class="k">SELECT</span> <span class="mi">1</span> <span class="k">AS</span> <span class="n">sort_column</span><span class="p">,</span> <span class="n">e_name</span> <span class="k">AS</span> <span class="n">name</span><span class="p">,</span> <span class="n">email</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">)</span>
<span class="k">UNION</span>
<span class="p">(</span><span class="k">SELECT</span> <span class="mi">2</span><span class="p">,</span> <span class="n">c_name</span> <span class="k">AS</span> <span class="n">name</span><span class="p">,</span> <span class="n">email</span> <span class="k">FROM</span> <span class="n">customers</span><span class="p">)</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">sort_column</span><span class="p">;</span>
</pre><p>Difference between UNION, <a href="#except">EXCEPT</a> and <a href="#intersect">INTERSECT</a>. <code>INTERSECT ALL</code> and <code>EXCEPT ALL</code> are available from <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">seqs</span> <span class="p">(</span><span class="n">i</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">seqs</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">),(</span><span class="mi">5</span><span class="p">),(</span><span class="mi">6</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">UNION</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">UNION</span> <span class="k">ALL</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">EXCEPT</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">EXCEPT</span> <span class="k">ALL</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">INTERSECT</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="k">INTERSECT</span> <span class="k">ALL</span> <span class="k">SELECT</span> <span class="n">i</span> <span class="k">FROM</span> <span class="n">seqs</span> <span class="k">WHERE</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>Parentheses for specifying precedence, from <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">MariaDB 10.4.0</a></p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t2</span> <span class="p">(</span><span class="n">b</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t3</span> <span class="p">(</span><span class="k">c</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t2</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">5</span><span class="p">),(</span><span class="mi">6</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t3</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">6</span><span class="p">);</span>

<span class="p">((</span><span class="k">SELECT</span> <span class="n">a</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">)</span> <span class="k">UNION</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">b</span> <span class="k">FROM</span> <span class="n">t2</span><span class="p">))</span> <span class="k">INTERSECT</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">c</span> <span class="k">FROM</span> <span class="n">t3</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="p">(</span><span class="k">SELECT</span> <span class="n">a</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">)</span> <span class="k">UNION</span> <span class="p">((</span><span class="k">SELECT</span> <span class="n">b</span> <span class="k">FROM</span> <span class="n">t2</span><span class="p">)</span> <span class="k">INTERSECT</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">c</span> <span class="k">FROM</span> <span class="n">t3</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><h2 class="anchored_heading" id="unionsee-also">See Also</h2>
<ul start="1"><li><a href="#select">SELECT</a>
</li><li><a href="#except">EXCEPT</a>
</li><li><a href="#intersect">INTERSECT</a>
</li><li><a href="#recursive-common-table-expressions-overview">Recursive Common Table Expressions Overview</a>
</li><li><a href="https://www.youtube.com/watch?v=UNi-fVSpRm0">Get Set for Set Theory: UNION, INTERSECT and EXCEPT in SQL</a> (video tutorial)</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="update">UPDATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="updatesyntax">Syntax</h2>
<p>Single-table syntax:</p>
<pre class="fixed">UPDATE [LOW_PRIORITY] [IGNORE] table_reference 
  [PARTITION (partition_list)]
  [FOR PORTION OF period FROM expr1 TO expr2]
  SET col1={expr1|DEFAULT} [,col2={expr2|DEFAULT}] ...
  [WHERE where_condition]
  [ORDER BY ...]
  [LIMIT row_count]
</pre><p>Multiple-table syntax:</p>
<pre class="fixed">UPDATE [LOW_PRIORITY] [IGNORE] table_references
    SET col1={expr1|DEFAULT} [, col2={expr2|DEFAULT}] ...
    [WHERE where_condition]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_4_3"><a href="#updatesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_4_3"><a href="#updatedescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_4_3"><a href="#updatepartition" title="PARTITION">PARTITION</a></li>
<li class="mariadb_from_10_4_3"><a href="#updatefor-portion-of" title="FOR PORTION OF">FOR PORTION OF</a></li>
<li class="mariadb_from_10_4_3"><a href="#updateupdate-statements-with-the-same-source-and-target" title="UPDATE Statements With the Same Source and Target">UPDATE Statements With the Same Source and Target</a> </li></ol>
</li>
<li class="mariadb_from_10_4_3"><a href="#updateexample" title="Example">Example</a></li>
<li class="mariadb_from_10_4_3"><a href="#updatesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="updatedescription">Description</h2>
<p>For the single-table syntax, the <code>UPDATE</code> statement updates
columns of existing rows in the named table with new values. The
<code>SET</code> clause indicates which columns to modify and the values
they should be given.  Each value can be given as an expression, or the keyword
<code>DEFAULT</code> to set a column explicitly to its default value. The
<code>WHERE</code> clause, if given, specifies the conditions that identify
which rows to update. With no <code>WHERE</code> clause, all rows are
updated. If the <a href="#order-by">ORDER BY</a> clause is specified, the rows are
updated in the order that is specified. The <a href="#limit">LIMIT</a> clause
places a limit on the number of rows that can be updated.</p>
<p>Until <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a>, for the multiple-table syntax, <code>UPDATE</code> updates rows in each
table named in table_references that satisfy the conditions. In this case,
<a href="#order-by">ORDER BY</a> and <a href="#limit">LIMIT</a> cannot be used. This restriction was lifted in <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a> and both clauses can be used with multiple-table updates. An <code>UPDATE</code> can also reference tables which are located in different databases; see <a href="https://mariadb.com/kb/en/identifier-qualifiers/">Identifier Qualifiers</a> for the syntax.</p>
<p><code>where_condition</code> is an expression that evaluates to true for
each row to be updated.</p>
<p><code>table_references</code> and <code>where_condition</code> are as
specified as described in <a href="#select">SELECT</a>.</p>
<p>For single-table updates, assignments are evaluated in left-to-right order, while for multi-table updates, there is no guarantee of a particular order. If the <code>SIMULTANEOUS_ASSIGNMENT</code> <a href="https://mariadb.com/kb/en/sql-mode/">sql_mode</a> (available from <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">MariaDB 10.3.5</a>) is set, UPDATE statements evaluate all assignments simultaneously.</p>
<p>You need the <code>UPDATE</code> privilege only for columns referenced in
an <code>UPDATE</code> that are actually updated. You need only the
<a href="#select">SELECT</a> privilege for any columns that are read but
not modified. See <a href="#grant">GRANT</a>.</p>
<p>The <code>UPDATE</code> statement supports the following modifiers:</p>
<ul start="1"><li>If you use the <code>LOW_PRIORITY</code> keyword, execution of
  the <code>UPDATE</code> is delayed until no other clients are reading from
  the table. This affects only storage engines that use only table-level
  locking (MyISAM, MEMORY, MERGE). See <a href="https://mariadb.com/kb/en/high_priority-and-low_priority-clauses/">HIGH_PRIORITY and LOW_PRIORITY clauses</a> for details.
</li><li>If you use the <code>IGNORE</code> keyword, the update statement does 
  not abort even if errors occur during the update. Rows for which
  duplicate-key conflicts occur are not updated. Rows for which columns are
  updated to values that would cause data conversion errors are updated to the
  closest valid values instead.
</li></ul>
<h3 class="anchored_heading" id="updatepartition">PARTITION</h3>
<p>See <a href="https://mariadb.com/kb/en/partition-pruning-and-selection/">Partition Pruning and Selection</a> for details.</p>
<h3 class="anchored_heading" id="updatefor-portion-of">FOR PORTION OF</h3>
<div class="mariadb_from_10_4_3 mariadb from_10_4_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">10.4.3</a></h5><p>See <a href="https://mariadb.com/kb/en/application-time-periods/#updating-by-portion">Application Time Periods - Updating by Portion</a>.</p>
</div><h3 class="anchored_heading" id="updateupdate-statements-with-the-same-source-and-target">UPDATE Statements With the Same Source and Target</h3>
<div class="mariadb_from_10_3_2 mariadb from_10_3_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">10.3.2</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a>, UPDATE statements may have the same source and target.</p>
</div><p>For example, given the following table:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">t1</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">c1</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">c2</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">);</span>
</pre><p>Until <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>, the following UPDATE statement would not work:</p>
<pre class="fixed"><span class="k">UPDATE</span> <span class="n">t1</span> <span class="k">SET</span> <span class="n">c1</span><span class="o">=</span><span class="n">c1</span><span class="o">+</span><span class="mi">1</span> <span class="k">WHERE</span> <span class="n">c2</span><span class="o">=</span><span class="p">(</span><span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1093</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="k">Table</span> <span class="s1">'t1'</span> <span class="k">is</span> <span class="n">specified</span> <span class="n">twice</span><span class="p">,</span> 
  <span class="k">both</span> <span class="k">as</span> <span class="n">a</span> <span class="n">target</span> <span class="k">for</span> <span class="s1">'UPDATE'</span> <span class="k">and</span> <span class="k">as</span> <span class="n">a</span> <span class="n">separate</span> <span class="k">source</span> <span class="k">for</span> <span class="k">data</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a>, the statement executes successfully:</p>
<pre class="fixed"><span class="k">UPDATE</span> <span class="n">t1</span> <span class="k">SET</span> <span class="n">c1</span><span class="o">=</span><span class="n">c1</span><span class="o">+</span><span class="mi">1</span> <span class="k">WHERE</span> <span class="n">c2</span><span class="o">=</span><span class="p">(</span><span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span> <span class="n">c1</span>   <span class="o">|</span> <span class="n">c2</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>
<span class="o">|</span>   <span class="mi">21</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
</pre><h2 class="anchored_heading" id="updateexample">Example</h2>
<p>Single-table syntax:</p>
<pre class="fixed">UPDATE table_name SET column1 = value1, column2 = value2 WHERE id=100;
</pre><p>Multiple-table syntax:</p>
<pre class="fixed">UPDATE tab1, tab2 SET tab1.column1 = value1, tab1.column2 = value2 WHERE tab1.id = tab2.id;
</pre><h2 class="anchored_heading" id="updatesee-also">See Also</h2>
<ul start="1"><li><a href="#ignore">How IGNORE works</a>
</li><li><a href="#select">SELECT</a>
</li><li><a href="#order-by">ORDER BY</a>
</li><li><a href="#limit">LIMIT</a>
</li><li><a href="https://mariadb.com/kb/en/identifier-qualifiers/">Identifier Qualifiers</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="with">WITH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_1 mariadb from_10_2_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">10.2.1</a></h5><p>Common Table Expressions were introduced in <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a>.</p>
</div><h3 class="anchored_heading" id="withsyntax">Syntax</h3>
<pre class="fixed">WITH [RECURSIVE] table_reference [(columns_list)] AS  (
  SELECT ...
)
[CYCLE cycle_column_list RESTRICT]
SELECT ...
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_5_2"><a href="#withsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_5_2"><a href="#withdescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_5_2"><a href="#withcycle-restrict" title="CYCLE ... RESTRICT">CYCLE ... RESTRICT</a> </li></ol>
</li>
<li class="mariadb_from_10_5_2"><a href="#withexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_5_2"><a href="#withsee-also" title="See Also">See Also</a> </li></ol>


</div>
<h3 class="anchored_heading" id="withdescription">Description</h3>
<p>The <code>WITH</code> keyword signifies a <a href="https://mariadb.com/kb/en/common-table-expressions/">Common Table Expression</a> (CTE). It allows you to refer to a subquery expression many times in a query, as if having a temporary table that only exists for the duration of a query.</p>
<p>There are two kinds of CTEs:</p>
<ul start="1"><li><a href="#non-recursive-common-table-expressions-overview">Non-Recursive</a>
</li><li><a href="#recursive-common-table-expressions-overview">Recursive</a> (signified by the <code>RECURSIVE</code> keyword, supported since <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>)
</li></ul>
<p>You can use <code>table_reference</code> as any normal table in the external <code>SELECT</code> part.  You can also use <code>WITH</code> in subqueries, as well as with <a href="#explain">EXPLAIN</a> and <a href="#select">SELECT</a>.</p>
<p>Poorly-formed recursive CTEs can in theory cause infinite loops. The <a href="https://mariadb.com/kb/en/server-system-variables/#max_recursive_iterations">max_recursive_iterations</a> system variable limits the number of recursions.</p>
<h4 class="anchored_heading" id="withcycle-restrict">CYCLE ... RESTRICT</h4>
<div class="mariadb_from_10_5_2 mariadb from_10_5_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">10.5.2</a></h5><p>The CYCLE clause enables CTE cycle detection, avoiding excessive or infinite loops,
MariaDB supports a relaxed, non-standard grammar.</p>
<p>The SQL Standard permits a CYCLE clause, as follows:</p>
<pre class="fixed"><span class="k">WITH</span> <span class="k">RECURSIVE</span> <span class="p">...</span> <span class="p">(</span>
  <span class="p">...</span>
<span class="p">)</span>
<span class="k">CYCLE</span> <span class="o">&lt;</span><span class="k">cycle</span> <span class="k">column</span> <span class="n">list</span><span class="o">&gt;</span>
<span class="k">SET</span> <span class="o">&lt;</span><span class="k">cycle</span> <span class="n">mark</span> <span class="k">column</span><span class="o">&gt;</span> <span class="k">TO</span> <span class="o">&lt;</span><span class="k">cycle</span> <span class="n">mark</span> <span class="n">value</span><span class="o">&gt;</span> <span class="k">DEFAULT</span> <span class="o">&lt;</span><span class="n">non</span><span class="o">-</span><span class="k">cycle</span> <span class="n">mark</span> <span class="n">value</span><span class="o">&gt;</span>
<span class="k">USING</span> <span class="o">&lt;</span><span class="n">path</span> <span class="k">column</span><span class="o">&gt;</span>
</pre><p>where all clauses are mandatory. </p>
<p>MariaDB does not support this, but from 10.5.2 permits a non-standard relaxed grammar, as follows:</p>
<pre class="fixed"><span class="k">WITH</span> <span class="k">RECURSIVE</span> <span class="p">...</span> <span class="p">(</span>
  <span class="p">...</span>
<span class="p">)</span>
<span class="k">CYCLE</span> <span class="o">&lt;</span><span class="k">cycle</span> <span class="k">column</span> <span class="n">list</span><span class="o">&gt;</span> <span class="k">RESTRICT</span>
</pre><p>With the use of <code>CYCLE ... RESTRICT</code> it makes no difference whether the CTE uses <code>UNION ALL</code> or <code>UNION DISTINCT</code> anymore. <code>UNION ALL</code> means "all rows, but without cycles", which is exactly what the <code>CYCLE</code> clause enables. And <code>UNION DISTINCT</code> means all rows should be different, which, again, is what will happen — as uniqueness is enforced over a subset of columns, complete rows will automatically all be different.</p>
</div><h3 class="anchored_heading" id="withexamples">Examples</h3>
<p>Below is an example with the <code>WITH</code> at the top level:</p>
<pre class="fixed"><span class="k">WITH</span> <span class="n">t</span> <span class="k">AS</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">a</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="n">b</span> <span class="o">&gt;=</span> <span class="s1">'c'</span><span class="p">)</span> 
  <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t</span> <span class="k">WHERE</span> <span class="n">t2</span><span class="p">.</span><span class="k">c</span> <span class="o">=</span> <span class="n">t</span><span class="p">.</span><span class="n">a</span><span class="p">;</span>
</pre><p>The example below uses <code>WITH</code> in a subquery:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">t1</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">t1</span><span class="p">.</span><span class="n">b</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span>
  <span class="k">WHERE</span> <span class="n">t1</span><span class="p">.</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">t2</span><span class="p">.</span><span class="k">c</span> 
     <span class="k">AND</span> <span class="n">t2</span><span class="p">.</span><span class="k">c</span> <span class="k">IN</span><span class="p">(</span><span class="k">WITH</span> <span class="n">t</span> <span class="k">AS</span> <span class="p">(</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="n">t1</span><span class="p">.</span><span class="n">a</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">)</span>
                <span class="k">SELECT</span> <span class="n">t2</span><span class="p">.</span><span class="k">c</span> <span class="k">FROM</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t</span> <span class="k">WHERE</span> <span class="n">t2</span><span class="p">.</span><span class="k">c</span> <span class="o">=</span> <span class="n">t</span><span class="p">.</span><span class="n">a</span><span class="p">);</span>
</pre><p>Below is an example of a Recursive CTE:</p>
<pre class="fixed"><span class="k">WITH</span> <span class="k">RECURSIVE</span> <span class="n">ancestors</span> <span class="k">AS</span> 
 <span class="p">(</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">folks</span>
   <span class="k">WHERE</span> <span class="n">name</span><span class="o">=</span><span class="ss">"Alex"</span>
   <span class="k">UNION</span>
   <span class="k">SELECT</span> <span class="n">f</span><span class="p">.</span><span class="o">*</span>
   <span class="k">FROM</span> <span class="n">folks</span> <span class="k">AS</span> <span class="n">f</span><span class="p">,</span> <span class="n">ancestors</span> <span class="k">AS</span> <span class="n">a</span>
   <span class="k">WHERE</span> <span class="n">f</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">a</span><span class="p">.</span><span class="n">father</span> <span class="k">OR</span> <span class="n">f</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">a</span><span class="p">.</span><span class="n">mother</span> <span class="p">)</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">ancestors</span><span class="p">;</span>
</pre><p>Take the following structure, and data,</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">from_</span> <span class="nb">int</span><span class="p">,</span> <span class="n">to_</span> <span class="nb">int</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+</span>
<span class="o">|</span> <span class="n">from_</span> <span class="o">|</span> <span class="n">to_</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+</span>
<span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">2</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">3</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">4</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+</span>
</pre><p>Given the above, the following query would theoretically result in an infinite loop due to the last record in t1 (note that <a href="https://mariadb.com/kb/en/server-system-variables/#max_recursive_iterations">max_recursive_iterations</a> is set to 10 for the purposes of this example, to avoid the excessive number of cycles):</p>
<pre class="fixed"><span class="k">SET</span> <span class="n">max_recursive_iterations</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span>

<span class="k">WITH</span> <span class="k">RECURSIVE</span> <span class="n">cte</span> <span class="p">(</span><span class="n">depth</span><span class="p">,</span> <span class="n">from_</span><span class="p">,</span> <span class="n">to_</span><span class="p">)</span> <span class="k">AS</span> <span class="p">(</span> 
  <span class="k">SELECT</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span> <span class="k">UNION</span> <span class="k">DISTINCT</span> <span class="k">SELECT</span> <span class="n">depth</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">t1</span><span class="p">.</span><span class="n">from_</span><span class="p">,</span> <span class="n">t1</span><span class="p">.</span><span class="n">to_</span> 
    <span class="k">FROM</span> <span class="n">t1</span><span class="p">,</span> <span class="n">cte</span>  <span class="k">WHERE</span> <span class="n">t1</span><span class="p">.</span><span class="n">from_</span> <span class="o">=</span> <span class="n">cte</span><span class="p">.</span><span class="n">to_</span> 
<span class="p">)</span> 
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">cte</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+-------+------+</span>
<span class="o">|</span> <span class="n">depth</span> <span class="o">|</span> <span class="n">from_</span> <span class="o">|</span> <span class="n">to_</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+------+</span>
<span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">2</span> <span class="o">|</span>     <span class="mi">2</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">3</span> <span class="o">|</span>     <span class="mi">3</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">4</span> <span class="o">|</span>     <span class="mi">4</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">5</span> <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">5</span> <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">6</span> <span class="o">|</span>     <span class="mi">2</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">7</span> <span class="o">|</span>     <span class="mi">3</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">8</span> <span class="o">|</span>     <span class="mi">4</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">9</span> <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">9</span> <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">10</span> <span class="o">|</span>     <span class="mi">2</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+------+</span>
</pre><p>However, the CYCLE ... RESTRICT clause (from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>) can overcome this:</p>
<pre class="fixed"><span class="k">WITH</span> <span class="k">RECURSIVE</span> <span class="n">cte</span> <span class="p">(</span><span class="n">depth</span><span class="p">,</span> <span class="n">from_</span><span class="p">,</span> <span class="n">to_</span><span class="p">)</span> <span class="k">AS</span> <span class="p">(</span> 
  <span class="k">SELECT</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span> <span class="k">UNION</span> <span class="k">SELECT</span> <span class="n">depth</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">t1</span><span class="p">.</span><span class="n">from_</span><span class="p">,</span> <span class="n">t1</span><span class="p">.</span><span class="n">to_</span> 
    <span class="k">FROM</span> <span class="n">t1</span><span class="p">,</span> <span class="n">cte</span> <span class="k">WHERE</span> <span class="n">t1</span><span class="p">.</span><span class="n">from_</span> <span class="o">=</span> <span class="n">cte</span><span class="p">.</span><span class="n">to_</span> 
<span class="p">)</span> 
<span class="k">CYCLE</span> <span class="n">from_</span><span class="p">,</span> <span class="n">to_</span> <span class="k">RESTRICT</span> 
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">cte</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+-------+------+</span>
<span class="o">|</span> <span class="n">depth</span> <span class="o">|</span> <span class="n">from_</span> <span class="o">|</span> <span class="n">to_</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+------+</span>
<span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">2</span> <span class="o">|</span>     <span class="mi">2</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">3</span> <span class="o">|</span>     <span class="mi">3</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>     <span class="mi">4</span> <span class="o">|</span>     <span class="mi">4</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+------+</span>
</pre><h3 class="anchored_heading" id="withsee-also">See Also</h3>
<ul start="1"><li><a href="#non-recursive-common-table-expressions-overview">Non-Recursive Common Table Expressions Overview</a>
</li><li><a href="#recursive-common-table-expressions-overview">Recursive Common Table Expressions Overview</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="describe">DESCRIBE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="describesyntax">Syntax</h2>
<pre class="fixed">{DESCRIBE | DESC} tbl_name [col_name | wild]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#describesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#describedescription" title="Description">Description</a></li>
<li class=""><a href="#describesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="describedescription">Description</h2>
<p><code class="highlight fixed" style="white-space:pre-wrap">DESCRIBE</code> provides information about the columns in a table.
It is a shortcut for <code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-columns">SHOW COLUMNS FROM</a></code>.
These statements also display information for <a href="https://mariadb.com/kb/en/views/">views</a>.</p>
<p><code class="highlight fixed" style="white-space:pre-wrap">col_name</code> can be a column name, or a string containing the
SQL "<code class="highlight fixed" style="white-space:pre-wrap">%</code>" and "<code class="highlight fixed" style="white-space:pre-wrap">_</code>" wildcard characters to
obtain output only for the columns with names matching the string. There is no
need to enclose the string within quotes unless it contains spaces or other
special characters.</p>
<pre class="fixed"><span class="k">DESCRIBE</span> <span class="n">city</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+----------+------+-----+---------+----------------+</span>
<span class="o">|</span> <span class="n">Field</span>      <span class="o">|</span> <span class="k">Type</span>     <span class="o">|</span> <span class="k">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+----------+------+-----+---------+----------------+</span>
<span class="o">|</span> <span class="n">Id</span>         <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>  <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span> <span class="n">PRI</span> <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span> <span class="n">auto_increment</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Name</span>       <span class="o">|</span> <span class="nb">char</span><span class="p">(</span><span class="mi">35</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">Country</span>    <span class="o">|</span> <span class="nb">char</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span> <span class="n">UNI</span> <span class="o">|</span>         <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">District</span>   <span class="o">|</span> <span class="nb">char</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span> <span class="n">MUL</span> <span class="o">|</span>         <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">Population</span> <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>  <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+----------+------+-----+---------+----------------+</span>
</pre><p>The description for <code class="highlight fixed" style="white-space:pre-wrap"><a href="#show-columns">SHOW COLUMNS</a></code> provides
more information about the output columns.</p>
<h2 class="anchored_heading" id="describesee-also">See Also</h2>
<ul start="1"><li><a href="#show-columns">SHOW COLUMNS</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-columns-table/">INFORMATION_SCHEMA.COLUMNS Table</a>
</li><li><a href="https://mariadb.com/kb/en/mysqlshow/">mysqlshow</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="analyze-format-json">ANALYZE FORMAT=JSON</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#analyze-format-jsonbasic-execution-data" title="Basic Execution Data">Basic Execution Data</a></li>
<li class=""><a href="#analyze-format-jsonadvanced-execution-data" title="Advanced Execution Data">Advanced Execution Data</a></li>
<li class=""><a href="#analyze-format-jsondata-about-individual-query-plan-nodes" title="Data About Individual Query Plan Nodes">Data About Individual Query Plan Nodes</a></li>
<li class=""><a href="#analyze-format-jsonuse-cases" title="Use Cases">Use Cases</a> </li></ol>

</div><p>
<code>ANALYZE FORMAT=JSON</code> is a mix of the <a href="https://mariadb.com/kb/en/explain-formatjson/">EXPLAIN FORMAT=JSON</a> and <a href="https://mariadb.com/kb/en/analyze-statement/">ANALYZE</a> statement features. The <code>ANALYZE FORMAT=JSON $statement</code> will execute <code>$statement</code>, and then print the output of <code>EXPLAIN FORMAT=JSON</code>, amended with data from the query execution.</p>
<h2 class="anchored_heading" id="analyze-format-jsonbasic-execution-data">Basic Execution Data</h2>
<p>You can get the following also from tabular <code>ANALYZE</code> statement form:</p>
<ul start="1"><li><strong><code>r_rows</code></strong>  is provided for any node that reads rows. It shows how many rows were read, on average 
</li><li><strong><code>r_filtered</code></strong> is provided whenever there is a condition that is checked.  It shows the percentage of rows left after checking the condition.
</li></ul>
<h2 class="anchored_heading" id="analyze-format-jsonadvanced-execution-data">Advanced Execution Data</h2>
<p>The most important data not available in the regular tabula <code>ANALYZE</code> statement are:</p>
<ul start="1"><li><strong><code>r_loops</code></strong> field.  This shows how many times the node was executed. Most query plan elements have this field.
</li><li><strong><code>r_total_time_ms</code></strong> field. It shows how much time in total was spent executing this node. If the node has subnodes, their execution time is included.
</li><li><strong><code>r_buffer_size</code></strong> field. Query plan nodes that make use of buffers report the size of buffer that was was used.
</li></ul>
<h2 class="anchored_heading" id="analyze-format-jsondata-about-individual-query-plan-nodes">Data About Individual Query Plan Nodes</h2>
<ul start="1"><li><strong><code>filesort</code></strong> node reports whether sorting was done with <code>LIMIT n</code> parameter, and how many rows were in the sort result. 
</li><li><strong><code>block-nl-join</code></strong> node has <code>r_loops</code> field, which allows to tell whether <code>Using join buffer</code> was efficient 
</li><li><strong><code>range-checked-for-each-record</code></strong> reports counters that show the result of the check. 
</li><li><strong><code>expression-cache</code></strong> is used for subqueries, and it reports how many times the cache was used, and what cache hit ratio was.
</li><li><strong><code>union_result</code></strong> node has <code>r_rows</code> so one can see how many rows were produced after UNION operation
</li><li>and so forth
</li></ul>
<h2 class="anchored_heading" id="analyze-format-jsonuse-cases">Use Cases</h2>
<p>See <a href="#analyze-formatjson-examples">Examples of ANALYZE FORMAT=JSON</a>.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="analyze-formatjson-examples">ANALYZE FORMAT=JSON Examples</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="example-1">Example #1</h2>
<p>Customers who have ordered more than 1M goods.</p>
<pre class="fixed"><span class="k">ANALYZE</span> <span class="n">FORMAT</span><span class="o">=</span><span class="n">JSON</span>
<span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">customer</span>
<span class="k">WHERE</span>
  <span class="p">(</span><span class="k">SELECT</span> <span class="k">SUM</span><span class="p">(</span><span class="n">o_totalprice</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">orders</span> <span class="k">WHERE</span> <span class="n">o_custkey</span><span class="o">=</span><span class="n">c_custkey</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="o">*</span><span class="mi">1000</span><span class="p">;</span>
</pre><p>The query takes 40 seconds over cold cache</p>
<pre class="highlight fixed"><p>EXPLAIN: {
  "query_block": {
    "select_id": 1,
    "r_loops": 1,
    "r_total_time_ms": 39872,
    "table": {
      "table_name": "customer",
      "access_type": "index",
      "key": "i_c_nationkey",
      "key_length": "5",
      "used_key_parts": ["c_nationkey"],
      <strong>"r_loops": 1</strong>,
      "rows": 150303,
      "r_rows": 150000,
      <strong>"r_total_time_ms": 270.3</strong>,
      "filtered": 100,
      "r_filtered": 60.691,
      "attached_condition": "((subquery#2) &gt; &lt;cache&gt;((1000 * 1000)))",
      "using_index": true
    },
    "subqueries": [
      {
        "query_block": {
          "select_id": 2,
          "r_loops": 150000,
          "r_total_time_ms": 39531,
          "table": {
            "table_name": "orders",
            "access_type": "ref",
            "possible_keys": ["i_o_custkey"],
            "key": "i_o_custkey",
            "key_length": "5",
            "used_key_parts": ["o_custkey"],
            "ref": ["dbt3sf1.customer.c_custkey"],
            <strong>"r_loops": 150000</strong>,
            "rows": 7,
            "r_rows": 10,
            <strong>"r_total_time_ms": 39208</strong>,
            "filtered": 100,
            "r_filtered": 100
          }
        }
      }
    ]
  }
}</p></pre><p><code>ANALYZE</code> shows that 39.2 seconds were spent in the subquery, which was executed 150K times (for every row of outer table).</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="crosses">CROSSES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">Crosses(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> if <code>g1</code> spatially crosses <code>g2</code>. Returns <code>NULL</code> if <code>g1</code> is
a <a href="#polygon">Polygon</a> or a <a href="#multipolygon">MultiPolygon</a>, or if <code>g2</code> is a
<a href="#point">Point</a> or a <a href="#multipoint">MultiPoint</a>. Otherwise, returns <code>0</code>.</p>
<p>The term spatially crosses denotes a spatial relation between two
given geometries that has the following properties:</p>
<ul start="1"><li>The two geometries intersect
</li><li>Their intersection results in a geometry that has a dimension that is one
  less than the maximum dimension of the two given geometries
</li><li>Their intersection is not equal to either of the two given geometries
</li></ul>
<p>CROSSES() is based on the original MySQL implementation, and uses object bounding rectangles, while <a href="https://mariadb.com/kb/en/st_crosses/">ST_CROSSES()</a> uses object shapes.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st-contains">ST_CONTAINS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_CONTAINS(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> or <code>0</code> to indicate whether a geometry <code>g1</code> completely contains geometry <code>g2</code>.</p>
<p>ST_CONTAINS() uses object shapes, while <a href="#contains">CONTAINS()</a>, based on the original MySQL implementation, uses object bounding rectangles.</p>
<p>ST_CONTAINS tests the opposite relationship to <a href="https://mariadb.com/kb/en/st_within/">ST_WITHIN()</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SET @g1 = ST_GEOMFROMTEXT('POLYGON((175 150, 20 40, 50 60, 125 100, 175 150))');

SET @g2 = ST_GEOMFROMTEXT('POINT(174 149)');

SELECT ST_CONTAINS(@g1,@g2);
+----------------------+
| ST_CONTAINS(@g1,@g2) |
+----------------------+
|                    1 |
+----------------------+

SET @g2 = ST_GEOMFROMTEXT('POINT(175 151)');

SELECT ST_CONTAINS(@g1,@g2);
+----------------------+
| ST_CONTAINS(@g1,@g2) |
+----------------------+
|                    0 |
+----------------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st-crosses">ST_CROSSES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_CROSSES(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> if geometry <em><code>g1</code></em> spatially crosses geometry <em><code>g2</code></em>. Returns <code>NULL</code> if <code>g1</code> is a <a href="#polygon">Polygon</a> or a <a href="#multipolygon">MultiPolygon</a>, or if <code>g2</code> is a
<a href="#point">Point</a> or a <a href="#multipoint">MultiPoint</a>. Otherwise, returns <code>0</code>.</p>
<p>The term spatially crosses denotes a spatial relation between two
given geometries that has the following properties:</p>
<ul start="1"><li>The two geometries intersect
</li><li>Their intersection results in a geometry that has a dimension that is one
  less than the maximum dimension of the two given geometries
</li><li>Their intersection is not equal to either of the two given geometries
</li></ul>
<p>ST_CROSSES() uses object shapes, while <a href="#crosses">CROSSES()</a>, based on the original MySQL implementation, uses object bounding rectangles.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'LINESTRING(174 149, 176 151)'</span><span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POLYGON((175 150, 20 40, 50 60, 125 100, 175 150))'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_CROSSES</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">ST_CROSSES</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span>                   <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'LINESTRING(176 149, 176 151)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_CROSSES</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">ST_CROSSES</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span>                   <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_disjoint">ST_DISJOINT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_DISJOINT(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> or <code>0</code> to indicate whether geometry <em><code>g1</code></em> is spatially disjoint from
(does not intersect with) geometry <em><code>g2</code></em>.</p>
<p>ST_DISJOINT() uses object shapes, while <a href="#disjoint">DISJOINT()</a>, based on the original MySQL implementation, uses object bounding rectangles.</p>
<p>ST_DISJOINT() tests the opposite relationship to <a href="https://mariadb.com/kb/en/st_intersects/">ST_INTERSECTS()</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POINT(0 0)'</span><span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'LINESTRING(2 0, 0 2)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_DISJOINT</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">ST_DISJOINT</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'LINESTRING(0 0, 0 2)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_DISJOINT</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">ST_DISJOINT</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st-equals">ST_EQUALS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_EQUALS(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> or <code>0</code> to indicate whether geometry <em><code>g1</code></em> is spatially equal to geometry <em><code>g2</code></em>.</p>
<p>ST_EQUALS() uses object shapes, while <a href="#equals">EQUALS()</a>, based on the original MySQL implementation, uses object bounding rectangles.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'LINESTRING(174 149, 176 151)'</span><span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'LINESTRING(176 151, 174 149)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_EQUALS</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">ST_EQUALS</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span>                  <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre><pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POINT(0 2)'</span><span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POINT(2 0)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_EQUALS</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">ST_EQUALS</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span>                  <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st-intersects">ST_INTERSECTS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_INTERSECTS(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> or <code>0</code> to indicate whether geometry <em><code>g1</code></em> spatially intersects geometry <em><code>g2</code></em>.</p>
<p>ST_INTERSECTS() uses object shapes, while <a href="#intersects">INTERSECTS()</a>, based on the original MySQL implementation, uses object bounding rectangles.</p>
<p>ST_INTERSECTS() tests the opposite relationship to <a href="#st_disjoint">ST_DISJOINT()</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POINT(0 0)'</span><span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'LINESTRING(0 0, 0 2)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_INTERSECTS</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="n">ST_INTERSECTS</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span>                      <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
</pre><pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'LINESTRING(2 0, 0 2)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_INTERSECTS</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="n">ST_INTERSECTS</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span>                      <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st-touches">ST_TOUCHES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_TOUCHES(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> or <code>0</code> to indicate whether geometry <em><code>g1</code></em> spatially touches geometry <em><code>g2</code></em>. Two geometries spatially touch if the interiors of the geometries do not intersect,
but the boundary of one of the geometries intersects either the boundary or the
interior of the other.</p>
<p>ST_TOUCHES() uses object shapes, while <a href="#touches">TOUCHES()</a>, based on the original MySQL implementation, uses object bounding rectangles.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POINT(2 0)'</span><span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'LINESTRING(2 0, 0 2)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_TOUCHES</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">ST_TOUCHES</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span>                   <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POINT(2 1)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_TOUCHES</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">ST_TOUCHES</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span>                   <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st-within">ST_WITHIN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_WITHIN(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> or <code>0</code> to indicate whether geometry <em><code>g1</code></em> is spatially within geometry <em><code>g2</code></em>.</p>
<p>This tests the opposite relationship as <code><a href="https://mariadb.com/kb/en/st_contains/">ST_CONTAINS()</a></code>.</p>
<p>ST_WITHIN() uses object shapes, while <a href="#within">WITHIN()</a>, based on the original MySQL implementation, uses object bounding rectangles.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POINT(174 149)'</span><span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POLYGON((175 150, 20 40, 50 60, 125 100, 175 150))'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_WITHIN</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">ST_WITHIN</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span>                  <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">ST_GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POINT(176 151)'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">ST_WITHIN</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">ST_WITHIN</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span>                  <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="within">WITHIN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">Within(g1,g2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>1</code> or <code>0</code> to indicate whether <code>g1</code> is spatially within <code>g2</code>.
This tests the opposite relationship as <code><a href="#contains">Contains()</a></code>.</p>
<p>WITHIN() is based on the original MySQL implementation, and uses object bounding rectangles, while <a href="https://mariadb.com/kb/en/st_within/">ST_WITHIN()</a> uses object shapes.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">g1</span> <span class="o">=</span> <span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POINT(174 149)'</span><span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">g2</span> <span class="o">=</span> <span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POINT(176 151)'</span><span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">g3</span> <span class="o">=</span> <span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="s1">'POLYGON((175 150, 20 40, 50 60, 125 100, 175 150))'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">within</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g3</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">within</span><span class="p">(</span><span class="o">@</span><span class="n">g1</span><span class="p">,</span><span class="o">@</span><span class="n">g3</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span>               <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>

<span class="k">SELECT</span> <span class="n">within</span><span class="p">(</span><span class="o">@</span><span class="n">g2</span><span class="p">,</span><span class="o">@</span><span class="n">g3</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">within</span><span class="p">(</span><span class="o">@</span><span class="n">g2</span><span class="p">,</span><span class="o">@</span><span class="n">g3</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span>               <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="adddate">ADDDATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ADDDATE(date,INTERVAL expr unit), ADDDATE(expr,days)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>When invoked with the <code>INTERVAL</code> form of the second argument, <code>ADDDATE()</code>
is a synonym for <code><a href="#date_add">DATE_ADD()</a></code>. The related function
<code><a href="#subdate">SUBDATE()</a></code> is a synonym for <code><a href="#date_sub">DATE_SUB()</a></code>. For
information on the <code>INTERVAL</code> unit argument, see the discussion for
<code><a href="#date_add">DATE_ADD()</a></code>.</p>
<p>When invoked with the days form of the second argument, MariaDB treats it as an
integer number of days to be added to <em>expr</em>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">DATE_ADD</span><span class="p">(</span><span class="s1">'2008-01-02'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">31</span> <span class="k">DAY</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_ADD</span><span class="p">(</span><span class="s1">'2008-01-02'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">31</span> <span class="k">DAY</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>
<span class="o">|</span> <span class="mi">2008</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">02</span>                              <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">ADDDATE</span><span class="p">(</span><span class="s1">'2008-01-02'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">31</span> <span class="k">DAY</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span> <span class="n">ADDDATE</span><span class="p">(</span><span class="s1">'2008-01-02'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">31</span> <span class="k">DAY</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span> <span class="mi">2008</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">02</span>                             <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">ADDDATE</span><span class="p">(</span><span class="s1">'2008-01-02'</span><span class="p">,</span> <span class="mi">31</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="n">ADDDATE</span><span class="p">(</span><span class="s1">'2008-01-02'</span><span class="p">,</span> <span class="mi">31</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="mi">2008</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">02</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">d</span> <span class="n">DATETIME</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="ss">"2007-01-30 21:31:07"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"1983-10-15 06:42:51"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-04-21 12:34:56"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-10-30 06:31:41"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-01-30 14:03:25"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2004-10-07 11:19:34"</span><span class="p">);</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">d</span><span class="p">,</span> <span class="n">ADDDATE</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+---------------------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span> <span class="n">ADDDATE</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+---------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">21</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">09</span> <span class="mi">21</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span> <span class="mi">06</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">25</span> <span class="mi">06</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">01</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">09</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">17</span> <span class="mi">11</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+---------------------+</span>

<span class="k">SELECT</span> <span class="n">d</span><span class="p">,</span> <span class="n">ADDDATE</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">10</span> <span class="n">HOUR</span><span class="p">)</span> <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+------------------------------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span> <span class="n">ADDDATE</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">10</span> <span class="n">HOUR</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+------------------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">21</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">31</span> <span class="mi">07</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span>          <span class="o">|</span>
<span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span> <span class="mi">06</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span> <span class="mi">16</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span>          <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="mi">22</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span>          <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">16</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span>          <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span>          <span class="o">|</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">21</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="addtime">ADDTIME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ADDTIME(expr1,expr2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>ADDTIME()</code> adds <em>expr2</em> to <em>expr1</em> and returns the result. <em>expr1</em> is a time
or datetime expression, and <em>expr2</em> is a time expression.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">ADDTIME</span><span class="p">(</span><span class="s1">'2007-12-31 23:59:59.999999'</span><span class="p">,</span> <span class="s1">'1 1:1:1.000002'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">ADDTIME</span><span class="p">(</span><span class="s1">'2007-12-31 23:59:59.999999'</span><span class="p">,</span> <span class="s1">'1 1:1:1.000002'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2008</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">01</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">01</span><span class="p">.</span><span class="mi">000001</span>                              <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">ADDTIME</span><span class="p">(</span><span class="s1">'01:00:00.999999'</span><span class="p">,</span> <span class="s1">'02:00:00.999998'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
<span class="o">|</span> <span class="n">ADDTIME</span><span class="p">(</span><span class="s1">'01:00:00.999999'</span><span class="p">,</span> <span class="s1">'02:00:00.999998'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
<span class="o">|</span> <span class="mi">03</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">01</span><span class="p">.</span><span class="mi">999997</span>                               <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="convert_tz">CONVERT_TZ</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CONVERT_TZ(dt,from_tz,to_tz)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>CONVERT_TZ() converts a datetime value <em>dt</em> from the <a href="https://mariadb.com/kb/en/time-zones/">time zone</a> given by <em>from_tz</em> to the time zone given by <em>to_tz</em> and returns the resulting value.</p>
<p>In order to use named time zones, such as GMT, MET or Africa/Johannesburg, the time_zone tables must be loaded (see <a href="https://mariadb.com/kb/en/mysql_tzinfo_to_sql/">mysql_tzinfo_to_sql</a>).</p>
<p>No conversion will take place if the value falls outside of the supported TIMESTAMP range ('1970-01-01 00:00:01' to '2038-01-19 05:14:07' UTC) when converted from <em>from_tz</em> to UTC.</p>
<p>This function returns NULL if the arguments are invalid (or named time zones have not been loaded).</p>
<p>See <a href="https://mariadb.com/kb/en/time-zones/">time zones</a> for more information.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CONVERT_TZ</span><span class="p">(</span><span class="s1">'2016-01-01 12:00:00'</span><span class="p">,</span><span class="s1">'+00:00'</span><span class="p">,</span><span class="s1">'+10:00'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
<span class="o">|</span> <span class="n">CONVERT_TZ</span><span class="p">(</span><span class="s1">'2016-01-01 12:00:00'</span><span class="p">,</span><span class="s1">'+00:00'</span><span class="p">,</span><span class="s1">'+10:00'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2016</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">22</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>                                 <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
</pre><p>Using named time zones (with the time zone tables loaded):</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CONVERT_TZ</span><span class="p">(</span><span class="s1">'2016-01-01 12:00:00'</span><span class="p">,</span><span class="s1">'GMT'</span><span class="p">,</span><span class="s1">'Africa/Johannesburg'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">CONVERT_TZ</span><span class="p">(</span><span class="s1">'2016-01-01 12:00:00'</span><span class="p">,</span><span class="s1">'GMT'</span><span class="p">,</span><span class="s1">'Africa/Johannesburg'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2016</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">14</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>                                           <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------------+</span>
</pre><p>The value is out of the TIMESTAMP range, so no conversion takes place:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CONVERT_TZ</span><span class="p">(</span><span class="s1">'1969-12-31 22:00:00'</span><span class="p">,</span><span class="s1">'+00:00'</span><span class="p">,</span><span class="s1">'+10:00'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
<span class="o">|</span> <span class="n">CONVERT_TZ</span><span class="p">(</span><span class="s1">'1969-12-31 22:00:00'</span><span class="p">,</span><span class="s1">'+00:00'</span><span class="p">,</span><span class="s1">'+10:00'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">1969</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">22</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>                                 <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="curdate">CURDATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CURDATE()
CURRENT_DATE
CURRENT_DATE()
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>CURDATE</code> returns the current date as a value in 'YYYY-MM-DD' or YYYYMMDD
format, depending on whether the function is used in a string or
numeric context.</p>
<p><code>CURRENT_DATE</code> and <code>CURRENT_DATE()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CURDATE</span><span class="p">();</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">CURDATE</span><span class="p">()</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="mi">2019</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">05</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><p>In a numeric context (note this is not performing date calculations):</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CURDATE</span><span class="p">()</span> <span class="o">+</span><span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">CURDATE</span><span class="p">()</span> <span class="o">+</span><span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span>     <span class="mi">20190305</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
</pre><p>Data calculation:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CURDATE</span><span class="p">()</span> <span class="o">-</span> <span class="nb">INTERVAL</span> <span class="mi">5</span> <span class="k">DAY</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span> <span class="n">CURDATE</span><span class="p">()</span> <span class="o">-</span> <span class="nb">INTERVAL</span> <span class="mi">5</span> <span class="k">DAY</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span> <span class="mi">2019</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">28</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="datediff">DATEDIFF</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DATEDIFF(expr1,expr2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>DATEDIFF()</code> returns (<em>expr1</em> <span>–</span> <em>expr2</em>) expressed
as a value in days from one date to the other. <em>expr1</em> and <em>expr2</em> are date
or date-and-time expressions. Only the date parts of the values are used in the
calculation.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">DATEDIFF</span><span class="p">(</span><span class="s1">'2007-12-31 23:59:59'</span><span class="p">,</span><span class="s1">'2007-12-30'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span> <span class="n">DATEDIFF</span><span class="p">(</span><span class="s1">'2007-12-31 23:59:59'</span><span class="p">,</span><span class="s1">'2007-12-30'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span>                                            <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">DATEDIFF</span><span class="p">(</span><span class="s1">'2010-11-30 23:59:59'</span><span class="p">,</span><span class="s1">'2010-12-31'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span> <span class="n">DATEDIFF</span><span class="p">(</span><span class="s1">'2010-11-30 23:59:59'</span><span class="p">,</span><span class="s1">'2010-12-31'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span>                                          <span class="o">-</span><span class="mi">31</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">d</span> <span class="n">DATETIME</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="ss">"2007-01-30 21:31:07"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"1983-10-15 06:42:51"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-04-21 12:34:56"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-10-30 06:31:41"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-01-30 14:03:25"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2004-10-07 11:19:34"</span><span class="p">);</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">NOW</span><span class="p">();</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">NOW</span><span class="p">()</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">23</span> <span class="mi">10</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">05</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>

<span class="k">SELECT</span> <span class="n">d</span><span class="p">,</span> <span class="n">DATEDIFF</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="n">d</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+-------------------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span> <span class="n">DATEDIFF</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span><span class="n">d</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+-------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">21</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span>              <span class="mi">1574</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span> <span class="mi">06</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span>             <span class="mi">10082</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span>                <span class="mi">32</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span>              <span class="o">-</span><span class="mi">160</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span>               <span class="mi">113</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span>              <span class="mi">2419</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+-------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="date_add">DATE_ADD</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="date_addsyntax">Syntax</h2>
<pre class="fixed">DATE_ADD(date,INTERVAL expr unit)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#date_addsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#date_adddescription" title="Description">Description</a></li>
<li class=""><a href="#date_addexamples" title="Examples">Examples</a></li>
<li class=""><a href="#date_addsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="date_adddescription">Description</h2>
<p>Performs date arithmetic. The <em>date</em> argument specifies the
starting date or datetime value. <em>expr</em> is an expression specifying the
interval value to be added or subtracted from the starting date. <em>expr</em> is a
string; it may start with a "<code>-</code>" for negative intervals. <em>unit</em> is a
keyword indicating the units in which the expression should be interpreted. See <a href="https://mariadb.com/kb/en/date-and-time-units/">Date and Time Units</a> for a complete list of permitted units. </p>
<h2 class="anchored_heading" id="date_addexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="s1">'2008-12-31 23:59:59'</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">SECOND</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="s1">'2008-12-31 23:59:59'</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">SECOND</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2009</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">DAY</span> <span class="o">+</span> <span class="s1">'2008-12-31'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">DAY</span> <span class="o">+</span> <span class="s1">'2008-12-31'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="mi">2009</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span>                    <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="s1">'2005-01-01'</span> <span class="o">-</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">SECOND</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="s1">'2005-01-01'</span> <span class="o">-</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">SECOND</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">23</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">59</span>              <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">DATE_ADD</span><span class="p">(</span><span class="s1">'2000-12-31 23:59:59'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">SECOND</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_ADD</span><span class="p">(</span><span class="s1">'2000-12-31 23:59:59'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">SECOND</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2001</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>                                <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">DATE_ADD</span><span class="p">(</span><span class="s1">'2010-12-31 23:59:59'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">DAY</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_ADD</span><span class="p">(</span><span class="s1">'2010-12-31 23:59:59'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">DAY</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">23</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">59</span>                             <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">DATE_ADD</span><span class="p">(</span><span class="s1">'2100-12-31 23:59:59'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="s1">'1:1'</span> <span class="n">MINUTE_SECOND</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_ADD</span><span class="p">(</span><span class="s1">'2100-12-31 23:59:59'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="s1">'1:1'</span> <span class="n">MINUTE_SECOND</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2101</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">00</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">00</span>                                           <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">DATE_ADD</span><span class="p">(</span><span class="s1">'1900-01-01 00:00:00'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="s1">'-1 10'</span> <span class="n">DAY_HOUR</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_ADD</span><span class="p">(</span><span class="s1">'1900-01-01 00:00:00'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="s1">'-1 10'</span> <span class="n">DAY_HOUR</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">1899</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>                                        <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">DATE_ADD</span><span class="p">(</span><span class="s1">'1992-12-31 23:59:59.000002'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="s1">'1.999999'</span> <span class="n">SECOND_MICROSECOND</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_ADD</span><span class="p">(</span><span class="s1">'1992-12-31 23:59:59.000002'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="s1">'1.999999'</span> <span class="n">SECOND_MICROSECOND</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">1993</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">01</span><span class="p">.</span><span class="mi">000001</span>                                                     <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="date_addsee-also">See Also</h2>
<ul start="1"><li><a href="#date_sub">DATE_SUB</a>
</li><li><a href="https://mariadb.com/kb/en/add_months/">ADD_MONTHS</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="date_format">DATE_FORMAT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="date_formatsyntax">Syntax</h2>
<pre class="fixed">DATE_FORMAT(date, format[, locale])
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#date_formatsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#date_formatdescription" title="Description">Description</a></li>
<li class=""><a href="#date_formatexamples" title="Examples">Examples</a></li>
<li class=""><a href="#date_formatsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="date_formatdescription">Description</h2>
<p>Formats the date value according to the format string. </p>
<p>The language used for the names is controlled by the value of the <a href="https://mariadb.com/kb/en/server-system-variables/#lc_time_names">lc_time_names</a> system variable. See <a href="https://mariadb.com/kb/en/server-locale/">server locale</a> for more on the supported locales.</p>
<p>The options that can be used by DATE_FORMAT(), as well as its inverse <a href="#str_to_date">STR_TO_DATE</a>() and the <a href="#from_unixtime">FROM_UNIXTIME()</a> function, are:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Option</th><th>Description</th></tr>
<tr><td><code>%a</code></td><td>Short weekday name in current locale (Variable <a href="https://mariadb.com/kb/en/server-system-variables/#lc_time_names">lc_time_names</a>).</td></tr>
<tr><td><code>%b</code></td><td>Short form month name in current locale. For locale en_US this is one of: Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov or Dec.</td></tr>
<tr><td><code>%c</code></td><td>Month with 1 or 2 digits.</td></tr>
<tr><td><code>%D</code></td><td>Day with English suffix 'th', 'nd', 'st' or 'rd''. (1st, 2nd, 3rd...).</td></tr>
<tr><td><code>%d</code></td><td>Day with 2 digits.</td></tr>
<tr><td><code>%e</code></td><td>Day with 1 or 2 digits.</td></tr>
<tr><td><code>%f</code></td><td><a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds</a> 6 digits.</td></tr>
<tr><td><code>%H</code></td><td>Hour with 2 digits between 00-23.</td></tr>
<tr><td><code>%h</code></td><td>Hour with 2 digits between 01-12.</td></tr>
<tr><td><code>%I</code></td><td>Hour with 2 digits between 01-12.</td></tr>
<tr><td><code>%i</code></td><td>Minute with 2 digits.</td></tr>
<tr><td><code>%j</code></td><td>Day of the year (001-366)</td></tr>
<tr><td><code>%k</code></td><td>Hour with 1 digits between 0-23.</td></tr>
<tr><td><code>%l</code></td><td>Hour with 1 digits between 1-12.</td></tr>
<tr><td><code>%M</code></td><td>Full month name in current locale (Variable <a href="https://mariadb.com/kb/en/server-system-variables/#lc_time_names">lc_time_names</a>).</td></tr>
<tr><td><code>%m</code></td><td>Month with 2 digits.</td></tr>
<tr><td><code>%p</code></td><td>AM/PM according to current locale (Variable <a href="https://mariadb.com/kb/en/server-system-variables/#lc_time_names">lc_time_names</a>).</td></tr>
<tr><td><code>%r</code></td><td>Time in 12 hour format, followed by AM/PM. Short for '%I:%i:%S %p'.</td></tr>
<tr><td><code>%S</code></td><td>Seconds with 2 digits.</td></tr>
<tr><td><code>%s</code></td><td>Seconds with 2 digits.</td></tr>
<tr><td><code>%T</code></td><td>Time in 24 hour format. Short for '%H:%i:%S'.</td></tr>
<tr><td><code>%U</code></td><td>Week number (00-53), when first day of the week is Sunday.</td></tr>
<tr><td><code>%u</code></td><td>Week number (00-53), when first day of the week is Monday.</td></tr>
<tr><td><code>%V</code></td><td>Week number (01-53), when first day of the week is Sunday. Used with %X.</td></tr>
<tr><td><code>%v</code></td><td>Week number (01-53), when first day of the week is Monday. Used with %x.</td></tr>
<tr><td><code>%W</code></td><td>Full weekday name in current locale (Variable <a href="https://mariadb.com/kb/en/server-system-variables/#lc_time_names">lc_time_names</a>).</td></tr>
<tr><td><code>%w</code></td><td>Day of the week. 0 = Sunday, 6 = Saturday.</td></tr>
<tr><td><code>%X</code></td><td>Year with 4 digits when first day of the week is Sunday. Used with %V.</td></tr>
<tr><td><code>%x</code></td><td>Year with 4 digits when first day of the week is Monday. Used with %v.</td></tr>
<tr><td><code>%Y</code></td><td>Year with 4 digits.</td></tr>
<tr><td><code>%y</code></td><td>Year with 2 digits.</td></tr>
<tr><td><code>%#</code></td><td>For <a href="#str_to_date">str_to_date</a>(), skip all numbers.</td></tr>
<tr><td><code>%.</code></td><td>For <a href="#str_to_date">str_to_date</a>(), skip all punctation characters.</td></tr>
<tr><td><code>%@</code></td><td>For <a href="#str_to_date">str_to_date</a>(), skip all alpha characters.</td></tr>
<tr><td><code>%%</code></td><td>A literal <code>%</code> character.</td></tr>
</table>
</div><p>To get a date in one of the standard formats, <code><a href="#get_format">GET_FORMAT()</a></code> can be used.</p>
<h2 class="anchored_heading" id="date_formatexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'2009-10-04 22:23:00'</span><span class="p">,</span> <span class="s1">'%W %M %Y'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'2009-10-04 22:23:00'</span><span class="p">,</span> <span class="s1">'%W %M %Y'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Sunday</span> <span class="n">October</span> <span class="mi">2009</span>                            <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'2007-10-04 22:23:00'</span><span class="p">,</span> <span class="s1">'%H:%i:%s'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'2007-10-04 22:23:00'</span><span class="p">,</span> <span class="s1">'%H:%i:%s'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">22</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">00</span>                                       <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'1900-10-04 22:23:00'</span><span class="p">,</span> <span class="s1">'%D %y %a %d %m %b %j'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'1900-10-04 22:23:00'</span><span class="p">,</span> <span class="s1">'%D %y %a %d %m %b %j'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">4</span><span class="n">th</span> <span class="mi">00</span> <span class="n">Thu</span> <span class="mi">04</span> <span class="mi">10</span> <span class="n">Oct</span> <span class="mi">277</span>                                   <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'1997-10-04 22:23:00'</span><span class="p">,</span> <span class="s1">'%H %k %I %r %T %S %w'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'1997-10-04 22:23:00'</span><span class="p">,</span> <span class="s1">'%H %k %I %r %T %S %w'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">22</span> <span class="mi">22</span> <span class="mi">10</span> <span class="mi">10</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">00</span> <span class="n">PM</span> <span class="mi">22</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">00</span> <span class="mi">00</span> <span class="mi">6</span>                         <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'1999-01-01'</span><span class="p">,</span> <span class="s1">'%X %V'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'1999-01-01'</span><span class="p">,</span> <span class="s1">'%X %V'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="mi">1998</span> <span class="mi">52</span>                            <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'2006-06-00'</span><span class="p">,</span> <span class="s1">'%d'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'2006-06-00'</span><span class="p">,</span> <span class="s1">'%d'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span> <span class="mi">00</span>                              <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
</pre><div class="mariadb_from_10_3_2 mariadb from_10_3_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">10.3.2</a></h5><p>Optionally, the locale can be explicitly specified as the third DATE_FORMAT() argument. Doing so makes the function independent from the session settings, and the three argument version of DATE_FORMAT() can be used in virtual indexed and persistent <a href="https://mariadb.com/kb/en/generated-columns/">generated-columns</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'2006-01-01'</span><span class="p">,</span> <span class="s1">'%W'</span><span class="p">,</span> <span class="s1">'el_GR'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'2006-01-01'</span><span class="p">,</span> <span class="s1">'%W'</span><span class="p">,</span> <span class="s1">'el_GR'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
<span class="o">|</span> <span class="err">Κυριακή</span>                                  <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
</pre></div><h2 class="anchored_heading" id="date_formatsee-also">See Also</h2>
<ul start="1"><li><a href="#str_to_date">STR_TO_DATE()</a>
</li><li><a href="#from_unixtime">FROM_UNIXTIME()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="date_sub">DATE_SUB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DATE_SUB(date,INTERVAL expr unit)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Performs date arithmetic. The <em>date</em> argument specifies the
starting date or datetime value. <em>expr</em> is an expression specifying the
interval value to be added or subtracted from the starting date. <em>expr</em> is a
string; it may start with a "<code>-</code>" for negative intervals. <em>unit</em> is a
keyword indicating the units in which the expression should be interpreted. See <a href="https://mariadb.com/kb/en/date-and-time-units/">Date and Time Units</a> for a complete list of permitted units. </p>
<p>See also <code><a href="#date_add">DATE_ADD()</a></code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">DATE_SUB</span><span class="p">(</span><span class="s1">'1998-01-02'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">31</span> <span class="k">DAY</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_SUB</span><span class="p">(</span><span class="s1">'1998-01-02'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">31</span> <span class="k">DAY</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>
<span class="o">|</span> <span class="mi">1997</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">02</span>                              <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">DATE_SUB</span><span class="p">(</span><span class="s1">'2005-01-01 00:00:00'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="s1">'1 1:1:1'</span> <span class="n">DAY_SECOND</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_SUB</span><span class="p">(</span><span class="s1">'2005-01-01 00:00:00'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="s1">'1 1:1:1'</span> <span class="n">DAY_SECOND</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">30</span> <span class="mi">22</span><span class="p">:</span><span class="mi">58</span><span class="p">:</span><span class="mi">59</span>                                            <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="dayname">DAYNAME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DAYNAME(date)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the name of the weekday for date. The language used for the name is controlled by the value
of the <a href="https://mariadb.com/kb/en/server-system-variables/#lc_time_names">lc_time_names</a> system variable. See <a href="https://mariadb.com/kb/en/server-locale/">server locale</a> for more on the supported locales.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">DAYNAME</span><span class="p">(</span><span class="s1">'2007-02-03'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">DAYNAME</span><span class="p">(</span><span class="s1">'2007-02-03'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">Saturday</span>              <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">d</span> <span class="n">DATETIME</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="ss">"2007-01-30 21:31:07"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"1983-10-15 06:42:51"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-04-21 12:34:56"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-10-30 06:31:41"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-01-30 14:03:25"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2004-10-07 11:19:34"</span><span class="p">);</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">d</span><span class="p">,</span> <span class="n">DAYNAME</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+------------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span> <span class="n">DAYNAME</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">21</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span> <span class="n">Tuesday</span>    <span class="o">|</span>
<span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span> <span class="mi">06</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span> <span class="n">Saturday</span>   <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span> <span class="n">Thursday</span>   <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span> <span class="n">Sunday</span>     <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span> <span class="n">Sunday</span>     <span class="o">|</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span> <span class="n">Thursday</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+------------+</span>
</pre><p>Changing the locale:</p>
<pre class="fixed"><span class="k">SET</span> <span class="n">lc_time_names</span> <span class="o">=</span> <span class="s1">'fr_CA'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">DAYNAME</span><span class="p">(</span><span class="s1">'2013-04-01'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">DAYNAME</span><span class="p">(</span><span class="s1">'2013-04-01'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">lundi</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="dayofmonth">DAYOFMONTH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DAYOFMONTH(date)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the day of the month for date, in the range <code>1</code> to <code>31</code>, or <code>0</code>
for dates such as <code>'0000-00-00'</code> or <code>'2008-00-00'</code> which have a zero day
part.</p>
<p>DAY() is a synonym.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">DAYOFMONTH</span><span class="p">(</span><span class="s1">'2007-02-03'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span> <span class="n">DAYOFMONTH</span><span class="p">(</span><span class="s1">'2007-02-03'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span>                        <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">d</span> <span class="n">DATETIME</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="ss">"2007-01-30 21:31:07"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"1983-10-15 06:42:51"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-04-21 12:34:56"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-10-30 06:31:41"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-01-30 14:03:25"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2004-10-07 11:19:34"</span><span class="p">);</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">d</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">where</span> <span class="n">DAYOFMONTH</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">21</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="dayofweek">DAYOFWEEK</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DAYOFWEEK(date)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the day of the week index for the date (1 = Sunday, 2 = Monday, ..., 7 =
Saturday). These index values correspond to the ODBC standard.</p>
<p>This contrasts with <code><a href="#weekday">WEEKDAY()</a></code> which follows a different index numbering
(<code>0</code> = Monday, <code>1</code> = Tuesday, ... <code>6</code> = Sunday).</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">DAYOFWEEK</span><span class="p">(</span><span class="s1">'2007-02-03'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">DAYOFWEEK</span><span class="p">(</span><span class="s1">'2007-02-03'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span>                       <span class="mi">7</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">d</span> <span class="n">DATETIME</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="ss">"2007-01-30 21:31:07"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"1983-10-15 06:42:51"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-04-21 12:34:56"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-10-30 06:31:41"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-01-30 14:03:25"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2004-10-07 11:19:34"</span><span class="p">);</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">d</span><span class="p">,</span> <span class="n">DAYNAME</span><span class="p">(</span><span class="n">d</span><span class="p">),</span> <span class="n">DAYOFWEEK</span><span class="p">(</span><span class="n">d</span><span class="p">),</span> <span class="n">WEEKDAY</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+------------+--------------+------------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span> <span class="n">DAYNAME</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">|</span> <span class="n">DAYOFWEEK</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">|</span> <span class="n">WEEKDAY</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+------------+--------------+------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">21</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span> <span class="n">Tuesday</span>    <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span> <span class="mi">06</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span> <span class="n">Saturday</span>   <span class="o">|</span>            <span class="mi">7</span> <span class="o">|</span>          <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span> <span class="n">Thursday</span>   <span class="o">|</span>            <span class="mi">5</span> <span class="o">|</span>          <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span> <span class="n">Sunday</span>     <span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span>          <span class="mi">6</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span> <span class="n">Sunday</span>     <span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span>          <span class="mi">6</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span> <span class="n">Thursday</span>   <span class="o">|</span>            <span class="mi">5</span> <span class="o">|</span>          <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+------------+--------------+------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="extract">EXTRACT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="extractsyntax">Syntax</h2>
<pre class="fixed">EXTRACT(unit FROM date)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#extractsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#extractdescription" title="Description">Description</a></li>
<li class=""><a href="#extractexamples" title="Examples">Examples</a></li>
<li class=""><a href="#extractsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="extractdescription">Description</h2>
<p>The EXTRACT() function extracts the required unit from the date. See <a href="https://mariadb.com/kb/en/date-and-time-units/">Date and Time Units</a> for a complete list of permitted units.</p>
<p>In <a href="https://mariadb.com/kb/en/mariadb-1007-release-notes/">MariaDB 10.0.7</a> and <a href="https://mariadb.com/kb/en/mariadb-5535-release-notes/">MariaDB 5.5.35</a>, <code>EXTRACT (HOUR FROM ...)</code> was changed to return a value from 0 to 23, adhering to the SQL standard. Until <a href="https://mariadb.com/kb/en/mariadb-1006-release-notes/">MariaDB 10.0.6</a> and <a href="https://mariadb.com/kb/en/mariadb-5534-release-notes/">MariaDB 5.5.34</a>, and in all versions of MySQL at least as of MySQL 5.7, it could return a value &gt; 23. <a href="#hour">HOUR()</a> is not a standard function, so continues to adhere to the old behaviour inherited from MySQL.</p>
<h2 class="anchored_heading" id="extractexamples">Examples</h2>
<pre class="fixed">SELECT EXTRACT(YEAR FROM '2009-07-02');
+---------------------------------+
| EXTRACT(YEAR FROM '2009-07-02') |
+---------------------------------+
|                            2009 |
+---------------------------------+

SELECT EXTRACT(YEAR_MONTH FROM '2009-07-02 01:02:03');
+------------------------------------------------+
| EXTRACT(YEAR_MONTH FROM '2009-07-02 01:02:03') |
+------------------------------------------------+
|                                         200907 |
+------------------------------------------------+

SELECT EXTRACT(DAY_MINUTE FROM '2009-07-02 01:02:03');
+------------------------------------------------+
| EXTRACT(DAY_MINUTE FROM '2009-07-02 01:02:03') |
+------------------------------------------------+
|                                          20102 |
+------------------------------------------------+

SELECT EXTRACT(MICROSECOND FROM '2003-01-02 10:30:00.000123');
+--------------------------------------------------------+
| EXTRACT(MICROSECOND FROM '2003-01-02 10:30:00.000123') |
+--------------------------------------------------------+
|                                                    123 |
+--------------------------------------------------------+
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1007-release-notes/">MariaDB 10.0.7</a> and <a href="https://mariadb.com/kb/en/mariadb-5535-release-notes/">MariaDB 5.5.35</a>, <code>EXTRACT (HOUR FROM...)</code> returns a value from 0 to 23, as per the SQL standard. <code>HOUR</code> is not a standard function, so continues to adhere to the old behaviour inherited from MySQL.</p>
<pre class="fixed">SELECT EXTRACT(HOUR FROM '26:30:00'), HOUR('26:30:00');
+-------------------------------+------------------+
| EXTRACT(HOUR FROM '26:30:00') | HOUR('26:30:00') |
+-------------------------------+------------------+
|                             2 |               26 |
+-------------------------------+------------------+
</pre><h2 class="anchored_heading" id="extractsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/date-and-time-units/">Date and Time Units</a>
</li><li><a href="https://mariadb.com/kb/en/date-and-time-literals/">Date and Time Literals</a>
</li><li><a href="#hour">HOUR()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="from_unixtime">FROM_UNIXTIME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="from_unixtimesyntax">Syntax</h2>
<pre class="fixed">FROM_UNIXTIME(unix_timestamp), FROM_UNIXTIME(unix_timestamp,format)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#from_unixtimesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#from_unixtimedescription" title="Description">Description</a></li>
<li class=""><a href="#from_unixtimeperformance-considerations" title="Performance Considerations">Performance Considerations</a></li>
<li class=""><a href="#from_unixtimeexamples" title="Examples">Examples</a></li>
<li class=""><a href="#from_unixtimesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="from_unixtimedescription">Description</h2>
<p>Returns a representation of the unix_timestamp argument as a value in
'YYYY-MM-DD HH:MM:SS' or YYYYMMDDHHMMSS.uuuuuu format, depending on
whether the function is used in a string or numeric context. The value
is expressed in the current <a href="https://mariadb.com/kb/en/time-zones/">time zone</a>. unix_timestamp is an internal
timestamp value such as is produced by the <a href="#unix_timestamp">UNIX_TIMESTAMP()</a> function.</p>
<p>If format is given, the result is formatted according to the format
string, which is used the same way as listed in the entry for the
<a href="#date_format">DATE_FORMAT()</a> function.</p>
<div class="cstm-style greenbox"><p>Timestamps in MariaDB have a maximum value of 2147483647, equivalent to 2038-01-19 05:14:07. This is due to the underlying 32-bit limitation. Using the function on a timestamp beyond this will result in NULL being returned. Use <a href="#datetime">DATETIME</a> as a storage type if you require dates beyond this.</p>
</div><p>The options that can be used by FROM_UNIXTIME(), as well as <a href="#date_format">DATE_FORMAT()</a> and <a href="#str_to_date">STR_TO_DATE()</a>, are:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Option</th><th>Description</th></tr>
<tr><td><code>%a</code></td><td>Short weekday name in current locale (Variable <a href="https://mariadb.com/kb/en/server-system-variables/#lc_time_names">lc_time_names</a>).</td></tr>
<tr><td><code>%b</code></td><td>Short form month name in current locale. For locale en_US this is one of: Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov or Dec.</td></tr>
<tr><td><code>%c</code></td><td>Month with 1 or 2 digits.</td></tr>
<tr><td><code>%D</code></td><td>Day with English suffix 'th', 'nd', 'st' or 'rd''. (1st, 2nd, 3rd...).</td></tr>
<tr><td><code>%d</code></td><td>Day with 2 digits.</td></tr>
<tr><td><code>%e</code></td><td>Day with 1 or 2 digits.</td></tr>
<tr><td><code>%f</code></td><td><a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds</a> 6 digits.</td></tr>
<tr><td><code>%H</code></td><td>Hour with 2 digits between 00-23.</td></tr>
<tr><td><code>%h</code></td><td>Hour with 2 digits between 01-12.</td></tr>
<tr><td><code>%I</code></td><td>Hour with 2 digits between 01-12.</td></tr>
<tr><td><code>%i</code></td><td>Minute with 2 digits.</td></tr>
<tr><td><code>%j</code></td><td>Day of the year (001-366)</td></tr>
<tr><td><code>%k</code></td><td>Hour with 1 digits between 0-23.</td></tr>
<tr><td><code>%l</code></td><td>Hour with 1 digits between 1-12.</td></tr>
<tr><td><code>%M</code></td><td>Full month name in current locale (Variable <a href="https://mariadb.com/kb/en/server-system-variables/#lc_time_names">lc_time_names</a>).</td></tr>
<tr><td><code>%m</code></td><td>Month with 2 digits.</td></tr>
<tr><td><code>%p</code></td><td>AM/PM according to current locale (Variable <a href="https://mariadb.com/kb/en/server-system-variables/#lc_time_names">lc_time_names</a>).</td></tr>
<tr><td><code>%r</code></td><td>Time in 12 hour format, followed by AM/PM. Short for '%I:%i:%S %p'.</td></tr>
<tr><td><code>%S</code></td><td>Seconds with 2 digits.</td></tr>
<tr><td><code>%s</code></td><td>Seconds with 2 digits.</td></tr>
<tr><td><code>%T</code></td><td>Time in 24 hour format. Short for '%H:%i:%S'.</td></tr>
<tr><td><code>%U</code></td><td>Week number (00-53), when first day of the week is Sunday.</td></tr>
<tr><td><code>%u</code></td><td>Week number (00-53), when first day of the week is Monday.</td></tr>
<tr><td><code>%V</code></td><td>Week number (01-53), when first day of the week is Sunday. Used with %X.</td></tr>
<tr><td><code>%v</code></td><td>Week number (01-53), when first day of the week is Monday. Used with %x.</td></tr>
<tr><td><code>%W</code></td><td>Full weekday name in current locale (Variable <a href="https://mariadb.com/kb/en/server-system-variables/#lc_time_names">lc_time_names</a>).</td></tr>
<tr><td><code>%w</code></td><td>Day of the week. 0 = Sunday, 6 = Saturday.</td></tr>
<tr><td><code>%X</code></td><td>Year with 4 digits when first day of the week is Sunday. Used with %V.</td></tr>
<tr><td><code>%x</code></td><td>Year with 4 digits when first day of the week is Sunday. Used with %v.</td></tr>
<tr><td><code>%Y</code></td><td>Year with 4 digits.</td></tr>
<tr><td><code>%y</code></td><td>Year with 2 digits.</td></tr>
<tr><td><code>%#</code></td><td>For <a href="#str_to_date">str_to_date</a>(), skip all numbers.</td></tr>
<tr><td><code>%.</code></td><td>For <a href="#str_to_date">str_to_date</a>(), skip all punctation characters.</td></tr>
<tr><td><code>%@</code></td><td>For <a href="#str_to_date">str_to_date</a>(), skip all alpha characters.</td></tr>
<tr><td><code>%%</code></td><td>A literal <code>%</code> character.</td></tr>
</table>
</div><h2 class="anchored_heading" id="from_unixtimeperformance-considerations">Performance Considerations</h2>
<p>If your <a href="https://mariadb.com/kb/en/server-system-variables/#time_zone">session time zone</a> is set to <code>SYSTEM</code> (the default), <code>FROM_UNIXTIME()</code> will call the OS function to convert the data using the system time zone. At least on Linux, the corresponding function (<code>localtime_r</code>) uses a global mutex inside glibc that can cause contention under high concurrent load.</p>
<p>Set your time zone to a named time zone to avoid this issue. See <a href="https://mariadb.com/kb/en/time-zones/#mysql-time-zone-tables">mysql time zone tables</a> for details on how to do this.</p>
<h2 class="anchored_heading" id="from_unixtimeexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">FROM_UNIXTIME</span><span class="p">(</span><span class="mi">1196440219</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="n">FROM_UNIXTIME</span><span class="p">(</span><span class="mi">1196440219</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">30</span> <span class="mi">11</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">19</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>

<span class="k">SELECT</span> <span class="n">FROM_UNIXTIME</span><span class="p">(</span><span class="mi">1196440219</span><span class="p">)</span> <span class="o">+</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="n">FROM_UNIXTIME</span><span class="p">(</span><span class="mi">1196440219</span><span class="p">)</span> <span class="o">+</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span>         <span class="mi">20071130113019</span><span class="p">.</span><span class="mi">000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>

<span class="k">SELECT</span> <span class="n">FROM_UNIXTIME</span><span class="p">(</span><span class="n">UNIX_TIMESTAMP</span><span class="p">(),</span> <span class="s1">'%Y %D %M %h:%i:%s %x'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">FROM_UNIXTIME</span><span class="p">(</span><span class="n">UNIX_TIMESTAMP</span><span class="p">(),</span> <span class="s1">'%Y %D %M %h:%i:%s %x'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2010</span> <span class="mi">27</span><span class="n">th</span> <span class="n">March</span> <span class="mi">01</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">47</span> <span class="mi">2010</span>                           <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="from_unixtimesee-also">See Also</h2>
<ul start="1"><li><a href="#unix_timestamp">UNIX_TIMESTAMP()</a>
</li><li><a href="#date_format">DATE_FORMAT()</a>
</li><li><a href="#str_to_date">STR_TO_DATE()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="get_format">GET_FORMAT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">GET_FORMAT({DATE|DATETIME|TIME}, {'EUR'|'USA'|'JIS'|'ISO'|'INTERNAL'})
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a format string. This function is useful in combination with
the <a href="#date_format">DATE_FORMAT()</a> and the <a href="#str_to_date">STR_TO_DATE()</a> functions.</p>
<p>Possible result formats are:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Function Call</th><th>Result Format</th></tr>
<tr><td>GET_FORMAT(DATE,'EUR')</td><td>'%d.%m.%Y'</td></tr>
<tr><td>GET_FORMAT(DATE,'USA')</td><td>'%m.%d.%Y'</td></tr>
<tr><td>GET_FORMAT(DATE,'JIS')</td><td>'%Y-%m-%d'</td></tr>
<tr><td>GET_FORMAT(DATE,'ISO')</td><td>'%Y-%m-%d'</td></tr>
<tr><td>GET_FORMAT(DATE,'INTERNAL')</td><td>'%Y%m%d'</td></tr>
<tr><td>GET_FORMAT(DATETIME,'EUR')</td><td>'%Y-%m-%d %H.%i.%s'</td></tr>
<tr><td>GET_FORMAT(DATETIME,'USA')</td><td>'%Y-%m-%d %H.%i.%s'</td></tr>
<tr><td>GET_FORMAT(DATETIME,'JIS')</td><td>'%Y-%m-%d %H:%i:%s'</td></tr>
<tr><td>GET_FORMAT(DATETIME,'ISO')</td><td>'%Y-%m-%d %H:%i:%s'</td></tr>
<tr><td>GET_FORMAT(DATETIME,'INTERNAL')</td><td>'%Y%m%d%H%i%s'</td></tr>
<tr><td>GET_FORMAT(TIME,'EUR')</td><td>'%H.%i.%s'</td></tr>
<tr><td>GET_FORMAT(TIME,'USA')</td><td>'%h:%i:%s %p'</td></tr>
<tr><td>GET_FORMAT(TIME,'JIS')</td><td>'%H:%i:%s'</td></tr>
<tr><td>GET_FORMAT(TIME,'ISO')</td><td>'%H:%i:%s'</td></tr>
<tr><td>GET_FORMAT(TIME,'INTERNAL')</td><td>'%H%i%s'</td></tr>
</table>
</div><h2 class="anchored_heading" id="examples">Examples</h2>
<p>Obtaining the string matching to the standard European date format:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">GET_FORMAT</span><span class="p">(</span><span class="nb">DATE</span><span class="p">,</span> <span class="s1">'EUR'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">GET_FORMAT</span><span class="p">(</span><span class="nb">DATE</span><span class="p">,</span> <span class="s1">'EUR'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="o">%</span><span class="n">d</span><span class="p">.</span><span class="o">%</span><span class="n">m</span><span class="p">.</span><span class="o">%</span><span class="n">Y</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
</pre><p>Using the same string to format a date:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'2003-10-03'</span><span class="p">,</span><span class="n">GET_FORMAT</span><span class="p">(</span><span class="nb">DATE</span><span class="p">,</span><span class="s1">'EUR'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">--------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="s1">'2003-10-03'</span><span class="p">,</span><span class="n">GET_FORMAT</span><span class="p">(</span><span class="nb">DATE</span><span class="p">,</span><span class="s1">'EUR'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">03</span><span class="p">.</span><span class="mi">10</span><span class="p">.</span><span class="mi">2003</span>                                       <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">STR_TO_DATE</span><span class="p">(</span><span class="s1">'10.31.2003'</span><span class="p">,</span><span class="n">GET_FORMAT</span><span class="p">(</span><span class="nb">DATE</span><span class="p">,</span><span class="s1">'USA'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">--------------------------------------------------+</span>
<span class="o">|</span> <span class="n">STR_TO_DATE</span><span class="p">(</span><span class="s1">'10.31.2003'</span><span class="p">,</span><span class="n">GET_FORMAT</span><span class="p">(</span><span class="nb">DATE</span><span class="p">,</span><span class="s1">'USA'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2003</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">31</span>                                       <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="hour">HOUR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">HOUR(time)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the hour for time. The range of the return value is 0 to 23
for time-of-day values. However, the range of <code>TIME</code> values actually is
much larger, so HOUR can return values greater than 23.</p>
<p>The return value is always positive, even if a negative <code>TIME</code> value is provided.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT HOUR('10:05:03');
+------------------+
| HOUR('10:05:03') |
+------------------+
|               10 |
+------------------+

SELECT HOUR('272:59:59');
+-------------------+
| HOUR('272:59:59') |
+-------------------+
|               272 |
+-------------------+
</pre><p>Difference between <code><a href="#extract">EXTRACT (HOUR FROM ...)</a></code> (&gt;= <a href="https://mariadb.com/kb/en/mariadb-1007-release-notes/">MariaDB 10.0.7</a> and <a href="https://mariadb.com/kb/en/mariadb-5535-release-notes/">MariaDB 5.5.35</a>) and <code>HOUR</code>:</p>
<pre class="fixed">SELECT EXTRACT(HOUR FROM '26:30:00'), HOUR('26:30:00');
+-------------------------------+------------------+
| EXTRACT(HOUR FROM '26:30:00') | HOUR('26:30:00') |
+-------------------------------+------------------+
|                             2 |               26 |
+-------------------------------+------------------+
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/date-and-time-units/">Date and Time Units</a>
</li><li><a href="https://mariadb.com/kb/en/date-and-time-literals/">Date and Time Literals</a>
</li><li><a href="#extract">EXTRACT()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="last_day">LAST_DAY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LAST_DAY(date)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Takes a date or datetime value and returns the corresponding value for
the last day of the month. Returns NULL if the argument is invalid.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">LAST_DAY</span><span class="p">(</span><span class="s1">'2003-02-05'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="n">LAST_DAY</span><span class="p">(</span><span class="s1">'2003-02-05'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="mi">2003</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">28</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>

<span class="k">SELECT</span> <span class="n">LAST_DAY</span><span class="p">(</span><span class="s1">'2004-02-05'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="n">LAST_DAY</span><span class="p">(</span><span class="s1">'2004-02-05'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">29</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>

<span class="k">SELECT</span> <span class="n">LAST_DAY</span><span class="p">(</span><span class="s1">'2004-01-01 01:01:01'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span> <span class="n">LAST_DAY</span><span class="p">(</span><span class="s1">'2004-01-01 01:01:01'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">31</span>                      <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>

<span class="k">SELECT</span> <span class="n">LAST_DAY</span><span class="p">(</span><span class="s1">'2003-03-32'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="n">LAST_DAY</span><span class="p">(</span><span class="s1">'2003-03-32'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="k">NULL</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1292</span><span class="p">):</span> <span class="n">Incorrect</span> <span class="n">datetime</span> <span class="n">value</span><span class="p">:</span> <span class="s1">'2003-03-32'</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="makedate">MAKEDATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MAKEDATE(year,dayofyear)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a date, given <code>year</code> and <code>day-of-year values</code>. <code>dayofyear</code> must be
greater than 0 or the result is NULL.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">MAKEDATE</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">31</span><span class="p">),</span> <span class="n">MAKEDATE</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">32</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+-------------------+</span>
<span class="o">|</span> <span class="n">MAKEDATE</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">31</span><span class="p">)</span> <span class="o">|</span> <span class="n">MAKEDATE</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">32</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+-------------------+</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">31</span>        <span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">01</span>        <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+-------------------+</span>

<span class="k">SELECT</span> <span class="n">MAKEDATE</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">365</span><span class="p">),</span> <span class="n">MAKEDATE</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span><span class="mi">365</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+--------------------+</span>
<span class="o">|</span> <span class="n">MAKEDATE</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">365</span><span class="p">)</span> <span class="o">|</span> <span class="n">MAKEDATE</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span><span class="mi">365</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+--------------------+</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span>         <span class="o">|</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+--------------------+</span>

<span class="k">SELECT</span> <span class="n">MAKEDATE</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">MAKEDATE</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="k">NULL</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="maketime">MAKETIME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MAKETIME(hour,minute,second)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a time value calculated from the <code>hour</code>, <code>minute</code>, and <code>second</code> arguments.</p>
<p>If <code>minute</code> or <code>second</code> are out of the range 0 to 60, NULL is returned. The <code>hour</code> can be in the range -838 to 838, outside of which the value is truncated with a warning.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">MAKETIME</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">57</span><span class="p">,</span><span class="mi">33</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">MAKETIME</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">57</span><span class="p">,</span><span class="mi">33</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="mi">13</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">33</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SELECT</span> <span class="n">MAKETIME</span><span class="p">(</span><span class="o">-</span><span class="mi">13</span><span class="p">,</span><span class="mi">57</span><span class="p">,</span><span class="mi">33</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">MAKETIME</span><span class="p">(</span><span class="o">-</span><span class="mi">13</span><span class="p">,</span><span class="mi">57</span><span class="p">,</span><span class="mi">33</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="o">-</span><span class="mi">13</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">33</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>

<span class="k">SELECT</span> <span class="n">MAKETIME</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">67</span><span class="p">,</span><span class="mi">33</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">MAKETIME</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">67</span><span class="p">,</span><span class="mi">33</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="k">NULL</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SELECT</span> <span class="n">MAKETIME</span><span class="p">(</span><span class="o">-</span><span class="mi">1000</span><span class="p">,</span><span class="mi">57</span><span class="p">,</span><span class="mi">33</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">MAKETIME</span><span class="p">(</span><span class="o">-</span><span class="mi">1000</span><span class="p">,</span><span class="mi">57</span><span class="p">,</span><span class="mi">33</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="o">-</span><span class="mi">838</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">59</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------+-----------------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span>   <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                       <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+-----------------------------------------------+</span>
<span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1292</span> <span class="o">|</span> <span class="n">Truncated</span> <span class="n">incorrect</span> <span class="n">time</span> <span class="n">value</span><span class="p">:</span> <span class="s1">'-1000:57:33'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+-----------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="microsecond">MICROSECOND</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="microsecondsyntax">Syntax</h2>
<pre class="fixed">MICROSECOND(expr)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#microsecondsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#microseconddescription" title="Description">Description</a></li>
<li class=""><a href="#microsecondexamples" title="Examples">Examples</a></li>
<li class=""><a href="#microsecondsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="microseconddescription">Description</h2>
<p>Returns the microseconds from the time or datetime expression <em>expr</em> as a number in the range from 0 to 999999.</p>
<p>If <em>expr</em> is a time with no microseconds, zero is returned, while if <em>expr</em> is a date with no time, zero with a warning is returned.</p>
<h2 class="anchored_heading" id="microsecondexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">MICROSECOND</span><span class="p">(</span><span class="s1">'12:00:00.123456'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="n">MICROSECOND</span><span class="p">(</span><span class="s1">'12:00:00.123456'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span>                         <span class="mi">123456</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>

<span class="k">SELECT</span> <span class="n">MICROSECOND</span><span class="p">(</span><span class="s1">'2009-12-31 23:59:59.000010'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="n">MICROSECOND</span><span class="p">(</span><span class="s1">'2009-12-31 23:59:59.000010'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span>                                        <span class="mi">10</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">MICROSECOND</span><span class="p">(</span><span class="s1">'2013-08-07 12:13:14'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">MICROSECOND</span><span class="p">(</span><span class="s1">'2013-08-07 12:13:14'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span>                                  <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">MICROSECOND</span><span class="p">(</span><span class="s1">'2013-08-07'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="n">MICROSECOND</span><span class="p">(</span><span class="s1">'2013-08-07'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span>                         <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------+----------------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span>   <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                      <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+----------------------------------------------+</span>
<span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1292</span> <span class="o">|</span> <span class="n">Truncated</span> <span class="n">incorrect</span> <span class="n">time</span> <span class="n">value</span><span class="p">:</span> <span class="s1">'2013-08-07'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+----------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="microsecondsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="now">NOW</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="nowsyntax">Syntax</h2>
<pre class="fixed">NOW([precision])
CURRENT_TIMESTAMP
CURRENT_TIMESTAMP([precision])
LOCALTIME, LOCALTIME([precision])
LOCALTIMESTAMP
LOCALTIMESTAMP([precision])
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#nowsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#nowdescription" title="Description">Description</a></li>
<li class=""><a href="#nowexamples" title="Examples">Examples</a></li>
<li class=""><a href="#nowsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="nowdescription">Description</h2>
<p>Returns the current date and time as a value in <code>'YYYY-MM-DD HH:MM:SS'</code>
or <code>YYYYMMDDHHMMSS.uuuuuu</code> format, depending on whether the function is
used in a string or numeric context. The value is expressed in the
current <a href="https://mariadb.com/kb/en/time-zones/">time zone</a>.</p>
<p>The optional <em>precision</em> determines the microsecond precision. See <a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a>.</p>
<p><code>NOW()</code> (or its synonyms) can be used as the default value for <a href="#timestamp">TIMESTAMP</a> columns as well as, since <a href="https://mariadb.com/kb/en/mariadb-1001-release-notes/">MariaDB 10.0.1</a>, <a href="#datetime">DATETIME</a> columns. Before <a href="https://mariadb.com/kb/en/mariadb-1001-release-notes/">MariaDB 10.0.1</a>, it was only possible for a single TIMESTAMP column per table to contain the CURRENT_TIMESTAMP as its default.</p>
<p>When displayed in the <a href="https://mariadb.com/kb/en/information-schema-columns-table/">INFORMATION_SCHEMA.COLUMNS</a> table, a default <a href="#current_timestamp">CURRENT TIMESTAMP</a> is displayed as <code>CURRENT_TIMESTAMP</code> up until <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>, and as <code>current_timestamp()</code> from <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>, due to to <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">MariaDB 10.2</a> accepting expressions in the DEFAULT clause.</p>
<h2 class="anchored_heading" id="nowexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">NOW</span><span class="p">();</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">NOW</span><span class="p">()</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="mi">2010</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">27</span> <span class="mi">13</span><span class="p">:</span><span class="mi">13</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>

<span class="k">SELECT</span> <span class="n">NOW</span><span class="p">()</span> <span class="o">+</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">NOW</span><span class="p">()</span> <span class="o">+</span> <span class="mi">0</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="mi">20100327131329</span><span class="p">.</span><span class="mi">000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
</pre><p>With precision:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CURRENT_TIMESTAMP</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="k">CURRENT_TIMESTAMP</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">10</span> <span class="mi">09</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span><span class="mi">26</span><span class="p">.</span><span class="mi">24</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
</pre><p>Used as a default TIMESTAMP:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span><span class="n">createdTS</span> <span class="k">TIMESTAMP</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">DEFAULT</span> <span class="k">CURRENT_TIMESTAMP</span><span class="p">);</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">COLUMNS</span> <span class="k">WHERE</span> <span class="n">TABLE_SCHEMA</span><span class="o">=</span><span class="s1">'test'</span>
  <span class="k">AND</span> <span class="k">COLUMN_NAME</span> <span class="k">LIKE</span> <span class="s1">'%ts%'</span><span class="err">\</span><span class="k">G</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
           <span class="n">TABLE_CATALOG</span><span class="p">:</span> <span class="n">def</span>
            <span class="n">TABLE_SCHEMA</span><span class="p">:</span> <span class="n">test</span>
              <span class="k">TABLE_NAME</span><span class="p">:</span> <span class="n">t</span>
             <span class="k">COLUMN_NAME</span><span class="p">:</span> <span class="n">ts</span>
        <span class="n">ORDINAL_POSITION</span><span class="p">:</span> <span class="mi">1</span>
          <span class="n">COLUMN_DEFAULT</span><span class="p">:</span> <span class="k">current_timestamp</span><span class="p">()</span>
<span class="p">...</span>
</pre><p>&lt;= <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a></p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">COLUMNS</span> <span class="k">WHERE</span> <span class="n">TABLE_SCHEMA</span><span class="o">=</span><span class="s1">'test'</span>
  <span class="k">AND</span> <span class="k">COLUMN_NAME</span> <span class="k">LIKE</span> <span class="s1">'%ts%'</span><span class="err">\</span><span class="k">G</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
           <span class="n">TABLE_CATALOG</span><span class="p">:</span> <span class="n">def</span>
            <span class="n">TABLE_SCHEMA</span><span class="p">:</span> <span class="n">test</span>
              <span class="k">TABLE_NAME</span><span class="p">:</span> <span class="n">t</span>
             <span class="k">COLUMN_NAME</span><span class="p">:</span> <span class="n">createdTS</span>
        <span class="n">ORDINAL_POSITION</span><span class="p">:</span> <span class="mi">1</span>
          <span class="n">COLUMN_DEFAULT</span><span class="p">:</span> <span class="k">CURRENT_TIMESTAMP</span>
<span class="p">...</span>
</pre><h2 class="anchored_heading" id="nowsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a>
</li><li><a href="https://mariadb.com/kb/en/server-system-variables/#timestamp">timestamp server system variable</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="period_add">PERIOD_ADD</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">PERIOD_ADD(P,N)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Adds <code>N</code> months to period <code>P</code>. <code>P</code> is in the format YYMM or YYYYMM, and is not a date value. If <code>P</code> contains a two-digit year, values from 00 to 69 are converted to from 2000 to 2069, while values from 70 are converted to 1970 upwards.</p>
<p>Returns a value in the format YYYYMM.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">PERIOD_ADD</span><span class="p">(</span><span class="mi">200801</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">PERIOD_ADD</span><span class="p">(</span><span class="mi">200801</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>               <span class="mi">200803</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">PERIOD_ADD</span><span class="p">(</span><span class="mi">6910</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">PERIOD_ADD</span><span class="p">(</span><span class="mi">6910</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span>             <span class="mi">206912</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SELECT</span> <span class="n">PERIOD_ADD</span><span class="p">(</span><span class="mi">7010</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">PERIOD_ADD</span><span class="p">(</span><span class="mi">7010</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span>             <span class="mi">197012</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="period_diff">PERIOD_DIFF</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">PERIOD_DIFF(P1,P2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the number of months between periods P1 and P2. P1 and P2 
can be in the format <code>YYMM</code> or <code>YYYYMM</code>, and are not date values.</p>
<p>If P1 or P2 contains a two-digit year, values from 00 to 69 are converted to from 2000 to 2069, while values from 70 are converted to 1970 upwards.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">PERIOD_DIFF</span><span class="p">(</span><span class="mi">200802</span><span class="p">,</span><span class="mi">200703</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span> <span class="n">PERIOD_DIFF</span><span class="p">(</span><span class="mi">200802</span><span class="p">,</span><span class="mi">200703</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span>                         <span class="mi">11</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>

<span class="k">SELECT</span> <span class="n">PERIOD_DIFF</span><span class="p">(</span><span class="mi">6902</span><span class="p">,</span><span class="mi">6803</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="n">PERIOD_DIFF</span><span class="p">(</span><span class="mi">6902</span><span class="p">,</span><span class="mi">6803</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span>                     <span class="mi">11</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>

<span class="k">SELECT</span> <span class="n">PERIOD_DIFF</span><span class="p">(</span><span class="mi">7002</span><span class="p">,</span><span class="mi">6803</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="n">PERIOD_DIFF</span><span class="p">(</span><span class="mi">7002</span><span class="p">,</span><span class="mi">6803</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span>                  <span class="o">-</span><span class="mi">1177</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="sec_to_time">SEC_TO_TIME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SEC_TO_TIME(seconds)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the seconds argument, converted to hours, minutes, and
seconds, as a TIME value. The range of the result is constrained to
that of the <a href="#time">TIME data type</a>. A warning occurs if the argument
corresponds to a value outside that range.</p>
<p>The time will be returned in the format <code>hh:mm:ss</code>, or <code>hhmmss</code> if used in a numeric calculation.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SEC_TO_TIME</span><span class="p">(</span><span class="mi">12414</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">SEC_TO_TIME</span><span class="p">(</span><span class="mi">12414</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="mi">03</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="mi">54</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SELECT</span> <span class="n">SEC_TO_TIME</span><span class="p">(</span><span class="mi">12414</span><span class="p">)</span><span class="o">+</span><span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">SEC_TO_TIME</span><span class="p">(</span><span class="mi">12414</span><span class="p">)</span><span class="o">+</span><span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                <span class="mi">32654</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">SEC_TO_TIME</span><span class="p">(</span><span class="mi">9999999</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">SEC_TO_TIME</span><span class="p">(</span><span class="mi">9999999</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="mi">838</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">59</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------+-------------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span>   <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+-------------------------------------------+</span>
<span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1292</span> <span class="o">|</span> <span class="n">Truncated</span> <span class="n">incorrect</span> <span class="n">time</span> <span class="n">value</span><span class="p">:</span> <span class="s1">'9999999'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+-------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="str_to_date">STR_TO_DATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="str_to_datesyntax">Syntax</h2>
<pre class="fixed">STR_TO_DATE(str,format)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#str_to_datesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#str_to_datedescription" title="Description">Description</a></li>
<li class=""><a href="#str_to_dateexamples" title="Examples">Examples</a></li>
<li class=""><a href="#str_to_datesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="str_to_datedescription">Description</h2>
<p>This is the inverse of the <a href="#date_format">DATE_FORMAT</a>() function. It takes
a string <code>str</code> and a format string <code>format</code>. <code>STR_TO_DATE()</code> returns a
<code>DATETIME</code> value if the format string contains both date and time parts, or a
<code>DATE</code> or <code>TIME</code> value if the string contains only date or time parts.</p>
<p>The date, time, or datetime values contained in <code>str</code> should be given in the format indicated by format. If str contains an illegal date, time, or datetime value, <code>STR_TO_DATE()</code> returns <code>NULL</code>. An illegal value also produces a warning.</p>
<p>The options that can be used by STR_TO_DATE(), as well as its inverse <a href="#date_format">DATE_FORMAT()</a> and the <a href="#from_unixtime">FROM_UNIXTIME()</a> function, are:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Option</th><th>Description</th></tr>
<tr><td><code>%a</code></td><td>Short weekday name in current locale (Variable <a href="https://mariadb.com/kb/en/server-system-variables/#lc_time_names">lc_time_names</a>).</td></tr>
<tr><td><code>%b</code></td><td>Short form month name in current locale. For locale en_US this is one of: Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov or Dec.</td></tr>
<tr><td><code>%c</code></td><td>Month with 1 or 2 digits.</td></tr>
<tr><td><code>%D</code></td><td>Day with English suffix 'th', 'nd', 'st' or 'rd''. (1st, 2nd, 3rd...).</td></tr>
<tr><td><code>%d</code></td><td>Day with 2 digits.</td></tr>
<tr><td><code>%e</code></td><td>Day with 1 or 2 digits.</td></tr>
<tr><td><code>%f</code></td><td><a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds</a> 6 digits.</td></tr>
<tr><td><code>%H</code></td><td>Hour with 2 digits between 00-23.</td></tr>
<tr><td><code>%h</code></td><td>Hour with 2 digits between 01-12.</td></tr>
<tr><td><code>%I</code></td><td>Hour with 2 digits between 01-12.</td></tr>
<tr><td><code>%i</code></td><td>Minute with 2 digits.</td></tr>
<tr><td><code>%j</code></td><td>Day of the year (001-366)</td></tr>
<tr><td><code>%k</code></td><td>Hour with 1 digits between 0-23.</td></tr>
<tr><td><code>%l</code></td><td>Hour with 1 digits between 1-12.</td></tr>
<tr><td><code>%M</code></td><td>Full month name in current locale (Variable <a href="https://mariadb.com/kb/en/server-system-variables/#lc_time_names">lc_time_names</a>).</td></tr>
<tr><td><code>%m</code></td><td>Month with 2 digits.</td></tr>
<tr><td><code>%p</code></td><td>AM/PM according to current locale (Variable <a href="https://mariadb.com/kb/en/server-system-variables/#lc_time_names">lc_time_names</a>).</td></tr>
<tr><td><code>%r</code></td><td>Time in 12 hour format, followed by AM/PM. Short for '%I:%i:%S %p'.</td></tr>
<tr><td><code>%S</code></td><td>Seconds with 2 digits.</td></tr>
<tr><td><code>%s</code></td><td>Seconds with 2 digits.</td></tr>
<tr><td><code>%T</code></td><td>Time in 24 hour format. Short for '%H:%i:%S'.</td></tr>
<tr><td><code>%U</code></td><td>Week number (00-53), when first day of the week is Sunday.</td></tr>
<tr><td><code>%u</code></td><td>Week number (00-53), when first day of the week is Monday.</td></tr>
<tr><td><code>%V</code></td><td>Week number (01-53), when first day of the week is Sunday. Used with %X.</td></tr>
<tr><td><code>%v</code></td><td>Week number (01-53), when first day of the week is Monday. Used with %x.</td></tr>
<tr><td><code>%W</code></td><td>Full weekday name in current locale (Variable <a href="https://mariadb.com/kb/en/server-system-variables/#lc_time_names">lc_time_names</a>).</td></tr>
<tr><td><code>%w</code></td><td>Day of the week. 0 = Sunday, 6 = Saturday.</td></tr>
<tr><td><code>%X</code></td><td>Year with 4 digits when first day of the week is Sunday. Used with %V.</td></tr>
<tr><td><code>%x</code></td><td>Year with 4 digits when first day of the week is Monday. Used with %v.</td></tr>
<tr><td><code>%Y</code></td><td>Year with 4 digits.</td></tr>
<tr><td><code>%y</code></td><td>Year with 2 digits.</td></tr>
<tr><td><code>%#</code></td><td>For <a href="#str_to_date">str_to_date</a>(), skip all numbers.</td></tr>
<tr><td><code>%.</code></td><td>For <a href="#str_to_date">str_to_date</a>(), skip all punctation characters.</td></tr>
<tr><td><code>%@</code></td><td>For <a href="#str_to_date">str_to_date</a>(), skip all alpha characters.</td></tr>
<tr><td><code>%%</code></td><td>A literal <code>%</code> character.</td></tr>
</table>
</div><h2 class="anchored_heading" id="str_to_dateexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">STR_TO_DATE</span><span class="p">(</span><span class="s1">'Wednesday, June 2, 2014'</span><span class="p">,</span> <span class="s1">'%W, %M %e, %Y'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">STR_TO_DATE</span><span class="p">(</span><span class="s1">'Wednesday, June 2, 2014'</span><span class="p">,</span> <span class="s1">'%W, %M %e, %Y'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">02</span>                                              <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------+</span>


<span class="k">SELECT</span> <span class="n">STR_TO_DATE</span><span class="p">(</span><span class="s1">'Wednesday23423, June 2, 2014'</span><span class="p">,</span> <span class="s1">'%W, %M %e, %Y'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">STR_TO_DATE</span><span class="p">(</span><span class="s1">'Wednesday23423, June 2, 2014'</span><span class="p">,</span> <span class="s1">'%W, %M %e, %Y'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">NULL</span>                                                         <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------+-----------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span>   <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                                                           <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+-----------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1411</span> <span class="o">|</span> <span class="n">Incorrect</span> <span class="n">datetime</span> <span class="n">value</span><span class="p">:</span> <span class="s1">'Wednesday23423, June 2, 2014'</span> <span class="k">for</span> <span class="k">function</span> <span class="n">str_to_date</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+-----------------------------------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">STR_TO_DATE</span><span class="p">(</span><span class="s1">'Wednesday23423, June 2, 2014'</span><span class="p">,</span> <span class="s1">'%W%#, %M %e, %Y'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">STR_TO_DATE</span><span class="p">(</span><span class="s1">'Wednesday23423, June 2, 2014'</span><span class="p">,</span> <span class="s1">'%W%#, %M %e, %Y'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">02</span>                                                     <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="str_to_datesee-also">See Also</h2>
<ul start="1"><li><a href="#date_format">DATE_FORMAT()</a>
</li><li><a href="#from_unixtime">FROM_UNIXTIME()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="subdate">SUBDATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SUBDATE(date,INTERVAL expr unit), SUBDATE(expr,days)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>When invoked with the <code>INTERVAL</code> form of the second argument, <code>SUBDATE()</code>
is a synonym for <code><a href="#date_sub">DATE_SUB()</a></code>. See <a href="https://mariadb.com/kb/en/date-and-time-units/">Date and Time Units</a> for a complete list of permitted units. </p>
<p>The second form allows the use of an integer value for days. In such
cases, it is interpreted as the number of days to be subtracted from
the date or datetime expression expr.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">DATE_SUB</span><span class="p">(</span><span class="s1">'2008-01-02'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">31</span> <span class="k">DAY</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_SUB</span><span class="p">(</span><span class="s1">'2008-01-02'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">31</span> <span class="k">DAY</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">02</span>                              <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">SUBDATE</span><span class="p">(</span><span class="s1">'2008-01-02'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">31</span> <span class="k">DAY</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span> <span class="n">SUBDATE</span><span class="p">(</span><span class="s1">'2008-01-02'</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">31</span> <span class="k">DAY</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">02</span>                             <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">SUBDATE</span><span class="p">(</span><span class="s1">'2008-01-02 12:00:00'</span><span class="p">,</span> <span class="mi">31</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">SUBDATE</span><span class="p">(</span><span class="s1">'2008-01-02 12:00:00'</span><span class="p">,</span> <span class="mi">31</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">02</span> <span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">d</span> <span class="n">DATETIME</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="ss">"2007-01-30 21:31:07"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"1983-10-15 06:42:51"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-04-21 12:34:56"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-10-30 06:31:41"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-01-30 14:03:25"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2004-10-07 11:19:34"</span><span class="p">);</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">d</span><span class="p">,</span> <span class="n">SUBDATE</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+---------------------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span> <span class="n">SUBDATE</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+---------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">21</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">20</span> <span class="mi">21</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span> <span class="mi">06</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">05</span> <span class="mi">06</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">11</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">20</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">27</span> <span class="mi">11</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+---------------------+</span>

<span class="k">SELECT</span> <span class="n">d</span><span class="p">,</span> <span class="n">SUBDATE</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">10</span> <span class="k">MINUTE</span><span class="p">)</span> <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+--------------------------------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span> <span class="n">SUBDATE</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="nb">INTERVAL</span> <span class="mi">10</span> <span class="k">MINUTE</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+--------------------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">21</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">21</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mi">07</span>            <span class="o">|</span>
<span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span> <span class="mi">06</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span> <span class="mi">06</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">51</span>            <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="mi">12</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">56</span>            <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mi">41</span>            <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">13</span><span class="p">:</span><span class="mi">53</span><span class="p">:</span><span class="mi">25</span>            <span class="o">|</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mi">34</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+--------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="subtime">SUBTIME</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SUBTIME(expr1,expr2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>SUBTIME() returns <code>expr1</code> - <code>expr2</code> expressed as a value in the same
format as <code>expr1</code>. <code>expr1</code> is a time or datetime expression, and expr2 is
a time expression.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SUBTIME</span><span class="p">(</span><span class="s1">'2007-12-31 23:59:59.999999'</span><span class="p">,</span><span class="s1">'1 1:1:1.000002'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">SUBTIME</span><span class="p">(</span><span class="s1">'2007-12-31 23:59:59.999999'</span><span class="p">,</span><span class="s1">'1 1:1:1.000002'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">30</span> <span class="mi">22</span><span class="p">:</span><span class="mi">58</span><span class="p">:</span><span class="mi">58</span><span class="p">.</span><span class="mi">999997</span>                             <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">SUBTIME</span><span class="p">(</span><span class="s1">'01:00:00.999999'</span><span class="p">,</span> <span class="s1">'02:00:00.999998'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
<span class="o">|</span> <span class="n">SUBTIME</span><span class="p">(</span><span class="s1">'01:00:00.999999'</span><span class="p">,</span> <span class="s1">'02:00:00.999998'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
<span class="o">|</span> <span class="o">-</span><span class="mi">00</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">59</span><span class="p">.</span><span class="mi">999999</span>                              <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="sysdate">SYSDATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="sysdatesyntax">Syntax</h2>
<pre class="fixed">SYSDATE([precision])
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#sysdatesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#sysdatedescription" title="Description">Description</a></li>
<li class=""><a href="#sysdateexamples" title="Examples">Examples</a></li>
<li class=""><a href="#sysdatesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="sysdatedescription">Description</h2>
<p>Returns the current date and time as a value in 'YYYY-MM-DD HH:MM:SS'
or YYYYMMDDHHMMSS.uuuuuu format, depending on whether the function is
used in a string or numeric context.</p>
<p>The optional <em>precision</em> determines the microsecond precision. See <a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a>.</p>
<p>SYSDATE() returns the time at which it executes. This differs from the
behavior for <a href="#now">NOW()</a>, which returns a constant time that indicates the
time at which the statement began to execute. (Within a stored routine
or trigger, NOW() returns the time at which the routine or triggering
statement began to execute.)</p>
<p>In addition, changing the <a href="https://mariadb.com/kb/en/server-system-variables/#timestamp">timestamp system variable</a> with a <a href="#set">SET</a> <code>timestamp</code> statement affects the value returned by
NOW() but not by SYSDATE(). This means that timestamp settings in the
<a href="https://mariadb.com/kb/en/binary-log/">binary log</a> have no effect on invocations of SYSDATE().</p>
<p>Because SYSDATE() can return different values even within the same
statement, and is not affected by SET TIMESTAMP, it is
non-deterministic and therefore unsafe for replication if
statement-based binary logging is used. If that is a problem, you can
use row-based logging, or start the server with the mysqld option <a href="https://mariadb.com/kb/en/mysqld-options/#-sysdate-is-now">--sysdate-is-now</a> to cause SYSDATE() to be an alias for NOW(). The non-deterministic nature of SYSDATE() also means that indexes cannot be used for evaluating expressions that refer to it, and that statements using the SYSDATE() function are <a href="https://mariadb.com/kb/en/unsafe-statements-for-replication/">unsafe for statement-based replication</a>.</p>
<h2 class="anchored_heading" id="sysdateexamples">Examples</h2>
<p>Difference between NOW() and SYSDATE():</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">NOW</span><span class="p">(),</span> <span class="n">SLEEP</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">NOW</span><span class="p">();</span>
<span class="o">+</span><span class="c1">---------------------+----------+---------------------+</span>
<span class="o">|</span> <span class="n">NOW</span><span class="p">()</span>               <span class="o">|</span> <span class="n">SLEEP</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">NOW</span><span class="p">()</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+----------+---------------------+</span>
<span class="o">|</span> <span class="mi">2010</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">27</span> <span class="mi">13</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">40</span> <span class="o">|</span>        <span class="mi">0</span> <span class="o">|</span> <span class="mi">2010</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">27</span> <span class="mi">13</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">40</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+----------+---------------------+</span>

<span class="k">SELECT</span> <span class="n">SYSDATE</span><span class="p">(),</span> <span class="n">SLEEP</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">SYSDATE</span><span class="p">();</span>
<span class="o">+</span><span class="c1">---------------------+----------+---------------------+</span>
<span class="o">|</span> <span class="n">SYSDATE</span><span class="p">()</span>           <span class="o">|</span> <span class="n">SLEEP</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">SYSDATE</span><span class="p">()</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+----------+---------------------+</span>
<span class="o">|</span> <span class="mi">2010</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">27</span> <span class="mi">13</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">52</span> <span class="o">|</span>        <span class="mi">0</span> <span class="o">|</span> <span class="mi">2010</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">27</span> <span class="mi">13</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">54</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+----------+---------------------+</span>
</pre><p>With precision:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SYSDATE</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span> <span class="n">SYSDATE</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">10</span> <span class="mi">10</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">13</span><span class="p">.</span><span class="mi">1689</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
</pre><h2 class="anchored_heading" id="sysdatesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a>
</li><li><a href="https://mariadb.com/kb/en/server-system-variables/#timestamp">timestamp server system variable</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="timediff">TIMEDIFF</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">TIMEDIFF(expr1,expr2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>TIMEDIFF() returns <code>expr1</code> - <code>expr2</code> expressed as a time value. <code>expr1</code> and
<code>expr2</code> are time or date-and-time expressions, but both must be of the
same type.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">TIMEDIFF</span><span class="p">(</span><span class="s1">'2000:01:01 00:00:00'</span><span class="p">,</span> <span class="s1">'2000:01:01 00:00:00.000001'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">TIMEDIFF</span><span class="p">(</span><span class="s1">'2000:01:01 00:00:00'</span><span class="p">,</span> <span class="s1">'2000:01:01 00:00:00.000001'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------------+</span>
<span class="o">|</span> <span class="o">-</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">.</span><span class="mi">000001</span>                                              <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">TIMEDIFF</span><span class="p">(</span><span class="s1">'2008-12-31 23:59:59.000001'</span><span class="p">,</span> <span class="s1">'2008-12-30 01:01:01.000002'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">TIMEDIFF</span><span class="p">(</span><span class="s1">'2008-12-31 23:59:59.000001'</span><span class="p">,</span> <span class="s1">'2008-12-30 01:01:01.000002'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">46</span><span class="p">:</span><span class="mi">58</span><span class="p">:</span><span class="mi">57</span><span class="p">.</span><span class="mi">999999</span>                                                      <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="timestamp-function">TIMESTAMP FUNCTION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">TIMESTAMP(expr), TIMESTAMP(expr1,expr2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>With a single argument, this function returns the date or datetime
expression <code>expr</code> as a datetime value. With two arguments, it adds the
time expression <code>expr2</code> to the date or datetime expression <code>expr1</code> and
returns the result as a datetime value.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">TIMESTAMP</span><span class="p">(</span><span class="s1">'2003-12-31'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="k">TIMESTAMP</span><span class="p">(</span><span class="s1">'2003-12-31'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="mi">2003</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>

<span class="k">SELECT</span> <span class="k">TIMESTAMP</span><span class="p">(</span><span class="s1">'2003-12-31 12:00:00'</span><span class="p">,</span><span class="s1">'6:30:00'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
<span class="o">|</span> <span class="k">TIMESTAMP</span><span class="p">(</span><span class="s1">'2003-12-31 12:00:00'</span><span class="p">,</span><span class="s1">'6:30:00'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2003</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">18</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span>                        <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="timestampadd">TIMESTAMPADD</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">TIMESTAMPADD(unit,interval,datetime_expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Adds the integer expression interval to the date or datetime
expression datetime_expr. The unit for interval is given by the unit
argument, which should be one of the following values: MICROSECOND, SECOND, MINUTE, HOUR, DAY, WEEK, MONTH, QUARTER, or YEAR.</p>
<p>The unit value may be specified using one of keywords as shown, or
with a prefix of SQL_TSI_. For example, DAY and SQL_TSI_DAY both are
legal.</p>
<p>Before <a href="https://mariadb.com/kb/en/what-is-mariadb-55/">MariaDB 5.5</a>, FRAC_SECOND was permitted as a synonym for MICROSECOND.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">TIMESTAMPADD</span><span class="p">(</span><span class="k">MINUTE</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s1">'2003-01-02'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="n">TIMESTAMPADD</span><span class="p">(</span><span class="k">MINUTE</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s1">'2003-01-02'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="mi">2003</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">00</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">00</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">TIMESTAMPADD</span><span class="p">(</span><span class="n">WEEK</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s1">'2003-01-02'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------+</span>
<span class="o">|</span> <span class="n">TIMESTAMPADD</span><span class="p">(</span><span class="n">WEEK</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s1">'2003-01-02'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------+</span>
<span class="o">|</span> <span class="mi">2003</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">09</span>                        <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="timestampdiff">TIMESTAMPDIFF</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">TIMESTAMPDIFF(unit,datetime_expr1,datetime_expr2)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns <code>datetime_expr2</code> - <code>datetime_expr1</code>, where <code>datetime_expr1</code> and
<code>datetime_expr2</code> are date or datetime expressions. One expression may be
a date and the other a datetime; a date value is treated as a datetime
having the time part '00:00:00' where necessary. The unit for the
result (an integer) is given by the unit argument. The legal values
for unit are the same as those listed in the description of the
<a href="#timestampadd">TIMESTAMPADD()</a> function, i.e  MICROSECOND, SECOND, MINUTE, HOUR, DAY, WEEK, MONTH, QUARTER, or YEAR.</p>
<p><code>TIMESTAMPDIFF</code> can also be used to calculate age.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">TIMESTAMPDIFF</span><span class="p">(</span><span class="k">MONTH</span><span class="p">,</span><span class="s1">'2003-02-01'</span><span class="p">,</span><span class="s1">'2003-05-01'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="n">TIMESTAMPDIFF</span><span class="p">(</span><span class="k">MONTH</span><span class="p">,</span><span class="s1">'2003-02-01'</span><span class="p">,</span><span class="s1">'2003-05-01'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span>                                              <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">TIMESTAMPDIFF</span><span class="p">(</span><span class="k">YEAR</span><span class="p">,</span><span class="s1">'2002-05-01'</span><span class="p">,</span><span class="s1">'2001-01-01'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
<span class="o">|</span> <span class="n">TIMESTAMPDIFF</span><span class="p">(</span><span class="k">YEAR</span><span class="p">,</span><span class="s1">'2002-05-01'</span><span class="p">,</span><span class="s1">'2001-01-01'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>
<span class="o">|</span>                                            <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">TIMESTAMPDIFF</span><span class="p">(</span><span class="k">MINUTE</span><span class="p">,</span><span class="s1">'2003-02-01'</span><span class="p">,</span><span class="s1">'2003-05-01 12:05:55'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">TIMESTAMPDIFF</span><span class="p">(</span><span class="k">MINUTE</span><span class="p">,</span><span class="s1">'2003-02-01'</span><span class="p">,</span><span class="s1">'2003-05-01 12:05:55'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------+</span>
<span class="o">|</span>                                                   <span class="mi">128885</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------+</span>
</pre><p>Calculating age:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CURDATE</span><span class="p">();</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">CURDATE</span><span class="p">()</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="mi">2019</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">27</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SELECT</span> <span class="n">TIMESTAMPDIFF</span><span class="p">(</span><span class="k">YEAR</span><span class="p">,</span> <span class="s1">'1971-06-06'</span><span class="p">,</span> <span class="n">CURDATE</span><span class="p">())</span> <span class="k">AS</span> <span class="n">age</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">age</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>   <span class="mi">47</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>

<span class="k">SELECT</span> <span class="n">TIMESTAMPDIFF</span><span class="p">(</span><span class="k">YEAR</span><span class="p">,</span> <span class="s1">'1971-05-06'</span><span class="p">,</span> <span class="n">CURDATE</span><span class="p">())</span> <span class="k">AS</span> <span class="n">age</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">age</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>   <span class="mi">48</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><p>Age as of 2014-08-02:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">date_of_birth</span><span class="p">,</span> <span class="n">TIMESTAMPDIFF</span><span class="p">(</span><span class="k">YEAR</span><span class="p">,</span><span class="n">date_of_birth</span><span class="p">,</span><span class="s1">'2014-08-02'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">age</span> 
  <span class="k">FROM</span> <span class="n">student_details</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+---------------+------+</span>
<span class="o">|</span> <span class="n">name</span>    <span class="o">|</span> <span class="n">date_of_birth</span> <span class="o">|</span> <span class="n">age</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+---------------+------+</span>
<span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span> <span class="mi">1993</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span>    <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Esben</span>   <span class="o">|</span> <span class="mi">1946</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span>    <span class="o">|</span>   <span class="mi">68</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Kaolin</span>  <span class="o">|</span> <span class="mi">1996</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">16</span>    <span class="o">|</span>   <span class="mi">18</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Tatiana</span> <span class="o">|</span> <span class="mi">1988</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">13</span>    <span class="o">|</span>   <span class="mi">26</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+---------------+------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="to_days">TO_DAYS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">TO_DAYS(date)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Given a date <code>date</code>, returns the number of days since the start of the current calendar (0000-00-00).</p>
<p>The function is not designed for use with dates before the advent of the Gregorian calendar in October 1582. Results will not be reliable since it doesn't account for the lost days when the calendar changed from the Julian calendar.</p>
<p>This is the converse of the <a href="#from_days">FROM_DAYS()</a> function.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">TO_DAYS</span><span class="p">(</span><span class="s1">'2007-10-07'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">TO_DAYS</span><span class="p">(</span><span class="s1">'2007-10-07'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                <span class="mi">733321</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>

<span class="k">SELECT</span> <span class="n">TO_DAYS</span><span class="p">(</span><span class="s1">'0000-01-01'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">TO_DAYS</span><span class="p">(</span><span class="s1">'0000-01-01'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                     <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>

<span class="k">SELECT</span> <span class="n">TO_DAYS</span><span class="p">(</span><span class="mi">950501</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span> <span class="n">TO_DAYS</span><span class="p">(</span><span class="mi">950501</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
<span class="o">|</span>          <span class="mi">728779</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="to_seconds">TO_SECONDS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">TO_SECONDS(expr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the number of seconds from year 0 till <code>expr</code>, or NULL if <code>expr</code> is not a valid date or <a href="#datetime">datetime</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">TO_SECONDS</span><span class="p">(</span><span class="s1">'2013-06-13'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span> <span class="n">TO_SECONDS</span><span class="p">(</span><span class="s1">'2013-06-13'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span>              <span class="mi">63538300800</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>

<span class="k">SELECT</span> <span class="n">TO_SECONDS</span><span class="p">(</span><span class="s1">'2013-06-13 21:45:13'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------+</span>
<span class="o">|</span> <span class="n">TO_SECONDS</span><span class="p">(</span><span class="s1">'2013-06-13 21:45:13'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------+</span>
<span class="o">|</span>                       <span class="mi">63538379113</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------+</span>

<span class="k">SELECT</span> <span class="n">TO_SECONDS</span><span class="p">(</span><span class="n">NOW</span><span class="p">());</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">TO_SECONDS</span><span class="p">(</span><span class="n">NOW</span><span class="p">())</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span>       <span class="mi">63543530875</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">SELECT</span> <span class="n">TO_SECONDS</span><span class="p">(</span><span class="mi">20130513</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">TO_SECONDS</span><span class="p">(</span><span class="mi">20130513</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>          <span class="mi">63535622400</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SELECT</span> <span class="n">TO_SECONDS</span><span class="p">(</span><span class="mi">130513</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">TO_SECONDS</span><span class="p">(</span><span class="mi">130513</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span>        <span class="mi">63535622400</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="unix_timestamp">UNIX_TIMESTAMP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#unix_timestampsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#unix_timestampdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#unix_timestamperror-handling" title="Error Handling">Error Handling</a></li>
<li class=""><a href="#unix_timestampcompatibility" title="Compatibility">Compatibility</a> </li></ol>
</li>
<li class=""><a href="#unix_timestampexamples" title="Examples">Examples</a></li>
<li class=""><a href="#unix_timestampsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="unix_timestampsyntax">Syntax</h2>
<pre class="fixed">UNIX_TIMESTAMP()
UNIX_TIMESTAMP(date)
</pre><h2 class="anchored_heading" id="unix_timestampdescription">Description</h2>
<p>If called with no argument, returns a Unix timestamp (seconds since
'1970-01-01 00:00:00' <a href="https://mariadb.com/kb/en/coordinated-universal-time/">UTC</a>) as an unsigned integer. If <code>UNIX_TIMESTAMP()</code>
is called with a date argument, it returns the value of the argument as seconds
since '1970-01-01 00:00:00' UTC. date may be a <code><a href="#date">DATE</a></code> string, a
<code><a href="#datetime">DATETIME</a></code> string, a <code><a href="#timestamp">TIMESTAMP</a></code>, or a number in
the format YYMMDD or YYYYMMDD. The server interprets date as a value in the
current <a href="https://mariadb.com/kb/en/time-zones/">time zone</a> and converts it to an internal value in <a href="https://mariadb.com/kb/en/coordinated-universal-time/">UTC</a>. Clients can set
their time zone as described in <a href="https://mariadb.com/kb/en/time-zones/">time zones</a>.</p>
<p>The inverse function of <code>UNIX_TIMESTAMP()</code> is <code><a href="#from_unixtime">FROM_UNIXTIME()</a></code></p>
<p><code>UNIX_TIMESTAMP()</code> supports <a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">microseconds</a>.</p>
<div class="cstm-style greenbox"><p>Timestamps in MariaDB have a maximum value of 2147483647, equivalent to 2038-01-19 05:14:07. This is due to the underlying 32-bit limitation. Using the function on a date beyond this will result in NULL being returned. Use <a href="#datetime">DATETIME</a> as a storage type if you require dates beyond this.</p>
</div><h3 class="anchored_heading" id="unix_timestamperror-handling">Error Handling</h3>
<p>Returns NULL for wrong arguments to <code>UNIX_TIMESTAMP()</code>. In MySQL and MariaDB before 5.3 wrong arguments to <code>UNIX_TIMESTAMP()</code> returned 0. </p>
<h3 class="anchored_heading" id="unix_timestampcompatibility">Compatibility</h3>
<p>As you can see in the examples above, UNIX_TIMESTAMP(constant-date-string) returns a timestamp with 6 decimals while <a href="https://mariadb.com/kb/en/what-is-mariadb-52/">MariaDB 5.2</a> and before returns it without decimals. This can cause a problem if you are using UNIX_TIMESTAMP() as a partitioning function. You can fix this by using <a href="#floor">FLOOR</a>(UNIX_TIMESTAMP(..)) or changing the date string to a date number, like 20080101000000. </p>
<h2 class="anchored_heading" id="unix_timestampexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">UNIX_TIMESTAMP</span><span class="p">();</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">UNIX_TIMESTAMP</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>       <span class="mi">1269711082</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">SELECT</span> <span class="n">UNIX_TIMESTAMP</span><span class="p">(</span><span class="s1">'2007-11-30 10:30:19'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
<span class="o">|</span> <span class="n">UNIX_TIMESTAMP</span><span class="p">(</span><span class="s1">'2007-11-30 10:30:19'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
<span class="o">|</span>                     <span class="mi">1196436619</span><span class="p">.</span><span class="mi">000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">UNIX_TIMESTAMP</span><span class="p">(</span><span class="ss">"2007-11-30 10:30:19.123456"</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span> <span class="n">unix_timestamp</span><span class="p">(</span><span class="ss">"2007-11-30 10:30:19.123456"</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span>                            <span class="mi">1196411419</span><span class="p">.</span><span class="mi">123456</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">FROM_UNIXTIME</span><span class="p">(</span><span class="n">UNIX_TIMESTAMP</span><span class="p">(</span><span class="s1">'2007-11-30 10:30:19'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">FROM_UNIXTIME</span><span class="p">(</span><span class="n">UNIX_TIMESTAMP</span><span class="p">(</span><span class="s1">'2007-11-30 10:30:19'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">30</span> <span class="mi">10</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">19</span><span class="p">.</span><span class="mi">000000</span>                           <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">FROM_UNIXTIME</span><span class="p">(</span><span class="n">FLOOR</span><span class="p">(</span><span class="n">UNIX_TIMESTAMP</span><span class="p">(</span><span class="s1">'2007-11-30 10:30:19'</span><span class="p">)));</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">FROM_UNIXTIME</span><span class="p">(</span><span class="n">FLOOR</span><span class="p">(</span><span class="n">UNIX_TIMESTAMP</span><span class="p">(</span><span class="s1">'2007-11-30 10:30:19'</span><span class="p">)))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">30</span> <span class="mi">10</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">19</span>                                         <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="unix_timestampsee-also">See Also</h2>
<ul start="1"><li><a href="#from_unixtime">FROM_UNIXTIME()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="utc_timestamp">UTC_TIMESTAMP</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">UTC_TIMESTAMP
UTC_TIMESTAMP([precision])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the current <a href="https://mariadb.com/kb/en/coordinated-universal-time/">UTC</a> date and time as a value in 'YYYY-MM-DD
HH:MM:SS' or YYYYMMDDHHMMSS.uuuuuu format, depending on whether the
function is used in a string or numeric context.</p>
<p>The optional <em>precision</em> determines the microsecond precision. See <a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">UTC_TIMESTAMP</span><span class="p">(),</span> <span class="n">UTC_TIMESTAMP</span><span class="p">()</span> <span class="o">+</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+-----------------------+</span>
<span class="o">|</span> <span class="n">UTC_TIMESTAMP</span><span class="p">()</span>     <span class="o">|</span> <span class="n">UTC_TIMESTAMP</span><span class="p">()</span> <span class="o">+</span> <span class="mi">0</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+-----------------------+</span>
<span class="o">|</span> <span class="mi">2010</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">27</span> <span class="mi">17</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">16</span> <span class="o">|</span> <span class="mi">20100327173316</span><span class="p">.</span><span class="mi">000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+-----------------------+</span>
</pre><p>With precision:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">UTC_TIMESTAMP</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span> <span class="n">UTC_TIMESTAMP</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">10</span> <span class="mi">07</span><span class="p">:</span><span class="mi">51</span><span class="p">:</span><span class="mi">09</span><span class="p">.</span><span class="mi">1019</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/time-zones/">Time Zones</a>
</li><li><a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="week">WEEK</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">WEEK(date[,mode])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This function returns the week number for <code>date</code>. The two-argument form of
<code>WEEK()</code> allows you to specify whether the week starts on Sunday or Monday
and whether the return value should be in the range from 0 to 53 or from 1 to
53. If the <code>mode</code> argument is omitted, the value of the <a href="https://mariadb.com/kb/en/server-system-variables/#default_week_format">default_week_format</a> system variable is used.</p>
<h3 class="anchored_heading" id="modes">Modes</h3>
<div class="cstm-style borders centered"><table><tr><th>Mode</th><th>1st day of week</th><th>Range</th><th>Week 1 is the 1st week with</th></tr>
<tr><td>0</td><td>Sunday</td><td>0-53</td><td>a Sunday in this year</td></tr>
<tr><td>1</td><td>Monday</td><td>0-53</td><td>more than 3 days this year</td></tr>
<tr><td>2</td><td>Sunday</td><td>1-53</td><td>a Sunday in this year</td></tr>
<tr><td>3</td><td>Monday</td><td>1-53</td><td>more than 3 days this year</td></tr>
<tr><td>4</td><td>Sunday</td><td>0-53</td><td>more than 3 days this year</td></tr>
<tr><td>5</td><td>Monday</td><td>0-53</td><td>a Monday in this year</td></tr>
<tr><td>6</td><td>Sunday</td><td>1-53</td><td>more than 3 days this year</td></tr>
<tr><td>7</td><td>Monday</td><td>1-53</td><td>a Monday in this year</td></tr>
</table>
</div><p>With the mode value of 3, which means “more than 3 days this year”,  weeks are numbered according to ISO 8601:1988.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">WEEK</span><span class="p">(</span><span class="s1">'2008-02-20'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">WEEK</span><span class="p">(</span><span class="s1">'2008-02-20'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span>                  <span class="mi">7</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SELECT</span> <span class="n">WEEK</span><span class="p">(</span><span class="s1">'2008-02-20'</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">WEEK</span><span class="p">(</span><span class="s1">'2008-02-20'</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">7</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">WEEK</span><span class="p">(</span><span class="s1">'2008-02-20'</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">WEEK</span><span class="p">(</span><span class="s1">'2008-02-20'</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">8</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">WEEK</span><span class="p">(</span><span class="s1">'2008-12-31'</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">WEEK</span><span class="p">(</span><span class="s1">'2008-12-31'</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                   <span class="mi">52</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">WEEK</span><span class="p">(</span><span class="s1">'2008-12-31'</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">WEEK</span><span class="p">(</span><span class="s1">'2008-12-31'</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                   <span class="mi">53</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

 <span class="k">SELECT</span> <span class="n">WEEK</span><span class="p">(</span><span class="s1">'2019-12-30'</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">WEEK</span><span class="p">(</span><span class="s1">'2019-12-30'</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">d</span> <span class="n">DATETIME</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="ss">"2007-01-30 21:31:07"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"1983-10-15 06:42:51"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-04-21 12:34:56"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-10-30 06:31:41"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-01-30 14:03:25"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2004-10-07 11:19:34"</span><span class="p">);</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">d</span><span class="p">,</span> <span class="n">WEEK</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">WEEK</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+-----------+-----------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span> <span class="n">WEEK</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">WEEK</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+-----------+-----------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">21</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span>         <span class="mi">4</span> <span class="o">|</span>         <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span> <span class="mi">06</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span>        <span class="mi">41</span> <span class="o">|</span>        <span class="mi">41</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span>        <span class="mi">16</span> <span class="o">|</span>        <span class="mi">16</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span>        <span class="mi">44</span> <span class="o">|</span>        <span class="mi">43</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span>         <span class="mi">5</span> <span class="o">|</span>         <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span>        <span class="mi">40</span> <span class="o">|</span>        <span class="mi">41</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+-----------+-----------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="weekday">WEEKDAY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">WEEKDAY(date)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the weekday index for <code>date</code> 
(<code>0</code> = Monday, <code>1</code> = Tuesday, ... <code>6</code> = Sunday).</p>
<p>This contrasts with <code><a href="#dayofweek">DAYOFWEEK()</a></code> which follows the ODBC standard
(<code>1</code> = Sunday, <code>2</code> = Monday, ..., <code>7</code> = Saturday).</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">WEEKDAY</span><span class="p">(</span><span class="s1">'2008-02-03 22:23:00'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="n">WEEKDAY</span><span class="p">(</span><span class="s1">'2008-02-03 22:23:00'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span>                              <span class="mi">6</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>

<span class="k">SELECT</span> <span class="n">WEEKDAY</span><span class="p">(</span><span class="s1">'2007-11-06'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">WEEKDAY</span><span class="p">(</span><span class="s1">'2007-11-06'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                     <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">d</span> <span class="n">DATETIME</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="ss">"2007-01-30 21:31:07"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"1983-10-15 06:42:51"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-04-21 12:34:56"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-10-30 06:31:41"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-01-30 14:03:25"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2004-10-07 11:19:34"</span><span class="p">);</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">d</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">where</span> <span class="n">WEEKDAY</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="weekofyear">WEEKOFYEAR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">WEEKOFYEAR(date)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the calendar week of the date as a number in the range from 1
to 53. <code>WEEKOFYEAR()</code> is a compatibility function that is equivalent to
<code><a href="#week">WEEK(date,3)</a></code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">WEEKOFYEAR</span><span class="p">(</span><span class="s1">'2008-02-20'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span> <span class="n">WEEKOFYEAR</span><span class="p">(</span><span class="s1">'2008-02-20'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span>                        <span class="mi">8</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">d</span> <span class="n">DATETIME</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="ss">"2007-01-30 21:31:07"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"1983-10-15 06:42:51"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-04-21 12:34:56"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-10-30 06:31:41"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-01-30 14:03:25"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2004-10-07 11:19:34"</span><span class="p">);</span>
</pre><pre class="fixed"> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">21</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span> <span class="mi">06</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">d</span><span class="p">,</span> <span class="n">WEEKOFYEAR</span><span class="p">(</span><span class="n">d</span><span class="p">),</span> <span class="n">WEEK</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+---------------+-----------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span> <span class="n">WEEKOFYEAR</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">|</span> <span class="n">WEEK</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+---------------+-----------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">21</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span>             <span class="mi">5</span> <span class="o">|</span>         <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span> <span class="mi">06</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span>            <span class="mi">41</span> <span class="o">|</span>        <span class="mi">41</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span>            <span class="mi">16</span> <span class="o">|</span>        <span class="mi">16</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span>            <span class="mi">43</span> <span class="o">|</span>        <span class="mi">43</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span>             <span class="mi">4</span> <span class="o">|</span>         <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span>            <span class="mi">41</span> <span class="o">|</span>        <span class="mi">41</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+---------------+-----------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="year">YEAR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">YEAR(date)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the year for the given date, in the range 1000 to 9999, or 0 for the
"zero" date.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">d</span> <span class="n">DATETIME</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="ss">"2007-01-30 21:31:07"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"1983-10-15 06:42:51"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-04-21 12:34:56"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-10-30 06:31:41"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-01-30 14:03:25"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2004-10-07 11:19:34"</span><span class="p">);</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">21</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span> <span class="mi">06</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="k">YEAR</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2011</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="k">YEAR</span><span class="p">(</span><span class="s1">'1987-01-01'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="k">YEAR</span><span class="p">(</span><span class="s1">'1987-01-01'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span>               <span class="mi">1987</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#year-data-type">YEAR data type</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="yearweek">YEARWEEK</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">YEARWEEK(date), YEARWEEK(date,mode)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns year and week for a date. The mode argument works exactly like the mode
argument to <a href="#week">WEEK()</a>. The year in the result may be different from the
year in the date argument for the first and the last week of the year.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">YEARWEEK</span><span class="p">(</span><span class="s1">'1987-01-01'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="n">YEARWEEK</span><span class="p">(</span><span class="s1">'1987-01-01'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span>                 <span class="mi">198652</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">d</span> <span class="n">DATETIME</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="ss">"2007-01-30 21:31:07"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"1983-10-15 06:42:51"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-04-21 12:34:56"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-10-30 06:31:41"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-01-30 14:03:25"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2004-10-07 11:19:34"</span><span class="p">);</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">d</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="mi">2007</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">21</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">07</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span> <span class="mi">06</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">21</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">30</span> <span class="mi">06</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">25</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="mi">6</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span> <span class="n">sec</span><span class="p">)</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">YEARWEEK</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="k">YEAR</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2011</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="n">YEARWEEK</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>      <span class="mi">201116</span> <span class="o">|</span>
<span class="o">|</span>      <span class="mi">201144</span> <span class="o">|</span>
<span class="o">|</span>      <span class="mi">201105</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="mi">3</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span> <span class="n">sec</span><span class="p">)</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="well-known-binary-wkb-format">Well-Known Binary (WKB) Format</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>WKB stands for Well-Known Binary, a format for representing geographical and geometrical data.</p>
<p>WKB uses 1-byte unsigned integers, 4-byte unsigned integers, and 8-byte double-precision numbers.</p>
<ul><li>The first byte indicates the byte order. 00 for big endian, or 01 for little endian.
</li><li>The next 4 bytes indicate the geometry type. Values from 1 to 7 indicate whether the type is Point, LineString, Polygon, MultiPoint, MultiLineString, MultiPolygon, or GeometryCollection respectively. 
</li><li>The 8-byte floats represent the co-ordinates.
</li></ul>
<p>Take the following example, a sequence of 21 bytes each represented by two hex digits:</p>
<pre class="fixed">000000000140000000000000004010000000000000
</pre><ul><li>It's big endian
<ul><li>00<strong>0000000140000000000000004010000000000000</strong>
</li></ul>
</li><li>It's a POINT
<ul><li>00<strong>00000001</strong>40000000000000004010000000000000
</li></ul>
</li><li>The X co-ordinate is 2.0
<ul><li>0000000001<strong>4000000000000000</strong>4010000000000000
</li></ul>
</li><li>The Y-co-ordinate is 4.0
<ul><li>00000000014000000000000000<strong>4010000000000000</strong></li></ul>
</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="mpolyfromwkb">MPolyFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MPolyFromWKB(wkb[,srid])
MultiPolygonFromWKB(wkb[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a <a href="#multipolygon">MULTIPOLYGON</a> value using its <a href="#well-known-binary-wkb-format">WKB</a>  representation and <a href="https://mariadb.com/kb/en/srid/">SRID</a>.</p>
<p><code>MPolyFromWKB()</code> and <code>MultiPolygonFromWKB()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="n">ST_AsBinary</span><span class="p">(</span><span class="n">MPointFromText</span><span class="p">(</span><span class="s1">'MULTIPOLYGON(((28 26,28 0,84 0,84 42,28 26),(52 18,66 23,73 9,48 6,52 18)),((59 18,67 18,67 13,59 13,59 18)))'</span><span class="p">));</span>

<span class="k">SELECT</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">MPolyFromWKB</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">));</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">MPolyFromWKB</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">))</span>                                                                                   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">MULTIPOLYGON</span><span class="p">(((</span><span class="mi">28</span> <span class="mi">26</span><span class="p">,</span><span class="mi">28</span> <span class="mi">0</span><span class="p">,</span><span class="mi">84</span> <span class="mi">0</span><span class="p">,</span><span class="mi">84</span> <span class="mi">42</span><span class="p">,</span><span class="mi">28</span> <span class="mi">26</span><span class="p">),(</span><span class="mi">52</span> <span class="mi">18</span><span class="p">,</span><span class="mi">66</span> <span class="mi">23</span><span class="p">,</span><span class="mi">73</span> <span class="mi">9</span><span class="p">,</span><span class="mi">48</span> <span class="mi">6</span><span class="p">,</span><span class="mi">52</span> <span class="mi">18</span><span class="p">)),((</span><span class="mi">59</span> <span class="mi">18</span><span class="p">,</span><span class="mi">67</span> <span class="mi">18</span><span class="p">,</span><span class="mi">67</span> <span class="mi">13</span><span class="p">,</span><span class="mi">59</span> <span class="mi">13</span><span class="p">,</span><span class="mi">59</span> <span class="mi">18</span><span class="p">)))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------------------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_geomcollfromwkb">ST_GeomCollFromWKB</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_GeomCollFromWKB(wkb[,srid])
ST_GeometryCollectionFromWKB(wkb[,srid])
GeomCollFromWKB(wkb[,srid])
GeometryCollectionFromWKB(wkb[,srid])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Constructs a GEOMETRYCOLLECTION value using its <a href="#well-known-binary-wkb-format">WKB</a>  representation and SRID.</p>
<p><code>ST_GeomCollFromWKB()</code>, <code>ST_GeometryCollectionFromWKB()</code>, <code>GeomCollFromWKB()</code> and <code>GeometryCollectionFromWKB()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="k">g</span> <span class="o">=</span> <span class="n">ST_AsBinary</span><span class="p">(</span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">'GEOMETRYCOLLECTION(POLYGON((5 5,10 5,10 10,5 5)),POINT(10 10))'</span><span class="p">));</span>

<span class="k">SELECT</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_GeomCollFromWKB</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_GeomCollFromWKB</span><span class="p">(</span><span class="o">@</span><span class="k">g</span><span class="p">))</span>                              <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">GEOMETRYCOLLECTION</span><span class="p">(</span><span class="n">POLYGON</span><span class="p">((</span><span class="mi">5</span> <span class="mi">5</span><span class="p">,</span><span class="mi">10</span> <span class="mi">5</span><span class="p">,</span><span class="mi">10</span> <span class="mi">10</span><span class="p">,</span><span class="mi">5</span> <span class="mi">5</span><span class="p">)),</span><span class="n">POINT</span><span class="p">(</span><span class="mi">10</span> <span class="mi">10</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_boundary">ST_BOUNDARY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_1_2 mariadb from_10_1_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">10.1.2</a></h5><p>The ST_BOUNDARY function was introduced in <a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a></p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_BOUNDARY(g)
BOUNDARY(g)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a geometry that is the closure of the combinatorial boundary of the geometry value <em><code>g</code></em>.</p>
<p>BOUNDARY() is a synonym.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_Boundary</span><span class="p">(</span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">'LINESTRING(3 3,0 0, -3 3)'</span><span class="p">)));</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_Boundary</span><span class="p">(</span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">'LINESTRING(3 3,0 0, -3 3)'</span><span class="p">)))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">MULTIPOINT</span><span class="p">(</span><span class="mi">3</span> <span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span> <span class="mi">3</span><span class="p">)</span>                                                 <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_Boundary</span><span class="p">(</span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">'POLYGON((3 3,0 0, -3 3, 3 3))'</span><span class="p">)));</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_Boundary</span><span class="p">(</span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">'POLYGON((3 3,0 0, -3 3, 3 3))'</span><span class="p">)))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mi">3</span> <span class="mi">3</span><span class="p">,</span><span class="mi">0</span> <span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span> <span class="mi">3</span><span class="p">,</span><span class="mi">3</span> <span class="mi">3</span><span class="p">)</span>                                             <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_envelope">ST_ENVELOPE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_ENVELOPE(g)
ENVELOPE(g)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the Minimum Bounding Rectangle (MBR) for the geometry value <code>g</code>.  The result is returned as a Polygon value.</p>
<p>The polygon is defined by the corner points of the bounding box:</p>
<pre class="fixed">POLYGON((MINX MINY, MAXX MINY, MAXX MAXY, MINX MAXY, MINX MINY))
</pre><p><code>ST_ENVELOPE()</code> and <code>ENVELOPE()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">AsText</span><span class="p">(</span><span class="n">ST_ENVELOPE</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'LineString(1 1,4 4)'</span><span class="p">)));</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">AsText</span><span class="p">(</span><span class="n">ST_ENVELOPE</span><span class="p">(</span><span class="n">GeomFromText</span><span class="p">(</span><span class="s1">'LineString(1 1,4 4)'</span><span class="p">)))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">POLYGON</span><span class="p">((</span><span class="mi">1</span> <span class="mi">1</span><span class="p">,</span><span class="mi">4</span> <span class="mi">1</span><span class="p">,</span><span class="mi">4</span> <span class="mi">4</span><span class="p">,</span><span class="mi">1</span> <span class="mi">4</span><span class="p">,</span><span class="mi">1</span> <span class="mi">1</span><span class="p">))</span>                           <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="st_isclosed">ST_ISCLOSED</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ST_IsClosed(g)
IsClosed(g)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns 1 if a given <a href="#linestring">LINESTRING's</a> start and end points are the same, or 0 if they are not the same. Before <a href="https://mariadb.com/kb/en/mariadb-1015-release-notes/">MariaDB 10.1.5</a>, returns NULL if not given a LINESTRING. After <a href="https://mariadb.com/kb/en/mariadb-1015-release-notes/">MariaDB 10.1.5</a>, returns -1.</p>
<p><code>ST_IsClosed()</code> and <code>IsClosed()</code> are synonyms.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">ls</span> <span class="o">=</span> <span class="s1">'LineString(0 0, 0 4, 4 4, 0 0)'</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">ST_ISCLOSED</span><span class="p">(</span><span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">));</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="n">ST_ISCLOSED</span><span class="p">(</span><span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span>                              <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">ls</span> <span class="o">=</span> <span class="s1">'LineString(0 0, 0 4, 4 4, 0 1)'</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">ST_ISCLOSED</span><span class="p">(</span><span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">));</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="n">ST_ISCLOSED</span><span class="p">(</span><span class="n">GEOMFROMTEXT</span><span class="p">(</span><span class="o">@</span><span class="n">ls</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span>                              <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="binary-operator">BINARY Operator</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="cstm-style bluebox"><p>This page describes the BINARY operator. For details about the data type, see <a href="#binary">Binary Data Type</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">BINARY
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The <code>BINARY</code> operator casts the string following it to a binary string.  This is an easy way to force a column comparison to be done byte by byte rather than character by character. This causes the comparison to be case sensitive even if the column isn't defined as <code><a href="#binary">BINARY</a></code> or <code><a href="https://mariadb.com/kb/en/string-data-types-blob-data-types/">BLOB</a></code>.  </p>
<p><code>BINARY</code> also causes trailing spaces to be significant.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="s1">'a'</span> <span class="o">=</span> <span class="s1">'A'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="s1">'a'</span> <span class="o">=</span> <span class="s1">'A'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="nb">BINARY</span> <span class="s1">'a'</span> <span class="o">=</span> <span class="s1">'A'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="nb">BINARY</span> <span class="s1">'a'</span> <span class="o">=</span> <span class="s1">'A'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>                <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">SELECT</span> <span class="s1">'a'</span> <span class="o">=</span> <span class="s1">'a '</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="s1">'a'</span> <span class="o">=</span> <span class="s1">'a '</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SELECT</span> <span class="nb">BINARY</span> <span class="s1">'a'</span> <span class="o">=</span> <span class="s1">'a '</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="nb">BINARY</span> <span class="s1">'a'</span> <span class="o">=</span> <span class="s1">'a '</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="cast">CAST</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="castsyntax">Syntax</h2>
<pre class="fixed">CAST(expr AS type)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_5_5_31"><a href="#castsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_5_5_31"><a href="#castdescription" title="Description">Description</a></li>
<li class="mariadb_from_5_5_31"><a href="#castexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_5_5_31"><a href="#castsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="castdescription">Description</h2>
<p>The <code>CAST()</code> function takes a value of one <a href="https://mariadb.com/kb/en/data-types/">type</a> and produces a value of another type, similar to the <a href="#convert">CONVERT()</a> function. </p>
<p>The type can be one of the following values:</p>
<ul start="1"><li><a href="#binary">BINARY</a>
</li><li><a href="#char">CHAR</a>
</li><li><a href="#date">DATE</a>
</li><li><a href="#datetime">DATETIME</a>
</li><li><a href="#decimal">DECIMAL[(M[,D])</a>]
</li><li><a href="#double">DOUBLE</a>
</li><li><a href="#float">FLOAT</a> (from <a href="https://mariadb.com/kb/en/mariadb-1045-release-notes/">MariaDB 10.4.5</a>)
</li><li><a href="https://mariadb.com/kb/en/int/">INTEGER</a>
<ul start="1"><li>Short for <code>SIGNED INTEGER</code>
</li></ul>
</li><li>SIGNED [INTEGER]
</li><li>UNSIGNED [INTEGER]
</li><li><a href="#time">TIME</a>
</li><li><a href="#varchar">VARCHAR</a> (in <a href="https://mariadb.com/kb/en/sql_modeoracle/">Oracle mode</a>, from <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>)
</li></ul>
<p>The main difference between <code>CAST</code> and <a href="#convert">CONVERT()</a> is that <code><a href="#convert">CONVERT(expr,type)</a></code> is ODBC syntax while <code>CAST(expr as type)</code> and <code><a href="#convert">CONVERT(... USING ...)</a></code> are SQL92 syntax.</p>
<p>In <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> and later, you can use the <code>CAST()</code> function with the <code>INTERVAL</code> keyword.</p>
<div class="mariadb_from_5_5_31 mariadb from_5_5_31 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-5531-release-notes/">5.5.31</a></h5><p>Until <a href="https://mariadb.com/kb/en/mariadb-5531-release-notes/">MariaDB 5.5.31</a>, <code>X'HHHH'</code>, the standard SQL syntax for binary string literals, erroneously worked in the same way as <code>0xHHHH</code>. In 5.5.31 it was intentionally changed to behave as a string in all contexts (and never as a number).</p>
<p>This introduces an incompatibility with previous versions of MariaDB, and all versions of MySQL (see the example below). </p>
</div><h2 class="anchored_heading" id="castexamples">Examples</h2>
<p>Simple casts:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CAST</span><span class="p">(</span><span class="ss">"abc"</span> <span class="k">AS</span> <span class="nb">BINARY</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="k">CAST</span><span class="p">(</span><span class="ss">"1"</span> <span class="k">AS</span> <span class="n">UNSIGNED</span> <span class="nb">INTEGER</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="k">CAST</span><span class="p">(</span><span class="mi">123</span> <span class="k">AS</span> <span class="nb">CHAR</span> <span class="nb">CHARACTER</span> <span class="k">SET</span> <span class="n">utf8</span><span class="p">)</span>
</pre><p>Note that when one casts to <a href="#char">CHAR</a> without specifying the character set, the <a href="https://mariadb.com/kb/en/server-system-variables/#collation_connection">collation_connection</a> character set collation will be used. When used with <code>CHAR CHARACTER SET</code>, the default collation for that character set will be used.</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">COLLATION</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="mi">123</span> <span class="k">AS</span> <span class="nb">CHAR</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="k">COLLATION</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="mi">123</span> <span class="k">AS</span> <span class="nb">CHAR</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="n">latin1_swedish_ci</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>

<span class="k">SELECT</span> <span class="k">COLLATION</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="mi">123</span> <span class="k">AS</span> <span class="nb">CHAR</span> <span class="nb">CHARACTER</span> <span class="k">SET</span> <span class="n">utf8</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-------------------------------------------------+</span>
<span class="o">|</span> <span class="k">COLLATION</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="mi">123</span> <span class="k">AS</span> <span class="nb">CHAR</span> <span class="nb">CHARACTER</span> <span class="k">SET</span> <span class="n">utf8</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------+</span>
<span class="o">|</span> <span class="n">utf8_general_ci</span>                                 <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------+</span>
</pre><p>If you also want to change the collation, you have to use the <code>COLLATE</code> operator:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">COLLATION</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="mi">123</span> <span class="k">AS</span> <span class="nb">CHAR</span> <span class="nb">CHARACTER</span> <span class="k">SET</span> <span class="n">utf8</span><span class="p">)</span> 
  <span class="k">COLLATE</span> <span class="n">utf8_unicode_ci</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">COLLATION</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="mi">123</span> <span class="k">AS</span> <span class="nb">CHAR</span> <span class="nb">CHARACTER</span> <span class="k">SET</span> <span class="n">utf8</span><span class="p">)</span> <span class="k">COLLATE</span> <span class="n">utf8_unicode_ci</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">utf8_unicode_ci</span>                                                         <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------------------------+</span>
</pre><p>Using <code>CAST()</code> to order an <code><a href="#enum">ENUM</a></code> field as a <code><a href="#char">CHAR</a></code> rather than the internal numerical value:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">enum_list</span> <span class="p">(</span><span class="n">enum_field</span> <span class="n">enum</span><span class="p">(</span><span class="s1">'c'</span><span class="p">,</span><span class="s1">'a'</span><span class="p">,</span><span class="s1">'b'</span><span class="p">));</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">enum_list</span> <span class="p">(</span><span class="n">enum_field</span><span class="p">)</span> 
<span class="k">VALUES</span><span class="p">(</span><span class="s1">'c'</span><span class="p">),(</span><span class="s1">'a'</span><span class="p">),(</span><span class="s1">'c'</span><span class="p">),(</span><span class="s1">'b'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">enum_list</span> 
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">enum_field</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">enum_field</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="k">c</span>          <span class="o">|</span>
<span class="o">|</span> <span class="k">c</span>          <span class="o">|</span>
<span class="o">|</span> <span class="n">a</span>          <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">enum_list</span> 
<span class="k">ORDER</span> <span class="k">BY</span> <span class="k">CAST</span><span class="p">(</span><span class="n">enum_field</span> <span class="k">AS</span> <span class="nb">CHAR</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">enum_field</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">a</span>          <span class="o">|</span>
<span class="o">|</span> <span class="n">b</span>          <span class="o">|</span>
<span class="o">|</span> <span class="k">c</span>          <span class="o">|</span>
<span class="o">|</span> <span class="k">c</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-5531-release-notes/">MariaDB 5.5.31</a>, the following will trigger warnings, since <code>x'aa'</code> and <code>'X'aa'</code> no longer behave as a number. Previously, and in all versions of MySQL, no warnings are triggered since they did erroneously behave as a number:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CAST</span><span class="p">(</span><span class="mi">0</span><span class="n">xAA</span> <span class="k">AS</span> <span class="n">UNSIGNED</span><span class="p">),</span> <span class="k">CAST</span><span class="p">(</span><span class="n">x</span><span class="s1">'aa'</span> <span class="k">AS</span> <span class="n">UNSIGNED</span><span class="p">),</span> <span class="k">CAST</span><span class="p">(</span><span class="n">X</span><span class="s1">'aa'</span> <span class="k">AS</span> <span class="n">UNSIGNED</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+-------------------------+-------------------------+</span>
<span class="o">|</span> <span class="k">CAST</span><span class="p">(</span><span class="mi">0</span><span class="n">xAA</span> <span class="k">AS</span> <span class="n">UNSIGNED</span><span class="p">)</span> <span class="o">|</span> <span class="k">CAST</span><span class="p">(</span><span class="n">x</span><span class="s1">'aa'</span> <span class="k">AS</span> <span class="n">UNSIGNED</span><span class="p">)</span> <span class="o">|</span> <span class="k">CAST</span><span class="p">(</span><span class="n">X</span><span class="s1">'aa'</span> <span class="k">AS</span> <span class="n">UNSIGNED</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+-------------------------+-------------------------+</span>
<span class="o">|</span>                    <span class="mi">170</span> <span class="o">|</span>                       <span class="mi">0</span> <span class="o">|</span>                       <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+-------------------------+-------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">2</span> <span class="n">warnings</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1292</span><span class="p">):</span> <span class="n">Truncated</span> <span class="n">incorrect</span> <span class="nb">INTEGER</span> <span class="n">value</span><span class="p">:</span> <span class="s1">'\xAA'</span>
<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1292</span><span class="p">):</span> <span class="n">Truncated</span> <span class="n">incorrect</span> <span class="nb">INTEGER</span> <span class="n">value</span><span class="p">:</span> <span class="s1">'\xAA'</span>
</pre><p>Casting to intervals:</p>
<pre class="fixed">SELECT CAST(2019-01-04 INTERVAL AS DAY_SECOND(2)) AS "Cast";

+-------------+
| Cast        |
+-------------+
| 00:20:17.00 |
+-------------+
</pre><h2 class="anchored_heading" id="castsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/data-types/">Supported data types</a>
</li><li><a href="https://mariadb.com/kb/en/microseconds-in-mariadb/">Microseconds in MariaDB</a>
</li><li><a href="#string-literals">String literals</a>
</li><li><a href="#collation">COLLATION()</a>
</li><li><a href="#convert">CONVERT()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="char-function">CHAR Function</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CHAR(N,... [USING charset_name])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>CHAR()</code> interprets each argument as an <code><a href="https://mariadb.com/kb/en/int/">INT</a></code> and returns a string consisting of the characters given by the code values of those integers. <code>NULL</code> values are skipped.  By default, <code>CHAR()</code> returns a binary string. To produce a string in a given <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set</a>, use the optional <code>USING</code> clause:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CHARSET</span><span class="p">(</span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">0</span><span class="n">x65</span><span class="p">)),</span> <span class="n">CHARSET</span><span class="p">(</span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">0</span><span class="n">x65</span> <span class="k">USING</span> <span class="n">utf8</span><span class="p">));</span>
<span class="o">+</span><span class="c1">---------------------+--------------------------------+</span>
<span class="o">|</span> <span class="n">CHARSET</span><span class="p">(</span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">0</span><span class="n">x65</span><span class="p">))</span> <span class="o">|</span> <span class="n">CHARSET</span><span class="p">(</span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">0</span><span class="n">x65</span> <span class="k">USING</span> <span class="n">utf8</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+--------------------------------+</span>
<span class="o">|</span> <span class="nb">binary</span>              <span class="o">|</span> <span class="n">utf8</span>                           <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+--------------------------------+</span>
</pre><p>If <code>USING</code> is given and the result string is illegal for the given character set, a warning is issued. Also, if strict <a href="https://mariadb.com/kb/en/sql_mode/">SQL mode</a> is enabled, the result from <code>CHAR()</code> becomes <code>NULL</code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">77</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span><span class="s1">'105'</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="s1">'68'</span><span class="p">,</span><span class="mi">66</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">77</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span><span class="s1">'105'</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="s1">'68'</span><span class="p">,</span><span class="mi">66</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="n">MariaDB</span>                          <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>

<span class="k">SELECT</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">77</span><span class="p">,</span><span class="mi">77</span><span class="p">.</span><span class="mi">3</span><span class="p">,</span><span class="s1">'77.3'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">77</span><span class="p">,</span><span class="mi">77</span><span class="p">.</span><span class="mi">3</span><span class="p">,</span><span class="s1">'77.3'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">MMM</span>                  <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">Warning</span> <span class="p">(</span><span class="n">Code</span> <span class="mi">1292</span><span class="p">):</span> <span class="n">Truncated</span> <span class="n">incorrect</span> <span class="nb">INTEGER</span> <span class="n">value</span><span class="p">:</span> <span class="s1">'77.3'</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">Character Sets and Collations</a>
</li><li><a href="#ascii">ASCII()</a>  - Return ASCII value of first character
</li><li><a href="#ord">ORD()</a> - Return value for character in single or multi-byte character sets
</li><li><a href="#chr">CHR</a> - Similar, Oracle-compatible, function</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="char_length">CHAR_LENGTH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="char_lengthsyntax">Syntax</h2>
<pre class="fixed">CHAR_LENGTH(str)
CHARACTER_LENGTH(str)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#char_lengthsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#char_lengthdescription" title="Description">Description</a></li>
<li class=""><a href="#char_lengthexamples" title="Examples">Examples</a></li>
<li class=""><a href="#char_lengthsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="char_lengthdescription">Description</h2>
<p>Returns the length of the given string argument, measured in characters. A multi-byte character counts as a single character. This means that for a string containing five two-byte characters, <a href="#length">LENGTH()</a> (or <a href="#octet_length">OCTET_LENGTH()</a> in <a href="https://mariadb.com/kb/en/sql_modeoracle/">Oracle mode</a>) returns 10, whereas <code>CHAR_LENGTH()</code> returns 5. If the argument is <code>NULL</code>, it returns <code>NULL</code>. </p>
<p>If the argument is not a string value, it is converted into a string.</p>
<p>It is synonymous with the <code>CHARACTER_LENGTH()</code> function.</p>
<h2 class="anchored_heading" id="char_lengthexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span>                      <span class="mi">7</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
</pre><p>When <a href="https://mariadb.com/kb/en/sql_modeoracle/">Oracle mode</a> from <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> is not set:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span>                 <span class="mi">1</span> <span class="o">|</span>            <span class="mi">2</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>                  <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
</pre><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle/#functions">Oracle mode from MariaDB 10.3</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span>                 <span class="mi">1</span> <span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>                  <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
</pre><h2 class="anchored_heading" id="char_lengthsee-also">See Also</h2>
<ul start="1"><li><a href="#length">LENGTH()</a>
</li><li><a href="#lengthb">LENGTHB()</a>
</li><li><a href="#octet_length">OCTET_LENGTH()</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle/#simple-syntax-compatibility">Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="chr">CHR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_1 mariadb from_10_3_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">10.3.1</a></h5><p>The <code>CHR()</code> function was introduced in <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a> to provide Oracle compatibility</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CHR(N)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>CHR()</code> interprets each argument N as an integer and returns a <code><a href="#varchar">VARCHAR(1)</a></code> string consisting of the character given by the code values of the integer. The character set and collation of the string are set according to the values of the <code><a href="https://mariadb.com/kb/en/server-system-variables/#character_set_database">character_set_database</a></code> and <code><a href="https://mariadb.com/kb/en/server-system-variables/#collation_database">collation_database</a></code> system variables.</p>
<p><code>CHR()</code> is similar to the <code><a href="#char-function">CHAR()</a></code> function, but only accepts a single argument.</p>
<p><code>CHR()</code> is available in all <a href="https://mariadb.com/kb/en/sql-mode/">sql_modes</a>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CHR</span><span class="p">(</span><span class="mi">67</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="n">CHR</span><span class="p">(</span><span class="mi">67</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="k">C</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>

<span class="k">SELECT</span> <span class="n">CHR</span><span class="p">(</span><span class="s1">'67'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="n">CHR</span><span class="p">(</span><span class="s1">'67'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="k">C</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="n">CHR</span><span class="p">(</span><span class="s1">'C'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="n">CHR</span><span class="p">(</span><span class="s1">'C'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------+----------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span>   <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+----------------------------------------+</span>
<span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1292</span> <span class="o">|</span> <span class="n">Truncated</span> <span class="n">incorrect</span> <span class="nb">INTEGER</span> <span class="n">value</span><span class="p">:</span> <span class="s1">'C'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+----------------------------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">Character Sets and Collations</a>
</li><li><a href="#ascii">ASCII()</a>  - Return ASCII value of first character
</li><li><a href="#ord">ORD()</a> - Return value for character in single or multi-byte character sets
</li><li><a href="#char-function">CHAR()</a> - Similar function which accepts multiple integers</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="concat">CONCAT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="concatsyntax">Syntax</h2>
<pre class="fixed">CONCAT(str1,str2,...)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#concatsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#concatdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#concatoracle-mode" title="Oracle Mode">Oracle Mode</a> </li></ol>
</li>
<li class=""><a href="#concatexamples" title="Examples">Examples</a></li>
<li class=""><a href="#concatsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="concatdescription">Description</h2>
<p>Returns the string that results from concatenating the arguments. May have one or more arguments. If all arguments are non-binary strings, the result is a non-binary string. If the arguments include any binary strings, the result is a binary string. A numeric argument is converted to its equivalent binary string form; if you want to avoid that, you can use an explicit type cast, as in this example:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CONCAT</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">int_col</span> <span class="k">AS</span> <span class="nb">CHAR</span><span class="p">),</span> <span class="n">char_col</span><span class="p">);</span>
</pre><p><code>CONCAT()</code> returns <code>NULL</code> if any argument is <code>NULL</code>.</p>
<p>A <code>NULL</code> parameter hides all information contained in other parameters from the result. Sometimes this is not desirable; to avoid this, you can:</p>
<ul start="1"><li>Use the <code><a href="#concat_ws">CONCAT_WS()</a></code> function with an empty separator, because that function is <code>NULL</code>-safe.
</li><li>Use <code><a href="#ifnull">IFNULL()</a></code> to turn NULLs into empty strings.
</li></ul>
<h3 class="anchored_heading" id="concatoracle-mode">Oracle Mode</h3>
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#null-handling">Oracle mode from MariaDB 10.3</a>, <code>CONCAT</code> ignores <a href="null">NULL</a>.</p>
</div><h2 class="anchored_heading" id="concatexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'Ma'</span><span class="p">,</span> <span class="s1">'ria'</span><span class="p">,</span> <span class="s1">'DB'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'Ma'</span><span class="p">,</span> <span class="s1">'ria'</span><span class="p">,</span> <span class="s1">'DB'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="n">MariaDB</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>

<span class="k">SELECT</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'Ma'</span><span class="p">,</span> <span class="s1">'ria'</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="s1">'DB'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'Ma'</span><span class="p">,</span> <span class="s1">'ria'</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="s1">'DB'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span> <span class="k">NULL</span>                            <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>

<span class="k">SELECT</span> <span class="n">CONCAT</span><span class="p">(</span><span class="mi">42</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="n">CONCAT</span><span class="p">(</span><span class="mi">42</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="mi">42</span><span class="p">.</span><span class="mi">0</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
</pre><p>Using <code>IFNULL()</code> to handle NULLs:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'The value of @v is: '</span><span class="p">,</span> <span class="n">IFNULL</span><span class="p">(</span><span class="o">@</span><span class="n">v</span><span class="p">,</span> <span class="s1">''</span><span class="p">));</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'The value of @v is: '</span><span class="p">,</span> <span class="n">IFNULL</span><span class="p">(</span><span class="o">@</span><span class="n">v</span><span class="p">,</span> <span class="s1">''</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="n">The</span> <span class="n">value</span> <span class="k">of</span> <span class="o">@</span><span class="n">v</span> <span class="k">is</span><span class="p">:</span>                            <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
</pre><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#null-handling">Oracle mode</a>, from <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'Ma'</span><span class="p">,</span> <span class="s1">'ria'</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="s1">'DB'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'Ma'</span><span class="p">,</span> <span class="s1">'ria'</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="s1">'DB'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span> <span class="n">MariaDB</span>                         <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
</pre><h2 class="anchored_heading" id="concatsee-also">See Also</h2>
<ul start="1"><li><a href="#group_concat">GROUP_CONCAT()</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#null-handling">Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="concat_ws">CONCAT_WS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CONCAT_WS(separator,str1,str2,...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>CONCAT_WS()</code> stands for Concatenate With Separator and is a special form of <code><a href="#concat">CONCAT()</a></code>. The first argument is the separator for the rest of the arguments. The separator is added between the strings to be concatenated. The separator can be a string, as can the rest of the arguments.</p>
<p>If the separator is <code>NULL</code>, the result is <code>NULL</code>; all other <code>NULL</code> values are skipped. This makes <code>CONCAT_WS()</code> suitable when you want to concatenate some values and avoid losing all information if one of them is <code>NULL</code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">CONCAT_WS</span><span class="p">(</span><span class="s1">','</span><span class="p">,</span><span class="s1">'First name'</span><span class="p">,</span><span class="s1">'Second name'</span><span class="p">,</span><span class="s1">'Last Name'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">CONCAT_WS</span><span class="p">(</span><span class="s1">','</span><span class="p">,</span><span class="s1">'First name'</span><span class="p">,</span><span class="s1">'Second name'</span><span class="p">,</span><span class="s1">'Last Name'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">First</span> <span class="n">name</span><span class="p">,</span><span class="k">Second</span> <span class="n">name</span><span class="p">,</span><span class="k">Last</span> <span class="n">Name</span>                      <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">CONCAT_WS</span><span class="p">(</span><span class="s1">'-'</span><span class="p">,</span><span class="s1">'Floor'</span><span class="p">,</span><span class="k">NULL</span><span class="p">,</span><span class="s1">'Room'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">CONCAT_WS</span><span class="p">(</span><span class="s1">'-'</span><span class="p">,</span><span class="s1">'Floor'</span><span class="p">,</span><span class="k">NULL</span><span class="p">,</span><span class="s1">'Room'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">Floor</span><span class="o">-</span><span class="n">Room</span>                         <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
</pre><p>In some cases, remember to include a space in the separator string:</p>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">a</span> <span class="o">=</span> <span class="s1">'gnu'</span><span class="p">,</span> <span class="o">@</span><span class="n">b</span> <span class="o">=</span> <span class="s1">'penguin'</span><span class="p">,</span> <span class="o">@</span><span class="k">c</span> <span class="o">=</span> <span class="s1">'sea lion'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SELECT</span> <span class="n">CONCAT_WS</span><span class="p">(</span><span class="s1">', '</span><span class="p">,</span> <span class="o">@</span><span class="n">a</span><span class="p">,</span> <span class="o">@</span><span class="n">b</span><span class="p">,</span> <span class="o">@</span><span class="k">c</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="n">CONCAT_WS</span><span class="p">(</span><span class="s1">', '</span><span class="p">,</span> <span class="o">@</span><span class="n">a</span><span class="p">,</span> <span class="o">@</span><span class="n">b</span><span class="p">,</span> <span class="o">@</span><span class="k">c</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="n">gnu</span><span class="p">,</span> <span class="n">penguin</span><span class="p">,</span> <span class="n">sea</span> <span class="n">lion</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
</pre><p>Using <code>CONCAT_WS()</code> to handle <code>NULL</code>s:</p>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">a</span> <span class="o">=</span> <span class="s1">'a'</span><span class="p">,</span> <span class="o">@</span><span class="n">b</span> <span class="o">=</span> <span class="k">NULL</span><span class="p">,</span> <span class="o">@</span><span class="k">c</span> <span class="o">=</span> <span class="s1">'c'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">CONCAT_WS</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span> <span class="o">@</span><span class="n">a</span><span class="p">,</span> <span class="o">@</span><span class="n">b</span><span class="p">,</span> <span class="o">@</span><span class="k">c</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="n">CONCAT_WS</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span> <span class="o">@</span><span class="n">a</span><span class="p">,</span> <span class="o">@</span><span class="n">b</span><span class="p">,</span> <span class="o">@</span><span class="k">c</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
<span class="o">|</span> <span class="n">ac</span>                        <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#group_concat">GROUP_CONCAT()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="convert">CONVERT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="convertsyntax">Syntax</h2>
<pre class="fixed">CONVERT(expr,type), CONVERT(expr USING transcoding_name)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#convertsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#convertdescription" title="Description">Description</a></li>
<li class=""><a href="#convertexamples" title="Examples">Examples</a></li>
<li class=""><a href="#convertsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="convertdescription">Description</h2>
<p>The	<code>CONVERT()</code> and <a href="#cast">CAST()</a> functions take a value of one type and produce a value of another type.</p>
<p>The type can be one of the following values:</p>
<ul start="1"><li><a href="#binary">BINARY</a>
</li><li><a href="#char">CHAR</a>
</li><li><a href="#date">DATE</a>
</li><li><a href="#datetime">DATETIME</a>
</li><li><a href="#decimal">DECIMAL[(M[,D])</a>]
</li><li><a href="#double">DOUBLE</a>
</li><li><a href="#float">FLOAT</a> (from <a href="https://mariadb.com/kb/en/mariadb-1045-release-notes/">MariaDB 10.4.5</a>)
</li><li><a href="https://mariadb.com/kb/en/int/">INTEGER</a>
<ul start="1"><li>Short for <code>SIGNED INTEGER</code>
</li></ul>
</li><li>SIGNED [INTEGER]
</li><li>UNSIGNED [INTEGER]
</li><li><a href="#time">TIME</a>
</li><li><a href="#varchar">VARCHAR</a> (in <a href="https://mariadb.com/kb/en/sql_modeoracle/">Oracle mode</a>, from <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>)
</li></ul>
<p>Note that in MariaDB, <code>INT</code> and <code>INTEGER</code> are the same thing.</p>
<p><code>BINARY</code> produces a string with the <a href="#binary">BINARY</a> data type.  If the optional length is given, <code>BINARY(N)</code> causes the cast to use no more than <code>N</code> bytes of the argument. Values shorter than the given number in bytes are padded with 0x00 bytes to make them equal the length value.</p>
<p><code>CHAR(N)</code> causes the cast to use no more than the number of characters given in the argument.</p>
<p>The main difference between the <a href="#cast">CAST()</a> and <code>CONVERT()</code> is that <code>CONVERT(expr,type)</code> is ODBC syntax while <a href="#cast">CAST(expr as type)</a> and <code>CONVERT(... USING ...)</code> are SQL92 syntax.</p>
<p><code>CONVERT()</code> with <code>USING</code> is used to convert data between different <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character sets</a>. In MariaDB, transcoding names are the same as the
corresponding character set names. For example, this statement
converts the string 'abc' in the default character set to the
corresponding string in the utf8 character set:</p>
<pre class="fixed">SELECT CONVERT('abc' USING utf8);
</pre><h2 class="anchored_heading" id="convertexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">enum_col</span> <span class="k">FROM</span> <span class="n">tbl_name</span> 
<span class="k">ORDER</span> <span class="k">BY</span> <span class="k">CAST</span><span class="p">(</span><span class="n">enum_col</span> <span class="k">AS</span> <span class="nb">CHAR</span><span class="p">);</span>
</pre><p>Converting a <a href="#binary">BINARY</a> to string to permit the <a href="#lower">LOWER</a> function to work:</p>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">x</span> <span class="o">=</span> <span class="s1">'AardVark'</span><span class="p">;</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">x</span> <span class="o">=</span> <span class="nb">BINARY</span> <span class="s1">'AardVark'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="k">LOWER</span><span class="p">(</span><span class="o">@</span><span class="n">x</span><span class="p">),</span> <span class="k">LOWER</span><span class="p">(</span><span class="k">CONVERT</span> <span class="p">(</span><span class="o">@</span><span class="n">x</span> <span class="k">USING</span> <span class="n">latin1</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-----------+----------------------------------+</span>
<span class="o">|</span> <span class="k">LOWER</span><span class="p">(</span><span class="o">@</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="k">LOWER</span><span class="p">(</span><span class="k">CONVERT</span> <span class="p">(</span><span class="o">@</span><span class="n">x</span> <span class="k">USING</span> <span class="n">latin1</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+----------------------------------+</span>
<span class="o">|</span> <span class="n">AardVark</span>  <span class="o">|</span> <span class="n">aardvark</span>                         <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+----------------------------------+</span>
</pre><h2 class="anchored_heading" id="convertsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">Character Sets and Collations</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="elt">ELT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ELT(N, str1[, str2, str3,...])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Takes a numeric argument and a series of string arguments. Returns the string that corresponds to the given numeric position.  For instance, it returns <code>str1</code> if <code>N</code> is 1, <code>str2</code> if <code>N</code> is 2, and so on.  If the numeric argument is a <code><a href="#float">FLOAT</a></code>, MariaDB rounds it to the nearest <code><a href="https://mariadb.com/kb/en/int/">INTEGER</a></code>.  If the numeric argument is less than 1, greater than the total number of arguments, or not a number, <code>ELT()</code> returns <code>NULL</code>.  It must have at least two arguments.</p>
<p>It is complementary to the <code><a href="#field">FIELD()</a></code> function.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">ELT</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'ej'</span><span class="p">,</span> <span class="s1">'Heja'</span><span class="p">,</span> <span class="s1">'hej'</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">ELT</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'ej'</span><span class="p">,</span> <span class="s1">'Heja'</span><span class="p">,</span> <span class="s1">'hej'</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">ej</span>                                 <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">ELT</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">'ej'</span><span class="p">,</span> <span class="s1">'Heja'</span><span class="p">,</span> <span class="s1">'hej'</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">ELT</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">'ej'</span><span class="p">,</span> <span class="s1">'Heja'</span><span class="p">,</span> <span class="s1">'hej'</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">foo</span>                                <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See also</h2>
<ul start="1"><li><a href="#find_in_set">FIND_IN_SET()</a> function. Returns the position of a string in a set of strings.
</li><li><a href="#field">FIELD()</a> function. Returns the index position of a string in a list.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="export_set">EXPORT_SET</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">EXPORT_SET(bits, on, off[, separator[, number_of_bits]])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Takes a minimum of three arguments.  Returns a string where each bit in the given <code>bits</code> argument is returned, with the string values given for <code>on</code> and <code>off</code>.  </p>
<p>Bits are examined from right to left, (from low-order to high-order bits).  Strings are added to the result from left to right, separated by a separator string (defaults as '<code>,</code>').  You can optionally limit the number of bits the <code>EXPORT_SET()</code> function examines using the <code>number_of_bits</code> option.  </p>
<p>If any of the arguments are set as <code>NULL</code>, the function returns <code>NULL</code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">EXPORT_SET</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="s1">'Y'</span><span class="p">,</span><span class="s1">'N'</span><span class="p">,</span><span class="s1">','</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="n">EXPORT_SET</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="s1">'Y'</span><span class="p">,</span><span class="s1">'N'</span><span class="p">,</span><span class="s1">','</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="n">Y</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">N</span>                     <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>

<span class="k">SELECT</span> <span class="n">EXPORT_SET</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="s1">'1'</span><span class="p">,</span><span class="s1">'0'</span><span class="p">,</span><span class="s1">','</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="n">EXPORT_SET</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="s1">'1'</span><span class="p">,</span><span class="s1">'0'</span><span class="p">,</span><span class="s1">','</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="field">FIELD</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">FIELD(pattern, str1[,str2,...])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the index position of the string or number matching the given pattern.  Returns <code>0</code> in the event that none of the arguments match the pattern.  Raises an Error 1582 if not given at least two arguments.</p>
<p>When all arguments given to the <code>FIELD()</code> function are strings, they are treated as case-insensitive.  When all the arguments are numbers, they are treated as numbers.  Otherwise, they are treated as doubles.  </p>
<p>If the given pattern occurs more than once, the	<code>FIELD()</code> function only returns the index of the first instance.  If the given pattern is <code>NULL</code>, the function returns <code>0</code>, as a <code>NULL</code> pattern always fails to match.</p>
<p>This function is complementary to the <code><a href="#elt">ELT()</a></code> function.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">FIELD</span><span class="p">(</span><span class="s1">'ej'</span><span class="p">,</span> <span class="s1">'Hej'</span><span class="p">,</span> <span class="s1">'ej'</span><span class="p">,</span> <span class="s1">'Heja'</span><span class="p">,</span> <span class="s1">'hej'</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">)</span> 
   <span class="k">AS</span> <span class="s1">'Field Results'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="n">Field</span> <span class="n">Results</span> <span class="o">|</span> 
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>

<span class="k">SELECT</span> <span class="n">FIELD</span><span class="p">(</span><span class="s1">'fo'</span><span class="p">,</span> <span class="s1">'Hej'</span><span class="p">,</span> <span class="s1">'ej'</span><span class="p">,</span> <span class="s1">'Heja'</span><span class="p">,</span> <span class="s1">'hej'</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">)</span>
   <span class="k">AS</span> <span class="s1">'Field Results'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="n">Field</span> <span class="n">Results</span> <span class="o">|</span> 
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span>             <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>

<span class="k">SELECT</span> <span class="n">FIELD</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'Field Results'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="n">Field</span> <span class="n">Results</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span>             <span class="mi">5</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>

<span class="k">SELECT</span> <span class="n">FIELD</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'Field Results'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="n">Field</span> <span class="n">Results</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span>             <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>

<span class="k">SELECT</span> <span class="n">FIELD</span><span class="p">(</span><span class="s1">'fail'</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'Field Results'</span><span class="p">;</span>
<span class="n">Error</span> <span class="mi">1582</span> <span class="p">(</span><span class="mi">42000</span><span class="p">):</span> <span class="n">Incorrect</span> <span class="k">parameter</span> <span class="k">count</span> <span class="k">in</span> <span class="k">call</span>
<span class="k">to</span> <span class="n">native</span> <span class="k">function</span> <span class="s1">'field'</span>
</pre><h2 class="anchored_heading" id="see-also">See also</h2>
<ul start="1"><li><a href="#elt">ELT()</a> function. Returns the N'th element from a set of strings.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="extractvalue">EXTRACTVALUE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="extractvaluesyntax">Syntax</h2>
<pre class="fixed">EXTRACTVALUE(xml_frag, xpath_expr)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#extractvaluesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#extractvaluedescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#extractvalueinvalid-arguments" title="Invalid Arguments">Invalid Arguments</a></li>
<li class=""><a href="#extractvalueexplicit-text-expressions" title="Explicit text() Expressions">Explicit text() Expressions</a></li>
<li class=""><a href="#extractvaluecount-matches" title="Count Matches">Count Matches</a></li>
<li class=""><a href="#extractvaluematches" title="Matches">Matches</a> </li></ol>
</li>
<li class=""><a href="#extractvalueexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="extractvaluedescription">Description</h2>
<p>The <code>EXTRACTVALUE()</code> function takes two string arguments: a fragment of XML markup and an XPath expression, (also known as a locator).  It returns the text (That is, CDDATA), of the first text node which is a child of the element or elements matching the XPath expression.  </p>
<p>In cases where a valid XPath expression does not match any text nodes in a valid XML fragment, (including the implicit <code>/text()</code> expression), the <code>EXTRACTVALUE()</code> function returns an empty string.</p>
<h3 class="anchored_heading" id="extractvalueinvalid-arguments">Invalid Arguments</h3>
<p>When either the XML fragment or the XPath expression is <code>NULL</code>, the <code>EXTRACTVALUE()</code> function returns <code>NULL</code>.  When the XML fragment is invalid, it raises a warning Code 1525:</p>
<pre class="fixed">Warning (Code 1525): Incorrect XML value: 'parse error at line 1 pos 11: unexpected END-OF-INPUT'
</pre><p>When the XPath value is invalid, it generates an Error 1105:</p>
<pre class="fixed">ERROR 1105 (HY000): XPATH syntax error: ')'
</pre><h3 class="anchored_heading" id="extractvalueexplicit-text-expressions">Explicit <code>text()</code> Expressions</h3>
<p>This function is the equivalent of performing a match using the XPath expression after appending <code>/text()</code>.  In other words:</p>
<pre class="fixed"><span class="k">SELECT</span>
   <span class="n">EXTRACTVALUE</span><span class="p">(</span><span class="s1">'&lt;cases&gt;&lt;case&gt;example&lt;/case&gt;&lt;/cases&gt;'</span><span class="p">,</span> <span class="s1">'/cases/case'</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'Base Example'</span><span class="p">,</span>
   <span class="n">EXTRACTVALUE</span><span class="p">(</span><span class="s1">'&lt;cases&gt;&lt;case&gt;example&lt;/case&gt;&lt;/cases&gt;'</span><span class="p">,</span> <span class="s1">'/cases/case/text()'</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'text() Example'</span><span class="p">;</span>

<span class="o">+</span><span class="c1">--------------+----------------+</span>
<span class="o">|</span> <span class="n">Base</span> <span class="n">Example</span> <span class="o">|</span> <span class="nb">text</span><span class="p">()</span> <span class="n">Example</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+----------------+</span>
<span class="o">|</span> <span class="n">example</span>      <span class="o">|</span> <span class="n">example</span>        <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+----------------+</span>
</pre><h3 class="anchored_heading" id="extractvaluecount-matches">Count Matches</h3>
<p>When <code>EXTRACTVALUE()</code> returns multiple matches, it returns the content of the first child text node of each matching element, in the matched order, as a single, space-delimited string.</p>
<p>By design, the <code>EXTRACTVALUE()</code> function makes no distinction between a match on an empty element and no match at all.  If you need to determine whether no matching element was found in the XML fragment or if an element was found that contained no child text nodes, use the XPath <code>count()</code> function.  </p>
<p>For instance, when looking for a value that exists, but contains no child text nodes, you would get a count of the number of matching instances:</p>
<pre class="fixed"><span class="k">SELECT</span>
   <span class="n">EXTRACTVALUE</span><span class="p">(</span><span class="s1">'&lt;cases&gt;&lt;case/&gt;&lt;/cases&gt;'</span><span class="p">,</span> <span class="s1">'/cases/case'</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'Empty Example'</span><span class="p">,</span>
   <span class="n">EXTRACTVALUE</span><span class="p">(</span><span class="s1">'&lt;cases&gt;&lt;case/&gt;&lt;/cases&gt;'</span><span class="p">,</span> <span class="s1">'count(/cases/case)'</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'count() Example'</span><span class="p">;</span>

<span class="o">+</span><span class="c1">---------------+-----------------+</span>
<span class="o">|</span> <span class="n">Empty</span> <span class="n">Example</span> <span class="o">|</span> <span class="k">count</span><span class="p">()</span> <span class="n">Example</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+-----------------+</span>
<span class="o">|</span>               <span class="o">|</span>               <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+-----------------+</span>
</pre><p>Alternatively, when looking for a value that doesn't exist, <code>count()</code> returns 0.</p>
<pre class="fixed"><span class="k">SELECT</span>
   <span class="n">EXTRACTVALUE</span><span class="p">(</span><span class="s1">'&lt;cases&gt;&lt;case/&gt;&lt;/cases&gt;'</span><span class="p">,</span> <span class="s1">'/cases/person'</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'No Match Example'</span><span class="p">,</span>
   <span class="n">EXTRACTVALUE</span><span class="p">(</span><span class="s1">'&lt;cases&gt;&lt;case/&gt;&lt;/cases&gt;'</span><span class="p">,</span> <span class="s1">'count(/cases/person)'</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'count() Example'</span><span class="p">;</span>

<span class="o">+</span><span class="c1">------------------+-----------------+</span>
<span class="o">|</span> <span class="k">No</span> <span class="k">Match</span> <span class="n">Example</span> <span class="o">|</span> <span class="k">count</span><span class="p">()</span> <span class="n">Example</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+-----------------+</span>
<span class="o">|</span>                  <span class="o">|</span>                <span class="mi">0</span><span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+-----------------+</span>
</pre><h3 class="anchored_heading" id="extractvaluematches">Matches</h3>
<p><strong>Important</strong>: The <code>EXTRACTVALUE()</code> function only returns CDDATA.  It does not return tags that the element might contain or the text that these child elements contain.</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">EXTRACTVALUE</span><span class="p">(</span><span class="s1">'&lt;cases&gt;&lt;case&gt;Person&lt;email&gt;x@example.com&lt;/email&gt;&lt;/case&gt;&lt;/cases&gt;'</span><span class="p">,</span> <span class="s1">'/cases'</span><span class="p">)</span> <span class="k">AS</span> <span class="k">Case</span><span class="p">;</span>

<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="k">Case</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="n">Person</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
</pre><p>Note, in the above example, while the XPath expression matches to the parent <code>&lt;case&gt;</code> instance, it does not return the contained <code>&lt;email&gt;</code> tag or its content.</p>
<h2 class="anchored_heading" id="extractvalueexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span>
    <span class="nf">ExtractValue</span><span class="p">(</span><span class="s1">'&lt;a&gt;ccc&lt;b&gt;ddd&lt;/b&gt;&lt;/a&gt;'</span><span class="p">,</span> <span class="s1">'/a'</span><span class="p">)</span>            <span class="k">AS</span> <span class="n">val1</span><span class="p">,</span>
    <span class="nf">ExtractValue</span><span class="p">(</span><span class="s1">'&lt;a&gt;ccc&lt;b&gt;ddd&lt;/b&gt;&lt;/a&gt;'</span><span class="p">,</span> <span class="s1">'/a/b'</span><span class="p">)</span>          <span class="k">AS</span> <span class="n">val2</span><span class="p">,</span>
    <span class="nf">ExtractValue</span><span class="p">(</span><span class="s1">'&lt;a&gt;ccc&lt;b&gt;ddd&lt;/b&gt;&lt;/a&gt;'</span><span class="p">,</span> <span class="s1">'//b'</span><span class="p">)</span>           <span class="k">AS</span> <span class="n">val3</span><span class="p">,</span>
    <span class="nf">ExtractValue</span><span class="p">(</span><span class="s1">'&lt;a&gt;ccc&lt;b&gt;ddd&lt;/b&gt;&lt;/a&gt;'</span><span class="p">,</span> <span class="s1">'/b'</span><span class="p">)</span>            <span class="k">AS</span> <span class="n">val4</span><span class="p">,</span>
    <span class="nf">ExtractValue</span><span class="p">(</span><span class="s1">'&lt;a&gt;ccc&lt;b&gt;ddd&lt;/b&gt;&lt;b&gt;eee&lt;/b&gt;&lt;/a&gt;'</span><span class="p">,</span> <span class="s1">'//b'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">val5</span><span class="p">;</span>
<span class="o">+------+------+------+------+---------+</span>
<span class="o">|</span> <span class="n">val1</span> <span class="o">|</span> <span class="n">val2</span> <span class="o">|</span> <span class="n">val3</span> <span class="o">|</span> <span class="n">val4</span> <span class="o">|</span> <span class="n">val5</span>    <span class="o">|</span>
<span class="o">+------+------+------+------+---------+</span>
<span class="o">|</span> <span class="n">ccc</span>  <span class="o">|</span> <span class="n">ddd</span>  <span class="o">|</span> <span class="n">ddd</span>  <span class="o">|</span>      <span class="o">|</span> <span class="n">ddd</span> <span class="n">eee</span> <span class="o">|</span>
<span class="o">+------+------+------+------+---------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="find_in_set">FIND_IN_SET</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">FIND_IN_SET(pattern, strlist)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the index position where the given pattern occurs in a string list.  The first argument is the pattern you want to search for.  The second argument is a string containing comma-separated variables.  If the second argument is of the <code><a href="#set-data-type">SET</a></code> data-type, the function is optimized to use bit arithmetic.</p>
<p>If the pattern does not occur in the string list or if the string list is an empty string, the function returns <code>0</code>.  If either argument is <code>NULL</code>, the function returns <code>NULL</code>.  The function does not return the correct result if the pattern contains a comma ("<code>,</code>") character.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">FIND_IN_SET</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span><span class="s1">'a,b,c,d'</span><span class="p">)</span> <span class="k">AS</span> <span class="ss">"Found Results"</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="k">Found</span> <span class="n">Results</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#elt">ELT()</a> function. Returns the N'th element from a set of strings.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="format">FORMAT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">FORMAT(num, decimal_position[, locale])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Formats the given number for display as a string, adding separators to appropriate position and rounding the results to the given decimal position.  For instance, it would format <code>15233.345</code> to <code>15,233.35</code>.</p>
<p>If the given decimal position is <code>0</code>, it rounds to return no decimal point or fractional part.  You can optionally specify a <a href="https://mariadb.com/kb/en/server-locale/">locale</a> value to format numbers to the pattern appropriate for the given region.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">FORMAT</span><span class="p">(</span><span class="mi">1234567890</span><span class="p">.</span><span class="mi">09876543210</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'Format'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">Format</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="mi">1</span><span class="p">,</span><span class="mi">234</span><span class="p">,</span><span class="mi">567</span><span class="p">,</span><span class="mi">890</span><span class="p">.</span><span class="mi">0988</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>

<span class="k">SELECT</span> <span class="n">FORMAT</span><span class="p">(</span><span class="mi">1234567</span><span class="p">.</span><span class="mi">89</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'Format'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">Format</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="mi">1</span><span class="p">,</span><span class="mi">234</span><span class="p">,</span><span class="mi">567</span><span class="p">.</span><span class="mi">8900</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>

<span class="k">SELECT</span> <span class="n">FORMAT</span><span class="p">(</span><span class="mi">1234567</span><span class="p">.</span><span class="mi">89</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'Format'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="n">Format</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="mi">1</span><span class="p">,</span><span class="mi">234</span><span class="p">,</span><span class="mi">568</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="n">FORMAT</span><span class="p">(</span><span class="mi">123456789</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">'rm_CH'</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'Format'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">Format</span>         <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="mi">123</span><span class="s1">'456'</span><span class="mi">789</span><span class="p">,</span><span class="mi">00</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="from_base64">FROM_BASE64</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">FROM_BASE64(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Decodes the given base-64 encode string, returning the result as a binary string.  Returns <code>NULL</code> if the given string is <code>NULL</code> or if it's invalid.</p>
<p>It is the reverse of the <code><a href="#to_base64">TO_BASE64</a></code> function.</p>
<p>There are numerous methods to base-64 encode a string.  MariaDB uses the following:</p>
<ul start="1"><li>It encodes alphabet value 64 as '<code>+</code>'.
</li><li>It encodes alphabet value 63 as '<code>/</code>'.
</li><li>It codes output in groups of four printable characters.  Each three byte of data encoded uses four characters.  If the final group is incomplete, it pads the difference with the '<code>=</code>' character.
</li><li>It divides long output, adding a new line very 76 characters.
</li><li>In decoding, it recognizes and ignores newlines, carriage returns, tabs and space whitespace characters.
</li></ul>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">TO_BASE64</span><span class="p">(</span><span class="s1">'Maria'</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'Input'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="k">Input</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>
<span class="o">|</span> <span class="n">TWFyaWE</span><span class="o">=</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+</span>

<span class="k">SELECT</span> <span class="n">FROM_BASE64</span><span class="p">(</span><span class="s1">'TWFyaWE='</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'Output'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="k">Output</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="n">Maria</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="hex">HEX</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">HEX(N_or_S)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>If <code>N_or_S</code> is a number, returns a string representation of the hexadecimal
value of <code>N</code>, where <code>N</code> is a <code>longlong</code> (<code><a href="#bigint">BIGINT</a></code>) number. This is equivalent to <code><a href="#conv">CONV</a>(N,10,16)</code>.</p>
<p>If <code>N_or_S</code> is a string, returns a hexadecimal string representation of
<code>N_or_S</code> where each byte of each character in <code>N_or_S</code> is converted to two hexadecimal
digits. If <code>N_or_S</code> is NULL, returns NULL. The inverse of this operation is performed by the <a href="#unhex">UNHEX</a>()
function.</p>
<p><br/></p>
<div class="mariadb_from_10_5_0 mariadb from_10_5_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">10.5.0</a></h5><p>HEX() with an <a href="https://mariadb.com/kb/en/inet6/">INET6</a> argument returns a hexadecimal representation of the underlying 16-byte binary string.</p>
</div><h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">HEX</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="n">HEX</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>
<span class="o">|</span> <span class="n">FF</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+</span>

<span class="k">SELECT</span> <span class="mi">0</span><span class="n">x4D617269614442</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="n">x4D617269614442</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">MariaDB</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">SELECT</span> <span class="n">HEX</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">HEX</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="mi">4</span><span class="n">D617269614442</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">HEX</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="s1">'2001:db8::ff00:42:8329'</span> <span class="k">AS</span> <span class="n">INET6</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span> <span class="n">HEX</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="s1">'2001:db8::ff00:42:8329'</span> <span class="k">AS</span> <span class="n">INET6</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span> <span class="mi">20010</span><span class="n">DB8000000000000FF0000428329</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/hexadecimal-literals/">Hexadecimal literals</a>
</li><li><a href="#unhex">UNHEX()</a>
</li><li><a href="#conv">CONV()</a>
</li><li><a href="#bin">BIN()</a>
</li><li><a href="#oct">OCT()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="insert-function">INSERT Function</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">INSERT(str,pos,len,newstr)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the string <code>str</code>, with the substring beginning at position <code>pos</code>
and <code>len</code> characters long replaced by the string <code>newstr</code>. Returns the
original string if <code>pos</code> is not within the length of the string.
Replaces the rest of the string from position <code>pos</code> if <code>len</code> is not within
the length of the rest of the string. Returns NULL if any argument is
NULL.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">INSERT</span><span class="p">(</span><span class="s1">'Quadratic'</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">'What'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------+</span>
<span class="o">|</span> <span class="k">INSERT</span><span class="p">(</span><span class="s1">'Quadratic'</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">'What'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------+</span>
<span class="o">|</span> <span class="n">QuWhattic</span>                         <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------+</span>

<span class="k">SELECT</span> <span class="k">INSERT</span><span class="p">(</span><span class="s1">'Quadratic'</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">'What'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="k">INSERT</span><span class="p">(</span><span class="s1">'Quadratic'</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">'What'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">Quadratic</span>                          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>

<span class="k">SELECT</span> <span class="k">INSERT</span><span class="p">(</span><span class="s1">'Quadratic'</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">'What'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="k">INSERT</span><span class="p">(</span><span class="s1">'Quadratic'</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">'What'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="n">QuWhat</span>                              <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="length">LENGTH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="lengthsyntax">Syntax</h2>
<pre class="fixed">LENGTH(str)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#lengthsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#lengthdescription" title="Description">Description</a></li>
<li class=""><a href="#lengthexamples" title="Examples">Examples</a></li>
<li class=""><a href="#lengthsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="lengthdescription">Description</h2>
<p>Returns the length of the string <code>str</code>.</p>
<p>In the default mode, when <a href="https://mariadb.com/kb/en/sql_modeoracle/#functions">Oracle mode from MariaDB 10.3</a> is not set, the length is measured in bytes. In this case, a multi-byte character counts as multiple bytes. This means that for a string
containing five two-byte characters, <code>LENGTH()</code> returns 10, whereas <a href="#char_length">CHAR_LENGTH()</a> returns 5. </p>
<p>When running <a href="https://mariadb.com/kb/en/sql_modeoracle/#functions">Oracle mode from MariaDB 10.3</a>, the length is measured in characters, and <code>LENGTH</code> is a synonym for <a href="#char_length">CHAR_LENGTH()</a>.</p>
<p>If <code>str</code> is not a string value, it is converted into a string. If <code>str</code> is <code>NULL</code>, the function returns <code>NULL</code>.</p>
<h2 class="anchored_heading" id="lengthexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span>                 <span class="mi">7</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
</pre><p>When <a href="https://mariadb.com/kb/en/sql_modeoracle/">Oracle mode</a> from <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> is not set:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span>                 <span class="mi">1</span> <span class="o">|</span>            <span class="mi">2</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>                  <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
</pre><p>In <a href="https://mariadb.com/kb/en/sql_modeoracle/#functions">Oracle mode from MariaDB 10.3</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">),</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="n">LENGTHB</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span> <span class="k">OCTET_LENGTH</span><span class="p">(</span><span class="s1">'π'</span><span class="p">)</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
<span class="o">|</span>                 <span class="mi">1</span> <span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span>                  <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+--------------+---------------+--------------------+</span>
</pre><h2 class="anchored_heading" id="lengthsee-also">See Also</h2>
<ul start="1"><li><a href="#char_length">CHAR_LENGTH()</a>
</li><li><a href="#lengthb">LENGTHB()</a>
</li><li><a href="#octet_length">OCTET_LENGTH()</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle/#simple-syntax-compatibility">Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="load_file">LOAD_FILE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="load_filesyntax">Syntax</h2>
<pre class="fixed">LOAD_FILE(file_name)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#load_filesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#load_filedescription" title="Description">Description</a></li>
<li class=""><a href="#load_fileexamples" title="Examples">Examples</a></li>
<li class=""><a href="#load_filesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="load_filedescription">Description</h2>
<p>Reads the file and returns the file contents as a string. To use this function, the file must be located on the server host, you must specify the full path name to the file, and you must have the FILE privilege.  The file must be readable by all and it must be less than the size, in bytes, of the <a href="https://mariadb.com/kb/en/server-system-variables/#max_allowed_packet">max_allowed_packet</a> system variable. If the <a href="https://mariadb.com/kb/en/server-system-variables/#secure_file_priv">secure_file_priv</a> system variable is set to a non-empty directory name, the file to be loaded must be located in that directory.</p>
<p>If the file does not exist or cannot be read because one of the preceding conditions is not satisfied, the function returns NULL.</p>
<p>Since <a href="https://mariadb.com/kb/en/what-is-mariadb-51/">MariaDB 5.1</a>, the <a href="https://mariadb.com/kb/en/server-system-variables/#character_set_filesystem">character_set_filesystem</a> system variable has controlled interpretation of file names that are given as literal strings.</p>
<p>Statements using the LOAD_FILE() function are not <a href="https://mariadb.com/kb/en/unsafe-statements-for-replication/">safe for statement based replication</a>. This is because the slave will execute the LOAD_FILE() command itself.  If the file doesn't exist on the slave, the function will return NULL.</p>
<h2 class="anchored_heading" id="load_fileexamples">Examples</h2>
<pre class="fixed"><span class="k">UPDATE</span> <span class="n">t</span> <span class="k">SET</span> <span class="n">blob_col</span><span class="o">=</span><span class="n">LOAD_FILE</span><span class="p">(</span><span class="s1">'/tmp/picture'</span><span class="p">)</span> <span class="k">WHERE</span> <span class="n">id</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="load_filesee-also">See Also</h2>
<ul start="1"><li><a href="#select-into-dumpfile">SELECT INTO DUMPFILE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="like">LIKE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="likesyntax">Syntax</h2>
<pre class="fixed">expr LIKE pat [ESCAPE 'escape_char']
expr NOT LIKE pat [ESCAPE 'escape_char']
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#likesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#likedescription" title="Description">Description</a></li>
<li class=""><a href="#likeexamples" title="Examples">Examples</a></li>
<li class=""><a href="#likeoptimizing-like" title="Optimizing LIKE">Optimizing LIKE</a></li>
<li class=""><a href="#likesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="likedescription">Description</h2>
<p>Tests whether <em>expr</em> matches the pattern <em>pat</em>. Returns either 1 (<code>TRUE</code>) or 0 (<code>FALSE</code>).
Both <em>expr</em> and <em>pat</em> may be any valid expression and are evaluated to strings.
Patterns may use the following wildcard characters:</p>
<ul start="1"><li><code>%</code> matches any number of characters, including zero.
</li><li><code>_</code> matches any single character.
</li></ul>
<p>Use <code>NOT LIKE</code> to test if a string does not match a pattern. This is equivalent to using
the <code><a href="#not">NOT</a></code> operator on the entire <code>LIKE</code> expression.</p>
<p>If either the expression or the pattern is <code>NULL</code>, the result is <code>NULL</code>.</p>
<p><code class="fixed" style="white-space:pre-wrap">LIKE</code> performs case-insensitive substring matches if the collation for the
expression and pattern is case-insensitive. For case-sensitive matches, declare either argument
to use a binary collation using <code><a href="collate">COLLATE</a></code>, or coerce either of them to a <code><a href="#binary">BINARY</a></code>
string using <code><a href="#cast">CAST</a></code>. Use <code><a href="#show-collation">SHOW COLLATION</a></code> to get a list of
available collations. Collations ending in <code>_bin</code> are case-sensitive.</p>
<p>Numeric arguments are coerced to binary strings.</p>
<p>The <code>_</code> wildcard matches a single character, not byte. It will only match a multi-byte character
if it is valid in the expression's character set. For example, <code>_</code> will match <code>_utf8"€"</code>, but it
will not match <code>_latin1"€"</code> because the Euro sign is not a valid latin1 character. If necessary,
use <code><a href="#convert">CONVERT</a></code> to use the expression in a different character set.</p>
<p>If you need to match the characters <code>_</code> or <code>%</code>, you must escape them. By default,
you can prefix the wildcard characters the backslash character <code>\</code> to escape them.
The backslash is used both to encode special characters like newlines when a string is
parsed as well as to escape wildcards in a pattern after parsing. Thus, to match an
actual backslash, you sometimes need to double-escape it as <code>"\</code><code>\</code><code>\</code><code>\"</code>.</p>
<p>To avoid difficulties with the backslash character, you can change the wildcard escape
character using <code>ESCAPE</code> in a <code>LIKE</code> expression. The argument to <code>ESCAPE</code>
must be a single-character string.</p>
<h2 class="anchored_heading" id="likeexamples">Examples</h2>
<p>Select the days that begin with "T":</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">d</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">16</span><span class="p">));</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="ss">"Monday"</span><span class="p">),</span> <span class="p">(</span><span class="ss">"Tuesday"</span><span class="p">),</span> <span class="p">(</span><span class="ss">"Wednesday"</span><span class="p">),</span> <span class="p">(</span><span class="ss">"Thursday"</span><span class="p">),</span> <span class="p">(</span><span class="ss">"Friday"</span><span class="p">),</span> <span class="p">(</span><span class="ss">"Saturday"</span><span class="p">),</span> <span class="p">(</span><span class="ss">"Sunday"</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="n">d</span> <span class="k">LIKE</span> <span class="ss">"T%"</span><span class="p">;</span>
</pre><pre class="fixed">SELECT * FROM t1 WHERE d LIKE "T%";
+----------+
| d        |
+----------+
| Tuesday  |
| Thursday |
+----------+
</pre><p>Select the days that contain the substring "es":</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="n">d</span> <span class="k">LIKE</span> <span class="ss">"%es%"</span><span class="p">;</span>
</pre><pre class="fixed">SELECT * FROM t1 WHERE d LIKE "%es%";
+-----------+
| d         |
+-----------+
| Tuesday   |
| Wednesday |
+-----------+
</pre><p>Select the six-character day names:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="n">d</span> <span class="k">like</span> <span class="ss">"___day"</span><span class="p">;</span>
</pre><pre class="fixed">SELECT * FROM t1 WHERE d like "___day";
+---------+
| d       |
+---------+
| Monday  |
| Friday  |
| Sunday  |
+---------+
</pre><p>With the default collations, <code>LIKE</code> is case-insensitive:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">where</span> <span class="n">d</span> <span class="k">like</span> <span class="ss">"t%"</span><span class="p">;</span>
</pre><pre class="fixed">SELECT * FROM t1 where d like "t%";
+----------+
| d        |
+----------+
| Tuesday  |
| Thursday |
+----------+
</pre><p>Use <code><a href="collate">COLLATE</a></code> to specify a binary collation, forcing
case-sensitive matches:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="n">d</span> <span class="k">like</span> <span class="ss">"t%"</span> <span class="k">COLLATE</span> <span class="n">latin1_bin</span><span class="p">;</span>
</pre><pre class="fixed">SELECT * FROM t1 WHERE d like "t%" COLLATE latin1_bin;
Empty set (0.00 sec)
</pre><p>You can include functions and operators in the expression to match. Select dates
based on their day name:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t2</span> <span class="p">(</span><span class="n">d</span> <span class="n">DATETIME</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t2</span> <span class="k">VALUES</span>
    <span class="p">(</span><span class="ss">"2007-01-30 21:31:07"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"1983-10-15 06:42:51"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-04-21 12:34:56"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-10-30 06:31:41"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2011-01-30 14:03:25"</span><span class="p">),</span>
    <span class="p">(</span><span class="ss">"2004-10-07 11:19:34"</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t2</span> <span class="k">WHERE</span> <span class="n">DAYNAME</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">LIKE</span> <span class="ss">"T%"</span><span class="p">;</span>
</pre><pre class="fixed">SELECT * FROM t2 WHERE DAYNAME(d) LIKE "T%";
+------------------+
| d                |
+------------------+
| 2007-01-30 21:31 |
| 2011-04-21 12:34 |
| 2004-10-07 11:19 |
+------------------+
3 rows in set, 7 warnings (0.00 sec)
</pre><h2 class="anchored_heading" id="likeoptimizing-like">Optimizing LIKE</h2>
<ul start="1"><li>MariaDB can use indexes for LIKE on string columns in the case where the LIKE doesn't start with <code>%</code> or <code>_</code>.
</li><li>Starting from <a href="https://mariadb.com/kb/en/what-is-mariadb-100/">MariaDB 10.0</a>, one can set  the <a href="https://mariadb.com/kb/en/server-system-variables/#optimizer_use_condition_selectivity">optimizer_use_condition_selectivity</a> variable to 5. If this is done, then the optimizer will read <a href="https://mariadb.com/kb/en/server-system-variables/#optimizer_selectivity_sampling_limit">optimizer_selectivity_sampling_limit</a> rows to calculate the selectivity of the LIKE expression before starting to calculate the query plan. This can help speed up some LIKE queries by providing the optimizer with more information about your data.
</li></ul>
<h2 class="anchored_heading" id="likesee-also">See Also</h2>
<ul start="1"><li>For searches on text columns, with results sorted by relevance, see <a href="https://mariadb.com/kb/en/full-text-indexes/">full-text</a> indexes.
</li><li>For more complex searches and operations on strings, you can use <a href="https://mariadb.com/kb/en/regular-expressions-functions/">regular expressions</a>, which were enhanced in MariaDB 10 (see <a href="https://mariadb.com/kb/en/pcre-regular-expressions/">PCRE Regular Expressions</a>).</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="locate">LOCATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">LOCATE(substr,str), LOCATE(substr,str,pos)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The first syntax returns the position of the first occurrence of
substring <code>substr</code> in string <code>str</code>. The second syntax returns the position
of the first occurrence of substring <code>substr</code> in string <code>str</code>, starting at
position <code>pos</code>. Returns 0 if <code>substr</code> is not in <code>str</code>.</p>
<p><code>LOCATE()</code> performs a case-insensitive search.</p>
<p>If any argument is <code>NULL</code>, returns <code>NULL.</code></p>
<p><a href="#instr">INSTR()</a> is the same as the two-argument form of <code>LOCATE()</code>, except that the order of the arguments is reversed.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">LOCATE</span><span class="p">(</span><span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'foobarbar'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span> <span class="n">LOCATE</span><span class="p">(</span><span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'foobarbar'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>
<span class="o">|</span>                          <span class="mi">4</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------+</span>

<span class="k">SELECT</span> <span class="n">LOCATE</span><span class="p">(</span><span class="s1">'My'</span><span class="p">,</span> <span class="s1">'Maria'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="n">LOCATE</span><span class="p">(</span><span class="s1">'My'</span><span class="p">,</span> <span class="s1">'Maria'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                     <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>

<span class="k">SELECT</span> <span class="n">LOCATE</span><span class="p">(</span><span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'foobarbar'</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="n">LOCATE</span><span class="p">(</span><span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'foobarbar'</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span>                             <span class="mi">7</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#instr">INSTR()</a> ; Returns the position of a string withing a string
</li><li><a href="#substring_index">SUBSTRING_INDEX()</a> ; Returns the substring from string before count occurrences of a delimiter</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="lower">LOWER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="lowersyntax">Syntax</h2>
<pre class="fixed">LOWER(str)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#lowersyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#lowerdescription" title="Description">Description</a></li>
<li class=""><a href="#lowerexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="lowerdescription">Description</h2>
<p>Returns the string <code>str</code> with all characters changed to lowercase
according to the current character set mapping. The default is latin1
(cp1252 West European).</p>
<h2 class="anchored_heading" id="lowerexamples">Examples</h2>
<pre class="fixed"> <span class="k">SELECT</span> <span class="k">LOWER</span><span class="p">(</span><span class="s1">'QUADRATICALLY'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="k">LOWER</span><span class="p">(</span><span class="s1">'QUADRATICALLY'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="n">quadratically</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
</pre><p><code>LOWER()</code> (and <code><a href="#upper">UPPER</a>()</code>) are ineffective when applied to binary
strings (<code><a href="#binary">BINARY</a></code>, <code><a href="#varbinary">VARBINARY</a></code>, <code><a href="#blob">BLOB</a></code>). 
To perform lettercase conversion, <a href="#convert">CONVERT</a> the string to a non-binary string:</p>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">str</span> <span class="o">=</span> <span class="nb">BINARY</span> <span class="s1">'North Carolina'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="k">LOWER</span><span class="p">(</span><span class="o">@</span><span class="n">str</span><span class="p">),</span> <span class="k">LOWER</span><span class="p">(</span><span class="k">CONVERT</span><span class="p">(</span><span class="o">@</span><span class="n">str</span> <span class="k">USING</span> <span class="n">latin1</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------+-----------------------------------+</span>
<span class="o">|</span> <span class="k">LOWER</span><span class="p">(</span><span class="o">@</span><span class="n">str</span><span class="p">)</span>    <span class="o">|</span> <span class="k">LOWER</span><span class="p">(</span><span class="k">CONVERT</span><span class="p">(</span><span class="o">@</span><span class="n">str</span> <span class="k">USING</span> <span class="n">latin1</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+-----------------------------------+</span>
<span class="o">|</span> <span class="n">North</span> <span class="n">Carolina</span> <span class="o">|</span> <span class="n">north</span> <span class="n">carolina</span>                    <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+-----------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="lpad">LPAD</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="lpadsyntax">Syntax</h2>
<pre class="fixed">LPAD(str, len [,padstr])
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#lpadsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#lpaddescription" title="Description">Description</a></li>
<li class=""><a href="#lpadexamples" title="Examples">Examples</a></li>
<li class=""><a href="#lpadsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="lpaddescription">Description</h2>
<p>Returns the string <code>str</code>, left-padded with the string <code>padstr</code> to a length
of <code>len</code> characters. If <code>str</code> is longer than <code>len</code>, the return value is
shortened to <code>len</code> characters. If <code>padstr</code> is omitted, the LPAD function pads spaces.</p>
<p>Prior to <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>, the <code>padstr</code> parameter was mandatory.</p>
<p>Returns NULL if given a NULL argument. If the result is empty (zero length), returns either an empty string or, from <a href="https://mariadb.com/kb/en/mariadb-1036-release-notes/">MariaDB 10.3.6</a> with <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">SQL_MODE=Oracle</a>, NULL.</p>
<p>The Oracle mode version of the function can be accessed outside of Oracle mode by using <code>LPAD_ORACLE</code> as the function name.</p>
<h2 class="anchored_heading" id="lpadexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">LPAD</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="s1">'.'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">LPAD</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="s1">'.'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="p">.....</span><span class="n">hello</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">LPAD</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">'.'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">LPAD</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">'.'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">he</span>                  <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>, with the pad string defaulting to space.</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">LPAD</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">LPAD</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>      <span class="n">hello</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
</pre><p>Oracle mode version from <a href="https://mariadb.com/kb/en/mariadb-1036-release-notes/">MariaDB 10.3.6</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">LPAD</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="n">LPAD_ORACLE</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+-------------------+</span>
<span class="o">|</span> <span class="n">LPAD</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">LPAD_ORACLE</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+-------------------+</span>
<span class="o">|</span>            <span class="o">|</span> <span class="k">NULL</span>              <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+-------------------+</span>
</pre><h2 class="anchored_heading" id="lpadsee-also">See Also</h2>
<ul start="1"><li><a href="#rpad">RPAD</a> - Right-padding instead of left-padding.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="ltrim">LTRIM</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="ltrimsyntax">Syntax</h2>
<pre class="fixed">LTRIM(str)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#ltrimsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#ltrimdescription" title="Description">Description</a></li>
<li class=""><a href="#ltrimexamples" title="Examples">Examples</a></li>
<li class=""><a href="#ltrimsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="ltrimdescription">Description</h2>
<p>Returns the string <code>str</code> with leading space characters removed.</p>
<p>Returns NULL if given a NULL argument. If the result is empty, returns either an empty string, or, from <a href="https://mariadb.com/kb/en/mariadb-1036-release-notes/">MariaDB 10.3.6</a> with <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">SQL_MODE=Oracle</a>, NULL.</p>
<p>The Oracle mode version of the function can be accessed outside of Oracle mode by using <code>LTRIM_ORACLE</code> as the function name.</p>
<h2 class="anchored_heading" id="ltrimexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">QUOTE</span><span class="p">(</span><span class="n">LTRIM</span><span class="p">(</span><span class="s1">'   MariaDB   '</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="n">QUOTE</span><span class="p">(</span><span class="n">LTRIM</span><span class="p">(</span><span class="s1">'   MariaDB   '</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="s1">'MariaDB   '</span>                  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
</pre><p>Oracle mode version from <a href="https://mariadb.com/kb/en/mariadb-1036-release-notes/">MariaDB 10.3.6</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">LTRIM</span><span class="p">(</span><span class="s1">''</span><span class="p">),</span><span class="n">LTRIM_ORACLE</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------+------------------+</span>
<span class="o">|</span> <span class="n">LTRIM</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span> <span class="o">|</span> <span class="n">LTRIM_ORACLE</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+------------------+</span>
<span class="o">|</span>           <span class="o">|</span> <span class="k">NULL</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+------------------+</span>
</pre><h2 class="anchored_heading" id="ltrimsee-also">See Also</h2>
<ul start="1"><li><a href="#rtrim">RTRIM</a> - trailing spaces removed
</li><li><a href="#trim">TRIM</a> - removes all given prefixes or suffixes</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="make_set">MAKE_SET</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MAKE_SET(bits,str1,str2,...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a set value (a string containing substrings separated by ","
characters) consisting of the strings that have the corresponding bit
in bits set. <em><code>str1</code></em> corresponds to bit 0, <em><code>str2</code></em> to bit 1, and so on. NULL
values in <em><code>str1</code></em>, <em><code>str2</code></em>, ... are not appended to the result.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">MAKE_SET</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">'a'</span><span class="p">,</span><span class="s1">'b'</span><span class="p">,</span><span class="s1">'c'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">MAKE_SET</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">'a'</span><span class="p">,</span><span class="s1">'b'</span><span class="p">,</span><span class="s1">'c'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">a</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>

<span class="k">SELECT</span> <span class="n">MAKE_SET</span><span class="p">(</span><span class="mi">1</span> <span class="o">|</span> <span class="mi">4</span><span class="p">,</span><span class="s1">'hello'</span><span class="p">,</span><span class="s1">'nice'</span><span class="p">,</span><span class="s1">'world'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span> <span class="n">MAKE_SET</span><span class="p">(</span><span class="mi">1</span> <span class="o">|</span> <span class="mi">4</span><span class="p">,</span><span class="s1">'hello'</span><span class="p">,</span><span class="s1">'nice'</span><span class="p">,</span><span class="s1">'world'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span> <span class="n">hello</span><span class="p">,</span><span class="n">world</span>                            <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">MAKE_SET</span><span class="p">(</span><span class="mi">1</span> <span class="o">|</span> <span class="mi">4</span><span class="p">,</span><span class="s1">'hello'</span><span class="p">,</span><span class="s1">'nice'</span><span class="p">,</span><span class="k">NULL</span><span class="p">,</span><span class="s1">'world'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------------------+</span>
<span class="o">|</span> <span class="n">MAKE_SET</span><span class="p">(</span><span class="mi">1</span> <span class="o">|</span> <span class="mi">4</span><span class="p">,</span><span class="s1">'hello'</span><span class="p">,</span><span class="s1">'nice'</span><span class="p">,</span><span class="k">NULL</span><span class="p">,</span><span class="s1">'world'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------+</span>
<span class="o">|</span> <span class="n">hello</span>                                       <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">QUOTE</span><span class="p">(</span><span class="n">MAKE_SET</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'a'</span><span class="p">,</span><span class="s1">'b'</span><span class="p">,</span><span class="s1">'c'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="n">QUOTE</span><span class="p">(</span><span class="n">MAKE_SET</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'a'</span><span class="p">,</span><span class="s1">'b'</span><span class="p">,</span><span class="s1">'c'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="s1">''</span>                             <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="match-against">MATCH AGAINST</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">MATCH (col1,col2,...) AGAINST (expr [search_modifier])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A special construct used to perform a fulltext search on a fulltext index.</p>
<p>See <a href="https://mariadb.com/kb/en/fulltext-index-overview/">Fulltext Index Overview</a> for a full description, and <a href="https://mariadb.com/kb/en/full-text-indexes/">Full-text Indexes</a> for more articles on the topic.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">ft_myisam</span><span class="p">(</span><span class="k">copy</span> <span class="nb">TEXT</span><span class="p">,</span><span class="n">FULLTEXT</span><span class="p">(</span><span class="k">copy</span><span class="p">))</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">MyISAM</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">ft_myisam</span><span class="p">(</span><span class="k">copy</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Once upon a time'</span><span class="p">),</span> <span class="p">(</span><span class="s1">'There was a wicked witch'</span><span class="p">),</span> 
 <span class="p">(</span><span class="s1">'Who ate everybody up'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">ft_myisam</span> <span class="k">WHERE</span> <span class="k">MATCH</span><span class="p">(</span><span class="k">copy</span><span class="p">)</span> <span class="n">AGAINST</span><span class="p">(</span><span class="s1">'wicked'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span> <span class="k">copy</span>                     <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span> <span class="n">There</span> <span class="n">was</span> <span class="n">a</span> <span class="n">wicked</span> <span class="n">witch</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="k">MATCH</span> <span class="p">(</span><span class="n">title</span><span class="p">,</span><span class="n">body</span><span class="p">)</span> <span class="n">AGAINST</span>
    <span class="p">(</span><span class="s1">'Security implications of running MySQL as root'</span>
    <span class="k">IN</span> <span class="k">NATURAL</span> <span class="k">LANGUAGE</span> <span class="k">MODE</span><span class="p">)</span> <span class="k">AS</span> <span class="n">score</span>
    <span class="k">FROM</span> <span class="n">articles</span> <span class="k">WHERE</span> <span class="k">MATCH</span> <span class="p">(</span><span class="n">title</span><span class="p">,</span><span class="n">body</span><span class="p">)</span> <span class="n">AGAINST</span>
    <span class="p">(</span><span class="s1">'Security implications of running MySQL as root'</span>
    <span class="k">IN</span> <span class="k">NATURAL</span> <span class="k">LANGUAGE</span> <span class="k">MODE</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----+-------------------------------------+-----------------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">body</span>                                <span class="o">|</span> <span class="n">score</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-------------------------------------+-----------------+</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span> <span class="n">Never</span> <span class="n">run</span> <span class="n">mysqld</span> <span class="k">as</span> <span class="n">root</span><span class="p">.</span> <span class="mi">2</span><span class="p">.</span> <span class="p">...</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">5219271183014</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span> <span class="k">When</span> <span class="n">configured</span> <span class="n">properly</span><span class="p">,</span> <span class="n">MySQL</span> <span class="p">...</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">3114095926285</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-------------------------------------+-----------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="regexp_instr">REGEXP_INSTR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_0_5 mariadb from_10_0_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">10.0.5</a></h5><p>REGEXP_INSTR was introduced in <a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">MariaDB 10.0.5</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">REGEXP_INSTR(subject, pattern)
</pre><p>Returns the position of the first occurrence of the regular expression <code>pattern</code> in the string <code>subject</code>, or 0 if pattern was not found.</p>
<p>The positions start with 1 and are measured in characters (i.e. not in bytes), which is important for multi-byte character sets. You can cast a multi-byte character set to <a href="#binary">BINARY</a> to get offsets in bytes.</p>
<p>The function follows the case sensitivity rules of the effective <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">collation</a>. Matching is performed case insensitively for case insensitive collations, and case sensitively for case sensitive collations and for binary data.</p>
<p>The collation case sensitivity can be overwritten using the (?i) and (?-i) PCRE flags.</p>
<p><a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">MariaDB 10.0.5</a> switched to the <a href="https://mariadb.com/kb/en/pcre-regular-expressions/">PCRE regular expression</a> library for enhanced regular expression performance, and REGEXP_INSTR was introduced as part of this enhancement.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT REGEXP_INSTR('abc','b');
-&gt; 2

SELECT REGEXP_INSTR('abc','x');
-&gt; 0

SELECT REGEXP_INSTR('BJÖRN','N');
-&gt; 5
</pre><p>Casting a multi-byte character set as BINARY to get offsets in bytes:</p>
<pre class="fixed">SELECT REGEXP_INSTR(BINARY 'BJÖRN','N') AS cast_utf8_to_binary;
-&gt; 6
</pre><p>Case sensitivity:</p>
<pre class="fixed">SELECT REGEXP_INSTR('ABC','b');
-&gt; 2

SELECT REGEXP_INSTR('ABC' COLLATE utf8_bin,'b');
-&gt; 0

SELECT REGEXP_INSTR(BINARY'ABC','b');
-&gt; 0

SELECT REGEXP_INSTR('ABC','(?-i)b');
-&gt; 0

SELECT REGEXP_INSTR('ABC' COLLATE utf8_bin,'(?i)b');
-&gt; 2
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="regexp_replace">REGEXP_REPLACE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_0_5 mariadb from_10_0_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">10.0.5</a></h5><p>REGEXP_REPLACE was introduced in <a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">MariaDB 10.0.5</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">REGEXP_REPLACE(subject, pattern, replace)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p><code>REGEXP_REPLACE</code> returns the string <code>subject</code> with all occurrences of the regular expression <code>pattern</code> replaced by the string <code>replace</code>. If no occurrences are found, then <code>subject</code> is returned as is.</p>
<p>The replace string can have backreferences to the subexpressions in the form \N, where N is a number from 1 to 9.</p>
<p>The function follows the case sensitivity rules of the effective <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">collation</a>. Matching is performed case insensitively for case insensitive collations, and case sensitively for case sensitive collations and for binary data.</p>
<p>The collation case sensitivity can be overwritten using the (?i) and (?-i) PCRE flags.</p>
<p><a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">MariaDB 10.0.5</a> switched to the <a href="https://mariadb.com/kb/en/pcre-regular-expressions/">PCRE regular expression</a> library for enhanced regular expression performance, and <code>REGEXP_REPLACE</code> was introduced as part of this enhancement.</p>
<p><a href="https://mariadb.com/kb/en/mariadb-10011-release-notes/">MariaDB 10.0.11</a> introduced the <a href="https://mariadb.com/kb/en/server-system-variables/#default_regex_flags">default_regex_flags</a> variable to address the remaining compatibilities between PCRE and the old regex library. </p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT REGEXP_REPLACE('ab12cd','[0-9]','') AS remove_digits;
-&gt; abcd

SELECT REGEXP_REPLACE('&lt;html&gt;&lt;head&gt;&lt;title&gt;title&lt;/title&gt;&lt;body&gt;body&lt;/body&gt;&lt;/htm&gt;', '&lt;.+?&gt;',' ')
AS strip_html;
-&gt; title  body
</pre><p>Backreferences to the subexpressions in the form <code>\N</code>, where N is a number from 1 to 9:</p>
<pre class="fixed">SELECT REGEXP_REPLACE('James Bond','^(.*) (.*)$','\\2, \\1') AS reorder_name;
-&gt; Bond, James
</pre><p>Case insensitive and case sensitive matches:</p>
<pre class="fixed">SELECT REGEXP_REPLACE('ABC','b','-') AS case_insensitive;
-&gt; A-C

SELECT REGEXP_REPLACE('ABC' COLLATE utf8_bin,'b','-') AS case_sensitive;
-&gt; ABC

SELECT REGEXP_REPLACE(BINARY 'ABC','b','-') AS binary_data;
-&gt; ABC
</pre><p>Overwriting the collation case sensitivity using the (?i) and (?-i) PCRE flags.</p>
<pre class="fixed">SELECT REGEXP_REPLACE('ABC','(?-i)b','-') AS force_case_sensitive;
-&gt; ABC

SELECT REGEXP_REPLACE(BINARY 'ABC','(?i)b','-') AS force_case_insensitive;
-&gt; A-C
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="regexp_substr">REGEXP_SUBSTR</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_0_5 mariadb from_10_0_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">10.0.5</a></h5><p>REGEXP_SUBSTR was introduced in <a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">MariaDB 10.0.5</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">REGEXP_SUBSTR(subject,pattern)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the part of the string <code>subject</code> that matches the regular expression <code>pattern</code>, or an empty string if <code>pattern</code> was not found.</p>
<p>The function follows the case sensitivity rules of the effective <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">collation</a>. Matching is performed case insensitively for case insensitive collations, and case sensitively for case sensitive collations and for binary data.</p>
<p>The collation case sensitivity can be overwritten using the (?i) and (?-i) PCRE flags.</p>
<p><a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">MariaDB 10.0.5</a>  switched to the <a href="https://mariadb.com/kb/en/pcre-regular-expressions/">PCRE regular expression</a> library for enhanced regular expression performance, and <code>REGEXP_SUBSTR</code> was introduced as part of this enhancement.</p>
<p><a href="https://mariadb.com/kb/en/mariadb-10011-release-notes/">MariaDB 10.0.11</a> introduced the <a href="https://mariadb.com/kb/en/server-system-variables/#default_regex_flags">default_regex_flags</a> variable to address the remaining compatibilities between PCRE and the old regex library. </p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT REGEXP_SUBSTR('ab12cd','[0-9]+');
-&gt; 12

SELECT REGEXP_SUBSTR(
  'See https://mariadb.org/en/foundation/ for details',
  'https?://[^/]*');
-&gt; https://mariadb.org
</pre><pre class="fixed">SELECT REGEXP_SUBSTR('ABC','b');
-&gt; B

SELECT REGEXP_SUBSTR('ABC' COLLATE utf8_bin,'b');
-&gt;

SELECT REGEXP_SUBSTR(BINARY'ABC','b');
-&gt;

SELECT REGEXP_SUBSTR('ABC','(?i)b');
-&gt; B

SELECT REGEXP_SUBSTR('ABC' COLLATE utf8_bin,'(?+i)b');
-&gt; B
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="rpad">RPAD</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="rpadsyntax">Syntax</h2>
<pre class="fixed">RPAD(str, len [, padstr])
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#rpadsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#rpaddescription" title="Description">Description</a></li>
<li class=""><a href="#rpadexamples" title="Examples">Examples</a></li>
<li class=""><a href="#rpadsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="rpaddescription">Description</h2>
<p>Returns the string <code>str</code>, right-padded with the string <code>padstr</code> to a
length of <code>len</code> characters. If <code>str</code> is longer than <code>len</code>, the return value
is shortened to <code>len</code> characters. If <code>padstr</code> is omitted, the RPAD function pads spaces.</p>
<p>Prior to <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>, the <code>padstr</code> parameter was mandatory.</p>
<p>Returns NULL if given a NULL argument. If the result is empty (a length of zero), returns either an empty string, or, from <a href="https://mariadb.com/kb/en/mariadb-1036-release-notes/">MariaDB 10.3.6</a> with <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">SQL_MODE=Oracle</a>, NULL.</p>
<p>The Oracle mode version of the function can be accessed outside of Oracle mode by using <code>RPAD_ORACLE</code> as the function name.</p>
<h2 class="anchored_heading" id="rpadexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">RPAD</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="s1">'.'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">RPAD</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="s1">'.'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">hello</span><span class="p">.....</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">RPAD</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">'.'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">RPAD</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">'.'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">he</span>                  <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">MariaDB 10.3.1</a>, with the pad string defaulting to space.</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">RPAD</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span><span class="mi">30</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="n">RPAD</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="n">hello</span>                          <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
</pre><p>Oracle mode version from <a href="https://mariadb.com/kb/en/mariadb-1036-release-notes/">MariaDB 10.3.6</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">RPAD</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="n">RPAD_ORACLE</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+-------------------+</span>
<span class="o">|</span> <span class="n">RPAD</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="n">RPAD_ORACLE</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+-------------------+</span>
<span class="o">|</span>            <span class="o">|</span> <span class="k">NULL</span>              <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+-------------------+</span>
</pre><h2 class="anchored_heading" id="rpadsee-also">See Also</h2>
<ul start="1"><li><a href="#lpad">LPAD</a> - Left-padding instead of right-padding.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="rtrim">RTRIM</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="rtrimsyntax">Syntax</h2>
<pre class="fixed">RTRIM(str)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#rtrimsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#rtrimdescription" title="Description">Description</a></li>
<li class=""><a href="#rtrimexamples" title="Examples">Examples</a></li>
<li class=""><a href="#rtrimsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="rtrimdescription">Description</h2>
<p>Returns the string <code>str</code> with trailing space characters removed.</p>
<p>Returns NULL if given a NULL argument. If the result is empty, returns either an empty string, or, from <a href="https://mariadb.com/kb/en/mariadb-1036-release-notes/">MariaDB 10.3.6</a> with <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">SQL_MODE=Oracle</a>, NULL.</p>
<p>The Oracle mode version of the function can be accessed outside of Oracle mode by using <code>RTRIM_ORACLE</code> as the function name.</p>
<h2 class="anchored_heading" id="rtrimexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">QUOTE</span><span class="p">(</span><span class="n">RTRIM</span><span class="p">(</span><span class="s1">'MariaDB    '</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="n">QUOTE</span><span class="p">(</span><span class="n">RTRIM</span><span class="p">(</span><span class="s1">'MariaDB    '</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="s1">'MariaDB'</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
</pre><p>Oracle mode version from <a href="https://mariadb.com/kb/en/mariadb-1036-release-notes/">MariaDB 10.3.6</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">RTRIM</span><span class="p">(</span><span class="s1">''</span><span class="p">),</span><span class="n">RTRIM_ORACLE</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------+------------------+</span>
<span class="o">|</span> <span class="n">RTRIM</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span> <span class="o">|</span> <span class="n">RTRIM_ORACLE</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+------------------+</span>
<span class="o">|</span>           <span class="o">|</span> <span class="k">NULL</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+------------------+</span>
</pre><h2 class="anchored_heading" id="rtrimsee-also">See Also</h2>
<ul start="1"><li><a href="#ltrim">LTRIM</a> - leading spaces removed
</li><li><a href="#trim">TRIM</a> - removes all given prefixes or suffixes</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="soundex">SOUNDEX</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SOUNDEX(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a soundex string from <em><code>str</code></em>. Two strings that sound almost the
same should have identical soundex strings. A standard soundex string is four
characters long, but the <code>SOUNDEX()</code> function returns an arbitrarily long
string. You can use <code>SUBSTRING()</code> on the result to get a standard soundex
string. All non-alphabetic characters in <em><code>str</code></em> are ignored. All
international alphabetic characters outside the A-Z range are treated as
vowels.</p>
<p><strong>Important:</strong> When using SOUNDEX(), you should be aware of the
following details:</p>
<ul start="1"><li>This function, as currently implemented, is intended to work well with
  strings that are in the English language only. Strings in other languages may
  not produce reasonable results.
</li></ul>
<ul start="1"><li>This function implements the original Soundex algorithm, not the more popular enhanced version (also described by D. Knuth). The difference is that original version discards vowels first and duplicates second, whereas the enhanced version discards duplicates first and vowels second. 
</li></ul>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="n">SOUNDEX</span><span class="p">(</span><span class="s1">'Hello'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">SOUNDEX</span><span class="p">(</span><span class="s1">'Hello'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">H400</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">SOUNDEX</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">SOUNDEX</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">M631</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">SOUNDEX</span><span class="p">(</span><span class="s1">'Knowledgebase'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span> <span class="n">SOUNDEX</span><span class="p">(</span><span class="s1">'Knowledgebase'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span> <span class="n">K543212</span>                  <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="n">givenname</span><span class="p">,</span> <span class="n">surname</span> <span class="k">FROM</span> <span class="n">users</span> <span class="k">WHERE</span> <span class="n">SOUNDEX</span><span class="p">(</span><span class="n">givenname</span><span class="p">)</span> <span class="o">=</span> <span class="n">SOUNDEX</span><span class="p">(</span><span class="ss">"robert"</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------+---------+</span>
<span class="o">|</span> <span class="n">givenname</span> <span class="o">|</span> <span class="n">surname</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+---------+</span>
<span class="o">|</span> <span class="n">Roberto</span>   <span class="o">|</span> <span class="n">Castro</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------+---------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="#sounds-like">SOUNDS LIKE</a>()</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="substring">SUBSTRING</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="substringsyntax">Syntax</h2>
<pre class="fixed">SUBSTRING(str,pos), 
SUBSTRING(str FROM pos), 
SUBSTRING(str,pos,len),
SUBSTRING(str FROM pos FOR len)

SUBSTR(str,pos), 
SUBSTR(str FROM pos), 
SUBSTR(str,pos,len),
SUBSTR(str FROM pos FOR len)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#substringsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#substringdescription" title="Description">Description</a></li>
<li class=""><a href="#substringexamples" title="Examples">Examples</a></li>
<li class=""><a href="#substringsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="substringdescription">Description</h2>
<p>The forms without a <em><code>len</code></em> argument return a substring from string <em><code>str</code></em> starting at position <em><code>pos</code></em>.</p>
<p>The forms with a <em><code>len</code></em> argument return a substring <em><code>len</code></em> characters long from string <em><code>str</code></em>, starting at position <em><code>pos</code></em>.</p>
<p>The forms that use <em><code>FROM</code></em> are standard SQL syntax.</p>
<p>It is also possible to use a negative value for <em><code>pos</code></em>. In this case, the beginning of the substring is <em><code>pos</code></em> characters from the end of the string, rather than the beginning. A negative value may be used for <em><code>pos</code></em> in any of the forms of this function.</p>
<p>By default, the position of the first character in the string from which the substring is to be extracted is reckoned as 1. For <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle-compatibility</a>, from <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">MariaDB 10.3.3</a>, when sql_mode is set to 'oracle', position zero is treated as position 1 (although the first character is still reckoned as 1).</p>
<p>If any argument is <code>NULL</code>, returns <code>NULL</code>.</p>
<h2 class="anchored_heading" id="substringexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">'Knowledgebase'</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">'Knowledgebase'</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>
<span class="o">|</span> <span class="n">ledgebase</span>                    <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------+</span>

<span class="k">SELECT</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">'MariaDB'</span> <span class="k">FROM</span> <span class="mi">6</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">'MariaDB'</span> <span class="k">FROM</span> <span class="mi">6</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="n">DB</span>                          <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>

<span class="k">SELECT</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">'Knowledgebase'</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">'Knowledgebase'</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="n">owledge</span>                        <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>

<span class="k">SELECT</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">'Knowledgebase'</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">'Knowledgebase'</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="n">base</span>                           <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>

<span class="k">SELECT</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">'Knowledgebase'</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------+</span>
<span class="o">|</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">'Knowledgebase'</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------+</span>
<span class="o">|</span> <span class="n">edge</span>                              <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------+</span>

<span class="k">SELECT</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">'Knowledgebase'</span> <span class="k">FROM</span> <span class="o">-</span><span class="mi">8</span> <span class="k">FOR</span> <span class="mi">4</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
<span class="o">|</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">'Knowledgebase'</span> <span class="k">FROM</span> <span class="o">-</span><span class="mi">8</span> <span class="k">FOR</span> <span class="mi">4</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
<span class="o">|</span> <span class="n">edge</span>                                     <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
</pre><p><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle mode from MariaDB 10.3.3</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SUBSTR</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">SUBSTR</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">SELECT</span> <span class="n">SUBSTR</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">SUBSTR</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">ab</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">SET</span> <span class="n">sql_mode</span><span class="o">=</span><span class="s1">'oracle'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">SUBSTR</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">SUBSTR</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">abc</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">SELECT</span> <span class="n">SUBSTR</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">SUBSTR</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">ab</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
</pre><h2 class="anchored_heading" id="substringsee-also">See Also</h2>
<ul start="1"><li><a href="#instr">INSTR()</a> - Returns the position of a string within a string
</li><li><a href="#locate">LOCATE()</a> - Returns the position of a string within a string
</li><li><a href="#substring_index">SUBSTRING_INDEX()</a> - Returns a string based on substring</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="substring_index">SUBSTRING_INDEX</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="substring_indexsyntax">Syntax</h2>
<pre class="fixed">SUBSTRING_INDEX(str,delim,count)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#substring_indexsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#substring_indexdescription" title="Description">Description</a></li>
<li class=""><a href="#substring_indexexamples" title="Examples">Examples</a></li>
<li class=""><a href="#substring_indexsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="substring_indexdescription">Description</h2>
<p>Returns the substring from string <em><code>str</code></em> before count occurrences of the
delimiter <em><code>delim</code></em>. If <em><code>count</code></em> is positive, everything to the left
of the final delimiter (counting from the left) is returned. If <em><code>count</code></em>
is negative, everything to the right of the final delimiter (counting from the
right) is returned. <code>SUBSTRING_INDEX()</code> performs a case-sensitive match when
searching for <em><code>delim</code></em>.</p>
<p>If any argument is <code>NULL</code>, returns <code>NULL</code>.</p>
<p>For example</p>
<pre class="fixed">SUBSTRING_INDEX('www.mariadb.org', '.', 2)
</pre><p>means "Return all of the characters up to the 2nd occurrence of ."</p>
<h2 class="anchored_heading" id="substring_indexexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SUBSTRING_INDEX</span><span class="p">(</span><span class="s1">'www.mariadb.org'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
<span class="o">|</span> <span class="n">SUBSTRING_INDEX</span><span class="p">(</span><span class="s1">'www.mariadb.org'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
<span class="o">|</span> <span class="n">www</span><span class="p">.</span><span class="n">mariadb</span>                                <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">SUBSTRING_INDEX</span><span class="p">(</span><span class="s1">'www.mariadb.org'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------------------+</span>
<span class="o">|</span> <span class="n">SUBSTRING_INDEX</span><span class="p">(</span><span class="s1">'www.mariadb.org'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------+</span>
<span class="o">|</span> <span class="n">mariadb</span><span class="p">.</span><span class="n">org</span>                                 <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="substring_indexsee-also">See Also</h2>
<ul start="1"><li><a href="#instr">INSTR()</a> - Returns the position of a string within a string
</li><li><a href="#locate">LOCATE()</a> - Returns the position of a string within a string
</li><li><a href="#substring">SUBSTRING()</a> - Returns a string based on position</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="to_base64">TO_BASE64</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_0_5 mariadb from_10_0_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">10.0.5</a></h5><p>The TO_BASE64() function was introduced in <a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">MariaDB 10.0.5</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">TO_BASE64(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Converts the string argument <code>str</code> to its base-64 encoded form, returning the result as a character string in the connection character set and collation.</p>
<p>The argument <code>str</code> will be converted to string first if it is not a string. A NULL argument will return a NULL result.</p>
<p>The reverse function, <a href="#from_base64">FROM_BASE64()</a>, decodes an encoded base-64 string.</p>
<p>There are a numerous different methods to base-64 encode a string. The following are used by MariaDB and MySQL:</p>
<ul><li>Alphabet value 64 is encoded as '+'.
</li><li>Alphabet value 63 is encoded as '/'.
</li><li>Encoding output is made up of groups of four printable characters, with each three bytes of data encoded using four characters. If the final group is not complete, it is padded with '=' characters to make up a length of four.
</li><li>To divide long output, a newline is added after every 76 characters.
</li><li>Decoding will recognize and ignore newlines, carriage returns, tabs, and spaces. 
</li></ul>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">TO_BASE64</span><span class="p">(</span><span class="s1">'Maria'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">TO_BASE64</span><span class="p">(</span><span class="s1">'Maria'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">TWFyaWE</span><span class="o">=</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="trim">TRIM</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="trimsyntax">Syntax</h2>
<pre class="fixed">TRIM([{BOTH | LEADING | TRAILING} [remstr] FROM] str), TRIM([remstr FROM] str)
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1036-release-notes/">MariaDB 10.3.6</a></p>
<pre class="fixed">TRIM_ORACLE([{BOTH | LEADING | TRAILING} [remstr] FROM] str), TRIM([remstr FROM] str)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#trimsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#trimdescription" title="Description">Description</a></li>
<li class=""><a href="#trimexamples" title="Examples">Examples</a></li>
<li class=""><a href="#trimsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="trimdescription">Description</h2>
<p>Returns the string <code>str</code> with all <code>remstr</code> prefixes or suffixes removed. If none of the specifiers <code>BOTH</code>, <code>LEADING</code>, or <code>TRAILING</code> is given, <code>BOTH</code> is assumed. <code>remstr</code> is optional and, if not specified, spaces are removed.</p>
<p>Returns NULL if given a NULL argument. If the result is empty, returns either an empty string, or, from <a href="https://mariadb.com/kb/en/mariadb-1036-release-notes/">MariaDB 10.3.6</a> with <a href="https://mariadb.com/kb/en/sql_modeoracle/">SQL_MODE=Oracle</a>, NULL. <code>SQL_MODE=Oracle</code> is not set by default.</p>
<p>The Oracle mode version of the function can be accessed in any mode by using <code>TRIM_ORACLE</code> as the function name.</p>
<h2 class="anchored_heading" id="trimexamples">Examples</h2>
<pre class="fixed">SELECT TRIM('  bar   ')\G
*************************** 1. row ***************************
TRIM('  bar   '): bar

SELECT TRIM(LEADING 'x' FROM 'xxxbarxxx')\G
*************************** 1. row ***************************
TRIM(LEADING 'x' FROM 'xxxbarxxx'): barxxx

SELECT TRIM(BOTH 'x' FROM 'xxxbarxxx')\G
*************************** 1. row ***************************
TRIM(BOTH 'x' FROM 'xxxbarxxx'): bar

SELECT TRIM(TRAILING 'xyz' FROM 'barxxyz')\G
*************************** 1. row ***************************
TRIM(TRAILING 'xyz' FROM 'barxxyz'): barx
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1036-release-notes/">MariaDB 10.3.6</a>, with <a href="https://mariadb.com/kb/en/sql_modeoracle/">SQL_MODE=Oracle</a> not set:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">TRIM</span><span class="p">(</span><span class="s1">''</span><span class="p">),</span><span class="n">TRIM_ORACLE</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------+-----------------+</span>
<span class="o">|</span> <span class="k">TRIM</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span> <span class="o">|</span> <span class="n">TRIM_ORACLE</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+-----------------+</span>
<span class="o">|</span>          <span class="o">|</span> <span class="k">NULL</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+-----------------+</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1036-release-notes/">MariaDB 10.3.6</a>, with <a href="https://mariadb.com/kb/en/sql_modeoracle/">SQL_MODE=Oracle</a> set:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">TRIM</span><span class="p">(</span><span class="s1">''</span><span class="p">),</span><span class="n">TRIM_ORACLE</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------+-----------------+</span>
<span class="o">|</span> <span class="k">TRIM</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span> <span class="o">|</span> <span class="n">TRIM_ORACLE</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+-----------------+</span>
<span class="o">|</span> <span class="k">NULL</span>     <span class="o">|</span> <span class="k">NULL</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">----------+-----------------+</span>
</pre><h2 class="anchored_heading" id="trimsee-also">See Also</h2>
<ul start="1"><li><a href="#ltrim">LTRIM</a> - leading spaces removed
</li><li><a href="#rtrim">RTRIM</a> - trailing spaces removed</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="unhex">UNHEX</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">UNHEX(str)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Performs the inverse operation of <a href="#hex">HEX</a>(str). That is, it interprets
each pair of hexadecimal digits in the argument as a number and
converts it to the character represented by the number. The resulting
characters are returned as a binary string.</p>
<p>If <code>str</code> is <code>NULL</code>, <code>UNHEX()</code> returns <code>NULL</code>.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">HEX</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">HEX</span><span class="p">(</span><span class="s1">'MariaDB'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="mi">4</span><span class="n">D617269614442</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>

<span class="k">SELECT</span> <span class="n">UNHEX</span><span class="p">(</span><span class="s1">'4D617269614442'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">UNHEX</span><span class="p">(</span><span class="s1">'4D617269614442'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">MariaDB</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>

<span class="k">SELECT</span> <span class="mi">0</span><span class="n">x4D617269614442</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="mi">0</span><span class="n">x4D617269614442</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="n">MariaDB</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>

<span class="k">SELECT</span> <span class="n">UNHEX</span><span class="p">(</span><span class="n">HEX</span><span class="p">(</span><span class="s1">'string'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">UNHEX</span><span class="p">(</span><span class="n">HEX</span><span class="p">(</span><span class="s1">'string'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">string</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">HEX</span><span class="p">(</span><span class="n">UNHEX</span><span class="p">(</span><span class="s1">'1267'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="n">HEX</span><span class="p">(</span><span class="n">UNHEX</span><span class="p">(</span><span class="s1">'1267'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="mi">1267</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/hexadecimal-literals/">Hexadecimal literals</a>
</li><li><a href="#hex">HEX()</a>
</li><li><a href="#conv">CONV()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="updatexml">UPDATEXML</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">UpdateXML(xml_target, xpath_expr, new_xml)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This function replaces a single portion of a given fragment of XML markup
<code>xml_target</code> with a new XML fragment <code>new_xml</code>, and then returns the
changed XML. The portion of <code>xml_target</code> that is replaced matches an XPath
expression <code>xpath_expr</code> supplied by the user. If no expression matching
<code>xpath_expr</code> is found, or if multiple matches are found, the function returns
the original <code>xml_target</code> XML fragment. All three arguments should be
strings.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span>
    <span class="n">UpdateXML</span><span class="p">(</span><span class="s1">'&lt;a&gt;&lt;b&gt;ccc&lt;/b&gt;&lt;d&gt;&lt;/d&gt;&lt;/a&gt;'</span><span class="p">,</span> <span class="s1">'/a'</span><span class="p">,</span> <span class="s1">'&lt;e&gt;fff&lt;/e&gt;'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">val1</span><span class="p">,</span>
    <span class="n">UpdateXML</span><span class="p">(</span><span class="s1">'&lt;a&gt;&lt;b&gt;ccc&lt;/b&gt;&lt;d&gt;&lt;/d&gt;&lt;/a&gt;'</span><span class="p">,</span> <span class="s1">'/b'</span><span class="p">,</span> <span class="s1">'&lt;e&gt;fff&lt;/e&gt;'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">val2</span><span class="p">,</span>
    <span class="n">UpdateXML</span><span class="p">(</span><span class="s1">'&lt;a&gt;&lt;b&gt;ccc&lt;/b&gt;&lt;d&gt;&lt;/d&gt;&lt;/a&gt;'</span><span class="p">,</span> <span class="s1">'//b'</span><span class="p">,</span> <span class="s1">'&lt;e&gt;fff&lt;/e&gt;'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">val3</span><span class="p">,</span>
    <span class="n">UpdateXML</span><span class="p">(</span><span class="s1">'&lt;a&gt;&lt;b&gt;ccc&lt;/b&gt;&lt;d&gt;&lt;/d&gt;&lt;/a&gt;'</span><span class="p">,</span> <span class="s1">'/a/d'</span><span class="p">,</span> <span class="s1">'&lt;e&gt;fff&lt;/e&gt;'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">val4</span><span class="p">,</span>
    <span class="n">UpdateXML</span><span class="p">(</span><span class="s1">'&lt;a&gt;&lt;d&gt;&lt;/d&gt;&lt;b&gt;ccc&lt;/b&gt;&lt;d&gt;&lt;/d&gt;&lt;/a&gt;'</span><span class="p">,</span> <span class="s1">'/a/d'</span><span class="p">,</span> <span class="s1">'&lt;e&gt;fff&lt;/e&gt;'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">val5</span>
    <span class="err">\</span><span class="k">G</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
<span class="n">val1</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">e</span><span class="o">&gt;</span><span class="n">fff</span><span class="o">&lt;/</span><span class="n">e</span><span class="o">&gt;</span>
<span class="n">val2</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">a</span><span class="o">&gt;&lt;</span><span class="n">b</span><span class="o">&gt;</span><span class="n">ccc</span><span class="o">&lt;/</span><span class="n">b</span><span class="o">&gt;&lt;</span><span class="n">d</span><span class="o">&gt;&lt;/</span><span class="n">d</span><span class="o">&gt;&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
<span class="n">val3</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">a</span><span class="o">&gt;&lt;</span><span class="n">e</span><span class="o">&gt;</span><span class="n">fff</span><span class="o">&lt;/</span><span class="n">e</span><span class="o">&gt;&lt;</span><span class="n">d</span><span class="o">&gt;&lt;/</span><span class="n">d</span><span class="o">&gt;&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
<span class="n">val4</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">a</span><span class="o">&gt;&lt;</span><span class="n">b</span><span class="o">&gt;</span><span class="n">ccc</span><span class="o">&lt;/</span><span class="n">b</span><span class="o">&gt;&lt;</span><span class="n">e</span><span class="o">&gt;</span><span class="n">fff</span><span class="o">&lt;/</span><span class="n">e</span><span class="o">&gt;&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
<span class="n">val5</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">a</span><span class="o">&gt;&lt;</span><span class="n">d</span><span class="o">&gt;&lt;/</span><span class="n">d</span><span class="o">&gt;&lt;</span><span class="n">b</span><span class="o">&gt;</span><span class="n">ccc</span><span class="o">&lt;/</span><span class="n">b</span><span class="o">&gt;&lt;</span><span class="n">d</span><span class="o">&gt;&lt;/</span><span class="n">d</span><span class="o">&gt;&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="weight_string">WEIGHT_STRING</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_0_5 mariadb from_10_0_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">10.0.5</a></h5><p>The WEIGHT_STRING function was introduced in <a href="https://mariadb.com/kb/en/mariadb-1005-release-notes/">MariaDB 10.0.5</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">WEIGHT_STRING(str [AS {CHAR|BINARY}(N)] [LEVEL levels] [flags])
  levels: N [ASC|DESC|REVERSE] [, N [ASC|DESC|REVERSE]] ... 
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a binary string representing the string's sorting and comparison value. A string with a lower result means that for sorting purposes the string appears before a string with a higher result.</p>
<p>WEIGHT_STRING() is particularly useful when adding new collations, for testing purposes.</p>
<p>If <code>str</code> is a non-binary string (<a href="#char">CHAR</a>, <a href="#varchar">VARCHAR</a> or <a href="#text">TEXT</a>), WEIGHT_STRING returns the string's collation weight. If <code>str</code> is a binary string (<a href="#binary">BINARY</a>, <a href="#varbinary">VARBINARY</a> or <a href="#blob">BLOB</a>), the return value is simply the input value, since the weight for each byte in a binary string is the byte value.</p>
<p>WEIGHT_STRING() returns NULL if given a NULL input. </p>
<p>The optional AS clause permits casting the input string to a binary or non-binary string, as well as to a particular length.</p>
<p>AS BINARY(N) measures the length in bytes rather than characters, and right pads with 0x00 bytes to the desired length. </p>
<p>AS CHAR(N) measures the length in characters, and right pads with spaces to the desired length.</p>
<p>N has a minimum value of 1, and if it is less than the length of the input string, the string is truncated without warning.</p>
<p>The optional LEVEL clause specifies that the return value should contain weights for specific collation levels. The <code>levels</code> specifier can either be a single integer, a comma-separated list of integers, or a range of integers separated by a dash (whitespace is ignored). Integers can range from 1 to a maximum of 6, dependent on the collation, and need to be listed in ascending order.</p>
<p>If the LEVEL clause is no provided, a default of 1 to the maximum for the collation is assumed.</p>
<p>If the LEVEL is specified without using a range, an optional modifier is permitted.</p>
<p><code>ASC</code>, the default, returns the weights without any modification.</p>
<p><code>DESC</code> returns bitwise-inverted weights.</p>
<p><code>REVERSE</code> returns the weights in reverse order.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<p>The examples below use the <a href="#hex">HEX()</a> function to represent non-printable results in hexadecimal format.</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">HEX</span><span class="p">(</span><span class="n">WEIGHT_STRING</span><span class="p">(</span><span class="s1">'x'</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">HEX</span><span class="p">(</span><span class="n">WEIGHT_STRING</span><span class="p">(</span><span class="s1">'x'</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="mi">0058</span>                    <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>

<span class="k">SELECT</span> <span class="n">HEX</span><span class="p">(</span><span class="n">WEIGHT_STRING</span><span class="p">(</span><span class="s1">'x'</span> <span class="k">AS</span> <span class="nb">BINARY</span><span class="p">(</span><span class="mi">4</span><span class="p">)));</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
<span class="o">|</span> <span class="n">HEX</span><span class="p">(</span><span class="n">WEIGHT_STRING</span><span class="p">(</span><span class="s1">'x'</span> <span class="k">AS</span> <span class="nb">BINARY</span><span class="p">(</span><span class="mi">4</span><span class="p">)))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
<span class="o">|</span> <span class="mi">78000000</span>                             <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">HEX</span><span class="p">(</span><span class="n">WEIGHT_STRING</span><span class="p">(</span><span class="s1">'x'</span> <span class="k">AS</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">)));</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">HEX</span><span class="p">(</span><span class="n">WEIGHT_STRING</span><span class="p">(</span><span class="s1">'x'</span> <span class="k">AS</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">)))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="mi">0058002000200020</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">HEX</span><span class="p">(</span><span class="n">WEIGHT_STRING</span><span class="p">(</span><span class="mi">0</span><span class="n">xaa22ee</span> <span class="k">LEVEL</span> <span class="mi">1</span><span class="p">));</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
<span class="o">|</span> <span class="n">HEX</span><span class="p">(</span><span class="n">WEIGHT_STRING</span><span class="p">(</span><span class="mi">0</span><span class="n">xaa22ee</span> <span class="k">LEVEL</span> <span class="mi">1</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
<span class="o">|</span> <span class="n">AA22EE</span>                               <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">HEX</span><span class="p">(</span><span class="n">WEIGHT_STRING</span><span class="p">(</span><span class="mi">0</span><span class="n">xaa22ee</span> <span class="k">LEVEL</span> <span class="mi">1</span> <span class="k">DESC</span><span class="p">));</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="n">HEX</span><span class="p">(</span><span class="n">WEIGHT_STRING</span><span class="p">(</span><span class="mi">0</span><span class="n">xaa22ee</span> <span class="k">LEVEL</span> <span class="mi">1</span> <span class="k">DESC</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="mi">55</span><span class="n">DD11</span>                                    <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">HEX</span><span class="p">(</span><span class="n">WEIGHT_STRING</span><span class="p">(</span><span class="mi">0</span><span class="n">xaa22ee</span> <span class="k">LEVEL</span> <span class="mi">1</span> <span class="n">REVERSE</span><span class="p">));</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span> <span class="n">HEX</span><span class="p">(</span><span class="n">WEIGHT_STRING</span><span class="p">(</span><span class="mi">0</span><span class="n">xaa22ee</span> <span class="k">LEVEL</span> <span class="mi">1</span> <span class="n">REVERSE</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
<span class="o">|</span> <span class="n">EE22AA</span>                                       <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="alter-database">ALTER DATABASE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>Modifies a database, changing its overall characteristics.</p>
<h2 class="anchored_heading" id="alter-databasesyntax">Syntax</h2>
<pre class="fixed">ALTER {DATABASE | SCHEMA} [db_name]
    alter_specification ...
ALTER {DATABASE | SCHEMA} db_name
    UPGRADE DATA DIRECTORY NAME

alter_specification:
    [DEFAULT] CHARACTER SET [=] charset_name
  | [DEFAULT] COLLATE [=] collation_name
  | COMMENT [=] 'comment'
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#alter-databasesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#alter-databasedescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#alter-databasecomment" title="COMMENT">COMMENT</a> </li></ol>
</li>
<li class=""><a href="#alter-databaseexamples" title="Examples">Examples</a></li>
<li class=""><a href="#alter-databasesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="alter-databasedescription">Description</h2>
<p><code>ALTER DATABASE</code> enables you to change the overall characteristics of a
database. These characteristics are stored in the <code>db.opt</code> file in the
database directory. To use <code>ALTER DATABASE</code>, you need the <code>ALTER</code>
privilege on the database. <code>ALTER SCHEMA</code> is a synonym for ALTER
DATABASE.</p>
<p>The <code>CHARACTER SET</code> clause changes the default database character set.
The <code>COLLATE</code> clause changes the default database collation. See <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">Character Sets and Collations</a> for more.</p>
<p>You can see what character sets and collations are available using,
respectively, the <a href="#show-character-set">SHOW CHARACTER SET</a> and <a href="#show-collation">SHOW COLLATION</a> statements.</p>
<p>Changing the default character set/collation of a database does not change the character set/collation of any <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedures</a> or <a href="https://mariadb.com/kb/en/stored-functions/">stored functions</a> that were previously created, and relied on the defaults. These need to be dropped and recreated in order to apply the character set/collation changes.</p>
<p>The database name can be omitted from the first syntax, in which case
the statement applies to the default database.</p>
<p>The syntax that includes the <code>UPGRADE DATA DIRECTORY NAME</code> clause was
added in MySQL 5.1.23. It updates the name of the directory associated
with the database to use the encoding implemented in MySQL 5.1 for
mapping database names to database directory names (see
<a href="https://mariadb.com/kb/en/identifier-to-file-name-mapping/">Identifier to File Name Mapping</a>). This
clause is for use under these conditions:</p>
<ul start="1"><li>It is intended when upgrading MySQL to 5.1 or later from older versions.
</li><li>It is intended to update a database directory name to the current encoding format if the name contains special characters that need encoding.
</li><li>The statement is used by <code>mysqlcheck</code> (as invoked by <code>mysql_upgrade</code>).
</li></ul>
<p>For example,if a database in MySQL 5.0 has a name of a-b-c, the name
contains instance of the `-' character. In 5.0, the database directory
is also named a-b-c, which is not necessarily safe for all file
systems. In MySQL 5.1 and up, the same database name is encoded as
a@002db@002dc to produce a file system-neutral directory name.</p>
<p>When a MySQL installation is upgraded to MySQL 5.1 or later from an
older version,the server displays a name such as a-b-c (which is in
the old format) as #mysql50#a-b-c, and you must refer to the name
using the #mysql50# prefix. Use <code>UPGRADE DATA DIRECTORY NAME</code> in this
case to explicitly tell the server to re-encode the database directory
name to the current encoding format:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">DATABASE</span> <span class="o">`#</span><span class="n">mysql50</span><span class="o">#</span><span class="n">a</span><span class="o">-</span><span class="n">b</span><span class="o">-</span><span class="k">c</span><span class="o">`</span> <span class="n">UPGRADE</span> <span class="k">DATA</span> <span class="n">DIRECTORY</span> <span class="n">NAME</span><span class="p">;</span>
</pre><p>After executing this statement, you can refer to the database as a-b-c
without the special #mysql50# prefix.</p>
<h4 class="anchored_heading" id="alter-databasecomment">COMMENT</h4>
<div class="mariadb_from_10_5_0 mariadb from_10_5_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">10.5.0</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>, it is possible to add a comment of a maximum of 1024 bytes. If the comment length exceeds this length, a error/warning code 4144 is thrown. The database comment is also added to the db.opt file, as well as to the <a href="https://mariadb.com/kb/en/information-schema-schemata-table/">information_schema.schemata table</a>.</p>
</div><h2 class="anchored_heading" id="alter-databaseexamples">Examples</h2>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">DATABASE</span> <span class="n">test</span> <span class="nb">CHARACTER</span> <span class="k">SET</span><span class="o">=</span><span class="s1">'utf8'</span>  <span class="k">COLLATE</span><span class="o">=</span><span class="s1">'utf8_bin'</span><span class="p">;</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">DATABASE</span> <span class="n">p</span> <span class="k">COMMENT</span><span class="o">=</span><span class="s1">'Presentations'</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="alter-databasesee-also">See Also</h2>
<ul start="1"><li><a href="#create-database">CREATE DATABASE</a>
</li><li><a href="#drop-database">DROP DATABASE</a>
</li><li><a href="#show-create-database">SHOW CREATE DATABASE</a>
</li><li><a href="#show-databases">SHOW DATABASES</a>
</li><li><a href="https://mariadb.com/kb/en/character-sets-and-collations/">Character Sets and Collations</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-schemata-table/">Information Schema SCHEMATA Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="alter-event">ALTER EVENT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>Modifies one or more characteristics of an existing event.</p>
<h2 class="anchored_heading" id="alter-eventsyntax">Syntax</h2>
<pre class="fixed">ALTER
    [DEFINER = { user | CURRENT_USER }]
    EVENT event_name
    [ON SCHEDULE schedule]
    [ON COMPLETION [NOT] PRESERVE]
    [RENAME TO new_event_name]
    [ENABLE | DISABLE | DISABLE ON SLAVE]
    [COMMENT 'comment']
    [DO sql_statement]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#alter-eventsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#alter-eventdescription" title="Description">Description</a></li>
<li class=""><a href="#alter-eventexamples" title="Examples">Examples</a></li>
<li class=""><a href="#alter-eventsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="alter-eventdescription">Description</h2>
<p>The <code>ALTER EVENT</code> statement is used to change one or more of the
characteristics of an existing <a href="https://mariadb.com/kb/en/events/">event</a> without the need to drop and recreate it.
The syntax for each of the <code>DEFINER</code>, <code>ON SCHEDULE</code>, <code>ON COMPLETION</code>,
<code>COMMENT</code>, <code>ENABLE</code> <code>/</code> <code>DISABLE</code>, and <code>DO</code> clauses is exactly the
same as when used with <code><a href="#create-event">CREATE EVENT</a></code>.</p>
<p>This statement requires the <code><a ">EVENT</a></code> privilege.
When a user executes a successful <code>ALTER EVENT</code> statement, that user becomes
the definer for the affected event.</p>
<p>(In MySQL 5.1.11 and earlier, an event could be altered only by its definer, or
by a user having the <code><a ">SUPER</a></code> privilege.)</p>
<p><code>ALTER EVENT</code> works only with an existing event:</p>
<pre class="fixed">ALTER EVENT no_such_event ON SCHEDULE EVERY '2:3' DAY_HOUR;
ERROR 1539 (HY000): Unknown event 'no_such_event'
</pre><h2 class="anchored_heading" id="alter-eventexamples">Examples</h2>
<pre class="fixed"><span class="k">ALTER</span> <span class="n">EVENT</span> <span class="n">myevent</span> 
  <span class="k">ON</span> <span class="n">SCHEDULE</span> <span class="k">AT</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">2</span> <span class="n">HOUR</span> 
  <span class="k">DO</span> 
    <span class="k">UPDATE</span> <span class="n">myschema</span><span class="p">.</span><span class="n">mytable</span> <span class="k">SET</span> <span class="n">mycol</span> <span class="o">=</span> <span class="n">mycol</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="alter-eventsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/events-overview/">Events Overview</a>
</li><li><a href="#create-event">CREATE EVENT</a>
</li><li><a href="#show-create-event">SHOW CREATE EVENT</a>
</li><li><a href="#drop-event">DROP EVENT</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="alter-function">ALTER FUNCTION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="alter-functionsyntax">Syntax</h2>
<pre class="fixed">ALTER FUNCTION func_name [characteristic ...]

characteristic:
    { CONTAINS SQL | NO SQL | READS SQL DATA | MODIFIES SQL DATA }
  | SQL SECURITY { DEFINER | INVOKER }
  | COMMENT 'string'
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#alter-functionsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#alter-functiondescription" title="Description">Description</a></li>
<li class=""><a href="#alter-functionexample" title="Example">Example</a></li>
<li class=""><a href="#alter-functionsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="alter-functiondescription">Description</h2>
<p>This statement can be used to change the characteristics of a stored
function. More than one change may be specified in an <code>ALTER FUNCTION</code>
statement. However, you cannot change the parameters or body of a
stored function using this statement; to make such changes, you must
drop and re-create the function using <a href="#drop-function">DROP FUNCTION</a> and <a href="#create-function">CREATE FUNCTION</a>.</p>
<p>You must have the <code>ALTER ROUTINE</code> privilege for the function. (That
privilege is granted automatically to the function creator.) If binary
logging is enabled, the <code>ALTER FUNCTION</code> statement might also require
the <code>SUPER</code> privilege, as described in <a href="https://mariadb.com/kb/en/binary-logging-of-stored-routines/">Binary Logging of Stored Routines</a>.</p>
<h2 class="anchored_heading" id="alter-functionexample">Example</h2>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">FUNCTION</span> <span class="n">hello</span> <span class="k">SQL</span> <span class="k">SECURITY</span> <span class="k">INVOKER</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="alter-functionsee-also">See Also</h2>
<ul start="1"><li><a href="#create-function">CREATE FUNCTION</a>
</li><li><a href="#show-create-function">SHOW CREATE FUNCTION</a>
</li><li><a href="#drop-function">DROP FUNCTION</a>
</li><li><a href="#show-function-status">SHOW FUNCTION STATUS</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-routines-table/">Information Schema ROUTINES Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="alter-procedure">ALTER PROCEDURE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">ALTER PROCEDURE proc_name [characteristic ...]

characteristic:
    { CONTAINS SQL | NO SQL | READS SQL DATA | MODIFIES SQL DATA }
  | SQL SECURITY { DEFINER | INVOKER }
  | COMMENT 'string'
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This statement can be used to change the characteristics of a <a href="https://mariadb.com/kb/en/stored-procedures/">stored
procedure</a>. More than one change may be specified in an <code>ALTER PROCEDURE</code>
statement. However, you cannot change the parameters or body of a
stored procedure using this statement. To make such changes, you must
drop and re-create the procedure using either <a href="#create-procedure">CREATE OR REPLACE PROCEDURE</a> (since <a href="https://mariadb.com/kb/en/mariadb-1013-release-notes/">MariaDB 10.1.3</a>) or <a href="#drop-procedure">DROP PROCEDURE</a> and <a href="#create-procedure">CREATE PROCEDURE</a> (<a href="https://mariadb.com/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a> and before).</p>
<p>You must have the <code>ALTER ROUTINE</code> privilege for the procedure. By default, that privilege is granted automatically to the procedure creator. See <a href="https://mariadb.com/kb/en/stored-routine-privileges/">Stored Routine Privileges</a>.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">PROCEDURE</span> <span class="n">simpleproc</span> <span class="k">SQL</span> <span class="k">SECURITY</span> <span class="k">INVOKER</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/stored-procedure-overview/">Stored Procedure Overview</a>
</li><li><a href="#create-procedure">CREATE PROCEDURE</a>
</li><li><a href="#show-create-procedure">SHOW CREATE PROCEDURE</a>
</li><li><a href="#drop-procedure">DROP PROCEDURE</a>
</li><li><a href="#show-create-procedure">SHOW CREATE PROCEDURE</a>
</li><li><a href="#show-procedure-status">SHOW PROCEDURE STATUS</a>
</li><li><a href="https://mariadb.com/kb/en/stored-routine-privileges/">Stored Routine Privileges</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-routines-table/">Information Schema ROUTINES Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="alter-view">ALTER VIEW</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="alter-viewsyntax">Syntax</h2>
<pre class="fixed">ALTER
    [ALGORITHM = {UNDEFINED | MERGE | TEMPTABLE}]
    [DEFINER = { user | CURRENT_USER }]
    [SQL SECURITY { DEFINER | INVOKER }]
    VIEW view_name [(column_list)]
    AS select_statement
    [WITH [CASCADED | LOCAL] CHECK OPTION]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#alter-viewsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#alter-viewdescription" title="Description">Description</a></li>
<li class=""><a href="#alter-viewexample" title="Example">Example</a></li>
<li class=""><a href="#alter-viewsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="alter-viewdescription">Description</h2>
<p>This statement changes the definition of a <a href="https://mariadb.com/kb/en/views/">view</a>, which must exist. The
syntax is similar to that for <a href="#create-view">CREATE VIEW</a> and the effect is the same
as for <code>CREATE OR REPLACE VIEW</code> if the view exists. This statement
requires the <code>CREATE VIEW</code> and <code>DROP</code> <a ">privileges</a> for the view, and some
privilege for each column referred to in the <code>SELECT</code> statement. <code>ALTER VIEW</code> is allowed only to the definer or users with the <a ">SUPER</a> privilege.</p>
<h2 class="anchored_heading" id="alter-viewexample">Example</h2>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">VIEW</span> <span class="n">v</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="o">*</span><span class="mi">3</span> <span class="k">AS</span> <span class="n">a2</span> <span class="k">FROM</span> <span class="n">t</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="alter-viewsee-also">See Also</h2>
<ul start="1"><li><a href="#create-view">CREATE VIEW</a>
</li><li><a href="#drop-view">DROP VIEW</a>
</li><li><a href="#show-create-view">SHOW CREATE VIEW</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-views-table/">INFORMATION SCHEMA VIEWS Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-database">CREATE DATABASE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="create-databasesyntax">Syntax</h2>
<pre class="fixed">CREATE [OR REPLACE] {DATABASE | SCHEMA} [IF NOT EXISTS] db_name
    [create_specification] ...

create_specification:
    [DEFAULT] CHARACTER SET [=] charset_name
  | [DEFAULT] COLLATE [=] collation_name
  | COMMENT [=] 'comment'
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_1_3"><a href="#create-databasesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_1_3"><a href="#create-databasedescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_1_3"><a href="#create-databaseor-replace" title="OR REPLACE">OR REPLACE</a></li>
<li class="mariadb_from_10_1_3"><a href="#create-databaseif-not-exists" title="IF NOT EXISTS">IF NOT EXISTS</a></li>
<li class="mariadb_from_10_1_3"><a href="#create-databasecomment" title="COMMENT">COMMENT</a> </li></ol>
</li>
<li class="mariadb_from_10_1_3"><a href="#create-databaseexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_1_3"><a href="#create-databasesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-databasedescription">Description</h2>
<p><code>CREATE DATABASE</code> creates a database with the given name. To use this statement, you need the <a href="#grant">CREATE privilege</a> for the database. <code>CREATE SCHEMA</code> is a synonym for <code>CREATE DATABASE</code>.</p>
<p>For valid identifiers to use as database names, see <a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>.</p>
<h4 class="anchored_heading" id="create-databaseor-replace">OR REPLACE</h4>
<div class="mariadb_from_10_1_3 mariadb from_10_1_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1013-release-notes/">10.1.3</a></h5><p>The <code>OR REPLACE</code> clause was added in <a href="https://mariadb.com/kb/en/mariadb-1013-release-notes/">MariaDB 10.1.3</a></p>
</div><p>If the optional <code>OR REPLACE</code> clause is used, it acts as a shortcut for:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="k">DATABASE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">db_name</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">db_name</span> <span class="p">...;</span>
</pre><h4 class="anchored_heading" id="create-databaseif-not-exists">IF NOT EXISTS</h4>
<p>When the <code>IF NOT EXISTS</code> clause is used, MariaDB will return a warning instead of an error if the specified database already exists.</p>
<h4 class="anchored_heading" id="create-databasecomment">COMMENT</h4>
<div class="mariadb_from_10_5_0 mariadb from_10_5_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">10.5.0</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>, it is possible to add a comment of a maximum of 1024 bytes. If the comment length exceeds this length, a error/warning code 4144 is thrown. The database comment is also added to the db.opt file, as well as to the <a href="https://mariadb.com/kb/en/information-schema-schemata-table/">information_schema.schemata table</a>.</p>
</div><h2 class="anchored_heading" id="create-databaseexamples">Examples</h2>
<pre class="fixed">CREATE DATABASE db1;
Query OK, 1 row affected (0.18 sec)

CREATE DATABASE db1;
ERROR 1007 (HY000): Can't create database 'db1'; database exists

CREATE OR REPLACE DATABASE db1;
Query OK, 2 rows affected (0.00 sec)

CREATE DATABASE IF NOT EXISTS db1;
Query OK, 1 row affected, 1 warning (0.01 sec)

SHOW WARNINGS;
+-------+------+----------------------------------------------+
| Level | Code | Message                                      |
+-------+------+----------------------------------------------+
| Note  | 1007 | Can't create database 'db1'; database exists |
+-------+------+----------------------------------------------+
</pre><p>Setting the <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character sets and collation</a>. See <a href="https://mariadb.com/kb/en/setting-character-sets-and-collations/">Setting Character Sets and Collations</a> for more details.</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">czech_slovak_names</span> 
  <span class="nb">CHARACTER</span> <span class="k">SET</span> <span class="o">=</span> <span class="s1">'keybcs2'</span>
  <span class="k">COLLATE</span> <span class="o">=</span> <span class="s1">'keybcs2_bin'</span><span class="p">;</span>
</pre><p>Comments, from <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">presentations</span> <span class="k">COMMENT</span> <span class="s1">'Presentations for conferences'</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="create-databasesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>
</li><li><a href="#drop-database">DROP DATABASE</a>
</li><li><a href="#show-create-database">SHOW CREATE DATABASE</a>
</li><li><a href="#alter-database">ALTER DATABASE</a>
</li><li><a href="#show-databases">SHOW DATABASES</a>
</li><li><a href="https://mariadb.com/kb/en/character-sets-and-collations/">Character Sets and Collations</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-schemata-table/">Information Schema SCHEMATA Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="constraint">CONSTRAINT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<p>MariaDB supports the implementation of constraints at the table-level using either <a href="#create-table">CREATE TABLE</a> or <a href="#alter-table">ALTER TABLE</a> statements.  A table constraint restricts the data you can add to the table.  If you attempt to insert invalid data on a column, MariaDB throws an error. </p>
<h2 class="anchored_heading" id="constraintsyntax">Syntax</h2>
<pre class="fixed">[CONSTRAINT [symbol]] constraint_expression

constraint_expression:
  | PRIMARY KEY [index_type] (index_col_name, ...) [index_option] ...
  | FOREIGN KEY [index_name] (index_col_name, ...) 
       REFERENCES tbl_name (index_col_name, ...)
       [ON DELETE reference_option]
       [ON UPDATE reference_option]
  | UNIQUE [INDEX|KEY] [index_name]
       [index_type] (index_col_name, ...) [index_option] ...
  | CHECK (check_constraints)

index_type:
  USING {BTREE | HASH | RTREE}

index_col_name:
  col_name [(length)] [ASC | DESC]

index_option:
  | KEY_BLOCK_SIZE [=] value
  | index_type
  | WITH PARSER parser_name
  | COMMENT 'string'
  | CLUSTERING={YES|NO}

reference_option:
  RESTRICT | CASCADE | SET NULL | NO ACTION | SET DEFAULT
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#constraintsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#constraintdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#constraintforeign-key-constraints" title="FOREIGN KEY Constraints">FOREIGN KEY Constraints</a></li>
<li class=""><a href="#constraintcheck-constraints" title="CHECK Constraints">CHECK Constraints</a></li>
<li class=""><a href="#constraintreplication" title="Replication">Replication</a></li>
<li class=""><a href="#constraintauto_increment" title="Auto_increment">Auto_increment</a> </li></ol>
</li>
<li class=""><a href="#constraintexamples" title="Examples">Examples</a></li>
<li class=""><a href="#constraintsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="constraintdescription">Description</h2>
<p>Constraints provide restrictions on the data you can add to a table.  This allows you to enforce data integrity from MariaDB, rather than through application logic.  When a statement violates a constraint, MariaDB throws an error.</p>
<p>There are four types of table constraints:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Constraint</th><th>Description</th></tr>
<tr><td><code>PRIMARY KEY</code></td><td>Sets the column for referencing rows.  Values must be unique and not null.</td></tr>
<tr><td><code>FOREIGN KEY</code></td><td>Sets the column to reference the primary key on another table.</td></tr>
<tr><td><code>UNIQUE</code></td><td>Requires values in column or columns only occur once in the table.</td></tr>
<tr><td><code>CHECK</code></td><td>Checks whether the data meets the given condition.</td></tr>
</table>
</div><p>The <a href="https://mariadb.com/kb/en/information-schema-table_constraints-table/">Information Schema TABLE_CONSTRAINTS Table</a> contains information about tables that have constraints.</p>
<h3 class="anchored_heading" id="constraintforeign-key-constraints">FOREIGN KEY Constraints</h3>
<p><a href="https://mariadb.com/kb/en/innodb/">InnoDB</a> supports <a href="https://mariadb.com/kb/en/foreign-keys/">foreign key</a> constraints. The syntax for a foreign key
constraint definition in InnoDB looks like this:</p>
<pre class="fixed">[CONSTRAINT [symbol]] FOREIGN KEY
    [index_name] (index_col_name, ...)
    REFERENCES tbl_name (index_col_name,...)
    [ON DELETE reference_option]
    [ON UPDATE reference_option]

reference_option:
    RESTRICT | CASCADE | SET NULL | NO ACTION
</pre><p>The <a href="https://mariadb.com/kb/en/information-schema-referential_constraints-table/">Information Schema REFERENTIAL_CONSTRAINTS</a> table has more information about foreign keys.</p>
<h3 class="anchored_heading" id="constraintcheck-constraints">CHECK Constraints</h3>
<div class="mariadb_from_10_2_1 mariadb from_10_2_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">10.2.1</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a>, constraints are enforced. Before <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a> constraint expressions were accepted in the syntax but ignored.</p>
</div><p>In <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a> you can define constraints in 2 different ways:</p>
<ul start="1"><li><code>CHECK(expression)</code> given as part of a column definition.
</li><li><code>CONSTRAINT [constraint_name] CHECK (expression)</code>
</li></ul>
<p>Before a row is inserted or updated, all constraints are evaluated in the order they are defined. If any constraint expression returns false, then the row will not be inserted or updated.
One can use most deterministic functions in a constraint, including <a href="https://mariadb.com/kb/en/user-defined-functions/">UDFs</a>.</p>
<pre class="fixed">CREATE TABLE t1 (a INT CHECK (a&gt;2), b INT CHECK (b&gt;2), CONSTRAINT a_greater CHECK (a&gt;b));
</pre><p>If you use the second format and you don't give a name to the constraint, then the constraint will get an automatically generated name. This is done so that you can later delete the constraint with <a href="#alter-table">ALTER TABLE DROP constraint_name</a>.</p>
<p>One can disable all constraint expression checks by setting the <a href="https://mariadb.com/kb/en/server-system-variables/#check_constraint_checks">check_constraint_checks</a> variable to <code>OFF</code>. This is useful for example when loading a table that violates some constraints that you want to later find and fix in SQL.</p>
<h3 class="anchored_heading" id="constraintreplication">Replication</h3>
<p>In <a href="https://mariadb.com/kb/en/binary-log-formats/#row-based">row-based</a> <a href="https://mariadb.com/kb/en/replication/">replication</a>, only the master checks constraints, and failed statements will not be replicated. In <a href="https://mariadb.com/kb/en/binary-log-formats/#statement-based">statement-based</a> replication, the slaves will also check constraints. Constraints should therefore be identical, as well as deterministic, in a replication environment.</p>
<h3 class="anchored_heading" id="constraintauto_increment">Auto_increment</h3>
<div class="mariadb_from_10_2_6 mariadb from_10_2_6 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1026-release-notes/">10.2.6</a></h5><ul start="1"><li>From <a href="https://mariadb.com/kb/en/mariadb-1026-release-notes/">MariaDB 10.2.6</a>, <a href="#auto_increment">auto_increment</a> columns are no longer permitted in check constraints. Previously they were permitted, but would not work correctly. See <a href="https://jira.mariadb.org/browse/MDEV-11117">MDEV-11117</a>.
</li></ul>
</div><h2 class="anchored_heading" id="constraintexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">product</span> <span class="p">(</span><span class="n">category</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span> <span class="n">id</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                      <span class="n">price</span> <span class="nb">DECIMAL</span><span class="p">,</span>
                      <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="n">id</span><span class="p">))</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">INNODB</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">customer</span> <span class="p">(</span><span class="n">id</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                       <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">id</span><span class="p">))</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">INNODB</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">product_order</span> <span class="p">(</span><span class="k">no</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
                            <span class="n">product_category</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                            <span class="n">product_id</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                            <span class="n">customer_id</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                            <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="k">no</span><span class="p">),</span>
                            <span class="k">INDEX</span> <span class="p">(</span><span class="n">product_category</span><span class="p">,</span> <span class="n">product_id</span><span class="p">),</span>
                            <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">product_category</span><span class="p">,</span> <span class="n">product_id</span><span class="p">)</span>
                              <span class="k">REFERENCES</span> <span class="n">product</span><span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="n">id</span><span class="p">)</span>
                              <span class="k">ON</span> <span class="k">UPDATE</span> <span class="k">CASCADE</span> <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">RESTRICT</span><span class="p">,</span>
                            <span class="k">INDEX</span> <span class="p">(</span><span class="n">customer_id</span><span class="p">),</span>
                            <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">customer_id</span><span class="p">)</span>
                              <span class="k">REFERENCES</span> <span class="n">customer</span><span class="p">(</span><span class="n">id</span><span class="p">))</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">INNODB</span><span class="p">;</span>
</pre><div class="mariadb_from_10_2_1 mariadb from_10_2_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">10.2.1</a></h5><p>The following examples will work from <a href="https://mariadb.com/kb/en/mariadb-1021-release-notes/">MariaDB 10.2.1</a> onwards.</p>
</div><p>Numeric constraints and comparisons:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span> <span class="k">CHECK</span> <span class="p">(</span><span class="n">a</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">),</span> <span class="n">b</span> <span class="nb">INT</span> <span class="k">CHECK</span> <span class="p">(</span><span class="n">b</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">),</span> <span class="k">CONSTRAINT</span> <span class="n">a_greater</span> <span class="k">CHECK</span> <span class="p">(</span><span class="n">a</span><span class="o">&gt;</span><span class="n">b</span><span class="p">));</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">4022</span> <span class="p">(</span><span class="mi">23000</span><span class="p">):</span> <span class="k">CONSTRAINT</span> <span class="o">`</span><span class="n">a</span><span class="o">`</span> <span class="n">failed</span> <span class="k">for</span> <span class="o">`</span><span class="n">test</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">t1</span><span class="o">`</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">4022</span> <span class="p">(</span><span class="mi">23000</span><span class="p">):</span> <span class="k">CONSTRAINT</span> <span class="o">`</span><span class="n">a_greater</span><span class="o">`</span> <span class="n">failed</span> <span class="k">for</span> <span class="o">`</span><span class="n">test</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">t1</span><span class="o">`</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>Dropping a constraint:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">DROP</span> <span class="k">CONSTRAINT</span> <span class="n">a_greater</span><span class="p">;</span>
</pre><p>Adding a constraint:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">a_greater</span> <span class="k">CHECK</span> <span class="p">(</span><span class="n">a</span><span class="o">&gt;</span><span class="n">b</span><span class="p">);</span>
</pre><p>Date comparisons and character length:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t2</span> <span class="p">(</span><span class="n">name</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">CHECK</span> <span class="p">(</span><span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">),</span> <span class="n">start_date</span> <span class="nb">DATE</span><span class="p">,</span> 
  <span class="n">end_date</span> <span class="nb">DATE</span> <span class="k">CHECK</span> <span class="p">(</span><span class="n">start_date</span> <span class="k">IS</span> <span class="k">NULL</span> <span class="k">OR</span> <span class="n">end_date</span> <span class="k">IS</span> <span class="k">NULL</span> <span class="k">OR</span> <span class="n">start_date</span><span class="o">&lt;</span><span class="n">end_date</span><span class="p">));</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t2</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'Ione'</span><span class="p">,</span> <span class="s1">'2003-12-15'</span><span class="p">,</span> <span class="s1">'2014-11-09'</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t2</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'Io'</span><span class="p">,</span> <span class="s1">'2003-12-15'</span><span class="p">,</span> <span class="s1">'2014-11-09'</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">4022</span> <span class="p">(</span><span class="mi">23000</span><span class="p">):</span> <span class="k">CONSTRAINT</span> <span class="o">`</span><span class="n">name</span><span class="o">`</span> <span class="n">failed</span> <span class="k">for</span> <span class="o">`</span><span class="n">test</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">t2</span><span class="o">`</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t2</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'Ione'</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="s1">'2014-11-09'</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t2</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'Ione'</span><span class="p">,</span> <span class="s1">'2015-12-15'</span><span class="p">,</span> <span class="s1">'2014-11-09'</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">4022</span> <span class="p">(</span><span class="mi">23000</span><span class="p">):</span> <span class="k">CONSTRAINT</span> <span class="o">`</span><span class="n">end_date</span><span class="o">`</span> <span class="n">failed</span> <span class="k">for</span> <span class="o">`</span><span class="n">test</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">t2</span><span class="o">`</span>
</pre><p>A misplaced parenthesis:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t3</span> <span class="p">(</span><span class="n">name</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">CHECK</span> <span class="p">(</span><span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="n">name</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">)),</span> <span class="n">start_date</span> <span class="nb">DATE</span><span class="p">,</span> 
  <span class="n">end_date</span> <span class="nb">DATE</span> <span class="k">CHECK</span> <span class="p">(</span><span class="n">start_date</span> <span class="k">IS</span> <span class="k">NULL</span> <span class="k">OR</span> <span class="n">end_date</span> <span class="k">IS</span> <span class="k">NULL</span> <span class="k">OR</span> <span class="n">start_date</span><span class="o">&lt;</span><span class="n">end_date</span><span class="p">));</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">32</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t3</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'Io'</span><span class="p">,</span> <span class="s1">'2003-12-15'</span><span class="p">,</span> <span class="s1">'2014-11-09'</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+------+----------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span>   <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+----------------------------------------+</span>
<span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1292</span> <span class="o">|</span> <span class="n">Truncated</span> <span class="n">incorrect</span> <span class="n">DOUBLE</span> <span class="n">value</span><span class="p">:</span> <span class="s1">'Io'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+------+----------------------------------------+</span>
</pre><p>Compare the definition of table <em>t2</em> to table <em>t3</em>. <code>CHAR_LENGTH(name)&gt;2</code> is very different to <code>CHAR_LENGTH(name&gt;2)</code> as the latter mistakenly performs a numeric comparison on the <em>name</em> field, leading to unexpected results.</p>
<h2 class="anchored_heading" id="constraintsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/foreign-keys/">Foreign Keys</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-event">CREATE EVENT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="create-eventsyntax">Syntax</h2>
<pre class="fixed">CREATE [OR REPLACE]
    [DEFINER = { user | CURRENT_USER | role | CURRENT_ROLE }]
    EVENT 
    [IF NOT EXISTS]
    event_name    
    ON SCHEDULE schedule
    [ON COMPLETION [NOT] PRESERVE]
    [ENABLE | DISABLE | DISABLE ON SLAVE]
    [COMMENT 'comment']
    DO sql_statement;

schedule:
    AT timestamp [+ INTERVAL interval] ...
  | EVERY interval 
    [STARTS timestamp [+ INTERVAL interval] ...] 
    [ENDS timestamp [+ INTERVAL interval] ...]

interval:
    quantity {YEAR | QUARTER | MONTH | DAY | HOUR | MINUTE |
              WEEK | SECOND | YEAR_MONTH | DAY_HOUR | DAY_MINUTE |
              DAY_SECOND | HOUR_MINUTE | HOUR_SECOND | MINUTE_SECOND}
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#create-eventsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#create-eventdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#create-eventor-replace" title="OR REPLACE">OR REPLACE</a></li>
<li class=""><a href="#create-eventif-not-exists" title="IF NOT EXISTS">IF NOT EXISTS</a></li>
<li class=""><a href="#create-eventon-schedule" title="ON SCHEDULE">ON SCHEDULE</a></li>
<li class=""><a href="#create-eventat" title="AT">AT</a></li>
<li class=""><a href="#create-eventon-completion-not-preserve" title="ON COMPLETION [NOT] PRESERVE">ON COMPLETION [NOT] PRESERVE</a></li>
<li class=""><a href="#create-eventenabledisabledisable-on-slave" title="ENABLE/DISABLE/DISABLE ON SLAVE">ENABLE/DISABLE/DISABLE ON SLAVE</a></li>
<li class=""><a href="#create-eventcomment" title="COMMENT">COMMENT</a> </li></ol>
</li>
<li class=""><a href="#create-eventexamples" title="Examples">Examples</a></li>
<li class=""><a href="#create-eventsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-eventdescription">Description</h2>
<p>This statement creates and schedules a new <a href="https://mariadb.com/kb/en/events/">event</a>. It requires the
<code><a ">EVENT</a></code> privilege for the schema in which the event is to be created.</p>
<p>The minimum requirements for a valid CREATE EVENT statement are as
follows:</p>
<ul start="1"><li>The keywords <code>CREATE EVENT</code> plus an event name, which uniquely identifies
  the event in the current schema. (Prior to MySQL 5.1.12, the event name
  needed to be unique only among events created by the same user on a given
  database.)
</li><li>An <code>ON SCHEDULE</code> clause, which determines when and how often the event
  executes.
</li><li>A <code>DO</code> clause, which contains the SQL statement to be executed by an
  event.
</li></ul>
<p>Here is an example of a minimal <code>CREATE EVENT</code> statement:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">EVENT</span> <span class="n">myevent</span>
    <span class="k">ON</span> <span class="n">SCHEDULE</span> <span class="k">AT</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="n">HOUR</span>
    <span class="k">DO</span>
      <span class="k">UPDATE</span> <span class="n">myschema</span><span class="p">.</span><span class="n">mytable</span> <span class="k">SET</span> <span class="n">mycol</span> <span class="o">=</span> <span class="n">mycol</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</pre><p>The previous statement creates an event named myevent. This event executes once
<span>—</span> one hour following its creation
<span>—</span> by running an SQL statement that increments the
value of the myschema.mytable table's mycol column by 1.</p>
<p>The event_name must be a valid MariaDB identifier with a maximum length
of 64 characters. It may be delimited using back ticks, and may be
qualified with the name of a database schema. An event is associated
with both a MariaDB user (the definer) and a schema, and its name must
be unique among names of events within that schema. In general, the
rules governing event names are the same as those for names of stored
routines. See <a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>.</p>
<p>If no schema is indicated as part of event_name, the default (current)
schema is assumed.</p>
<p>For valid identifiers to use as event names, see <a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>.</p>
<h4 class="anchored_heading" id="create-eventor-replace">OR REPLACE</h4>
<p>The <code>OR REPLACE</code> clause was included in <a href="https://mariadb.com/kb/en/mariadb-1014-release-notes/">MariaDB 10.1.4</a>. If used and the event already exists, instead of an error being returned, the existing event will be dropped and replaced by the newly defined event.</p>
<h4 class="anchored_heading" id="create-eventif-not-exists">IF NOT EXISTS</h4>
<p>If the <code>IF NOT EXISTS</code> clause is used, MariaDB will return a warning instead of an error if the event already exists. Cannot be used together with OR REPLACE.</p>
<h4 class="anchored_heading" id="create-eventon-schedule">ON SCHEDULE</h4>
<p>The <code>ON SCHEDULE</code> clause can be used to specify when the event must be triggered.</p>
<h4 class="anchored_heading" id="create-eventat">AT</h4>
<p>If you want to execute the event only once (one time event), you can use the <code>AT</code> keyword, followed by a timestamp. If you use <code><a href="#current_timestamp">CURRENT_TIMESTAMP</a></code>, the event acts as soon as it is created. As a convenience, you can add one or more intervals to that timestamp. You can also specify a timestamp in the past, so that the event is stored but not triggered, until you modify it via <a href="#alter-event">ALTER EVENT</a>.</p>
<p>The following example shows how to create an event that will be triggered tomorrow at a certain time:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">EVENT</span> <span class="n">example</span>
<span class="k">ON</span> <span class="n">SCHEDULE</span> <span class="k">AT</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">DAY</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">3</span> <span class="n">HOUR</span>
<span class="k">DO</span> <span class="n">something</span><span class="p">;</span>
</pre><p>You can also specify that an event must be triggered at a regular interval (recurring event). In such cases, use the <code>EVERY</code> clause followed by the interval.</p>
<p>If an event is recurring, you can specify when the first execution must happen via the <code>STARTS</code> clause and a maximum time for the last execution via the <code>ENDS</code> clause. <code>STARTS</code> and <code>ENDS</code> clauses are followed by a timestamp and, optionally, one or more intervals. The <code>ENDS</code> clause can specify a timestamp in the past, so that the event is stored but not executed until you modify it via <a href="#alter-event">ALTER EVENT</a>.</p>
<p>In the following example, next month a recurring event will be triggered hourly for a week:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">EVENT</span> <span class="n">example</span>
<span class="k">ON</span> <span class="n">SCHEDULE</span> <span class="k">EVERY</span> <span class="mi">1</span> <span class="n">HOUR</span>
<span class="n">STARTS</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">MONTH</span>
<span class="n">ENDS</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">MONTH</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="n">WEEK</span>
<span class="k">DO</span> <span class="n">some_task</span><span class="p">;</span>
</pre><p>Intervals consist of a quantity and a time unit. The time units are the same used for other staments and time functions, except that you can't use microseconds for events. For simple time units, like <code>HOUR</code> or <code>MINUTE</code>, the quantity is an integer number, for example '10 MINUTE'. For composite time units, like <code>HOUR_MINUTE</code> or <code>HOUR_SECOND</code>, the quantity must be a string with all involved simple values and their separators, for example '2:30' or '2:30:30'.</p>
<h4 class="anchored_heading" id="create-eventon-completion-not-preserve">ON COMPLETION [NOT] PRESERVE</h4>
<p>The <code>ON COMPLETION</code> clause can be used to specify if the event must be deleted after its last execution (that is, after its <code>AT</code> or <code>ENDS</code> timestamp is past). By default, events are dropped when they are expired. To explicitly state that this is the desired behaviour, you can use <code>ON COMPLETION NOT PRESERVE</code>. Instead, if you want the event to be preserved, you can use <code>ON COMPLETION PRESERVE</code>.</p>
<p>In you specify <code>ON COMPLETION NOT PRESERVE</code>, and you specify a timestamp in the past for <code>AT</code> or <code>ENDS</code> clause, the event will be immediatly dropped. In such cases, you will get a Note 1558: "Event execution time is in the past and ON COMPLETION NOT PRESERVE is set. The event was dropped immediately after creation".</p>
<h4 class="anchored_heading" id="create-eventenabledisabledisable-on-slave">ENABLE/DISABLE/DISABLE ON SLAVE</h4>
<p>Events are <code>ENABLE</code>d by default. If you want to stop MariaDB from executing
an event, you may specify <code>DISABLE</code>. When it is ready to be activated, you
may enable it using <code><a href="#alter-event">ALTER EVENT</a></code>. Another option is
<code>DISABLE ON SLAVE</code>, which indicates that an event was created on a master and has been replicated to the slave, which is prevented from executing the event. If <code>DISABLE ON SLAVE</code> is specifically set, the event will not be executed.</p>
<h4 class="anchored_heading" id="create-eventcomment">COMMENT</h4>
<p>The <code>COMMENT</code> clause may be used to set a comment for the event. Maximum
length for comments is 64 characters. The comment is a string, so it must be
quoted. To see events comments, you can query the <a href="https://mariadb.com/kb/en/information-schema-events-table/">INFORMATION_SCHEMA.EVENTS table</a> (the column is named <code>EVENT_COMMENT</code>).</p>
<h2 class="anchored_heading" id="create-eventexamples">Examples</h2>
<p>Minimal <code>CREATE EVENT</code> statement:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">EVENT</span> <span class="n">myevent</span>
    <span class="k">ON</span> <span class="n">SCHEDULE</span> <span class="k">AT</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="n">HOUR</span>
    <span class="k">DO</span>
      <span class="k">UPDATE</span> <span class="n">myschema</span><span class="p">.</span><span class="n">mytable</span> <span class="k">SET</span> <span class="n">mycol</span> <span class="o">=</span> <span class="n">mycol</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</pre><p>An event that will be triggered tomorrow at a certain time:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">EVENT</span> <span class="n">example</span>
<span class="k">ON</span> <span class="n">SCHEDULE</span> <span class="k">AT</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">DAY</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">3</span> <span class="n">HOUR</span>
<span class="k">DO</span> <span class="n">something</span><span class="p">;</span>
</pre><p>Next month a recurring event will be triggered hourly for a week:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">EVENT</span> <span class="n">example</span>
<span class="k">ON</span> <span class="n">SCHEDULE</span> <span class="k">EVERY</span> <span class="mi">1</span> <span class="n">HOUR</span>
<span class="n">STARTS</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">MONTH</span>
<span class="n">ENDS</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">MONTH</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="n">WEEK</span>
<span class="k">DO</span> <span class="n">some_task</span><span class="p">;</span>
</pre><p>OR REPLACE and IF NOT EXISTS:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">EVENT</span> <span class="n">myevent</span>
    <span class="k">ON</span> <span class="n">SCHEDULE</span> <span class="k">AT</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="n">HOUR</span>
    <span class="k">DO</span>
      <span class="k">UPDATE</span> <span class="n">myschema</span><span class="p">.</span><span class="n">mytable</span> <span class="k">SET</span> <span class="n">mycol</span> <span class="o">=</span> <span class="n">mycol</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1537</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="n">Event</span> <span class="s1">'myevent'</span> <span class="n">already</span> <span class="k">exists</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="n">EVENT</span> <span class="n">myevent</span>
    <span class="k">ON</span> <span class="n">SCHEDULE</span> <span class="k">AT</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="n">HOUR</span>
    <span class="k">DO</span>
      <span class="k">UPDATE</span> <span class="n">myschema</span><span class="p">.</span><span class="n">mytable</span> <span class="k">SET</span> <span class="n">mycol</span> <span class="o">=</span> <span class="n">mycol</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">CREATE</span> <span class="n">EVENT</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">myevent</span>
    <span class="k">ON</span> <span class="n">SCHEDULE</span> <span class="k">AT</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="n">HOUR</span>
    <span class="k">DO</span>
      <span class="k">UPDATE</span> <span class="n">myschema</span><span class="p">.</span><span class="n">mytable</span> <span class="k">SET</span> <span class="n">mycol</span> <span class="o">=</span> <span class="n">mycol</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

 <span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+--------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                        <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+--------------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1537</span> <span class="o">|</span> <span class="n">Event</span> <span class="s1">'myevent'</span> <span class="n">already</span> <span class="k">exists</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+--------------------------------+</span>
</pre><h2 class="anchored_heading" id="create-eventsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>
</li><li><a href="https://mariadb.com/kb/en/events-overview/">Events Overview</a>
</li><li><a href="#show-create-event">SHOW CREATE EVENT</a>
</li><li><a href="#alter-event">ALTER EVENT</a>
</li><li><a href="#drop-event">DROP EVENT</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-index">CREATE INDEX</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="create-indexsyntax">Syntax</h2>
<pre class="fixed">CREATE [OR REPLACE] [UNIQUE|FULLTEXT|SPATIAL] INDEX 
  [IF NOT EXISTS] index_name
    [index_type]
    ON tbl_name (index_col_name,...)
    [WAIT n | NOWAIT]
    [index_option]
    [algorithm_option | lock_option] ...

index_col_name:
    col_name [(length)] [ASC | DESC]

index_type:
    USING {BTREE | HASH | RTREE}

index_option:
    [ KEY_BLOCK_SIZE [=] value
  | index_type
  | WITH PARSER parser_name
  | COMMENT 'string'
  | CLUSTERING={YES| NO} ]
  [ IGNORED | NOT IGNORED ]

algorithm_option:
    ALGORITHM [=] {DEFAULT|INPLACE|COPY|NOCOPY|INSTANT}

lock_option:
    LOCK [=] {DEFAULT|NONE|SHARED|EXCLUSIVE}
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#create-indexsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#create-indexdescription" title="Description">Description</a></li>
<li class=""><a href="#create-indexprivileges" title="Privileges">Privileges</a></li>
<li class=""><a href="#create-indexonline-ddl" title="Online DDL">Online DDL</a></li>
<li class=""><a href="#create-indexcreate-or-replace-index" title="CREATE OR REPLACE INDEX">CREATE OR REPLACE INDEX</a></li>
<li class=""><a href="#create-indexcreate-index-if-not-exists" title="CREATE INDEX IF NOT EXISTS">CREATE INDEX IF NOT EXISTS</a></li>
<li class=""><a href="#create-indexindex-definitions" title="Index Definitions">Index Definitions</a></li>
<li class=""><a href="#create-indexwaitnowait" title="WAIT/NOWAIT">WAIT/NOWAIT</a></li>
<li class=""><a href="#create-indexalgorithm" title="ALGORITHM">ALGORITHM</a></li>
<li class=""><a href="#create-indexlock" title="LOCK">LOCK</a></li>
<li class=""><a href="#create-indexprogress-reporting" title="Progress Reporting">Progress Reporting</a></li>
<li class=""><a href="#create-indexwithout-overlaps" title="WITHOUT OVERLAPS">WITHOUT OVERLAPS</a></li>
<li class=""><a href="#create-indexexamples" title="Examples">Examples</a></li>
<li class=""><a href="#create-indexsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-indexdescription">Description</h2>
<p>CREATE INDEX is mapped to an ALTER TABLE statement to create <a href="https://mariadb.com/kb/en/optimization-and-indexes/">indexes</a>.
See <a href="#alter-table">ALTER TABLE</a>. CREATE INDEX cannot be used to create a
PRIMARY KEY; use ALTER TABLE instead.</p>
<p>If another connection is using the table, a <a href="#metadata-locking">metadata lock</a> is active, and this statement will wait until the lock is released. This is also true for non-transactional tables.</p>
<p>Another shortcut, <a href="#drop-index">DROP INDEX</a>, allows the removal of an index.</p>
<p>For valid identifiers to use as index names, see <a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>.</p>
<div class="cstm-style redbox"><p>Note that KEY_BLOCK_SIZE is currently ignored in CREATE INDEX, although it is included in the output of <a href="#show-create-table">SHOW CREATE TABLE</a>.</p>
</div><h2 class="anchored_heading" id="create-indexprivileges">Privileges</h2>
<p>Executing the <code>CREATE INDEX</code> statement requires the <code><a ">INDEX</a></code> privilege for the table or the database.</p>
<h2 class="anchored_heading" id="create-indexonline-ddl">Online DDL</h2>
<p>Online DDL is supported with the <a href="#create-indexalgorithm">ALGORITHM</a> and <a href="#create-indexlock">LOCK</a> clauses.</p>
<p>See <a href="https://mariadb.com/kb/en/innodb-online-ddl-overview/">InnoDB Online DDL Overview</a> for more information on online DDL with <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>.</p>
<h2 class="anchored_heading" id="create-indexcreate-or-replace-index">CREATE OR REPLACE INDEX</h2>
<div class="mariadb_from_10_1_4 mariadb from_10_1_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1014-release-notes/">10.1.4</a></h5><p>The <code>OR REPLACE</code> clause was added in <a href="https://mariadb.com/kb/en/mariadb-1014-release-notes/">MariaDB 10.1.4</a>.</p>
</div><p>If the <code>OR REPLACE</code> clause is used and if the index already exists, then instead of returning an error, the server will drop the existing index and replace it with the newly defined index.</p>
<h2 class="anchored_heading" id="create-indexcreate-index-if-not-exists">CREATE INDEX IF NOT EXISTS</h2>
<p>If the <code>IF NOT EXISTS</code> clause is used, then the index will only be created if an index with the same name does not already exist. If the index already exists, then a warning will be triggered by default.</p>
<h2 class="anchored_heading" id="create-indexindex-definitions">Index Definitions</h2>
<p>See <a ">CREATE TABLE: Index Definitions</a> for information about index definitions.</p>
<h2 class="anchored_heading" id="create-indexwaitnowait">WAIT/NOWAIT</h2>
<div class="mariadb_from_10_3_0 mariadb from_10_3_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">10.3.0</a></h5><p>Set the lock wait timeout. See <a href="#wait-and-nowait">WAIT and NOWAIT</a>.</p>
</div><h2 class="anchored_heading" id="create-indexalgorithm">ALGORITHM</h2>
<p>See <a ">ALTER TABLE: ALGORITHM</a> for more information.</p>
<h2 class="anchored_heading" id="create-indexlock">LOCK</h2>
<p>See <a ">ALTER TABLE: LOCK</a> for more information.</p>
<h2 class="anchored_heading" id="create-indexprogress-reporting">Progress Reporting</h2>
<p>MariaDB provides progress reporting for <code>CREATE INDEX</code> statement for clients
that support the new progress reporting protocol. For example, if you were using the <code><a href="https://mariadb.com/kb/en/mysql-command-line-client/">mysql</a></code> client, then the progress report might look like this::</p>
<pre class="fixed">CREATE INDEX ON tab (num);;
Stage: 1 of 2 'copy to tmp table'    46% of stage
</pre><p>The progress report is also shown in the output of the <code><a href="#show-processlist">SHOW PROCESSLIST</a></code> statement and in the contents of the <code><a href="https://mariadb.com/kb/en/information-schema-processlist-table/">information_schema.PROCESSLIST</a></code> table.</p>
<p>See <a href="https://mariadb.com/kb/en/progress-reporting/">Progress Reporting</a> for more information.</p>
<h2 class="anchored_heading" id="create-indexwithout-overlaps">WITHOUT OVERLAPS</h2>
<div class="mariadb_from_10_5_3 mariadb from_10_5_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1053-release-notes/">10.5.3</a></h5><p>The <a href="https://mariadb.com/kb/en/application-time-periods/#without-overlaps">WITHOUT OVERLAPS</a> clause allows one to constrain a primary or unique index such that <a href="https://mariadb.com/kb/en/application-time-periods/">application-time periods</a> cannot overlap.</p>
</div><h2 class="anchored_heading" id="create-indexexamples">Examples</h2>
<p>Creating a unique index:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">UNIQUE</span> <span class="k">INDEX</span> <span class="n">HomePhone</span> <span class="k">ON</span> <span class="nf">Employees</span><span class="p">(</span><span class="n">Home_Phone</span><span class="p">);</span>
</pre><p>OR REPLACE and IF NOT EXISTS:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">xi</span> <span class="k">ON</span> <span class="n">xx5</span> <span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">xi</span> <span class="k">ON</span> <span class="n">xx5</span> <span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1061</span> <span class="p">(</span><span class="mi">42000</span><span class="p">):</span> <span class="n">Duplicate</span> <span class="k">key</span> <span class="n">name</span> <span class="s1">'xi'</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">INDEX</span> <span class="n">xi</span> <span class="k">ON</span> <span class="n">xx5</span> <span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">xi</span> <span class="k">ON</span> <span class="n">xx5</span> <span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+-------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+-------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1061</span> <span class="o">|</span> <span class="n">Duplicate</span> <span class="k">key</span> <span class="n">name</span> <span class="s1">'xi'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+-------------------------+</span>
</pre><p>From <a href="https://mariadb.com/kb/en/mariadb-1053-release-notes/">MariaDB 10.5.3</a>, creating a unique index for an <a href="https://mariadb.com/kb/en/application-time-periods/">application-time period table</a> with a <a href="https://mariadb.com/kb/en/application-time-periods/#without-overlaps">WITHOUT OVERLAPS</a> constraint:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">UNIQUE</span> <span class="k">INDEX</span> <span class="n">u</span> <span class="k">ON</span> <span class="n">rooms</span> <span class="p">(</span><span class="n">room_number</span><span class="p">,</span> <span class="n">p</span> <span class="k">WITHOUT</span> <span class="k">OVERLAPS</span><span class="p">);</span>
</pre><h2 class="anchored_heading" id="create-indexsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>
</li><li><a href="https://mariadb.com/kb/en/getting-started-with-indexes/">Getting Started with Indexes</a>
</li><li><a href="https://mariadb.com/kb/en/what-is-an-index/">What is an Index?</a>
</li><li><a href="#alter-table">ALTER TABLE</a>
</li><li><a href="#drop-index">DROP INDEX</a>
</li><li><a href="#show-index">SHOW INDEX</a>
</li><li><a href="https://mariadb.com/kb/en/spatial-index/">SPATIAL INDEX</a>
</li><li><a href="https://mariadb.com/kb/en/full-text-indexes/">Full-text Indexes</a>
</li><li><a href="https://mariadb.com/kb/en/application-time-periods/#without-overlaps">WITHOUT OVERLAPS</a>
</li><li><a href="https://mariadb.com/kb/en/ignored-indexes/">Ignored Indexes</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-package">CREATE PACKAGE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_5 mariadb from_10_3_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">10.3.5</a></h5><p>Oracle-style packages were introduced in <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">MariaDB 10.3.5</a>.</p>
</div><h2 class="anchored_heading" id="create-packagesyntax">Syntax</h2>
<pre class="fixed">CREATE
    [ OR REPLACE]
    [DEFINER = { user | CURRENT_USER | role | CURRENT_ROLE }]
    PACKAGE [ IF NOT EXISTS ]
    [ db_name . ] package_name
    [ package_characteristic ... ]
{ AS | IS }
    [ package_specification_element ... ]
END [ package_name ]


package_characteristic:
    COMMENT 'string'
  | SQL SECURITY { DEFINER | INVOKER }


package_specification_element:
    FUNCTION_SYM package_specification_function ;
  | PROCEDURE_SYM package_specification_procedure ;


package_specification_function:
    func_name [ ( func_param [, func_param]... ) ]
    RETURNS func_return_type
    [ package_routine_characteristic... ]

package_specification_procedure:
    proc_name [ ( proc_param [, proc_param]... ) ]
    [ package_routine_characteristic... ]

func_return_type:
    type

func_param:
    param_name [ IN | OUT | INOUT | IN OUT ] type

proc_param:
    param_name [ IN | OUT | INOUT | IN OUT ] type

type:
    Any valid MariaDB explicit or anchored data type


package_routine_characteristic:
      COMMENT  'string'
    | LANGUAGE SQL
    | { CONTAINS SQL | NO SQL | READS SQL DATA | MODIFIES SQL DATA }
    | SQL SECURITY { DEFINER | INVOKER }
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_8_0"><a href="#create-packagesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-packagedescription" title="Description">Description</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-packagefunction-parameter-quantifiers-in-out-inout-in-out" title="Function parameter quantifiers IN | OUT | INOUT | IN OUT">Function parameter quantifiers IN | OUT | INOUT | IN OUT</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-packageexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_8_0"><a href="#create-packagesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-packagedescription">Description</h2>
<p>The <code>CREATE PACKAGE</code> statement can be used when <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle SQL_MODE</a> is set.</p>
<p>The <code>CREATE PACKAGE</code> creates the specification for a stored package (a collection of logically related stored objects). A stored package specification declares public routines (procedures and functions) of the package, but does not implement these routines.</p>
<p>A package whose specification was created by the <code>CREATE PACKAGE</code> statement, should later be implemented using the <a href="#create-package-body">CREATE PACKAGE BODY</a> statement.</p>
<h2 class="anchored_heading" id="create-packagefunction-parameter-quantifiers-in-out-inout-in-out">Function parameter quantifiers IN | OUT | INOUT | IN OUT</h2>
<div class="mariadb_from_10_8_0 mariadb from_10_8_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1080-release-notes/">10.8.0</a></h5><p>The function parameter quantifiers for <code>IN</code>, <code>OUT</code>, <code>INOUT</code>, and <code>IN OUT</code> where added in a 10.8.0 preview release. Prior to 10.8.0 quantifiers were supported only in procedures.</p>
</div><p><code>OUT</code>, <code>INOUT</code> and its equivalent <code>IN OUT</code>, are only valid if called from <code>SET</code> and not <code>SELECT</code>. These quantifiers are especially useful for creating functions and procedures with more than one return value. This allows functions and procedures to be more complex and nested. </p>
<h2 class="anchored_heading" id="create-packageexamples">Examples</h2>
<pre class="fixed">SET sql_mode=ORACLE;
DELIMITER $$
CREATE OR REPLACE PACKAGE employee_tools AS
  FUNCTION getSalary(eid INT) RETURN DECIMAL(10,2);
  PROCEDURE raiseSalary(eid INT, amount DECIMAL(10,2));
  PROCEDURE raiseSalaryStd(eid INT);
  PROCEDURE hire(ename TEXT, esalary DECIMAL(10,2));
END;
$$
DELIMITER ;
</pre><h2 class="anchored_heading" id="create-packagesee-also">See Also</h2>
<ul start="1"><li><a href="#create-package-body">CREATE PACKAGE BODY</a>
</li><li><a href="#show-create-package">SHOW CREATE PACKAGE</a>
</li><li><a href="#drop-package">DROP PACKAGE</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle SQL_MODE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-package-body">CREATE PACKAGE BODY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_5 mariadb from_10_3_5 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">10.3.5</a></h5><p>Oracle-style packages were introduced in <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">MariaDB 10.3.5</a>.</p>
</div><h2 class="anchored_heading" id="create-package-bodysyntax">Syntax</h2>
<pre class="fixed">CREATE [ OR REPLACE ]
    [DEFINER = { user | CURRENT_USER | role | CURRENT_ROLE }]
    PACKAGE BODY
    [ IF NOT EXISTS ]
    [ db_name . ] package_name
    [ package_characteristic... ]
{ AS | IS }
    package_implementation_declare_section
    package_implementation_executable_section
END [ package_name]


package_implementation_declare_section:
    package_implementation_item_declaration
      [ package_implementation_item_declaration... ]
      [ package_implementation_routine_definition... ]
  | package_implementation_routine_definition
      [ package_implementation_routine_definition...]

package_implementation_item_declaration:
    variable_declaration ;

variable_declaration:
    variable_name[,...] type [:= expr ]

package_implementation_routine_definition:
    FUNCTION package_specification_function
       [ package_implementation_function_body ] ;
  | PROCEDURE package_specification_procedure
       [ package_implementation_procedure_body ] ;


package_implementation_function_body:
    { AS | IS } package_routine_body [func_name]

package_implementation_procedure_body:
    { AS | IS } package_routine_body [proc_name]

package_routine_body:
    [ package_routine_declarations ]
    BEGIN
      statements [ EXCEPTION exception_handlers ]
    END


package_routine_declarations:
    package_routine_declaration ';' [package_routine_declaration ';']...


package_routine_declaration:
          variable_declaration
        | condition_name CONDITION FOR condition_value
        | user_exception_name EXCEPTION
        | CURSOR_SYM cursor_name
          [ ( cursor_formal_parameters ) ]
          IS select_statement
        ;


package_implementation_executable_section:
          END
        | BEGIN
            statement ; [statement ; ]...
          [EXCEPTION exception_handlers]
          END

exception_handlers:
           exception_handler [exception_handler...]

exception_handler:
          WHEN_SYM condition_value [, condition_value]...
            THEN_SYM statement ; [statement ;]...

condition_value:
          condition_name
        | user_exception_name
        | SQLWARNING
        | SQLEXCEPTION
        | NOT FOUND
        | OTHERS_SYM
        | SQLSTATE [VALUE] sqlstate_value
        | mariadb_error_code

</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_5"><a href="#create-package-bodysyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_5"><a href="#create-package-bodydescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_5"><a href="#create-package-bodyexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3_5"><a href="#create-package-bodysee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-package-bodydescription">Description</h2>
<p>The <code>CREATE PACKAGE BODY</code> statement can be used when <a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle SQL_MODE</a> is set.</p>
<p>The <code>CREATE PACKAGE BODY</code> statement creates the package body for a stored package. The package specification must be previously created using the <a href="#create-package">CREATE PACKAGE</a> statement.</p>
<p>A package body provides implementations of the package public routines and can optionally have:</p>
<ul start="1"><li>package-wide private variables
</li><li>package private routines
</li><li>forward declarations for private routines
</li><li>an executable initialization section
</li></ul>
<h2 class="anchored_heading" id="create-package-bodyexamples">Examples</h2>
<pre class="fixed">SET sql_mode=ORACLE;
DELIMITER $$
CREATE OR REPLACE PACKAGE employee_tools AS
  FUNCTION getSalary(eid INT) RETURN DECIMAL(10,2);
  PROCEDURE raiseSalary(eid INT, amount DECIMAL(10,2));
  PROCEDURE raiseSalaryStd(eid INT);
  PROCEDURE hire(ename TEXT, esalary DECIMAL(10,2));
END;
$$
CREATE PACKAGE BODY employee_tools AS
  -- package body variables
  stdRaiseAmount DECIMAL(10,2):=500;

  -- private routines
  PROCEDURE log (eid INT, ecmnt TEXT) AS
  BEGIN
    INSERT INTO employee_log (id, cmnt) VALUES (eid, ecmnt);
  END;

  -- public routines
  PROCEDURE hire(ename TEXT, esalary DECIMAL(10,2)) AS
    eid INT;
  BEGIN
    INSERT INTO employee (name, salary) VALUES (ename, esalary);
    eid:= last_insert_id();
    log(eid, 'hire ' || ename);
  END;

  FUNCTION getSalary(eid INT) RETURN DECIMAL(10,2) AS
    nSalary DECIMAL(10,2);
  BEGIN
    SELECT salary INTO nSalary FROM employee WHERE id=eid;
    log(eid, 'getSalary id=' || eid || ' salary=' || nSalary);
    RETURN nSalary;
  END;

  PROCEDURE raiseSalary(eid INT, amount DECIMAL(10,2)) AS
  BEGIN
    UPDATE employee SET salary=salary+amount WHERE id=eid;
    log(eid, 'raiseSalary id=' || eid || ' amount=' || amount);
  END;

  PROCEDURE raiseSalaryStd(eid INT) AS
  BEGIN
    raiseSalary(eid, stdRaiseAmount);
    log(eid, 'raiseSalaryStd id=' || eid);
  END;

BEGIN
  -- This code is executed when the current session
  -- accesses any of the package routines for the first time
  log(0, 'Session ' || connection_id() || ' ' || current_user || ' started');
END;
$$

DELIMITER ;
</pre><h2 class="anchored_heading" id="create-package-bodysee-also">See Also</h2>
<ul start="1"><li><a href="#create-package">CREATE PACKAGE</a>
</li><li><a href="#show-create-package-body">SHOW CREATE PACKAGE BODY</a>
</li><li><a href="#drop-package-body">DROP PACKAGE BODY</a>
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/">Oracle SQL_MODE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-database">DROP DATABASE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="drop-databasesyntax">Syntax</h2>
<pre class="fixed">DROP {DATABASE | SCHEMA} [IF EXISTS] db_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_6_1"><a href="#drop-databasesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_6_1"><a href="#drop-databasedescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_6_1"><a href="#drop-databaseif-exists" title="IF EXISTS">IF EXISTS</a></li>
<li class="mariadb_from_10_6_1"><a href="#drop-databaseatomic-ddl" title="Atomic DDL">Atomic DDL</a> </li></ol>
</li>
<li class="mariadb_from_10_6_1"><a href="#drop-databaseexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_6_1"><a href="#drop-databasesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="drop-databasedescription">Description</h2>
<p><code>DROP DATABASE</code> drops all tables in the database and deletes the database. Be very careful with this statement! To use DROP DATABASE,
you need the <a ">DROP privilege</a> on the database. <code>DROP SCHEMA</code> is a synonym for <code>DROP DATABASE</code>.</p>
<p><strong>Important:</strong> When a database is dropped, user privileges on the database are not automatically dropped. See <a href="#grant">GRANT</a>.</p>
<h4 class="anchored_heading" id="drop-databaseif-exists">IF EXISTS</h4>
<p>Use <code>IF EXISTS</code> to prevent an error from occurring for databases that do not exist. A <code>NOTE</code> is generated for each non-existent database when using <code>IF EXISTS</code>. See <a href="#show-warnings">SHOW WARNINGS</a>.</p>
<h3 class="anchored_heading" id="drop-databaseatomic-ddl">Atomic DDL</h3>
<div class="mariadb_from_10_6_1 mariadb from_10_6_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">10.6.1</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">MariaDB 10.6.1</a> supports <a href="https://mariadb.com/kb/en/atomic-ddl/">Atomic DDL</a>. </p>
<p><code>DROP DATABASE</code> is implemented as</p>
<pre class="fixed"><span class="n">loop</span> <span class="n">over</span> <span class="k">all</span> <span class="n">tables</span>
  <span class="k">DROP</span> <span class="k">TABLE</span> <span class="k">table</span>
</pre><p>Each individual <a href="#drop-table">DROP TABLE</a> is atomic while <code>DROP DATABASE</code> as a whole is crash-safe.</p>
</div><h2 class="anchored_heading" id="drop-databaseexamples">Examples</h2>
<pre class="fixed">DROP DATABASE bufg;
Query OK, 0 rows affected (0.39 sec)

DROP DATABASE bufg;
ERROR 1008 (HY000): Can't drop database 'bufg'; database doesn't exist

 \W
Show warnings enabled.

DROP DATABASE IF EXISTS bufg;
Query OK, 0 rows affected, 1 warning (0.00 sec)
Note (Code 1008): Can't drop database 'bufg'; database doesn't exist
</pre><h2 class="anchored_heading" id="drop-databasesee-also">See Also</h2>
<ul start="1"><li><a href="#create-database">CREATE DATABASE</a>
</li><li><a href="#alter-database">ALTER DATABASE</a>
</li><li><a href="#show-databases">SHOW DATABASES</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-schemata-table/">Information Schema SCHEMATA Table</a>
</li><li><a href="#show-create-database">SHOW CREATE DATABASE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-sequence">CREATE SEQUENCE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>CREATE SEQUENCE was introduced in <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>.</p>
</div><h2 class="anchored_heading" id="create-sequencesyntax">Syntax</h2>
<pre class="highlight fixed"><p>CREATE [OR REPLACE] [TEMPORARY] SEQUENCE [IF NOT EXISTS] sequence_name
[ INCREMENT [ BY | = ] increment ]
[ MINVALUE [=] minvalue | NO MINVALUE | NOMINVALUE ]
[ MAXVALUE [=] maxvalue | NO MAXVALUE | NOMAXVALUE ]
[ START [ WITH | = ] start ] 
[ CACHE [=] cache | NOCACHE ] [ CYCLE | NOCYCLE] 
[table_options]</p></pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3"><a href="#create-sequencesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3"><a href="#create-sequencedescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_3"><a href="#create-sequencearguments-to-create" title="Arguments to Create">Arguments to Create</a></li>
<li class="mariadb_from_10_3"><a href="#create-sequenceconstraints-on-create-arguments" title="Constraints on Create Arguments">Constraints on Create Arguments</a></li>
<li class="mariadb_from_10_3"><a href="#create-sequenceatomic-ddl" title="Atomic DDL">Atomic DDL</a> </li></ol>
</li>
<li class="mariadb_from_10_3"><a href="#create-sequenceexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3"><a href="#create-sequencesee-also" title="See Also">See Also</a> </li></ol>

</div><p>
The options for <code>CREATE SEQUENCE</code> can be given in any order, optionally followed by <code>table_options</code>.</p>
<p><em>table_options</em> can be any of the normal table options in <a href="#create-table">CREATE TABLE</a> but the most usable ones are <code>ENGINE=...</code> and <code>COMMENT=</code>.</p>
<p><code>NOMAXVALUE</code> and <code>NOMINVALUE</code> are there to allow one to create SEQUENCEs using the Oracle syntax.</p>
<h2 class="anchored_heading" id="create-sequencedescription">Description</h2>
<p>CREATE SEQUENCE will create a sequence that generates new
values when called with <code>NEXT VALUE FOR sequence_name</code>. It's an alternative to <a href="#auto_increment">AUTO INCREMENT</a> when one wants to have more control of how the numbers are generated.  As the SEQUENCE caches values (up to <code>CACHE</code>) it can in some cases be much faster than <a href="#auto_increment">AUTO INCREMENT</a>. Another benefit is that one can access the last value generated by all used sequences, which solves one of the limitations with <a href="#last_insert_id">LAST_INSERT_ID()</a>.</p>
<p>CREATE SEQUENCE requires the <a href="#grant">CREATE privilege</a>.</p>
<p><a href="#drop-sequence">DROP SEQUENCE</a> can be used to drop a sequence, and <a href="https://mariadb.com/kb/en/alter-sequence/">ALTER SEQUENCE</a> to change it.</p>
<h3 class="anchored_heading" id="create-sequencearguments-to-create">Arguments to Create</h3>
<p>The following options may be used:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Option</th><th>Default value</th><th> Description</th></tr>
<tr><td>INCREMENT</td><td> 1</td><td>Increment to use for values. May be negative. Setting an increment of 0 causes the sequence to use the value of the <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#auto_increment_increment">auto_increment_increment</a> system variable at the time of creation, which is always a positive number. (see <a href="https://jira.mariadb.org/browse/MDEV-16035">MDEV-16035</a>).</td></tr>
<tr><td>MINVALUE</td><td>1 if INCREMENT &gt; 0 and -9223372036854775807 if INCREMENT &lt; 0</td><td>Minimum value for the sequence</td></tr>
<tr><td>MAXVALUE</td><td>9223372036854775806 if INCREMENT &gt; 0 and -1 if INCREMENT &lt; 0</td><td>Max value for sequence</td></tr>
<tr><td>START</td><td>MINVALUE if INCREMENT &gt; 0 and MAX_VALUE if INCREMENT&lt; 0</td><td>First value that the sequence will generate</td></tr>
<tr><td>CACHE</td><td>1000</td><td> Number of values that should be cached. 0 if no CACHE.  The underlying table will be updated first time a new sequence number is generated and each time the cache runs out.</td></tr>
</table>
</div><p>If <code>CYCLE</code> is used then the sequence should start again from <code>MINVALUE</code> after it has run out of values. Default value is <code>NOCYCLE</code>.</p>
<h3 class="anchored_heading" id="create-sequenceconstraints-on-create-arguments">Constraints on Create Arguments</h3>
<p>To be able to create a legal sequence, the following must hold:</p>
<ul start="1"><li>MAXVALUE &gt;= start
</li><li>MAXVALUE &gt; MINVALUE
</li><li>START &gt;= MINVALUE
</li><li>MAXVALUE &lt;= 9223372036854775806  (LONGLONG_MAX-1)
</li><li>MINVALUE &gt;= -9223372036854775807 (LONGLONG_MIN+1)
</li></ul>
<p>Note that sequences can't generate the maximum/minimum 64 bit number because of the constraint of
<code>MINVALUE</code> and <code>MAXVALUE</code>. </p>
<h3 class="anchored_heading" id="create-sequenceatomic-ddl">Atomic DDL</h3>
<div class="mariadb_from_10_6_1 mariadb from_10_6_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">10.6.1</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">MariaDB 10.6.1</a> supports <a href="https://mariadb.com/kb/en/atomic-ddl/">Atomic DDL</a> and <code>CREATE SEQUENCE</code> is atomic.</p>
</div><h2 class="anchored_heading" id="create-sequenceexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">SEQUENCE</span> <span class="n">s</span> <span class="k">START</span> <span class="k">WITH</span> <span class="mi">100</span> <span class="k">INCREMENT</span> <span class="k">BY</span> <span class="mi">10</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="n">SEQUENCE</span> <span class="n">s2</span> <span class="k">START</span> <span class="k">WITH</span> <span class="o">-</span><span class="mi">100</span> <span class="k">INCREMENT</span> <span class="k">BY</span> <span class="o">-</span><span class="mi">10</span><span class="p">;</span>
</pre><p>The following statement fails, as the increment conflicts with the defaults</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">SEQUENCE</span> <span class="n">s3</span> <span class="k">START</span> <span class="k">WITH</span> <span class="o">-</span><span class="mi">100</span> <span class="k">INCREMENT</span> <span class="k">BY</span> <span class="mi">10</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">4082</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="n">Sequence</span> <span class="s1">'test.s3'</span> <span class="k">values</span> <span class="k">are</span> <span class="n">conflicting</span>
</pre><p>The sequence can be created by specifying workable minimum and maximum values:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">SEQUENCE</span> <span class="n">s3</span> <span class="k">START</span> <span class="k">WITH</span> <span class="o">-</span><span class="mi">100</span> <span class="k">INCREMENT</span> <span class="k">BY</span> <span class="mi">10</span> <span class="k">MINVALUE</span><span class="o">=-</span><span class="mi">100</span> <span class="k">MAXVALUE</span><span class="o">=</span><span class="mi">1000</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="create-sequencesee-also">See Also</h2>
<ul start="1"><li><a href="#sequence-overview">Sequence Overview</a>
</li><li><a href="https://mariadb.com/kb/en/alter-sequence/">ALTER SEQUENCE</a>
</li><li><a href="#drop-sequence">DROP SEQUENCE</a>
</li><li><a href="#next-value-for-sequence_name">NEXT VALUE FOR</a>
</li><li><a href="#previous-value-for-sequence_name">PREVIOUS VALUE FOR</a>
</li><li><a href="#setval">SETVAL()</a>.  Set next value for the sequence.
</li><li><a href="#auto_increment">AUTO INCREMENT</a>
</li><li><a href="#show-create-sequence">SHOW CREATE SEQUENCE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-event">DROP EVENT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">DROP EVENT [IF EXISTS] event_name
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>This statement drops the <a href="https://mariadb.com/kb/en/events/">event</a> named <code>event_name</code>. The event immediately
ceases being active, and is deleted completely from the server.</p>
<p>If the event does not exist, the error
<code class="fixed" style="white-space:pre-wrap">ERROR 1517 (HY000): Unknown event 'event_name'</code>
results. You can override this and cause the
statement to generate a <code>NOTE</code> for non-existent events instead by using
<code>IF EXISTS</code>. See <code><a href="#show-warnings">SHOW WARNINGS</a></code>.</p>
<p>This statement requires the <code><a ">EVENT</a></code> privilege. In MySQL 5.1.11 and earlier, an event could be dropped only
by its definer, or by a user having the <code><a ">SUPER</a></code> privilege.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">DROP</span> <span class="n">EVENT</span> <span class="n">myevent3</span><span class="p">;</span>
</pre><p>Using the IF EXISTS clause:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="n">EVENT</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">myevent3</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+-------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+-------------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1305</span> <span class="o">|</span> <span class="n">Event</span> <span class="n">myevent3</span> <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+-------------------------------+</span>
</pre><h2 class="anchored_heading" id="see-also">See also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/events-overview/">Events Overview</a>
</li><li><a href="#create-event">CREATE EVENT</a>
</li><li><a href="#show-create-event">SHOW CREATE EVENT</a>
</li><li><a href="#alter-event">ALTER EVENT</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-function">DROP FUNCTION</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="drop-functionsyntax">Syntax</h2>
<pre class="fixed">DROP FUNCTION [IF EXISTS] f_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#drop-functionsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#drop-functiondescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#drop-functionif-exists" title="IF EXISTS">IF EXISTS</a> </li></ol>
</li>
<li class=""><a href="#drop-functionexamples" title="Examples">Examples</a></li>
<li class=""><a href="#drop-functionsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="drop-functiondescription">Description</h2>
<p>The DROP FUNCTION statement is used to drop a <a href="https://mariadb.com/kb/en/stored-functions/">stored function</a> or a user-defined function (UDF). That is, the specified routine is removed from the server, along with all privileges specific to the function. You must have the <code>ALTER ROUTINE</code> <a href="#grant">privilege</a> for the routine in order to drop it. If the <a href="https://mariadb.com/kb/en/server-system-variables/#automatic_sp_privileges">automatic_sp_privileges</a> server system variable is set, both the <code>ALTER ROUTINE</code> and <code>EXECUTE</code> privileges are granted automatically to the routine creator - see <a href="https://mariadb.com/kb/en/stored-routine-privileges/">Stored Routine Privileges</a>.</p>
<h4 class="anchored_heading" id="drop-functionif-exists">IF EXISTS</h4>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">IF EXISTS</code> clause is a MySQL/MariaDB extension.  It
prevents an error from occurring if the function does not exist. A
<code>NOTE</code> is produced that can be viewed with <a href="#show-warnings">SHOW WARNINGS</a>.</p>
<p>For dropping a <a href="https://mariadb.com/kb/en/user-defined-functions/">user-defined functions</a> (UDF), see <a href="#drop-function-udf">DROP FUNCTION UDF</a>.</p>
<h2 class="anchored_heading" id="drop-functionexamples">Examples</h2>
<pre class="fixed"><span class="k">DROP</span> <span class="k">FUNCTION</span> <span class="n">hello</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">042</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">DROP</span> <span class="k">FUNCTION</span> <span class="n">hello</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1305</span> <span class="p">(</span><span class="mi">42000</span><span class="p">):</span> <span class="k">FUNCTION</span> <span class="n">test</span><span class="p">.</span><span class="n">hello</span> <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span>

<span class="k">DROP</span> <span class="k">FUNCTION</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">hello</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                            <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------------------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1305</span> <span class="o">|</span> <span class="k">FUNCTION</span> <span class="n">test</span><span class="p">.</span><span class="n">hello</span> <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------------------------------------+</span>
</pre><h2 class="anchored_heading" id="drop-functionsee-also">See Also</h2>
<ul start="1"><li><a href="#drop-procedure">DROP PROCEDURE</a>
</li><li><a href="https://mariadb.com/kb/en/stored-function-overview/">Stored Function Overview</a>
</li><li><a href="#create-function">CREATE FUNCTION</a>
</li><li><a href="#create-function-udf">CREATE FUNCTION UDF</a>
</li><li><a href="#alter-function">ALTER FUNCTION</a>
</li><li><a href="#show-create-function">SHOW CREATE FUNCTION</a>
</li><li><a href="#show-function-status">SHOW FUNCTION STATUS</a>
</li><li><a href="https://mariadb.com/kb/en/stored-routine-privileges/">Stored Routine Privileges</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-routines-table/">INFORMATION_SCHEMA ROUTINES Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-server">CREATE SERVER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="create-serversyntax">Syntax</h2>
<pre class="fixed">CREATE [OR REPLACE] SERVER [IF NOT EXISTS] server_name
    FOREIGN DATA WRAPPER wrapper_name
    OPTIONS (option [, option] ...)

option:
  { HOST character-literal
  | DATABASE character-literal
  | USER character-literal
  | PASSWORD character-literal
  | SOCKET character-literal
  | OWNER character-literal
  | PORT numeric-literal }
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#create-serversyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#create-serverdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#create-serveror-replace" title="OR REPLACE">OR REPLACE</a></li>
<li class=""><a href="#create-serverif-not-exists" title="IF NOT EXISTS">IF NOT EXISTS</a> </li></ol>
</li>
<li class=""><a href="#create-serverexamples" title="Examples">Examples</a></li>
<li class=""><a href="#create-serversee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-serverdescription">Description</h2>
<p>This statement creates the definition of a server for use with the <a href="https://mariadb.com/kb/en/spider/">Spider</a>, <a href="https://mariadb.com/kb/en/connect/">Connect</a>, 
<a href="https://mariadb.com/kb/en/federated-storage-engine/">FEDERATED</a> or <a href="https://mariadb.com/kb/en/federatedx/">FederatedX</a> storage
engine. The CREATE SERVER statement creates a new row within the
<a href="https://mariadb.com/kb/en/mysqlservers-table/">servers</a> table within the mysql database. This statement
requires the <a ">SUPER</a> privilege or, from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the <a ">FEDERATED ADMIN</a> privilege.</p>
<p>The server_name should be a unique reference to the server. Server definitions
are global within the scope of the server, it is not possible to qualify the
server definition to a specific database. server_name has a maximum length of
64 characters (names longer than 64 characters are silently truncated), and is
case insensitive. You may specify the name as a quoted string.</p>
<p>The wrapper_name may be quoted with single quotes. Supported values are:</p>
<ul start="1"><li><code>mysql</code>
</li><li><code>mariadb</code> (in <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> and later) 
</li></ul>
<p>For each option you must specify either a character literal or numeric literal.
Character literals are UTF-8, support a maximum length of 64 characters and
default to a blank (empty) string. String literals are silently truncated to 64
characters. Numeric literals must be a number between 0 and 9999, default value
is 0.</p>
<p><strong>Note</strong>: The <code>OWNER</code> option is currently not applied, and has no effect on
the ownership or operation of the server connection that is created.</p>
<p>The CREATE SERVER statement creates an entry in the
<a href="https://mariadb.com/kb/en/mysqlservers-table/">mysql.servers</a> table that can later be used with the
CREATE TABLE statement when creating a <a href="https://mariadb.com/kb/en/spider/">Spider</a>, <a href="https://mariadb.com/kb/en/connect/">Connect</a>, <a href="https://mariadb.com/kb/en/federatedx/">FederatedX</a> or
<a href="https://mariadb.com/kb/en/federated-storage-engine/">FEDERATED</a> table. The options that you specify will
be used to populate the columns in the mysql.servers table. The table columns
are Server_name, Host, Db, Username, Password, Port and Socket.</p>
<p> <a href="#drop-server">DROP SERVER</a> removes a previously created server definition. </p>
<p>CREATE SERVER is not written to the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>, irrespective of
the <a href="https://mariadb.com/kb/en/binary-log-formats/">binary log format</a> being used. From <a href="https://mariadb.com/kb/en/mariadb-10113-release-notes/">MariaDB 10.1.13</a>, <a href="https://mariadb.com/kb/en/galera/">Galera</a> replicates the CREATE SERVER, <a href="#alter-server">ALTER SERVER</a> and <a href="#drop-server">DROP SERVER</a> statements.</p>
<p>For valid identifiers to use as server names, see <a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>.</p>
<h4 class="anchored_heading" id="create-serveror-replace">OR REPLACE</h4>
<p>If the optional <code>OR REPLACE</code> clause is used, it acts as a shortcut for:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="n">SERVER</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">name</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="n">SERVER</span> <span class="n">server_name</span> <span class="p">...;</span>
</pre><h4 class="anchored_heading" id="create-serverif-not-exists">IF NOT EXISTS</h4>
<p>If the IF NOT EXISTS clause is used, MariaDB will return a warning instead of an error if the server already exists. Cannot be used together with OR REPLACE.</p>
<h2 class="anchored_heading" id="create-serverexamples">Examples</h2>
<pre class="fixed">CREATE SERVER s
FOREIGN DATA WRAPPER mysql
OPTIONS (USER 'Remote', HOST '192.168.1.106', DATABASE 'test');
</pre><p>OR REPLACE and IF NOT EXISTS:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">SERVER</span> <span class="n">s</span> 
<span class="k">FOREIGN</span> <span class="k">DATA</span> <span class="n">WRAPPER</span> <span class="n">mysql</span> 
<span class="k">OPTIONS</span> <span class="p">(</span><span class="k">USER</span> <span class="s1">'Remote'</span><span class="p">,</span> <span class="k">HOST</span> <span class="s1">'192.168.1.106'</span><span class="p">,</span> <span class="k">DATABASE</span> <span class="s1">'test'</span><span class="p">);</span>
<span class="n">ERROR</span> <span class="mi">1476</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="n">The</span> <span class="k">foreign</span> <span class="n">server</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">you</span> <span class="k">are</span> <span class="n">trying</span> <span class="k">to</span> <span class="k">create</span> <span class="n">already</span> <span class="k">exists</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="n">SERVER</span> <span class="n">s</span> 
<span class="k">FOREIGN</span> <span class="k">DATA</span> <span class="n">WRAPPER</span> <span class="n">mysql</span> 
<span class="k">OPTIONS</span> <span class="p">(</span><span class="k">USER</span> <span class="s1">'Remote'</span><span class="p">,</span> <span class="k">HOST</span> <span class="s1">'192.168.1.106'</span><span class="p">,</span> <span class="k">DATABASE</span> <span class="s1">'test'</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">CREATE</span> <span class="n">SERVER</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">s</span> 
<span class="k">FOREIGN</span> <span class="k">DATA</span> <span class="n">WRAPPER</span> <span class="n">mysql</span> 
<span class="k">OPTIONS</span> <span class="p">(</span><span class="k">USER</span> <span class="s1">'Remote'</span><span class="p">,</span> <span class="k">HOST</span> <span class="s1">'192.168.1.106'</span><span class="p">,</span> <span class="k">DATABASE</span> <span class="s1">'test'</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+----------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                                        <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+----------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1476</span> <span class="o">|</span> <span class="n">The</span> <span class="k">foreign</span> <span class="n">server</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">you</span> <span class="k">are</span> <span class="n">trying</span> <span class="k">to</span> <span class="k">create</span> <span class="n">already</span> <span class="k">exists</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+----------------------------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="create-serversee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>
</li><li><a href="#alter-server">ALTER SERVER</a>
</li><li><a href="#drop-server">DROP SERVER</a>
</li><li><a href="https://mariadb.com/kb/en/spider/">Spider Storage Engine</a>
</li><li><a href="https://mariadb.com/kb/en/connect/">Connect Storage Engine</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-index">DROP INDEX</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="drop-indexsyntax">Syntax</h2>
<pre class="fixed">DROP INDEX [IF EXISTS] index_name ON tbl_name 
    [WAIT n |NOWAIT]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_0"><a href="#drop-indexsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_0"><a href="#drop-indexdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_0"><a href="#drop-indexprivileges" title="Privileges">Privileges</a></li>
<li class="mariadb_from_10_3_0"><a href="#drop-indexonline-ddl" title="Online DDL">Online DDL</a></li>
<li class="mariadb_from_10_3_0"><a href="#drop-indexdrop-index-if-exists" title="DROP INDEX IF EXISTS ...">DROP INDEX IF EXISTS ...</a></li>
<li class="mariadb_from_10_3_0"><a href="#drop-indexwaitnowait" title="WAIT/NOWAIT">WAIT/NOWAIT</a></li>
<li class="mariadb_from_10_3_0"><a href="#drop-indexprogress-reporting" title="Progress Reporting">Progress Reporting</a></li>
<li class="mariadb_from_10_3_0"><a href="#drop-indexsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="drop-indexdescription">Description</h2>
<p><code>DROP INDEX</code> drops the <a href="https://mariadb.com/kb/en/optimization-and-indexes/">index</a> named <code>index_name</code> from the table <code>tbl_name</code>.
This statement is mapped to an <code>ALTER TABLE</code> statement to drop the
index.</p>
<p>If another connection is using the table, a <a href="#metadata-locking">metadata lock</a> is active, and this statement will wait until the lock is released. This is also true for non-transactional tables.</p>
<p>See <code><a href="#alter-table">ALTER TABLE</a></code>.</p>
<p>Another shortcut, <code><a href="#create-index">CREATE INDEX</a></code>, allows the creation of an index.</p>
<p>To remove the primary key, <code>`PRIMARY`</code> must be specified as index_name. Note that <a href="https://mariadb.com/kb/en/identifier-qualifiers/">the quotes</a> are necessary, because <code>PRIMARY</code> is a keyword.</p>
<h2 class="anchored_heading" id="drop-indexprivileges">Privileges</h2>
<p>Executing the <code>DROP INDEX</code> statement requires the <code><a ">INDEX</a></code> privilege for the table or the database.</p>
<h2 class="anchored_heading" id="drop-indexonline-ddl">Online DDL</h2>
<p>Online DDL is used by default with InnoDB, when the drop index operation supports it.</p>
<p>See <a href="https://mariadb.com/kb/en/innodb-online-ddl-overview/">InnoDB Online DDL Overview</a> for more information on online DDL with <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>.</p>
<h2 class="anchored_heading" id="drop-indexdrop-index-if-exists"><code>DROP INDEX IF EXISTS ...</code></h2>
<p>If the <code>IF EXISTS</code> clause is used, then MariaDB will return a warning instead of an error if the index does not exist.</p>
<h2 class="anchored_heading" id="drop-indexwaitnowait"><code>WAIT/NOWAIT</code></h2>
<div class="mariadb_from_10_3_0 mariadb from_10_3_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">10.3.0</a></h5><p>Set the lock wait timeout. See <a href="#wait-and-nowait">WAIT and NOWAIT</a>.</p>
</div><h2 class="anchored_heading" id="drop-indexprogress-reporting">Progress Reporting</h2>
<p>MariaDB provides progress reporting for <code>DROP INDEX</code> statement for clients
that support the new progress reporting protocol. For example, if you were using the <code><a href="https://mariadb.com/kb/en/mysql-command-line-client/">mysql</a></code> client, then the progress report might look like this::</p>
<h2 class="anchored_heading" id="drop-indexsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/getting-started-with-indexes/">Getting Started with Indexes</a>
</li><li><a href="#create-index">CREATE INDEX</a>
</li><li><a href="#alter-table">ALTER TABLE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="create-trigger">CREATE TRIGGER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="create-triggersyntax">Syntax</h2>
<pre class="fixed">CREATE [OR REPLACE]
    [DEFINER = { user | CURRENT_USER | role | CURRENT_ROLE }]
    TRIGGER [IF NOT EXISTS] trigger_name trigger_time trigger_event
    ON tbl_name FOR EACH ROW
   [{ FOLLOWS | PRECEDES } other_trigger_name ]
   trigger_stmt;
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_3"><a href="#create-triggersyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2_3"><a href="#create-triggerdescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_2_3"><a href="#create-triggeror-replace" title="OR REPLACE">OR REPLACE</a></li>
<li class="mariadb_from_10_2_3"><a href="#create-triggerdefiner" title="DEFINER">DEFINER</a></li>
<li class="mariadb_from_10_2_3"><a href="#create-triggerif-not-exists" title="IF NOT EXISTS">IF NOT EXISTS</a></li>
<li class="mariadb_from_10_2_3"><a href="#create-triggertrigger_time" title="create-triggertrigger_time">trigger_time</a></li>
<li class="mariadb_from_10_2_3"><a href="#create-triggertrigger_event" title="create-triggertrigger_event">trigger_event</a> <ol class="toc">
<li class="mariadb_from_10_2_3"><a href="#create-triggerfollowsprecedes-other_trigger_name" title="FOLLOWS/PRECEDES other_trigger_name">FOLLOWS/PRECEDES other_trigger_name</a> </li></ol>
</li>
<li class="mariadb_from_10_2_3"><a href="#create-triggeratomic-ddl" title="Atomic DDL">Atomic DDL</a> </li></ol>
</li>
<li class="mariadb_from_10_2_3"><a href="#create-triggerexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_2_3"><a href="#create-triggersee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-triggerdescription">Description</h2>
<p>This statement creates a new <a href="https://mariadb.com/kb/en/triggers/">trigger</a>. A trigger is a named database
object that is associated with a table, and that activates when a
particular event occurs for the table. The trigger becomes associated
with the table named <code>tbl_name</code>, which must refer to a permanent table.
You cannot associate a trigger with a <code>TEMPORARY</code> table or a view.</p>
<p><code>CREATE TRIGGER</code> requires the <a ">TRIGGER</a> privilege for the table associated
with the trigger.</p>
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>You can have multiple triggers for the same <code>trigger_time</code> and <code>trigger_event</code>.</p>
</div><p>For valid identifiers to use as trigger names, see <a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>.</p>
<h3 class="anchored_heading" id="create-triggeror-replace">OR REPLACE</h3>
<div class="mariadb_from_10_1_4 mariadb from_10_1_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1014-release-notes/">10.1.4</a></h5><p>If used and the trigger already exists, instead of an error being returned, the existing trigger will be dropped and replaced by the newly defined trigger.</p>
</div><h3 class="anchored_heading" id="create-triggerdefiner">DEFINER</h3>
<p>The <code>DEFINER</code> clause determines the security context to be used when
checking access privileges at trigger activation time. Usage requires the <a ">SUPER</a> privilege, or, from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the <a ">SET USER</a> privilege.</p>
<h3 class="anchored_heading" id="create-triggerif-not-exists">IF NOT EXISTS</h3>
<div class="mariadb_from_10_1_4 mariadb from_10_1_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1014-release-notes/">10.1.4</a></h5><p>If the <code>IF NOT EXISTS</code> clause is used, the trigger will only be created if a trigger of the same name does not exist. If the trigger already exists, by default a warning will be returned.</p>
</div><h3 class="anchored_heading" id="create-triggertrigger_time">trigger_time</h3>
<p><code>trigger_time</code> is the trigger action time. It can be <code>BEFORE</code> or <code>AFTER</code> to
indicate that the trigger activates before or after each row to be
modified.</p>
<h3 class="anchored_heading" id="create-triggertrigger_event">trigger_event</h3>
<p><code>trigger_event</code> indicates the kind of statement that activates the
trigger. The <code>trigger_event</code> can be one of the following:</p>
<ul start="1"><li><code>INSERT</code>: The trigger is activated whenever a new row is inserted into the table; for example, through <a href="https://mariadb.com/kb/en/insert-commands/">INSERT</a>, <a href="#load-data-infile">LOAD DATA</a>, and <a href="#replace">REPLACE</a> statements.
</li><li><code>UPDATE</code>: The trigger is activated whenever a row is modified; for example, through <a href="#update">UPDATE</a> statements.
</li><li><code>DELETE</code>: The trigger is activated whenever a row is deleted from the table; for example, through <a href="#delete">DELETE</a> and <a href="#replace">REPLACE</a> statements. However, <code>DROP TABLE</code> and <code>TRUNCATE</code> statements on the table do not activate this trigger, because they do not use <code>DELETE</code>. Dropping a partition does not activate <code>DELETE</code> triggers, either.
</li></ul>
<h4 class="anchored_heading" id="create-triggerfollowsprecedes-other_trigger_name">FOLLOWS/PRECEDES other_trigger_name</h4>
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>The <code>FOLLOWS other_trigger_name</code> and <code>PRECEDES other_trigger_name</code> options were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a> as part of supporting multiple triggers per action time.
This is the same syntax used by MySQL 5.7, although MySQL 5.7 does not have multi-trigger support.</p>
<p><code>FOLLOWS</code> adds the new trigger after another trigger while <code>PRECEDES</code> adds the new trigger before another trigger.  If neither option is used, the new trigger is added last for the given action and time.</p>
<p><code>FOLLOWS</code> and <code>PRECEDES</code> are not stored in the trigger definition. However the trigger order is guaranteed to not change over time. <a href="https://mariadb.com/kb/en/mysqldump/">mariadb-dump/mysqldump</a> and other backup methods will not change trigger order.
You can verify the trigger order from the <code>ACTION_ORDER</code> column in <a href="https://mariadb.com/kb/en/information-schema-triggers-table/">INFORMATION_SCHEMA.TRIGGERS</a> table.</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">trigger_name</span><span class="p">,</span> <span class="n">action_order</span> <span class="k">FROM</span> <span class="n">information_schema</span><span class="p">.</span><span class="n">triggers</span> 
  <span class="k">WHERE</span> <span class="n">event_object_table</span><span class="o">=</span><span class="s1">'t1'</span><span class="p">;</span>
</pre></div><h3 class="anchored_heading" id="create-triggeratomic-ddl">Atomic DDL</h3>
<div class="mariadb_from_10_6_1 mariadb from_10_6_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">10.6.1</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">MariaDB 10.6.1</a> supports <a href="https://mariadb.com/kb/en/atomic-ddl/">Atomic DDL</a> and <code>CREATE TRIGGER</code> is atomic.</p>
</div><h2 class="anchored_heading" id="create-triggerexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">DEFINER</span><span class="o">=`</span><span class="n">root</span><span class="o">`@`</span><span class="n">localhost</span><span class="o">`</span> <span class="k">TRIGGER</span> <span class="n">increment_animal</span>
  <span class="k">AFTER</span> <span class="k">INSERT</span> <span class="k">ON</span> <span class="n">animals</span> <span class="k">FOR</span> <span class="k">EACH</span> <span class="k">ROW</span> 
   <span class="k">UPDATE</span> <span class="n">animal_count</span> <span class="k">SET</span> <span class="n">animal_count</span><span class="p">.</span><span class="n">animals</span> <span class="o">=</span> <span class="n">animal_count</span><span class="p">.</span><span class="n">animals</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
</pre><p>OR REPLACE and IF NOT EXISTS</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">DEFINER</span><span class="o">=`</span><span class="n">root</span><span class="o">`@`</span><span class="n">localhost</span><span class="o">`</span> <span class="k">TRIGGER</span> <span class="n">increment_animal</span>
  <span class="k">AFTER</span> <span class="k">INSERT</span> <span class="k">ON</span> <span class="n">animals</span> <span class="k">FOR</span> <span class="k">EACH</span> <span class="k">ROW</span>
    <span class="k">UPDATE</span> <span class="n">animal_count</span> <span class="k">SET</span> <span class="n">animal_count</span><span class="p">.</span><span class="n">animals</span> <span class="o">=</span> <span class="n">animal_count</span><span class="p">.</span><span class="n">animals</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1359</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="k">Trigger</span> <span class="n">already</span> <span class="k">exists</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">DEFINER</span><span class="o">=`</span><span class="n">root</span><span class="o">`@`</span><span class="n">localhost</span><span class="o">`</span> <span class="k">TRIGGER</span> <span class="n">increment_animal</span>
  <span class="k">AFTER</span> <span class="k">INSERT</span> <span class="k">ON</span> <span class="n">animals</span>  <span class="k">FOR</span> <span class="k">EACH</span> <span class="k">ROW</span>
    <span class="k">UPDATE</span> <span class="n">animal_count</span> <span class="k">SET</span> <span class="n">animal_count</span><span class="p">.</span><span class="n">animals</span> <span class="o">=</span> <span class="n">animal_count</span><span class="p">.</span><span class="n">animals</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">12</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">CREATE</span> <span class="k">DEFINER</span><span class="o">=`</span><span class="n">root</span><span class="o">`@`</span><span class="n">localhost</span><span class="o">`</span> <span class="k">TRIGGER</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">increment_animal</span>
  <span class="k">AFTER</span> <span class="k">INSERT</span> <span class="k">ON</span> <span class="n">animals</span> <span class="k">FOR</span> <span class="k">EACH</span> <span class="k">ROW</span>
    <span class="k">UPDATE</span> <span class="n">animal_count</span> <span class="k">SET</span> <span class="n">animal_count</span><span class="p">.</span><span class="n">animals</span> <span class="o">=</span> <span class="n">animal_count</span><span class="p">.</span><span class="n">animals</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1359</span> <span class="o">|</span> <span class="k">Trigger</span> <span class="n">already</span> <span class="k">exists</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><h2 class="anchored_heading" id="create-triggersee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>
</li><li><a href="https://mariadb.com/kb/en/trigger-overview/">Trigger Overview</a>
</li><li><a href="#drop-trigger">DROP TRIGGER</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-triggers-table/">Information Schema TRIGGERS Table</a>
</li><li><a href="#show-triggers">SHOW TRIGGERS</a>
</li><li><a href="#show-create-trigger">SHOW CREATE TRIGGER</a>
</li><li><a href="https://mariadb.com/kb/en/trigger-limitations/">Trigger Limitations</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-procedure">DROP PROCEDURE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="drop-proceduresyntax">Syntax</h2>
<pre class="fixed">DROP PROCEDURE [IF EXISTS] sp_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#drop-proceduresyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#drop-proceduredescription" title="Description">Description</a></li>
<li class=""><a href="#drop-procedureexamples" title="Examples">Examples</a></li>
<li class=""><a href="#drop-proceduresee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="drop-proceduredescription">Description</h2>
<p>This statement is used to drop a <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedure</a>. That is, the
specified routine is removed from the server along with all privileges specific to the <a href="#grant">procedure</a>. You must have the <code>ALTER ROUTINE</code> privilege for the routine. If the <code><a href="https://mariadb.com/kb/en/server-system-variables/#automatic_sp_privileges">automatic_sp_privileges</a></code> server system variable is set, that privilege and <code>EXECUTE</code> are granted automatically to the routine creator - see <a href="https://mariadb.com/kb/en/stored-routine-privileges/">Stored Routine Privileges</a>.</p>
<p>The <code class="highlight fixed" style="white-space:pre-wrap">IF EXISTS</code> clause is a MySQL/MariaDB extension.  It
prevents an error from occurring if the procedure or function does not exist. A
<code>NOTE</code> is produced that can be viewed with <code><a href="#show-warnings">SHOW WARNINGS</a></code>.</p>
<p>While this statement takes effect immediately, threads which are executing a procedure can continue execution.</p>
<h2 class="anchored_heading" id="drop-procedureexamples">Examples</h2>
<pre class="fixed"><span class="k">DROP</span> <span class="k">PROCEDURE</span> <span class="n">simpleproc</span><span class="p">;</span>
</pre><p>IF EXISTS:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="k">PROCEDURE</span> <span class="n">simpleproc</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1305</span> <span class="p">(</span><span class="mi">42000</span><span class="p">):</span> <span class="k">PROCEDURE</span> <span class="n">test</span><span class="p">.</span><span class="n">simpleproc</span> <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span>

<span class="k">DROP</span> <span class="k">PROCEDURE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">simpleproc</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+------------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                  <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------------------------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1305</span> <span class="o">|</span> <span class="k">PROCEDURE</span> <span class="n">test</span><span class="p">.</span><span class="n">simpleproc</span> <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="drop-proceduresee-also">See Also</h2>
<ul start="1"><li><a href="#drop-function">DROP FUNCTION</a>
</li><li><a href="https://mariadb.com/kb/en/stored-procedure-overview/">Stored Procedure Overview</a>
</li><li><a href="#create-procedure">CREATE PROCEDURE</a>
</li><li><a href="#drop-procedure">ALTER PROCEDURE</a>
</li><li><a href="#show-create-procedure">SHOW CREATE PROCEDURE</a>
</li><li><a href="#show-procedure-status">SHOW PROCEDURE STATUS</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-routines-table/">Information Schema ROUTINES Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-sequence">DROP SEQUENCE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>DROP SEQUENCE was introduced in <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>.</p>
</div><h2 class="anchored_heading" id="drop-sequencesyntax">Syntax</h2>
<pre class="highlight fixed"><p>DROP [TEMPORARY] SEQUENCE [IF EXISTS] [/*COMMENT TO SAVE*/]
    sequence_name [, sequence_name] ...</p></pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3"><a href="#drop-sequencesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3"><a href="#drop-sequencedescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3"><a href="#drop-sequencenotes" title="Notes">Notes</a></li>
<li class="mariadb_from_10_3"><a href="#drop-sequencesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="drop-sequencedescription">Description</h2>
<p><code>DROP SEQUENCE</code> removes one or more sequences created with <a href="#create-sequence">CREATE SEQUENCE</a>. You must have the <code>DROP</code> privilege for each sequence. MariaDB returns an error indicating by name which non-existing tables it was unable to drop, but it also drops all of the tables in the list that do exist.</p>
<p>Important: When a table is dropped, user privileges on the table are not automatically dropped. See <a href="#grant">GRANT</a>.</p>
<p>If another connection is using the sequence, a metadata lock is active, and this statement will wait until the lock is released. This is also true for non-transactional tables.</p>
<p>For each referenced sequence, DROP SEQUENCE drops a temporary sequence with that name, if it exists. If it does not exist, and the <code>TEMPORARY</code> keyword is not used, it drops a non-temporary sequence with the same name, if it exists. The <code>TEMPORARY</code> keyword ensures that a non-temporary sequence will not accidentally be dropped.</p>
<p>Use <code>IF EXISTS</code> to prevent an error from occurring for sequences that do not exist. A NOTE is generated for each non-existent sequence when using <code>IF EXISTS</code>. See <a href="#show-warnings">SHOW WARNINGS</a>.</p>
<p>DROP SEQUENCE requires the <a href="#grant">DROP privilege</a>.</p>
<h2 class="anchored_heading" id="drop-sequencenotes">Notes</h2>
<p>DROP SEQUENCE only removes sequences, not tables. However, <a href="#drop-table">DROP TABLE</a> can remove both sequences and tables.</p>
<h2 class="anchored_heading" id="drop-sequencesee-also">See Also</h2>
<ul start="1"><li><a href="#sequence-overview">Sequence Overview</a>
</li><li><a href="#create-sequence">CREATE SEQUENCE</a>
</li><li><a href="https://mariadb.com/kb/en/alter-sequence/">ALTER SEQUENCE</a>
</li><li><a href="#drop-table">DROP TABLE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-server">DROP SERVER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="drop-serversyntax">Syntax</h2>
<pre class="fixed">DROP SERVER [ IF EXISTS ] server_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#drop-serversyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#drop-serverdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#drop-serverif-exists" title="IF EXISTS">IF EXISTS</a> </li></ol>
</li>
<li class=""><a href="#drop-serverexamples" title="Examples">Examples</a></li>
<li class=""><a href="#drop-serversee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="drop-serverdescription">Description</h2>
<p>Drops the server definition for the server named <em>server_name</em>. The
corresponding row within the <a href="https://mariadb.com/kb/en/mysqlservers-table/">mysql.servers table</a> will be deleted. This statement requires the <a ">SUPER</a> privilege or, from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, the <a ">FEDERATED ADMIN</a> privilege.</p>
<p>Dropping a server for a table does not affect any <a href="https://mariadb.com/kb/en/federatedx/">FederatedX</a>, <a href="https://mariadb.com/kb/en/federated-storage-engine/">FEDERATED</a>, <a href="https://mariadb.com/kb/en/connect/">Connect</a> or <a href="https://mariadb.com/kb/en/spider/">Spider</a> tables that used this connection information when they were created. </p>
<p>DROP SERVER is not written to the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>, irrespective of
the <a href="https://mariadb.com/kb/en/binary-log-formats/">binary log format</a> being used. From <a href="https://mariadb.com/kb/en/mariadb-10113-release-notes/">MariaDB 10.1.13</a>, <a href="https://mariadb.com/kb/en/galera/">Galera</a> replicates the <a href="#create-server">CREATE SERVER</a>, <a href="#alter-server">ALTER SERVER</a> and DROP SERVER statements.</p>
<h4 class="anchored_heading" id="drop-serverif-exists">IF EXISTS</h4>
<p>If the IF EXISTS clause is used, MariaDB will not return an error if the server does not exist. Unlike all other statements, DROP SERVER IF EXISTS does not issue a note if the server does not exist. See <a href="https://jira.mariadb.org/browse/MDEV-9400">MDEV-9400</a>.</p>
<h2 class="anchored_heading" id="drop-serverexamples">Examples</h2>
<pre class="fixed"><span class="k">DROP</span> <span class="n">SERVER</span> <span class="n">s</span><span class="p">;</span>
</pre><p>IF EXISTS:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="n">SERVER</span> <span class="n">s</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1477</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="n">The</span> <span class="k">foreign</span> <span class="n">server</span> <span class="n">name</span> <span class="n">you</span> <span class="k">are</span> <span class="n">trying</span> <span class="k">to</span> <span class="n">reference</span> 
  <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span><span class="p">.</span> <span class="k">Data</span> <span class="k">source</span> <span class="n">error</span><span class="p">:</span>  <span class="n">s</span>

<span class="k">DROP</span> <span class="n">SERVER</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">s</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><h2 class="anchored_heading" id="drop-serversee-also">See Also</h2>
<ul start="1"><li><a href="#create-server">CREATE SERVER</a>
</li><li><a href="#alter-server">ALTER SERVER</a>
</li><li><a href="https://mariadb.com/kb/en/spider/">Spider Storage Engine</a>
</li><li><a href="https://mariadb.com/kb/en/federatedx/">FederatedX Storage Engine</a>
</li><li><a href="https://mariadb.com/kb/en/connect/">Connect Storage Engine</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-trigger">DROP TRIGGER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="drop-triggersyntax">Syntax</h2>
<pre class="fixed">DROP TRIGGER [IF EXISTS] [schema_name.]trigger_name
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_6_1"><a href="#drop-triggersyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_6_1"><a href="#drop-triggerdescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_6_1"><a href="#drop-triggeratomic-ddl" title="Atomic DDL">Atomic DDL</a> </li></ol>
</li>
<li class="mariadb_from_10_6_1"><a href="#drop-triggerexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_6_1"><a href="#drop-triggersee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="drop-triggerdescription">Description</h2>
<p>This statement drops a <a href="https://mariadb.com/kb/en/triggers/">trigger</a>. The schema (database) name is optional. If the
schema is omitted, the trigger is dropped from the default schema.
Its use requires the <code>TRIGGER</code> privilege for the table associated with the trigger.</p>
<p>Use <code class="highlight fixed" style="white-space:pre-wrap">IF EXISTS</code> to prevent an error from occurring for a
trigger that does not exist. A <code>NOTE</code> is generated for a non-existent trigger
when using <code>IF EXISTS</code>. See <a href="#show-warnings">SHOW WARNINGS</a>.</p>
<p><strong>Note:</strong> Triggers for a table are also dropped if you drop the table.</p>
<h3 class="anchored_heading" id="drop-triggeratomic-ddl">Atomic DDL</h3>
<div class="mariadb_from_10_6_1 mariadb from_10_6_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">10.6.1</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">MariaDB 10.6.1</a> supports <a href="https://mariadb.com/kb/en/atomic-ddl/">Atomic DDL</a> and <code>DROP TRIGGER</code> is atomic.</p>
</div><h2 class="anchored_heading" id="drop-triggerexamples">Examples</h2>
<pre class="fixed"><span class="k">DROP</span> <span class="k">TRIGGER</span> <span class="n">test</span><span class="p">.</span><span class="n">example_trigger</span><span class="p">;</span>
</pre><p>Using the IF EXISTS clause:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="k">TRIGGER</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">test</span><span class="p">.</span><span class="n">example_trigger</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1360</span> <span class="o">|</span> <span class="k">Trigger</span> <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------------------------+</span>
</pre><h2 class="anchored_heading" id="drop-triggersee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/trigger-overview/">Trigger Overview</a>
</li><li><a href="#create-trigger">CREATE TRIGGER</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-triggers-table/">Information Schema TRIGGERS Table</a>
</li><li><a href="#show-triggers">SHOW TRIGGERS</a>
</li><li><a href="#show-create-trigger">SHOW CREATE TRIGGER</a>
</li><li><a href="https://mariadb.com/kb/en/trigger-limitations/">Trigger Limitations</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-view">DROP VIEW</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="drop-viewsyntax">Syntax</h2>
<pre class="fixed">DROP VIEW [IF EXISTS]
    view_name [, view_name] ...
    [RESTRICT | CASCADE]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#drop-viewsyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#drop-viewdescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#drop-viewatomic-ddl" title="Atomic DDL">Atomic DDL</a> </li></ol>
</li>
<li class=""><a href="#drop-viewexamples" title="Examples">Examples</a></li>
<li class=""><a href="#drop-viewsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="drop-viewdescription">Description</h2>
<p><code>DROP VIEW</code> removes one or more <a href="https://mariadb.com/kb/en/views/">views</a>. You must have the DROP privilege for
each view. If any of the views named in the argument list do not exist, MariaDB
returns an error indicating by name which non-existing views it was unable to
drop, but it also drops all of the views in the list that do exist.</p>
<p>The <code>IF EXISTS</code> clause prevents an error from occurring for views that don't
exist. When this clause is given, a <code>NOTE</code> is generated for each non-existent
view. See <a href="#show-warnings">SHOW WARNINGS</a>.</p>
<p><code>RESTRICT</code> and <code>CASCADE</code>, if given, are parsed and ignored.</p>
<p>It is possible to specify view names as <code>db_name</code>.<code>view_name</code>. This is useful to delete views from multiple databases with one statement. See <a href="https://mariadb.com/kb/en/identifier-qualifiers/">Identifier Qualifiers</a> for details.</p>
<p>The <a ">DROP privilege</a> is required to use <code>DROP TABLE</code> on non-temporary tables. For temporary tables, no privilege is required, because such tables are only visible for the current session.</p>
<p>If a view references another view, it will be possible to drop the referenced view. However, the other view will reference a view which does not exist any more. Thus, querying it will produce an error similar to the following:</p>
<pre class="fixed">ERROR 1356 (HY000): View 'db_name.view_name' references invalid table(s) or 
column(s) or function(s) or definer/invoker of view lack rights to use them
</pre><p>This problem is reported in the output of <a href="https://mariadb.com/kb/en/check-table/">CHECK TABLE</a>.</p>
<p>Note that it is not necessary to use <code>DROP VIEW</code> to replace an existing view, because <code><a href="#create-view">CREATE VIEW</a></code> has an <code>OR REPLACE</code> clause.</p>
<h3 class="anchored_heading" id="drop-viewatomic-ddl">Atomic DDL</h3>
<div class="mariadb_from_10_6_1 mariadb from_10_6_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">10.6.1</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">MariaDB 10.6.1</a> supports <a href="https://mariadb.com/kb/en/atomic-ddl/">Atomic DDL</a> and <code>DROP VIEW</code> for a singular view is atomic. Dropping multiple views is crash-safe.</p>
</div><h2 class="anchored_heading" id="drop-viewexamples">Examples</h2>
<pre class="fixed">DROP VIEW v,v2;
</pre><p>Given views <code>v</code> and <code>v2</code>, but no view <code>v3</code></p>
<pre class="fixed">DROP VIEW v,v2,v3;
ERROR 1051 (42S02): Unknown table 'v3'
</pre><pre class="fixed">DROP VIEW IF EXISTS v,v2,v3;
Query OK, 0 rows affected, 1 warning (0.01 sec)

SHOW WARNINGS;
+-------+------+-------------------------+
| Level | Code | Message                 |
+-------+------+-------------------------+
| Note  | 1051 | Unknown table 'test.v3' |
+-------+------+-------------------------+
</pre><h2 class="anchored_heading" id="drop-viewsee-also">See Also</h2>
<ul start="1"><li><a href="#create-view">CREATE VIEW</a>
</li><li><a href="#alter-view">ALTER VIEW</a>
</li><li><a href="show-create-views">SHOW CREATE VIEWS</a>
</li><li><a href="https://mariadb.com/kb/en/information-schema-views-table/">INFORMATION SCHEMA VIEWS Table</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="drop-table">DROP TABLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="drop-tablesyntax">Syntax</h2>
<pre class="fixed">DROP [TEMPORARY] TABLE [IF EXISTS] [/*COMMENT TO SAVE*/]
    tbl_name [, tbl_name] ...
    [WAIT n|NOWAIT]
    [RESTRICT | CASCADE]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_5_4"><a href="#drop-tablesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_5_4"><a href="#drop-tabledescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_5_4"><a href="#drop-tablewaitnowait" title="WAIT/NOWAIT">WAIT/NOWAIT</a> </li></ol>
</li>
<li class="mariadb_from_10_5_4"><a href="#drop-tabledrop-table-in-replication" title="DROP TABLE in replication">DROP TABLE in replication</a></li>
<li class="mariadb_from_10_5_4"><a href="#drop-tabledropping-an-internal-sql-table" title="Dropping an Internal #sql-... Table">Dropping an Internal #sql-... Table</a></li>
<li class="mariadb_from_10_5_4"><a href="#drop-tabledropping-all-tables-in-a-database" title="Dropping All Tables in a Database">Dropping All Tables in a Database</a></li>
<li class="mariadb_from_10_5_4"><a href="#drop-tableatomic-drop-table" title="Atomic DROP TABLE">Atomic DROP TABLE</a></li>
<li class="mariadb_from_10_5_4"><a href="#drop-tableexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_5_4"><a href="#drop-tablenotes" title="Notes">Notes</a></li>
<li class="mariadb_from_10_5_4"><a href="#drop-tablesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="drop-tabledescription">Description</h2>
<p><code>DROP TABLE</code> removes one or more tables. You must have the <code>DROP</code> privilege
for each table. All table data and the table definition are removed, as well as <a href="https://mariadb.com/kb/en/triggers/">triggers</a> associated to the table, so be
careful with this statement! If any of the tables named in the argument list do
not exist, MariaDB returns an error indicating by name which non-existing tables
it was unable to drop, but it also drops all of the tables in the list that do
exist.</p>
<p><strong>Important</strong>: When a table is dropped, user privileges on the table are not
automatically dropped. See <a href="#grant">GRANT</a>.</p>
<p>If another thread is using the table in an explicit transaction or an autocommit transaction, then the thread acquires a <a href="#metadata-locking">metadata lock (MDL)</a> on the table. The <code>DROP TABLE</code> statement will wait in the "Waiting for table metadata lock" <a href="https://mariadb.com/kb/en/thread-states/">thread state</a> until the MDL is released. MDLs are released in the following cases:</p>
<ul start="1"><li>If an MDL is acquired in an explicit transaction, then the MDL will be released when the transaction ends.
</li><li>If an MDL is acquired in an autocommit transaction, then the MDL will be released when the statement ends.
</li><li>Transactional and non-transactional tables are handled the same.
</li></ul>
<p>Note that for a partitioned table, <code>DROP TABLE</code> permanently removes the table
definition, all of its partitions, and all of the data which was stored in
those partitions. It also removes the partitioning definition (.par) file
associated with the dropped table.</p>
<p>For each referenced table, <code>DROP TABLE</code> drops a temporary table with that name, if it exists. If it does not exist, and the <code>TEMPORARY</code> keyword is not used, it drops a non-temporary table with the same name, if it exists. The <code>TEMPORARY</code> keyword ensures that a non-temporary table will not accidentally be dropped.</p>
<p>Use <code>IF EXISTS</code> to prevent an error from occurring for tables that do not
exist. A <code>NOTE</code> is generated for each non-existent table when using
<code>IF EXISTS</code>. See <a href="#show-warnings">SHOW WARNINGS</a>.</p>
<p>If a <a href="https://mariadb.com/kb/en/foreign-keys/">foreign key</a> references this table, the table cannot be dropped. In this case, it is necessary to drop the foreign key first.</p>
<p><code>RESTRICT</code> and <code>CASCADE</code> are allowed to make porting from other database systems easier. In MariaDB, they do nothing.</p>
<p>The comment before the table names (<code>/*COMMENT TO SAVE*/</code>) is stored in the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>. That feature can be used by replication tools to send their internal messages.</p>
<p>It is possible to specify table names as <code>db_name</code>.<code>tab_name</code>. This is useful to delete tables from multiple databases with one statement. See <a href="https://mariadb.com/kb/en/identifier-qualifiers/">Identifier Qualifiers</a> for details.</p>
<p>The <a ">DROP privilege</a> is required to use <code>DROP TABLE</code> on non-temporary tables. For temporary tables, no privilege is required, because such tables are only visible for the current session.</p>
<p><strong>Note:</strong> <code>DROP TABLE</code> automatically commits the current active transaction,
unless you use the <code>TEMPORARY</code> keyword.</p>
<div class="mariadb_from_10_5_4 mariadb from_10_5_4 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1054-release-notes/">10.5.4</a></h5><p>From <a href="https://mariadb.com/kb/en/mariadb-1054-release-notes/">MariaDB 10.5.4</a>, <code>DROP TABLE</code> reliably deletes table remnants inside a storage engine even if the <code>.frm</code> file is missing. Before then, a missing <code>.frm</code> file would result in the statement failing.</p>
</div><div class="mariadb_from_10_3_1 mariadb from_10_3_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">10.3.1</a></h5><h3 class="anchored_heading" id="drop-tablewaitnowait">WAIT/NOWAIT</h3>
<p>Set the lock wait timeout. See <a href="#wait-and-nowait">WAIT and NOWAIT</a>.</p>
</div><h2 class="anchored_heading" id="drop-tabledrop-table-in-replication">DROP TABLE in replication</h2>
<p><code>DROP TABLE</code> has the following characteristics in <a href="https://mariadb.com/kb/en/replication/">replication</a>:</p>
<ul start="1"><li><code class="highlight fixed" style="white-space:pre-wrap">DROP TABLE IF EXISTS</code> are always logged.
</li><li><code class="highlight fixed" style="white-space:pre-wrap">DROP TABLE</code> without <code class="highlight fixed" style="white-space:pre-wrap">IF EXISTS</code> for tables that don't exist are not written to the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>.
</li><li>Dropping of <code class="highlight fixed" style="white-space:pre-wrap">TEMPORARY</code> tables are prefixed in the log with <code class="highlight fixed" style="white-space:pre-wrap">TEMPORARY</code>. These drops are only logged when running <a href="https://mariadb.com/kb/en/binary-log-formats/#statement-based">statement</a> or <a href="https://mariadb.com/kb/en/binary-log-formats/#mixed">mixed mode</a> replication.
</li><li>One <code class="highlight fixed" style="white-space:pre-wrap">DROP TABLE</code> statement can be logged with up to 3 different <code class="highlight fixed" style="white-space:pre-wrap">DROP</code> statements:
<ul start="1"><li><code class="highlight fixed" style="white-space:pre-wrap">DROP TEMPORARY TABLE list_of_non_transactional_temporary_tables</code>
</li><li><code class="highlight fixed" style="white-space:pre-wrap">DROP TEMPORARY TABLE list_of_transactional_temporary_tables</code>
</li><li><code class="highlight fixed" style="white-space:pre-wrap">DROP TABLE list_of_normal_tables</code>
</li></ul>
</li></ul>
<p>Starting from <a href="https://mariadb.com/kb/en/mariadb-1008-release-notes/">MariaDB 10.0.8</a>, <code class="highlight fixed" style="white-space:pre-wrap">DROP TABLE</code> on the master is treated on the slave as <code class="highlight fixed" style="white-space:pre-wrap">DROP TABLE IF EXISTS</code>. You can change that by setting <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#slave_ddl_exec_mode">slave-ddl-exec-mode</a> to <code class="highlight fixed" style="white-space:pre-wrap">STRICT</code>.</p>
<h2 class="anchored_heading" id="drop-tabledropping-an-internal-sql-table">Dropping an Internal #sql-... Table</h2>
<p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-106/">MariaDB 10.6</a>, <a href="#drop-tableatomic-drop-table">DROP TABLE is atomic</a> and the following does not apply. Until <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a>, if the <a href="https://mariadb.com/kb/en/mysqld-options/">mariadbd/mysqld process</a> is killed during an <a href="#alter-table">ALTER TABLE</a> you may find a table named #sql-... in your data directory. In <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>, InnoDB tables with this prefix will be deleted automatically during startup.
From <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>, these temporary tables will always be deleted automatically.</p>
<p>If you want to delete one of these tables explicitly you can do so by using the following syntax:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="k">TABLE</span> <span class="o">`#</span><span class="n">mysql50</span><span class="o">##</span><span class="k">sql</span><span class="o">-</span><span class="p">...</span><span class="o">`</span><span class="p">;</span>
</pre><p>When running an <code>ALTER TABLE…ALGORITHM=INPLACE</code> that rebuilds the table, InnoDB will create an internal <code>#sql-ib</code> table. Until <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a>, for these tables, the <code>.frm</code> file will be called something else. In order to drop such a table after a server crash, you must rename the <code>#sql*.frm</code> file to match the <code>#sql-ib*.ibd</code> file.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">MariaDB 10.3.3</a>, the same name as the .frm file is used for the intermediate copy of the table. The #sql-ib names are used by TRUNCATE and delayed DROP.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-10219-release-notes/">MariaDB 10.2.19</a> and <a href="https://mariadb.com/kb/en/mariadb-10310-release-notes/">MariaDB 10.3.10</a>, the #sql-ib tables will be deleted automatically.</p>
<h2 class="anchored_heading" id="drop-tabledropping-all-tables-in-a-database">Dropping All Tables in a Database</h2>
<p>The best way to drop all tables in a database is by executing <code><a href="#drop-database">DROP DATABASE</a></code>, which will drop the database itself, and all tables in it.</p>
<p>However, if you want to drop all tables in the database, but you also want to keep the database itself and any other non-table objects in it, then you would need to execute <code>DROP TABLE</code> to drop each individual table. You can construct these <code>DROP TABLE</code> commands by querying the <code><a href="https://mariadb.com/kb/en/information-schema-tables-table/">TABLES</a></code> table in the <code><a href="https://mariadb.com/kb/en/information-schema-tables/">information_schema</a></code> database. For example:</p>
<pre class="fixed">SELECT CONCAT('DROP TABLE IF EXISTS `', TABLE_SCHEMA, '`.`', TABLE_NAME, '`;')
FROM information_schema.TABLES
WHERE TABLE_SCHEMA = 'mydb';
</pre><h2 class="anchored_heading" id="drop-tableatomic-drop-table">Atomic DROP TABLE</h2>
<div class="mariadb_from_10_6_1 mariadb from_10_6_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">10.6.1</a></h5><p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-106/">MariaDB 10.6</a>, <code>DROP TABLE</code> for a single table is atomic (<a href="https://jira.mariadb.org/browse/MDEV-25180">MDEV-25180</a>) for most engines, including InnoDB, MyRocks, MyISAM and Aria.</p>
<p>This means that if there is a crash (server down or power outage) during <code>DROP TABLE</code>, all tables
that have been processed so far will be completely dropped, including related trigger files and status entries, and the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> will include a <code>DROP TABLE</code> statement for the dropped tables.
Tables for which the drop had not started will be left intact.</p>
<p>In older MariaDB versions, there was a small chance that, during a server crash happening in the middle of <code>DROP TABLE</code>, some storage engines that were using multiple storage files, like <a href="https://mariadb.com/kb/en/myisam-storage-engine/">MyISAM</a>, could have only a part of its internal files dropped.</p>
<p>In <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a>, <code>DROP TABLE</code> was extended to be able to delete a table that was only partly dropped (<a href="https://jira.mariadb.org/browse/MDEV-11412">MDEV-11412</a>) as explained above. Atomic <code>DROP TABLE</code> is the final piece to make <code>DROP TABLE</code> fully reliable.</p>
<p>Dropping multiple tables is crash-safe.</p>
<p>See <a href="https://mariadb.com/kb/en/atomic-ddl/">Atomic DDL</a> for more information.</p>
</div><h2 class="anchored_heading" id="drop-tableexamples">Examples</h2>
<pre class="fixed"><span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">Employees</span><span class="p">,</span> <span class="n">Customers</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="drop-tablenotes">Notes</h2>
<p>Beware that <code>DROP TABLE</code> can drop both tables and <a href="#create-sequence">sequences</a>. This is mainly done to allow old tools like <a href="https://mariadb.com/kb/en/mysqldump/">mysqldump</a> to work with sequences.</p>
<h2 class="anchored_heading" id="drop-tablesee-also">See Also</h2>
<ul start="1"><li><a href="#create-table">CREATE TABLE</a>
</li><li><a href="#alter-table">ALTER TABLE</a>
</li><li><a href="#show-create-table">SHOW CREATE TABLE</a>
</li><li><a href="#drop-sequence">DROP SEQUENCE</a>
</li><li>Variable <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#slave_ddl_exec_mode">slave-ddl-exec-mode</a>.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="rename-table">RENAME TABLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="rename-tablesyntax">Syntax</h2>
<pre class="fixed">RENAME TABLE[S] [IF EXISTS] tbl_name 
  [WAIT n | NOWAIT]
  TO new_tbl_name
    [, tbl_name2 TO new_tbl_name2] ...
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_5_2"><a href="#rename-tablesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_5_2"><a href="#rename-tabledescription" title="Description">Description</a> <ol class="toc">
<li class="mariadb_from_10_5_2"><a href="#rename-tableif-exists" title="IF EXISTS">IF EXISTS</a></li>
<li class="mariadb_from_10_5_2"><a href="#rename-tablewaitnowait" title="WAIT/NOWAIT">WAIT/NOWAIT</a></li>
<li class="mariadb_from_10_5_2"><a href="#rename-tableprivileges" title="Privileges">Privileges</a></li>
<li class="mariadb_from_10_5_2"><a href="#rename-tableatomic-rename-table" title="Atomic RENAME TABLE">Atomic RENAME TABLE</a> </li></ol>
</li></ol>

</div>
<h2 class="anchored_heading" id="rename-tabledescription">Description</h2>
<p>This statement renames one or more tables or <a href="https://mariadb.com/kb/en/views/">views</a>, but not the privileges associated with them.</p>
<h3 class="anchored_heading" id="rename-tableif-exists">IF EXISTS</h3>
<div class="mariadb_from_10_5_2 mariadb from_10_5_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">10.5.2</a></h5><p>If this directive is used, one will not get an error if the table to be renamed doesn't exist.</p>
</div><p>The rename operation is done atomically, which means that no other session can
access any of the tables while the rename is running. For example, if you have
an existing table <code class="fixed" style="white-space:pre-wrap">old_table</code>, you can create another table
<code class="fixed" style="white-space:pre-wrap">new_table</code> that has the same structure but is empty, and then
replace the existing table with the empty one as follows (assuming that
<code class="fixed" style="white-space:pre-wrap">backup_table</code> does not already exist):</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">new_table</span> <span class="p">(...);</span>
<span class="k">RENAME</span> <span class="k">TABLE</span> <span class="n">old_table</span> <span class="k">TO</span> <span class="n">backup_table</span><span class="p">,</span> <span class="n">new_table</span> <span class="k">TO</span> <span class="n">old_table</span><span class="p">;</span>
</pre><p><code>tbl_name</code> can optionally be specified as <code>db_name</code>.<code>tbl_name</code>. See <a href="https://mariadb.com/kb/en/identifier-qualifiers/">Identifier Qualifiers</a>. This allows to use <code>RENAME</code> to move a table from a database to another (as long as they are on the same filesystem):</p>
<pre class="fixed"><span class="k">RENAME</span> <span class="k">TABLE</span> <span class="n">db1</span><span class="p">.</span><span class="n">t</span> <span class="k">TO</span> <span class="n">db2</span><span class="p">.</span><span class="n">t</span><span class="p">;</span>
</pre><p>Note that moving a table to another database is not possible if it has some <a href="https://mariadb.com/kb/en/triggers/">triggers</a>. Trying to do so produces the following error:</p>
<pre class="fixed">ERROR 1435 (HY000): Trigger in wrong schema
</pre><p>Also, views cannot be moved to another database:</p>
<pre class="fixed">ERROR 1450 (HY000): Changing schema from 'old_db' to 'new_db' is not allowed.
</pre><p>Multiple tables can be renamed in a single statement. The presence or absence of the optional <code>S</code> (<code>RENAME TABLE</code> or <code>RENAME TABLES</code>) has no impact, whether a single or multiple tables are being renamed.</p>
<p>If a <code>RENAME TABLE</code> renames more than one table and one renaming fails, all renames executed by the same statement are rolled back.</p>
<p>Renames are always executed in the specified order. Knowing this, it is also possible to swap two tables' names:</p>
<pre class="fixed"><span class="k">RENAME</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">TO</span> <span class="n">tmp_table</span><span class="p">,</span>
    <span class="n">t2</span> <span class="k">TO</span> <span class="n">t1</span><span class="p">,</span>
    <span class="n">tmp_table</span> <span class="k">TO</span> <span class="n">t2</span><span class="p">;</span>
</pre><h3 class="anchored_heading" id="rename-tablewaitnowait">WAIT/NOWAIT</h3>
<div class="mariadb_from_10_3_0 mariadb from_10_3_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">10.3.0</a></h5><p>Set the lock wait timeout. See <a href="#wait-and-nowait">WAIT and NOWAIT</a>.</p>
</div><h3 class="anchored_heading" id="rename-tableprivileges">Privileges</h3>
<p>Executing the <code>RENAME TABLE</code> statement requires the <a ">DROP</a>, <a ">CREATE</a> and <a ">INSERT</a> privileges for the table or the database.</p>
<h3 class="anchored_heading" id="rename-tableatomic-rename-table">Atomic RENAME TABLE</h3>
<div class="mariadb_from_10_6_1 mariadb from_10_6_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">10.6.1</a></h5><p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-106/">MariaDB 10.6</a>, <code>RENAME TABLE</code> is atomic for most engines, including InnoDB, MyRocks, MyISAM and Aria (<a href="https://jira.mariadb.org/browse/MDEV-23842">MDEV-23842</a>).
This means that if there is a crash (server down or power outage) during <code>RENAME TABLE</code>, all tables will revert to their original names and any changes to trigger files will be reverted.</p>
<p>In older MariaDB version there was a small chance that, during a server crash happening in the middle of <code>RENAME TABLE</code>, some tables could have been renamed (in the worst case partly) while others would not be renamed.</p>
<p>See <a href="https://mariadb.com/kb/en/atomic-ddl/">Atomic DDL</a> for more information.</p>
</div>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="merge">MERGE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#mergedescription" title="Description">Description</a></li>
<li class=""><a href="#mergeexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="mergedescription">Description</h2>
<p>The MERGE storage engine, also known as the MRG_MyISAM engine, is a
collection of identical <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> tables that can be used as one.
"Identical" means that all tables have identical column and index
information. You cannot merge MyISAM tables in which the columns are
listed in a different order, do not have exactly the same columns, or
have the indexes in different order. However, any or all of the MyISAM
tables can be compressed with <a href="https://mariadb.com/kb/en/myisampack/">myisampack</a>. Columns names and indexes names can be different, as long as data types and NULL/NOT NULL clauses are the same. Differences in
table options such as AVG_ROW_LENGTH, MAX_ROWS, or PACK_KEYS do not
matter.</p>
<p>Each index in a MERGE table must match an index in underlying MyISAM tables, but the opposite is not true. Also, a MERGE table cannot have a PRIMARY KEY or UNIQUE indexes, because it cannot enforce uniqueness over all underlying tables.</p>
<p>The following options are meaningful for MERGE tables:</p>
<ul start="1"><li><code>UNION</code>. This option specifies the list of the underlying MyISAM tables. The list is enclosed between parentheses and separated with commas.
</li><li><code>INSERT_METHOD</code>. This options specifies whether, and how, INSERTs are allowed for the table. Allowed values are: <code>NO</code> (INSERTs are not allowed), <code>FIRST</code> (new rows will be written into the first table specified in the <code>UNION</code> list), <code>LAST</code> (new rows will be written into the last table specified in the <code>UNION</code> list). The default value is <code>NO</code>.
</li></ul>
<p>If you define a MERGE table with a definition which is different from the underlying MyISAM tables, or one of the underlying tables is not MyISAM, the CREATE TABLE statement will not return any error. But any statement which involves the table will produce an error like the following:</p>
<pre class="fixed">ERROR 1168 (HY000): Unable to open underlying table which is differently defined 
  or of non-MyISAM type or doesn't exist
</pre><p>A <code><a href="https://mariadb.com/kb/en/check-table/">CHECK TABLE</a></code> will show more information about the problem.</p>
<p>The error is also produced if the table is properly define, but an underlying table's definition changes at some point in time.</p>
<p>If you try to insert a new row into a MERGE table with INSERT_METHOD=NO, you will get an error like the following:</p>
<pre class="fixed">ERROR 1036 (HY000): Table 'tbl_name' is read only
</pre><p>It is possible to build a MERGE table on MyISAM tables which have one or more <a href="https://mariadb.com/kb/en/virtual-columns/">virtual columns</a>. MERGE itself does not support virtual columns, thus such columns will be seen as regular columns. The data types and sizes will still need to be identical, and they cannot be NOT NULL.</p>
<h2 class="anchored_heading" id="mergeexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span>
    <span class="n">a</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">message</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">MyISAM</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t2</span> <span class="p">(</span>
    <span class="n">a</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">message</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">MyISAM</span><span class="p">;</span>


<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Testing'</span><span class="p">),(</span><span class="s1">'table'</span><span class="p">),(</span><span class="s1">'t1'</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t2</span> <span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Testing'</span><span class="p">),(</span><span class="s1">'table'</span><span class="p">),(</span><span class="s1">'t2'</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">total</span> <span class="p">(</span>
    <span class="n">a</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
    <span class="n">message</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="k">INDEX</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
    <span class="n">ENGINE</span><span class="o">=</span><span class="n">MERGE</span> <span class="k">UNION</span><span class="o">=</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span><span class="n">t2</span><span class="p">)</span> <span class="n">INSERT_METHOD</span><span class="o">=</span><span class="k">LAST</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">total</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---+---------+</span>
<span class="o">|</span> <span class="n">a</span> <span class="o">|</span> <span class="n">message</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+---------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span> <span class="n">Testing</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2</span> <span class="o">|</span> <span class="k">table</span>   <span class="o">|</span>
<span class="o">|</span> <span class="mi">3</span> <span class="o">|</span> <span class="n">t1</span>      <span class="o">|</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span> <span class="n">Testing</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2</span> <span class="o">|</span> <span class="k">table</span>   <span class="o">|</span>
<span class="o">|</span> <span class="mi">3</span> <span class="o">|</span> <span class="n">t2</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">---+---------+</span>
</pre><p>In the following example, we'll create three MyISAM tables, and then a MERGE table on them. However, one of them uses a different data type for the column b, so a SELECT will produce an error:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span>
  <span class="n">a</span> <span class="nb">INT</span><span class="p">,</span>
  <span class="n">b</span> <span class="nb">INT</span>
<span class="p">)</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">MyISAM</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t2</span> <span class="p">(</span>
  <span class="n">a</span> <span class="nb">INT</span><span class="p">,</span>
  <span class="n">b</span> <span class="nb">INT</span>
<span class="p">)</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">MyISAM</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t3</span> <span class="p">(</span>
  <span class="n">a</span> <span class="nb">INT</span><span class="p">,</span>
  <span class="n">b</span> <span class="n">TINYINT</span>
<span class="p">)</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">MyISAM</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t_mrg</span> <span class="p">(</span>
  <span class="n">a</span> <span class="nb">INT</span><span class="p">,</span>
  <span class="n">b</span> <span class="nb">INT</span>
<span class="p">)</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">MERGE</span><span class="p">,</span><span class="k">UNION</span><span class="o">=</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span><span class="n">t2</span><span class="p">,</span><span class="n">t3</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t_mrg</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1168</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="n">Unable</span> <span class="k">to</span> <span class="k">open</span> <span class="n">underlying</span> <span class="k">table</span> <span class="n">which</span> <span class="k">is</span> <span class="n">differently</span> <span class="k">defined</span>
 <span class="k">or</span> <span class="k">of</span> <span class="n">non</span><span class="o">-</span><span class="n">MyISAM</span> <span class="k">type</span> <span class="k">or</span> <span class="n">doesn</span><span class="err">'</span><span class="n">t</span> <span class="n">exist</span>
</pre><p>To find out what's wrong, we'll use a CHECK TABLE:</p>
<pre class="fixed"><span class="k">CHECK</span> <span class="k">TABLE</span> <span class="n">t_mrg</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+-------+----------+-----------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">Table</span>      <span class="o">|</span> <span class="n">Op</span>    <span class="o">|</span> <span class="n">Msg_type</span> <span class="o">|</span> <span class="n">Msg_text</span>                                                      <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+-------+----------+-----------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">test</span><span class="p">.</span><span class="n">t_mrg</span> <span class="o">|</span> <span class="k">check</span> <span class="o">|</span> <span class="n">Error</span>    <span class="o">|</span> <span class="k">Table</span> <span class="s1">'test.t3'</span> <span class="k">is</span> <span class="n">differently</span> <span class="k">defined</span> <span class="k">or</span> <span class="k">of</span> <span class="n">non</span><span class="o">-</span><span class="n">MyISAM</span> <span class="k">type</span> <span class="k">or</span> <span class="n">doesn</span><span class="s1">'t exist                       |</span>
<span class="s1">| test.t_mrg | check | Error    | Unable to open underlying table which is differently defined or of non-MyISAM type or doesn'</span><span class="n">t</span> <span class="n">exist</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span><span class="p">.</span><span class="n">t_mrg</span> <span class="o">|</span> <span class="k">check</span> <span class="o">|</span> <span class="n">error</span>    <span class="o">|</span> <span class="n">Corrupt</span>                                                      <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+-------+----------+-----------------------------------------------------------------------------------------------------+</span>
</pre><p>Now, we know that the problem is in <code>t3</code>'s definition.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="next-value-for-sequence_name">NEXT VALUE for sequence_name</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>SEQUENCEs were introduced in <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a></p>
</div><h2 class="anchored_heading" id="next-value-for-sequence_namesyntax">Syntax</h2>
<pre class="fixed">NEXT VALUE FOR sequence
</pre><p>or</p>
<pre class="fixed">NEXTVAL(sequence_name)
</pre><p>or in Oracle mode (<a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE=ORACLE</a>)</p>
<pre class="fixed">sequence_name.nextval
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_3"><a href="#next-value-for-sequence_namesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_3"><a href="#next-value-for-sequence_namedescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_3"><a href="#next-value-for-sequence_namesee-also" title="See Also">See Also</a> </li></ol>

</div>
<p><code>NEXT VALUE FOR</code> is ANSI SQL syntax while <code>NEXTVAL()</code> is PostgreSQL syntax.</p>
<h2 class="anchored_heading" id="next-value-for-sequence_namedescription">Description</h2>
<p>Generate next value for a <code>SEQUENCE</code>.</p>
<ul start="1"><li>You can greatly speed up <code>NEXT VALUE</code> by creating the sequence with the <code>CACHE</code> option. If not, every <code>NEXT VALUE</code> usage will cause changes in the stored <code>SEQUENCE</code> table.
</li><li>When using <code>NEXT VALUE</code> the value will be reserved at once and will not be reused, except if the <code>SEQUENCE</code> was created with <code>CYCLE</code>. This means that when you are using <code>SEQUENCE</code>s you have to expect gaps in the generated sequence numbers.
</li><li>If one updates the <code>SEQUENCE</code> with <a href="#setval">SETVAL()</a> or <a href="https://mariadb.com/kb/en/alter-sequence/">ALTER SEQUENCE ... RESTART</a>, <code>NEXT VALUE FOR</code> will notice this and start from the next requested value.
</li><li><a href="#flush">FLUSH TABLES</a> will close the sequence and the next sequence number generated will be according to what's stored in the <code>SEQUENCE</code> object. In effect, this will discard the cached values.
</li><li>A server restart (or closing the current connection) also causes a drop of all cached values. The cached sequence numbers are reserved only for the current connection.
</li><li><code>NEXT VALUE</code> requires the <code>INSERT</code> <a href="#grant">privilege</a>.
</li></ul>
<div class="mariadb_from_10_3_3 mariadb from_10_3_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">10.3.3</a></h5><ul start="1"><li>You can also use <code>NEXT VALUE FOR sequence</code> for column <code>DEFAULT</code>.
</li></ul>
</div><h2 class="anchored_heading" id="next-value-for-sequence_namesee-also">See Also</h2>
<ul start="1"><li><a href="#sequence-overview">Sequence Overview</a>
</li><li><a href="#create-sequence">CREATE SEQUENCE</a>
</li><li><a href="https://mariadb.com/kb/en/alter-sequence/">ALTER SEQUENCE</a>
</li><li><a href="#previous-value-for-sequence_name">PREVIOUS VALUE FOR</a>
</li><li><a href="#setval">SETVAL()</a>. Set next value for the sequence.
</li><li><a href="#auto_increment">AUTO_INCREMENT</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="truncate-table">TRUNCATE TABLE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="truncate-tablesyntax">Syntax</h2>
<pre class="fixed">TRUNCATE [TABLE] tbl_name
  [WAIT n | NOWAIT]
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class=""><a href="#truncate-tablesyntax" title="Syntax">Syntax</a></li>
<li class=""><a href="#truncate-tabledescription" title="Description">Description</a> <ol class="toc">
<li class=""><a href="#truncate-tablewaitnowait" title="WAIT/NOWAIT">WAIT/NOWAIT</a></li>
<li class=""><a href="#truncate-tableoracle-mode" title="Oracle-mode">Oracle-mode</a></li>
<li class=""><a href="#truncate-tableperformance" title="Performance">Performance</a> </li></ol>
</li>
<li class=""><a href="#truncate-tablesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="truncate-tabledescription">Description</h2>
<p><code>TRUNCATE TABLE</code> empties a table completely. It requires the <code>DROP</code> privilege. See <a href="#grant">GRANT</a>.</p>
<p><code>tbl_name</code> can also be specified in the form <code>db_name</code>.<code>tbl_name</code> (see <a href="https://mariadb.com/kb/en/identifier-qualifiers/">Identifier Qualifiers</a>).</p>
<p>Logically, <code>TRUNCATE TABLE</code> is equivalent to a <a href="#delete">DELETE</a> statement that deletes all rows, but there are practical differences under some circumstances.</p>
<p><code>TRUNCATE TABLE</code> will fail for an <a href="https://mariadb.com/kb/en/innodb/">InnoDB table</a> if any FOREIGN KEY constraints from other tables reference the table, returning the error:</p>
<pre class="fixed">ERROR 1701 (42000): Cannot truncate a table referenced in a foreign key constraint
</pre><p>Foreign Key constraints between columns in the same table are permitted.</p>
<p>For an InnoDB table, if there are no <code>FOREIGN KEY</code> constraints, InnoDB performs fast truncation by dropping the original table and creating an empty one with the same definition, which is much faster than deleting rows one by one. The <a href="#auto_increment">AUTO_INCREMENT</a> counter is reset by <code>TRUNCATE TABLE</code>, regardless of whether there is a <code>FOREIGN KEY</code> constraint.</p>
<p>The count of rows affected by <code>TRUNCATE TABLE</code> is accurate only
when it is mapped to a <code>DELETE</code> statement.</p>
<p>For other storage engines, <code>TRUNCATE TABLE</code> differs from
<code>DELETE</code> in the following ways:</p>
<ul start="1"><li>Truncate operations drop and re-create the table, which is much
  faster than deleting rows one by one, particularly for large tables.
</li><li>Truncate operations cause an implicit commit.
</li><li>Truncation operations cannot be performed if the session holds an
  active table lock.
</li><li>Truncation operations do not return a meaningful value for the number
  of deleted rows. The usual result is "0 rows affected," which should
  be interpreted as "no information."
</li><li>As long as the table format file <code>tbl_name.frm</code> is valid, the
  table can be re-created as an empty table
  with <code>TRUNCATE TABLE</code>, even if the data or index files have become
  corrupted.
</li><li>The table handler does not remember the last
  used <a href="#auto_increment">AUTO_INCREMENT</a> value, but starts counting
  from the beginning. This is true even for MyISAM and InnoDB, which normally
  do not reuse sequence values.
</li><li>When used with partitioned tables, <code>TRUNCATE TABLE</code> preserves
  the partitioning; that is, the data and index files are dropped and
  re-created, while the partition definitions (.par) file is
  unaffected.
</li><li>Since truncation of a table does not make any use of <code>DELETE</code>,
  the <code>TRUNCATE</code> statement does not invoke <code>ON DELETE</code> triggers.
</li><li><code>TRUNCATE TABLE</code> will only reset the values in the <a href="https://mariadb.com/kb/en/list-of-performance-schema-tables/">Performance Schema summary tables</a> to zero or null, and will not remove the rows.
</li></ul>
<p>For the purposes of binary logging and <a href="https://mariadb.com/kb/en/replication/">replication</a>, <code>TRUNCATE TABLE</code> is treated as <a href="#drop-table">DROP TABLE</a> followed by <a href="#create-table">CREATE TABLE</a> (DDL rather than DML).</p>
<p><code>TRUNCATE TABLE</code> does not work on <a href="https://mariadb.com/kb/en/views/">views</a>. Currently, <code>TRUNCATE TABLE</code> drops all historical records from a <a href="https://mariadb.com/kb/en/system-versioned-tables/">system-versioned table</a>.</p>
<div class="mariadb_from_10_3_0 mariadb from_10_3_0 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">10.3.0</a></h5><h4 class="anchored_heading" id="truncate-tablewaitnowait">WAIT/NOWAIT</h4>
<p>Set the lock wait timeout. See <a href="#wait-and-nowait">WAIT and NOWAIT</a>.</p>
<h3 class="anchored_heading" id="truncate-tableoracle-mode">Oracle-mode</h3>
<p><a href="https://mariadb.com/kb/en/sql_modeoracle/">Oracle-mode</a> from <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> permits the optional keywords REUSE STORAGE or DROP STORAGE to be used.</p>
<pre class="fixed">TRUNCATE [TABLE] tbl_name [{DROP | REUSE} STORAGE] [WAIT n | NOWAIT]
</pre><p>These have no effect on the operation.</p>
</div><h3 class="anchored_heading" id="truncate-tableperformance">Performance</h3>
<p><code>TRUNCATE TABLE</code> is faster than <a href="delete-table">DELETE</a>, because it drops and re-creates a table.</p>
<p>With <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>, <code>TRUNCATE TABLE</code> is slower if <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_file_per_table">innodb_file_per_table=ON</a> is set (the default). This is because <code>TRUNCATE TABLE</code> unlinks the underlying tablespace file, which can be an expensive operation. See <a href="https://jira.mariadb.org/browse/MDEV-8069">MDEV-8069</a> for more details.</p>
<p>The performance issues with <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_file_per_table">innodb_file_per_table=ON</a> can be exacerbated in cases where the <a href="https://mariadb.com/kb/en/innodb-buffer-pool/">InnoDB buffer pool</a> is very large and <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_adaptive_hash_index">innodb_adaptive_hash_index=ON</a> is set. In that case, using <a href="#drop-table">DROP TABLE</a> followed by <a href="#create-table">CREATE TABLE</a> instead of <code>TRUNCATE TABLE</code> may perform better. Setting <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_adaptive_hash_index">innodb_adaptive_hash_index=OFF</a> (it defaults to ON before <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a>) can also help. In <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">MariaDB 10.2</a> only, from <a href="https://mariadb.com/kb/en/mariadb-10219-release-notes/">MariaDB 10.2.19</a>, this performance can also be improved by setting <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_safe_truncate">innodb_safe_truncate=OFF</a>. See <a href="https://jira.mariadb.org/browse/MDEV-9459">MDEV-9459</a> for more details.</p>
<p>Setting <a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_adaptive_hash_index">innodb_adaptive_hash_index=OFF</a> can also improve <code>TRUNCATE TABLE</code> performance in general. See <a href="https://jira.mariadb.org/browse/MDEV-16796">MDEV-16796</a> for more details.</p>
<h2 class="anchored_heading" id="truncate-tablesee-also">See Also</h2>
<ul start="1"><li><a href="#truncate">TRUNCATE function</a>
</li><li><a href="https://mariadb.com/kb/en/innodb-system-variables/#innodb_safe_truncate">innodb_safe_truncate</a> system variable
</li><li><a href="https://mariadb.com/kb/en/sql_modeoracle-from-mariadb-103/#simple-syntax-compatibility">Oracle mode from MariaDB 10.3</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="previous-value-for-sequence_name">PREVIOUS VALUE FOR sequence_name</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>SEQUENCEs were introduced in <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>.</p>
</div><h2 class="anchored_heading" id="previous-value-for-sequence_namesyntax">Syntax</h2>
<pre class="fixed">PREVIOUS VALUE FOR sequence_name
</pre><p>or</p>
<pre class="fixed">LASTVAL(sequence_name)
</pre><p>or in Oracle mode (<a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE=ORACLE</a>)</p>
<pre class="fixed">sequence_name.currval
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3"><a href="#previous-value-for-sequence_namesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3"><a href="#previous-value-for-sequence_namedescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3"><a href="#previous-value-for-sequence_nameexample" title="Example">Example</a></li>
<li class="mariadb_from_10_3"><a href="#previous-value-for-sequence_namesee-also" title="See Also">See Also</a> </li></ol>

</div>
<p><code>PREVIOUS VALUE FOR</code> is IBM DB2 syntax while <code>LASTVAL()</code> is PostgreSQL syntax.</p>
<h2 class="anchored_heading" id="previous-value-for-sequence_namedescription">Description</h2>
<p>Get last value in the current connection generated from a sequence.</p>
<ul start="1"><li>If the sequence has not yet been used by the connection, <code>PREVIOUS VALUE FOR</code> returns <code>NULL</code> (the same thing applies with a new connection which doesn't see a last value for an existing sequence).
</li><li>If a <code>SEQUENCE</code> has been dropped and re-created then it's treated as a new <code>SEQUENCE</code> and <code>PREVIOUS VALUE FOR</code> will return <code>NULL</code>.
</li><li><code><a href="#flush">FLUSH TABLES</a></code> has no effect on <code>PREVIOUS VALUE FOR</code>.
</li><li>Previous values for all used sequences are stored per connection until connection ends.
</li><li><code>PREVIOUS VALUE FOR</code> requires the <a href="#grant">SELECT privilege</a>.
</li></ul>
<h2 class="anchored_heading" id="previous-value-for-sequence_nameexample">Example</h2>
<pre class="fixed"><span class="n">MariaDB</span> <span class="p">[</span><span class="n">test</span><span class="p">]</span><span class="o">&gt;</span> <span class="k">CREATE</span> <span class="n">SEQUENCE</span> <span class="n">s</span> <span class="k">START</span> <span class="k">WITH</span> <span class="mi">100</span> <span class="k">INCREMENT</span> <span class="k">BY</span> <span class="mi">10</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">026</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">MariaDB</span> <span class="p">[</span><span class="n">test</span><span class="p">]</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">PREVIOUS</span> <span class="n">VALUE</span> <span class="k">FOR</span> <span class="n">s</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">PREVIOUS</span> <span class="n">VALUE</span> <span class="k">FOR</span> <span class="n">s</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                 <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>

<span class="o">#</span> <span class="n">The</span> <span class="k">function</span> <span class="n">works</span> <span class="k">for</span> <span class="n">sequences</span> <span class="k">only</span><span class="p">,</span> <span class="k">if</span> <span class="n">the</span> <span class="k">table</span> <span class="k">is</span> <span class="n">used</span> <span class="n">an</span> <span class="n">error</span> <span class="k">is</span> <span class="k">generated</span>
<span class="n">MariaDB</span> <span class="p">[</span><span class="n">test</span><span class="p">]</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">PREVIOUS</span> <span class="n">VALUE</span> <span class="k">FOR</span> <span class="n">t</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">4089</span> <span class="p">(</span><span class="mi">42</span><span class="n">S02</span><span class="p">):</span> <span class="s1">'test.t'</span> <span class="k">is</span> <span class="k">not</span> <span class="n">a</span> <span class="n">SEQUENCE</span>

<span class="o">#</span> <span class="k">Call</span> <span class="n">the</span> <span class="k">NEXT</span> <span class="n">VALUE</span> <span class="k">FOR</span> <span class="n">s</span><span class="p">:</span>
<span class="n">MariaDB</span> <span class="p">[</span><span class="n">test</span><span class="p">]</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">NEXT</span> <span class="n">VALUE</span> <span class="k">FOR</span> <span class="n">s</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="k">NEXT</span> <span class="n">VALUE</span> <span class="k">FOR</span> <span class="n">s</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span>              <span class="mi">100</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">MariaDB</span> <span class="p">[</span><span class="n">test</span><span class="p">]</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">PREVIOUS</span> <span class="n">VALUE</span> <span class="k">FOR</span> <span class="n">s</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">PREVIOUS</span> <span class="n">VALUE</span> <span class="k">FOR</span> <span class="n">s</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                  <span class="mi">100</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>Now try to start the new connection and check that the last value is still NULL, before updating the value in the new connection after the output of the new connection gets current value (110 in the example below). Note that first connection cannot see this change and the result of last value still remains the same (100 in the example above).</p>
<pre class="fixed">$ .mysql -uroot <span class="nb">test</span> -e<span class="s2">"SELECT PREVIOUS VALUE FOR s; SELECT NEXT VALUE FOR s; SELECT PREVIOUS VALUE FOR s;"</span>
+----------------------+
<span class="p">|</span> PREVIOUS VALUE FOR s <span class="p">|</span>
+----------------------+
<span class="p">|</span>                 NULL <span class="p">|</span>
+----------------------+
+------------------+
<span class="p">|</span> NEXT VALUE FOR s <span class="p">|</span>
+------------------+
<span class="p">|</span>              <span class="m">110</span> <span class="p">|</span>
+------------------+
+----------------------+
<span class="p">|</span> PREVIOUS VALUE FOR s <span class="p">|</span>
+----------------------+
<span class="p">|</span>                  <span class="m">110</span> <span class="p">|</span>
+----------------------+
</pre><h2 class="anchored_heading" id="previous-value-for-sequence_namesee-also">See Also</h2>
<ul start="1"><li><a href="#sequence-overview">Sequence Overview</a>
</li><li><a href="#create-sequence">CREATE SEQUENCE</a>
</li><li><a href="https://mariadb.com/kb/en/alter-sequence/">ALTER SEQUENCE</a>
</li><li><a href="#next-value-for-sequence_name">NEXT VALUE FOR</a>
</li><li><a href="#setval">SETVAL()</a>. Set next value for the sequence.
</li><li><a href="#auto_increment">AUTO_INCREMENT</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="sequence-overview">Sequence Overview</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3 mariadb from_10_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>Sequences were introduced in <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3"><a href="#sequence-overviewintroduction" title="Introduction">Introduction</a></li>
<li class="mariadb_from_10_3"><a href="#sequence-overviewcreating-a-sequence" title="Creating a Sequence">Creating a Sequence</a></li>
<li class="mariadb_from_10_3"><a href="#sequence-overviewusing-sequence-objects" title="Using Sequence Objects">Using Sequence Objects</a> <ol class="toc">
<li class="mariadb_from_10_3"><a href="#sequence-overviewusing-sequences-in-default" title="Using Sequences in DEFAULT">Using Sequences in DEFAULT</a> </li></ol>
</li>
<li class="mariadb_from_10_3"><a href="#sequence-overviewchanging-a-sequence" title="Changing a Sequence">Changing a Sequence</a></li>
<li class="mariadb_from_10_3"><a href="#sequence-overviewdropping-a-sequence" title="Dropping a Sequence">Dropping a Sequence</a></li>
<li class="mariadb_from_10_3"><a href="#sequence-overviewreplication" title="Replication">Replication</a></li>
<li class="mariadb_from_10_3"><a href="#sequence-overviewstandards-compliance" title="Standards Compliance">Standards Compliance</a></li>
<li class="mariadb_from_10_3"><a href="#sequence-overviewnotes" title="Notes">Notes</a></li>
<li class="mariadb_from_10_3"><a href="#sequence-overviewtable-operations-that-work-with-sequences" title="Table Operations that Work with Sequences">Table Operations that Work with Sequences</a></li>
<li class="mariadb_from_10_3"><a href="#sequence-overviewimplementation" title="Implementation">Implementation</a></li>
<li class="mariadb_from_10_3"><a href="#sequence-overviewunderlying-table-structure" title="Underlying Table Structure">Underlying Table Structure</a></li>
<li class="mariadb_from_10_3"><a href="#sequence-overviewcredits" title="Credits">Credits</a></li>
<li class="mariadb_from_10_3"><a href="#sequence-overviewsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="sequence-overviewintroduction">Introduction</h2>
<p>A sequence is an object that generates a sequence of numeric values, as specified by the <a href="#create-sequence">CREATE SEQUENCE</a> statement. </p>
<p>CREATE SEQUENCE will create a sequence that generates new values when called with NEXT VALUE FOR sequence_name. It's an alternative to <a href="#auto_increment">AUTO INCREMENT</a> when one wants to have more control of how the numbers are generated. As the SEQUENCE caches values (up to the CACHE value in the <a href="#create-sequence">CREATE SEQUENCE</a> statement, by default 1000) it can in some cases be much faster than AUTO INCREMENT. Another benefit is that one can access the last value generated by all used sequences, which solves one of the limitations with <a href="#last_insert_id">LAST_INSERT_ID()</a>.</p>
<h2 class="anchored_heading" id="sequence-overviewcreating-a-sequence">Creating a Sequence</h2>
<p>The <a href="#create-sequence">CREATE SEQUENCE</a> statement is used to create a sequence. Here is an example of a sequence starting at 100, incrementing by 10 each time:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">SEQUENCE</span> <span class="n">s</span> <span class="k">START</span> <span class="k">WITH</span> <span class="mi">100</span> <span class="k">INCREMENT</span> <span class="k">BY</span> <span class="mi">10</span><span class="p">;</span>
</pre><p>The CREATE SEQUENCE statement, along with defaults, can be viewd with the <a href="#show-create-sequence">SHOW CREATE SEQUENCE STATEMENT</a>, for example:</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="k">CREATE</span> <span class="n">SEQUENCE</span> <span class="n">s</span><span class="err">\</span><span class="k">G</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
       <span class="k">Table</span><span class="p">:</span> <span class="n">s</span>
<span class="k">Create</span> <span class="k">Table</span><span class="p">:</span> <span class="k">CREATE</span> <span class="n">SEQUENCE</span> <span class="o">`</span><span class="n">s</span><span class="o">`</span> <span class="k">start</span> <span class="k">with</span> <span class="mi">100</span> <span class="k">minvalue</span> <span class="mi">1</span> <span class="k">maxvalue</span> <span class="mi">9223372036854775806</span> 
  <span class="k">increment</span> <span class="k">by</span> <span class="mi">10</span> <span class="k">cache</span> <span class="mi">1000</span> <span class="n">nocycle</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span>
</pre><h2 class="anchored_heading" id="sequence-overviewusing-sequence-objects">Using Sequence Objects</h2>
<p>To get the  <a href="#next-value-for-sequence_name">next value from a sequence</a>, use</p>
<pre class="fixed">NEXT VALUE FOR sequence_name
</pre><p>or</p>
<pre class="fixed">NEXTVAL(sequence_name)
</pre><p>or in Oracle mode (<a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE=ORACLE</a>)</p>
<pre class="fixed">sequence_name.nextval
</pre><p>For <a href="#previous-value-for-sequence_name">retrieving the last value</a> used by the current connection from a sequence
use:</p>
<pre class="fixed">PREVIOUS VALUE FOR sequence_name
</pre><p>or</p>
<pre class="fixed">LASTVAL(sequence_name)
</pre><p>or in Oracle mode (<a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE=ORACLE</a>)</p>
<pre class="fixed">sequence_name.currval
</pre><p>For example:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>        <span class="mi">100</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SELECT</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>        <span class="mi">110</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SELECT</span> <span class="n">LASTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">LASTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>        <span class="mi">110</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><h3 class="anchored_heading" id="sequence-overviewusing-sequences-in-default">Using Sequences in DEFAULT</h3>
<div class="mariadb_from_10_3_3 mariadb from_10_3_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">10.3.3</a></h5><p>Starting from 10.3.3 you can use Sequences in DEFAULT:</p>
</div><pre class="fixed"><span class="k">create</span> <span class="n">sequence</span> <span class="n">s1</span><span class="p">;</span>
<span class="k">create</span> <span class="k">table</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">int</span> <span class="k">primary</span> <span class="k">key</span> <span class="k">default</span> <span class="p">(</span><span class="k">next</span> <span class="n">value</span> <span class="k">for</span> <span class="n">s1</span><span class="p">),</span> <span class="n">b</span> <span class="nb">int</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">t1</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">);</span>
<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---+------+</span>
<span class="o">|</span> <span class="n">a</span> <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">---+------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+------+</span>
</pre><h2 class="anchored_heading" id="sequence-overviewchanging-a-sequence">Changing a Sequence</h2>
<p>The <a href="https://mariadb.com/kb/en/alter-sequence/">ALTER SEQUENCE</a> statement is used for changing sequences. For example, to restart the sequence at another value:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="n">SEQUENCE</span> <span class="n">s</span> <span class="k">RESTART</span> <span class="mi">50</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>         <span class="mi">50</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><p>The <a href="#setval">SETVAL function</a> can also be used to set the next value to be returned for a SEQUENCE, for example:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span>            <span class="mi">100</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
</pre><p><code>SETVAL</code> can only be used to increase the sequence value. Attempting to set a lower value will fail, returning NULL:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span>          <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
</pre><h2 class="anchored_heading" id="sequence-overviewdropping-a-sequence">Dropping a Sequence</h2>
<p>The <a href="#drop-sequence">DROP SEQUENCE</a> statement is used to drop a sequence, for example:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="n">SEQUENCE</span> <span class="n">s</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="sequence-overviewreplication">Replication</h2>
<p>If one wants to use Sequences in a master-master setup or with Galera one
should use <code>INCREMENT=0</code>.  This will tell the Sequence to use <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#auto_increment_increment">auto_increment_increment</a> and <a href="https://mariadb.com/kb/en/replication-and-binary-log-server-system-variables/#auto_increment_offset">auto_increment_offset</a> to generate unique values for each server.</p>
<h2 class="anchored_heading" id="sequence-overviewstandards-compliance">Standards Compliance</h2>
<p><a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>  supports both ANSI SQL and Oracle syntax for sequences.</p>
<p>However as <code>SEQUENCE</code> is implemented as a special kind of table, it uses the same namespace as tables. The benefits are that sequences show up in <a href="#show-tables">SHOW TABLES</a>, and one can also create a sequence with <a href="#create-table">CREATE TABLE</a> and drop it with <a href="#drop-table">DROP TABLE</a>. One can <a href="#select">SELECT</a> from it as from any other table. This ensures that all old tools that work with tables should work with sequences.</p>
<p>Since sequence objects act as regular tables in many contexts, they will be affected by <a href="#lock-tables">LOCK TABLES</a>. This is not the case in other DBMS, such as Oracle, where LOCK TABLE does not affect sequences.</p>
<h2 class="anchored_heading" id="sequence-overviewnotes">Notes</h2>
<p>One of the goals with the Sequence implementation is that all old
tools, such as <a href="https://mariadb.com/kb/en/mysqldump/">mysqldump</a>, should work unchanged, while still keeping the
normal usage of sequence standard compatibly.</p>
<p>To make this possible, <code>sequence</code> is currently implemented as a table with a few exclusive properties.</p>
<p>The special properties for sequence tables are:</p>
<ul start="1"><li>A sequence table has always one row.
</li><li>When one creates a sequence, either with <a href="#create-table">CREATE TABLE</a> or <a href="#create-sequence">CREATE SEQUENCE</a>, one row will be inserted.
</li><li>If one tries to insert into a sequence table, the single row will be updated.  This allows <a href="https://mariadb.com/kb/en/mysqldump/">mysqldump</a> to work but also gives the additional benefit that one can change all properties of a sequence with a single insert. New applications should of course also use <code>ALTER SEQUENCE</code>.
</li><li><a href="#update">UPDATE</a> or <a href="#delete">DELETE</a> can't be performed on Sequence objects.
</li><li>Doing a select on the sequence shows the current state of the sequence, except the values that are reserved in the cache.  The <code>next_value</code> column shows the next value not reserved by the cache.
</li><li><a href="#flush">FLUSH TABLES</a> will close the sequence and the next sequence number generated will be according to what's stored in the Sequence object. In effect, this will discard the cached values.
</li><li>A number of normal table operations work on Sequence tables. See next section.
</li></ul>
<h2 class="anchored_heading" id="sequence-overviewtable-operations-that-work-with-sequences">Table Operations that Work with Sequences</h2>
<ul start="1"><li><a href="#show-create-table">SHOW CREATE TABLE sequence_name</a>. This shows the table structure that is behind the <code>SEQUENCE</code> including the field names that can be used with <a href="#select">SELECT</a> or even <a href="#create-table">CREATE TABLE</a>.
</li><li><a href="#create-table">CREATE TABLE sequence-structure ... SEQUENCE=1</a>
</li><li><a href="#alter-table">ALTER TABLE sequence RENAME TO sequence2</a>
</li><li><a href="#rename-table">RENAME TABLE sequence_name TO new_sequence_name</a>
</li><li><a href="#drop-table">DROP TABLE sequence_name</a>. This is allowed mainly to get old tools like <a href="https://mariadb.com/kb/en/mysqldump/">mysqldump</a> to work with sequence tables.
</li><li><a href="#show-tables">SHOW TABLES</a>
</li></ul>
<h2 class="anchored_heading" id="sequence-overviewimplementation">Implementation</h2>
<p>Internally, sequence tables are created as a normal table without
rollback (the <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>, <a href="https://mariadb.com/kb/en/aria/">Aria</a> and <a href="https://mariadb.com/kb/en/myisam/">MySAM</a> engines support this), wrapped by a
sequence engine object. This allowed us to create sequences with
almost no performance impact for normal tables. (The cost is one 'if'
per insert if the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> is enabled).</p>
<h2 class="anchored_heading" id="sequence-overviewunderlying-table-structure">Underlying Table Structure</h2>
<p>The following example shows the table structure of sequences and how it
can be used as a table.
(Output of results are slightly edited to make them easier to read)</p>
<pre class="highlight fixed"><p>create sequence t1;
show create sequence t1\G
<strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong> 1. row </strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong>
  CREATE SEQUENCE `t1` start with 1 minvalue 1 maxvalue 9223372036854775806
  increment by 1 cache 1000 nocycle ENGINE=InnoDB</p>
<p>show create table t1\G
<strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong> 1. row </strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong>
Create Table: CREATE TABLE `t1` (
  `next_not_cached_value` bigint(21) NOT NULL,
  `minimum_value` bigint(21) NOT NULL,
  `maximum_value` bigint(21) NOT NULL,
  `start_value` bigint(21) NOT NULL COMMENT 'start value when sequences is created or value if RESTART is used',
  `increment` bigint(21) NOT NULL COMMENT 'increment value',
  `cache_size` bigint(21) unsigned NOT NULL,
  `cycle_option` tinyint(1) unsigned NOT NULL COMMENT '0 if no cycles are allowed, 1 if the sequence should begin a new cycle when maximum_value is passed',
  `cycle_count` bigint(21) NOT NULL COMMENT 'How many cycles have been done'
) ENGINE=InnoDB SEQUENCE=1</p>
<p>select * from t1\G
next_not_cached_value: 1
 minimum_value: 1
 maximum_value: 9223372036854775806
  start_value: 1
  increment: 1
  cache_size: 1000
  cycle_option: 0
  cycle_count: 0</p></pre><p>The <code>cycle_count</code> column is incremented every time the sequence wraps around.</p>
<h2 class="anchored_heading" id="sequence-overviewcredits">Credits</h2>
<ul start="1"><li>Thanks to Jianwe Zhao from Aliyun for his work on SEQUENCE in AliSQL, which gave ideas and inspiration for this work.
</li><li>Thanks to Peter Gulutzan,who helped test and gave useful comments about the implementation.
</li></ul>
<h2 class="anchored_heading" id="sequence-overviewsee-also">See Also</h2>
<ul start="1"><li><a href="#create-sequence">CREATE SEQUENCE</a>
</li><li><a href="https://mariadb.com/kb/en/alter-sequence/">ALTER SEQUENCE</a>
</li><li><a href="#drop-sequence">DROP SEQUENCE</a>
</li><li><a href="#next-value-for-sequence_name">NEXT VALUE FOR</a>
</li><li><a href="#previous-value-for-sequence_name">PREVIOUS VALUE FOR</a>
</li><li><a href="#setval">SETVAL()</a>.  Set next value for the sequence.
</li><li><a href="#auto_increment">AUTO INCREMENT</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="setval">SETVAL()</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_1 mariadb from_10_3_1 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1031-release-notes/">10.3.1</a></h5><p>SEQUENCEs were introduced in <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>.</p>
</div><h2 class="anchored_heading" id="setvalsyntax">Syntax</h2>
<pre class="fixed">SETVAL(sequence_name, next_value, [is_used, [round]])
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_1"><a href="#setvalsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_1"><a href="#setvaldescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_1"><a href="#setvalexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3_1"><a href="#setvalsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="setvaldescription">Description</h2>
<p>Set the next value to be returned for a <code>SEQUENCE</code>.</p>
<p>This function is compatible with PostgreSQL syntax, extended
with the <code>round</code> argument.</p>
<p>If the <code>is_used</code> argument is not given or is <code>1</code> or <code>true</code>, then the next used value will
one after the given value. If <code>is_used</code> is <code>0</code> or <code>false</code> then the next generated value
will be the given value.</p>
<p>If <code>round</code> is used then it will set the <code>round</code> value (or the internal cycle count, starting at zero) for the sequence.
If <code>round</code> is not used, it's assumed to be 0.</p>
<p><code>next_value</code> must be an integer literal.</p>
<p>For <code>SEQUENCE</code> tables defined with <code>CYCLE</code> (see <a href="#create-sequence">CREATE SEQUENCE</a>) one should use both <code>next_value</code> and <code>round</code> to define the next value. In this case the
current sequence value is defined to be <code>round</code>, <code>next_value</code>.</p>
<p>The result returned by <code>SETVAL()</code> is <code>next_value</code> or NULL if the given <code>next_value</code> and <code>round</code>  is smaller than the current value.</p>
<p><code>SETVAL()</code> will not set the <code>SEQUENCE</code> value to a something that is less than
its current value. This is needed to ensure that <code>SETVAL()</code>
is replication safe.  If you want to set the SEQUENCE to a smaller number
use <a href="https://mariadb.com/kb/en/alter-sequence/">ALTER SEQUENCE</a>.</p>
<p>If <code>CYCLE</code> is used, first <code>round</code> and then <code>next_value</code> are compared
to see if the value is bigger than the current value.</p>
<p>Internally, in the MariaDB server, <code>SETVAL()</code> is used to inform
slaves that a <code>SEQUENCE</code> has changed value.  The slave may get
<code>SETVAL()</code> statements out of order, but this is ok as only the
biggest one will have an effect.</p>
<p><code>SETVAL</code> requires the <a href="#grant">INSERT privilege</a>.</p>
<h2 class="anchored_heading" id="setvalexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">setval</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="mi">42</span><span class="p">);</span>           <span class="c1">-- Next nextval will return 43</span>
<span class="k">SELECT</span> <span class="n">setval</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>     <span class="c1">-- Same as above</span>
<span class="k">SELECT</span> <span class="n">setval</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>    <span class="c1">-- Next nextval will return 42</span>
</pre><p>SETVAL setting higher and lower values on a sequence with an increment of 10:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>         <span class="mi">50</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SELECT</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span>            <span class="mi">100</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>

<span class="k">SELECT</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>        <span class="mi">110</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SELECT</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span>          <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>

<span class="k">SELECT</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>        <span class="mi">120</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><p>Example demonstrating <code>round</code>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="n">SEQUENCE</span> <span class="n">s1</span>
  <span class="k">START</span> <span class="k">WITH</span> <span class="mi">1</span>
  <span class="k">MINVALUE</span> <span class="mi">1</span>
  <span class="k">MAXVALUE</span> <span class="mi">99</span>
  <span class="k">INCREMENT</span> <span class="k">BY</span> <span class="mi">1</span> 
  <span class="k">CACHE</span> <span class="mi">20</span> 
  <span class="k">CYCLE</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                   <span class="mi">99</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
</pre><p>The following statement returns NULL, as the given <code>next_value</code> and <code>round</code> is smaller than the current value.</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                 <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>           <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
</pre><p>Increasing the round from zero to 1 will allow <code>next_value</code> to be returned.</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                   <span class="mi">99</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>

<span class="k">SELECT</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
<span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+</span>
</pre><h2 class="anchored_heading" id="setvalsee-also">See Also</h2>
<ul start="1"><li><a href="#sequence-overview">Sequence Overview</a>
</li><li><a href="https://mariadb.com/kb/en/alter-sequence/">ALTER SEQUENCE</a>
</li><li><a href="#create-sequence">CREATE SEQUENCE</a>
</li><li><a href="#next-value-for-sequence_name">NEXT VALUE FOR</a>
</li><li><a href="#previous-value-for-sequence_name">PREVIOUS VALUE FOR</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_array_append">JSON_ARRAY_APPEND</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_ARRAY_APPEND(json_doc, path, value[, path, value] ...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Appends values to the end of the specified arrays within a JSON document, returning the result, or NULL if any of the arguments are NULL.</p>
<p>Evaluation is performed from left to right, with the resulting document from the previous pair becoming the new value against which the next pair is evaluated.</p>
<p>If the <code>json_doc</code> is not a valid JSON document, or if any of the paths are not valid, or contain a <code>*</code> or <code>**</code> wildcard, an error is returned.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">json</span> <span class="o">=</span> <span class="s1">'[1, 2, [3, 4]]'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">JSON_ARRAY_APPEND</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[0]'</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_ARRAY_APPEND</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[0]'</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_ARRAY_APPEND</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[1]'</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_ARRAY_APPEND</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[1]'</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_ARRAY_APPEND</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[1]'</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">'$[2]'</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_ARRAY_APPEND</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[1]'</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">'$[2]'</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">]]</span>                         <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_ARRAY_APPEND</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$'</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_ARRAY_APPEND</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$'</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">5</span><span class="p">]</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">json</span> <span class="o">=</span> <span class="s1">'{"A": 1, "B": [2], "C": [3, 4]}'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">JSON_ARRAY_APPEND</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$.B'</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_ARRAY_APPEND</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$.B'</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
<span class="o">|</span> <span class="err">{</span><span class="ss">"A"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">"B"</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="ss">"C"</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span><span class="err">}</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_array_insert">JSON_ARRAY_INSERT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_ARRAY_INSERT(json_doc, path, value[, path, value] ...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Inserts a value into a JSON document, returning the modified document, or NULL if any of the arguments are NULL.</p>
<p>Evaluation is performed from left to right, with the resulting document from the previous pair becoming the new value against which the next pair is evaluated.</p>
<p>If the <code>json_doc</code> is not a valid JSON document, or if any of the paths are not valid, or contain a <code>*</code> or <code>**</code> wildcard, an error is returned.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">json</span> <span class="o">=</span> <span class="s1">'[1, 2, [3, 4]]'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">JSON_ARRAY_INSERT</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[0]'</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_ARRAY_INSERT</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[0]'</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_ARRAY_INSERT</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[1]'</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_ARRAY_INSERT</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[1]'</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>
<span class="o">|</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_ARRAY_INSERT</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[1]'</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">'$[2]'</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_ARRAY_INSERT</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[1]'</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">'$[2]'</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>                           <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_contains">JSON_CONTAINS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_CONTAINS(json_doc, val[, path])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns whether or not the specified value is found in the given JSON document or, optionally, at the specified path within the document. Returns <code>1</code> if it does, <code>0</code> if not and NULL if any of the arguments are null. An error occurs if the document or path is not valid, or contains the <code>*</code> or <code>**</code> wildcards.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">json</span> <span class="o">=</span> <span class="s1">'{"A": 0, "B": {"C": 1}, "D": 2}'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">JSON_CONTAINS</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'2'</span><span class="p">,</span> <span class="s1">'$.A'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_CONTAINS</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'2'</span><span class="p">,</span> <span class="s1">'$.A'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span>                                <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_CONTAINS</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'2'</span><span class="p">,</span> <span class="s1">'$.D'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_CONTAINS</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'2'</span><span class="p">,</span> <span class="s1">'$.D'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span>                                <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_CONTAINS</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'{"C": 1}'</span><span class="p">,</span> <span class="s1">'$.A'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_CONTAINS</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'{"C": 1}'</span><span class="p">,</span> <span class="s1">'$.A'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>
<span class="o">|</span>                                       <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_CONTAINS</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'{"C": 1}'</span><span class="p">,</span> <span class="s1">'$.B'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_CONTAINS</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'{"C": 1}'</span><span class="p">,</span> <span class="s1">'$.B'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>
<span class="o">|</span>                                       <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_contains_path">JSON_CONTAINS_PATH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_CONTAINS_PATH(json_doc, return_arg, path[, path] ...)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Indicates whether the given JSON document contains data at the specified path or paths. Returns <code>1</code> if it does, <code>0</code> if not and NULL if any of the arguments are null.</p>
<p>The <em>return_arg</em> can be <code>one</code> or <code>all</code>:</p>
<ul start="1"><li><code>one</code> - Returns <code>1</code> if at least one path exists within the JSON document. 
</li><li><code>all</code> - Returns <code>1</code> only if all paths exist within the JSON document.
</li></ul>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">json</span> <span class="o">=</span> <span class="s1">'{"A": 1, "B": [2], "C": [3, 4]}'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">JSON_CONTAINS_PATH</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'one'</span><span class="p">,</span> <span class="s1">'$.A'</span><span class="p">,</span> <span class="s1">'$.D'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_CONTAINS_PATH</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'one'</span><span class="p">,</span> <span class="s1">'$.A'</span><span class="p">,</span> <span class="s1">'$.D'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span>                                              <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SELECT</span> <span class="n">JSON_CONTAINS_PATH</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'all'</span><span class="p">,</span> <span class="s1">'$.A'</span><span class="p">,</span> <span class="s1">'$.D'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_CONTAINS_PATH</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'all'</span><span class="p">,</span> <span class="s1">'$.A'</span><span class="p">,</span> <span class="s1">'$.D'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
<span class="o">|</span>                                              <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_depth">JSON_DEPTH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_DEPTH(json_doc)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the maximum depth of the given JSON document, or NULL if the argument is null. An error will occur if the argument is an invalid JSON document.</p>
<ul start="1"><li>Scalar values or empty arrays or objects have a depth of 1.
</li><li>Arrays or objects that are not empty but contain only elements or member values of depth 1 will have a depth of 2.
</li><li>In other cases, the depth will be greater than 2.
</li></ul>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">JSON_DEPTH</span><span class="p">(</span><span class="s1">'[]'</span><span class="p">),</span> <span class="n">JSON_DEPTH</span><span class="p">(</span><span class="s1">'true'</span><span class="p">),</span> <span class="n">JSON_DEPTH</span><span class="p">(</span><span class="s1">'{}'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------+--------------------+------------------+</span>
<span class="o">|</span> <span class="n">JSON_DEPTH</span><span class="p">(</span><span class="s1">'[]'</span><span class="p">)</span> <span class="o">|</span> <span class="n">JSON_DEPTH</span><span class="p">(</span><span class="s1">'true'</span><span class="p">)</span> <span class="o">|</span> <span class="n">JSON_DEPTH</span><span class="p">(</span><span class="s1">'{}'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+--------------------+------------------+</span>
<span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>                  <span class="mi">1</span> <span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+--------------------+------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_DEPTH</span><span class="p">(</span><span class="s1">'[1, 2, 3]'</span><span class="p">),</span> <span class="n">JSON_DEPTH</span><span class="p">(</span><span class="s1">'[[], {}, []]'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+----------------------------+</span>
<span class="o">|</span> <span class="n">JSON_DEPTH</span><span class="p">(</span><span class="s1">'[1, 2, 3]'</span><span class="p">)</span> <span class="o">|</span> <span class="n">JSON_DEPTH</span><span class="p">(</span><span class="s1">'[[], {}, []]'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+----------------------------+</span>
<span class="o">|</span>                       <span class="mi">2</span> <span class="o">|</span>                          <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+----------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_DEPTH</span><span class="p">(</span><span class="s1">'[1, 2, [3, 4, 5, 6], 7]'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_DEPTH</span><span class="p">(</span><span class="s1">'[1, 2, [3, 4, 5, 6], 7]'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
<span class="o">|</span>                                     <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_exists">JSON_EXISTS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<h2 class="anchored_heading" id="description">Description</h2>
<p>Determines whether a specified JSON value exists in the given data. Returns <code>1</code> if found, <code>0</code> if not, or <code>NULL</code> if any of the inputs were NULL.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">JSON_EXISTS</span><span class="p">(</span><span class="s1">'{"key1":"xxxx", "key2":[1, 2, 3]}'</span><span class="p">,</span> <span class="ss">"$.key2"</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_EXISTS</span><span class="p">(</span><span class="s1">'{"key1":"xxxx", "key2":[1, 2, 3]}'</span><span class="p">,</span> <span class="ss">"$.key2"</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>
<span class="o">|</span>                                                          <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_EXISTS</span><span class="p">(</span><span class="s1">'{"key1":"xxxx", "key2":[1, 2, 3]}'</span><span class="p">,</span> <span class="ss">"$.key3"</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_EXISTS</span><span class="p">(</span><span class="s1">'{"key1":"xxxx", "key2":[1, 2, 3]}'</span><span class="p">,</span> <span class="ss">"$.key3"</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>
<span class="o">|</span>                                                          <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_EXISTS</span><span class="p">(</span><span class="s1">'{"key1":"xxxx", "key2":[1, 2, 3]}'</span><span class="p">,</span> <span class="ss">"$.key2[1]"</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_EXISTS</span><span class="p">(</span><span class="s1">'{"key1":"xxxx", "key2":[1, 2, 3]}'</span><span class="p">,</span> <span class="ss">"$.key2[1]"</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------------+</span>
<span class="o">|</span>                                                             <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_EXISTS</span><span class="p">(</span><span class="s1">'{"key1":"xxxx", "key2":[1, 2, 3]}'</span><span class="p">,</span> <span class="ss">"$.key2[10]"</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_EXISTS</span><span class="p">(</span><span class="s1">'{"key1":"xxxx", "key2":[1, 2, 3]}'</span><span class="p">,</span> <span class="ss">"$.key2[10]"</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------+</span>
<span class="o">|</span>                                                              <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_extract">JSON_EXTRACT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_3"><a href="#json_extractsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2_3"><a href="#json_extractdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2_3"><a href="#json_extractexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_2_3"><a href="#json_extractsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="json_extractsyntax">Syntax</h2>
<pre class="fixed">JSON_EXTRACT(json_doc, path[, path] ...)
</pre><h2 class="anchored_heading" id="json_extractdescription">Description</h2>
<p>Extracts data from a JSON document. The extracted data is selected from the parts matching the path arguments. Returns all matched values; either as a single matched value, or, if the arguments could return multiple values, a result autowrapped as an array in the matching order.</p>
<p>Returns NULL if no paths match or if any of the arguments are NULL. </p>
<p>An error will occur if any path argument is not a valid path, or if the json_doc argument is not a valid JSON document.</p>
<p>The path expression be a <a href="https://mariadb.com/kb/en/jsonpath-expressions/">JSONPath expression</a> as supported by MariaDB </p>
<h2 class="anchored_heading" id="json_extractexamples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">json</span> <span class="o">=</span> <span class="s1">'[1, 2, [3, 4]]'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">JSON_EXTRACT</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[1]'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="n">JSON_EXTRACT</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[1]'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="mi">2</span>                           <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_EXTRACT</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[2]'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="n">JSON_EXTRACT</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[2]'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>                      <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_EXTRACT</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[2][1]'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_EXTRACT</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$[2][1]'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="mi">4</span>                              <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
</pre><h2 class="anchored_heading" id="json_extractsee-also">See Also</h2>
<ul start="1"><li><a href="https://www.youtube.com/watch?v=sLE7jPETp8g">JSON video tutorial</a> covering JSON_EXTRACT.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_insert">JSON_INSERT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="json_insertsyntax">Syntax</h2>
<pre class="fixed">JSON_INSERT(json_doc, path, val[, path, val] ...)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_3"><a href="#json_insertsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2_3"><a href="#json_insertdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2_3"><a href="#json_insertexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_2_3"><a href="#json_insertsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="json_insertdescription">Description</h2>
<p>Inserts data into a JSON document, returning the resulting document or NULL if any argument is null. </p>
<p>An error will occur if the JSON document is not invalid, or if any of the paths are invalid or contain a <code>*</code> or <code>**</code> wildcard.</p>
<p>JSON_INSERT can only insert data while <a href="#json_replace">JSON_REPLACE</a> can only update. <a href="#json_set">JSON_SET</a> can update or insert data. </p>
<h2 class="anchored_heading" id="json_insertexamples">Examples</h2>
<pre class="fixed">SET @json = '{ "A": 0, "B": [1, 2]}';

SELECT JSON_INSERT(@json, '$.C', '[3, 4]');
+--------------------------------------+
| JSON_INSERT(@json, '$.C', '[3, 4]')  |
+--------------------------------------+
| { "A": 0, "B": [1, 2], "C":"[3, 4]"} |
+--------------------------------------+
</pre><h2 class="anchored_heading" id="json_insertsee-also">See Also</h2>
<ul start="1"><li><a href="https://www.youtube.com/watch?v=sLE7jPETp8g">JSON video tutorial</a> covering JSON_INSERT.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_keys">JSON_KEYS</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_KEYS(json_doc[, path])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the keys as a JSON array from the top-level value of a JSON object or, if the optional path argument is provided, the top-level keys from the path. </p>
<p>Excludes keys from nested sub-objects in the top level value. The resulting array will be empty if the selected object is empty.</p>
<p>Returns NULL if any of the arguments are null, a given path does not locate an object, or if the json_doc argument is not an object.</p>
<p>An error will occur if JSON document is invalid, the path is invalid or if the path contains a <code>*</code> or <code>**</code> wildcard.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">JSON_KEYS</span><span class="p">(</span><span class="s1">'{"A": 1, "B": {"C": 2}}'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_KEYS</span><span class="p">(</span><span class="s1">'{"A": 1, "B": {"C": 2}}'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
<span class="o">|</span> <span class="p">[</span><span class="ss">"A"</span><span class="p">,</span> <span class="ss">"B"</span><span class="p">]</span>                           <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_KEYS</span><span class="p">(</span><span class="s1">'{"A": 1, "B": 2, "C": {"D": 3}}'</span><span class="p">,</span> <span class="s1">'$.C'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_KEYS</span><span class="p">(</span><span class="s1">'{"A": 1, "B": 2, "C": {"D": 3}}'</span><span class="p">,</span> <span class="s1">'$.C'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
<span class="o">|</span> <span class="p">[</span><span class="ss">"D"</span><span class="p">]</span>                                               <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_length">JSON_LENGTH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_LENGTH(json_doc[, path])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the length of a JSON document, or, if the optional path argument is given, the length of the value within the document specified by the path. </p>
<p>Returns NULL if any of the arguments argument are null or the path argument does not identify a value in the document. </p>
<p>An error will occur if the JSON document is invalid, the path is invalid or if the path contains a <code>*</code> or <code>**</code> wildcard.</p>
<p>Length will be determined as follow:</p>
<ul start="1"><li>A scalar's length is always 1.
</li><li>If an array, the number of elements in the array.
</li><li>If an object, the number of members in the object.
</li></ul>
<p>The length of nested arrays or objects are not counted.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_query">JSON_QUERY</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_QUERY(json_doc, path)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Given a JSON document, returns an object or array specified by the path. Returns NULL if not given a valid JSON document, or if there is no match.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">select</span> <span class="n">json_query</span><span class="p">(</span><span class="s1">'{"key1":{"a":1, "b":[1,2]}}'</span><span class="p">,</span> <span class="s1">'$.key1'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
<span class="o">|</span> <span class="n">json_query</span><span class="p">(</span><span class="s1">'{"key1":{"a":1, "b":[1,2]}}'</span><span class="p">,</span> <span class="s1">'$.key1'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>
<span class="o">|</span> <span class="err">{</span><span class="ss">"a"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="ss">"b"</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="err">}</span>                                  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------+</span>

<span class="k">select</span> <span class="n">json_query</span><span class="p">(</span><span class="s1">'{"key1":123, "key1": [1,2,3]}'</span><span class="p">,</span> <span class="s1">'$.key1'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">json_query</span><span class="p">(</span><span class="s1">'{"key1":123, "key1": [1,2,3]}'</span><span class="p">,</span> <span class="s1">'$.key1'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------+</span>
<span class="o">|</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>                                               <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_quote">JSON_QUOTE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_QUOTE(json_value)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Quotes a string as a JSON value, usually for producing valid JSON string literals for inclusion in JSON documents. Wraps the string with double quote characters and escapes interior quotes and other special characters, returning a utf8mb4 string. </p>
<p>Returns NULL if the argument is NULL.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT JSON_QUOTE('A'), JSON_QUOTE("B"), JSON_QUOTE('"C"');
+-----------------+-----------------+-------------------+
| JSON_QUOTE('A') | JSON_QUOTE("B") | JSON_QUOTE('"C"') |
+-----------------+-----------------+-------------------+
| "A"             | "B"             | "\"C\""           |
+-----------------+-----------------+-------------------+
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_remove">JSON_REMOVE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="json_removesyntax">Syntax</h2>
<pre class="fixed">JSON_REMOVE(json_doc, path[, path] ...)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_3"><a href="#json_removesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2_3"><a href="#json_removedescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2_3"><a href="#json_removeexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_2_3"><a href="#json_removesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="json_removedescription">Description</h2>
<p>Removes data from a JSON document returning the result, or NULL if any of the arguments are null. If the element does not exist in the document, no changes are made.</p>
<p>An error will occur if JSON document is invalid, the path is invalid or if the path contains a <code>*</code> or <code>**</code> wildcard.</p>
<p>Path arguments are evaluated from left to right, with the result from the earlier evaluation being used as the value for the next.</p>
<h2 class="anchored_heading" id="json_removeexamples">Examples</h2>
<pre class="fixed">SELECT JSON_REMOVE('{"A": 1, "B": 2, "C": {"D": 3}}', '$.C');
+-------------------------------------------------------+
| JSON_REMOVE('{"A": 1, "B": 2, "C": {"D": 3}}', '$.C') |
+-------------------------------------------------------+
| {"A": 1, "B": 2}                                      |
+-------------------------------------------------------+

SELECT JSON_REMOVE('["A", "B", ["C", "D"], "E"]', '$[1]');
+----------------------------------------------------+
| JSON_REMOVE('["A", "B", ["C", "D"], "E"]', '$[1]') |
+----------------------------------------------------+
| ["A", ["C", "D"], "E"]                             |
+----------------------------------------------------+
</pre><h2 class="anchored_heading" id="json_removesee-also">See Also</h2>
<ul start="1"><li><a href="https://www.youtube.com/watch?v=sLE7jPETp8g">JSON video tutorial</a> covering JSON_REMOVE.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_replace">JSON_REPLACE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="json_replacesyntax">Syntax</h2>
<pre class="fixed">JSON_REPLACE(json_doc, path, val[, path, val] ...)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_3"><a href="#json_replacesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2_3"><a href="#json_replacedescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2_3"><a href="#json_replaceexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_2_3"><a href="#json_replacesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="json_replacedescription">Description</h2>
<p>Replaces existing values in a JSON document, returning the result, or NULL if any of the arguments are NULL. </p>
<p>An error will occur if the JSON document is invalid, the path is invalid or if the path contains a <code>*</code> or <code>**</code> wildcard.</p>
<p>Paths and values are evaluated from left to right, with the result from the earlier evaluation being used as the value for the next.</p>
<p>JSON_REPLACE can only update data, while <a href="#json_insert">JSON_INSERT</a> can only insert. <a href="#json_set">JSON_SET</a> can update or insert data. </p>
<h2 class="anchored_heading" id="json_replaceexamples">Examples</h2>
<pre class="fixed">SELECT JSON_REPLACE('{ "A": 1, "B": [2, 3]}', '$.B[1]', 4);
+-----------------------------------------------------+
| JSON_REPLACE('{ "A": 1, "B": [2, 3]}', '$.B[1]', 4) |
+-----------------------------------------------------+
| { "A": 1, "B": [2, 4]}                              |
+-----------------------------------------------------+
</pre><h2 class="anchored_heading" id="json_replacesee-also">See Also</h2>
<ul start="1"><li><a href="https://www.youtube.com/watch?v=sLE7jPETp8g">JSON video tutorial</a> covering JSON_REPLACE.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_search">JSON_SEARCH</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_SEARCH(json_doc, return_arg, search_str[, escape_char[, path] ...])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the path to the given string within a JSON document, or NULL if any of <em>json_doc</em>, <em>search_str</em> or a path argument is NULL; if the search string is not found, or if no path exists within the document. </p>
<p>A warning will occur if the JSON document is not valid, any of the path arguments are not valid, if <em>return_arg</em> is neither <em>one</em> nor <em>all</em>, or if the escape character is not a constant. NULL will be returned.</p>
<p><em>return_arg</em> can be one of two values:</p>
<ul start="1"><li><code>'one</code>: Terminates after finding the first match, so will return one path string. If there is more than one match, it is undefined which is considered first.
</li><li><code>all</code>: Returns all matching path strings, without duplicates. Multiple strings are autowrapped as an array. The order is undefined.
</li></ul>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">json</span> <span class="o">=</span> <span class="s1">'["A", [{"B": "1"}], {"C":"AB"}, {"D":"BC"}]'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">JSON_SEARCH</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'one'</span><span class="p">,</span> <span class="s1">'AB'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_SEARCH</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'one'</span><span class="p">,</span> <span class="s1">'AB'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
<span class="o">|</span> <span class="ss">"$[2].C"</span>                        <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_type">JSON_TYPE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_TYPE(json_val)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns the type of a JSON value (as a string), or NULL if the argument is null.</p>
<p>An error will occur if the argument is an invalid JSON value.</p>
<p>The following is a complete list of the possible return types:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Return type</th><th>Value</th><th>Example</th></tr>
<tr><td>ARRAY</td><td>JSON array</td><td>[1, 2, {"key": "value"}]</td></tr>
<tr><td>OBJECT</td><td>JSON object</td><td>{"key":"value"}</td></tr>
<tr><td>BOOLEAN</td><td>JSON true/false literals</td><td>true, false</td></tr>
<tr><td>DOUBLE</td><td>A number with at least one floating point decimal.</td><td>1.2</td></tr>
<tr><td>INTEGER</td><td>A number without a floating point decimal.</td><td>1</td></tr>
<tr><td>NULL</td><td>JSON null literal (this is returned as a string, not to be confused with the SQL NULL value!)</td><td>null</td></tr>
<tr><td>STRING</td><td>JSON String</td><td>"a sample string"</td></tr>
</table>
</div><h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">JSON_TYPE</span><span class="p">(</span><span class="s1">'{"A": 1, "B": 2, "C": 3}'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_TYPE</span><span class="p">(</span><span class="s1">'{"A": 1, "B": 2, "C": 3}'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
<span class="o">|</span> <span class="k">OBJECT</span>                                <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_unquote">JSON_UNQUOTE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_UNQUOTE(val)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Unquotes a JSON value, returning a string, or NULL if the argument is null. </p>
<p>An error will occur if the given value begins and ends with double quotes and is an invalid JSON string literal.</p>
<p>If the given value is not a JSON string, value is passed through unmodified.</p>
<p>Certain character sequences have special meanings within a string. Usually, a backslash is ignored, but the escape sequences in the table below are recognised by MariaDB, unless the <a href="https://mariadb.com/kb/en/sql-mode/">SQL Mode</a> is set to NO_BACKSLASH_ESCAPES SQL.</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Escape sequence</th><th>Character</th></tr>
<tr><td><code>\"</code></td><td>Double quote (")</td></tr>
<tr><td><code>\b</code></td><td>Backslash</td></tr>
<tr><td><code>\f</code></td><td>Formfeed</td></tr>
<tr><td><code>\n</code></td><td>Newline (linefeed)</td></tr>
<tr><td><code>\r</code></td><td>Carriage return</td></tr>
<tr><td><code>\t</code></td><td>Tab</td></tr>
<tr><td><code class="fixed" style="white-space:pre-wrap">\\</code></td><td>Backslash (\)</td></tr>
<tr><td><code>\uXXXX</code></td><td>UTF-8 bytes for Unicode value XXXX</td></tr>
</table>
</div><h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">JSON_UNQUOTE</span><span class="p">(</span><span class="s1">'"Monty"'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">JSON_UNQUOTE</span><span class="p">(</span><span class="s1">'"Monty"'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">Monty</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
</pre><p>With the default <a href="https://mariadb.com/kb/en/sql-mode/">SQL Mode</a>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">JSON_UNQUOTE</span><span class="p">(</span><span class="s1">'Si\bng\ting'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="n">JSON_UNQUOTE</span><span class="p">(</span><span class="s1">'Si\bng\ting'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="n">Sng</span>	<span class="n">ing</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
</pre><p>Setting NO_BACKSLASH_ESCAPES:</p>
<pre class="fixed"><span class="k">SET</span> <span class="o">@@</span><span class="n">sql_mode</span> <span class="o">=</span> <span class="s1">'NO_BACKSLASH_ESCAPES'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">JSON_UNQUOTE</span><span class="p">(</span><span class="s1">'Si\bng\ting'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="n">JSON_UNQUOTE</span><span class="p">(</span><span class="s1">'Si\bng\ting'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="n">Si</span><span class="err">\</span><span class="n">bng</span><span class="err">\</span><span class="n">ting</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_valid">JSON_VALID</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="json_validsyntax">Syntax</h2>
<pre class="fixed">JSON_VALID(value)
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_3"><a href="#json_validsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2_3"><a href="#json_validdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2_3"><a href="#json_validexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_2_3"><a href="#json_validsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="json_validdescription">Description</h2>
<p>Indicates whether the given value is a valid JSON document or not. Returns <code>1</code> if valid, <code>0</code> if not, and NULL if the argument is NULL.</p>
<p>From <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">MariaDB 10.4.3</a>, the JSON_VALID function is automatically used as a <a ">CHECK constraint</a> for the <a href="#json-data-type">JSON data type alias</a> in order to ensure that a valid json document is inserted. </p>
<h2 class="anchored_heading" id="json_validexamples">Examples</h2>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">JSON_VALID</span><span class="p">(</span><span class="s1">'{"id": 1, "name": "Monty"}'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_VALID</span><span class="p">(</span><span class="s1">'{"id": 1, "name": "Monty"}'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>
<span class="o">|</span>                                        <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------+</span>

<span class="k">SELECT</span> <span class="n">JSON_VALID</span><span class="p">(</span><span class="s1">'{"id": 1, "name": "Monty", "oddfield"}'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_VALID</span><span class="p">(</span><span class="s1">'{"id": 1, "name": "Monty", "oddfield"}'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------+</span>
<span class="o">|</span>                                                    <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="json_validsee-also">See Also</h2>
<ul start="1"><li><a href="https://www.youtube.com/watch?v=sLE7jPETp8g">JSON video tutorial</a> covering JSON_VALID.</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="json_value">JSON_VALUE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_3 mariadb from_10_2_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">10.2.3</a></h5><p>JSON functions were added in <a href="https://mariadb.com/kb/en/mariadb-1023-release-notes/">MariaDB 10.2.3</a>.</p>
</div><h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">JSON_VALUE(json_doc, path)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Given a JSON document, returns the scalar specified by the path. Returns NULL if not given a valid JSON document, or if there is no match.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">select</span> <span class="n">json_value</span><span class="p">(</span><span class="s1">'{"key1":123}'</span><span class="p">,</span> <span class="s1">'$.key1'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
<span class="o">|</span> <span class="n">json_value</span><span class="p">(</span><span class="s1">'{"key1":123}'</span><span class="p">,</span> <span class="s1">'$.key1'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>
<span class="o">|</span> <span class="mi">123</span>                                  <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------+</span>

<span class="k">select</span> <span class="n">json_value</span><span class="p">(</span><span class="s1">'{"key1": [1,2,3], "key1":123}'</span><span class="p">,</span> <span class="s1">'$.key1'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">json_value</span><span class="p">(</span><span class="s1">'{"key1": [1,2,3], "key1":123}'</span><span class="p">,</span> <span class="s1">'$.key1'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------+</span>
<span class="o">|</span> <span class="mi">123</span>                                                   <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="dense_rank">DENSE_RANK</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2 mariadb from_10_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">10.2</a></h5><p>The DENSE_RANK() function was first introduced with <a href="https://mariadb.com/kb/en/window-functions/">window functions</a> in <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2"><a href="#dense_ranksyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2"><a href="#dense_rankdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2"><a href="#dense_rankexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_2"><a href="#dense_ranksee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="dense_ranksyntax">Syntax</h2>
<pre class="fixed">DENSE_RANK() OVER (
  [ PARTITION BY partition_expression ]
  [ ORDER BY order_list ]
) 
</pre><h2 class="anchored_heading" id="dense_rankdescription">Description</h2>
<p>DENSE_RANK() is a <a href="https://mariadb.com/kb/en/window-functions/">window function</a> that displays the number of a given row, starting at one and following the <a href="#order-by">ORDER BY</a> sequence of the window function, with identical values receiving the same result. Unlike the  <a href="#rank">RANK()</a> function, there are no skipped values if the preceding results are identical. It is also similar to the <a href="#row_number">ROW_NUMBER()</a> function except that in that function, identical values will receive a different row number for each result.</p>
<h2 class="anchored_heading" id="dense_rankexamples">Examples</h2>
<p>The distinction between DENSE_RANK(), <a href="#rank">RANK()</a> and <a href="#row_number">ROW_NUMBER()</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">student</span><span class="p">(</span><span class="n">course</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">mark</span> <span class="nb">int</span><span class="p">,</span> <span class="n">name</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="s1">'Maths'</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="s1">'Thulile'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Maths'</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="s1">'Pritha'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Maths'</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="s1">'Voitto'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Maths'</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="s1">'Chun'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Biology'</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="s1">'Bilal'</span><span class="p">),</span>
   <span class="p">(</span><span class="s1">'Biology'</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="s1">'Roger'</span><span class="p">);</span>

<span class="k">SELECT</span> 
  <span class="n">RANK</span><span class="p">()</span> <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">course</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">mark</span> <span class="k">DESC</span><span class="p">)</span> <span class="k">AS</span> <span class="n">rank</span><span class="p">,</span> 
  <span class="n">DENSE_RANK</span><span class="p">()</span> <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">course</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">mark</span> <span class="k">DESC</span><span class="p">)</span> <span class="k">AS</span> <span class="n">dense_rank</span><span class="p">,</span> 
  <span class="n">ROW_NUMBER</span><span class="p">()</span> <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">course</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">mark</span> <span class="k">DESC</span><span class="p">)</span> <span class="k">AS</span> <span class="n">row_num</span><span class="p">,</span> 
  <span class="n">course</span><span class="p">,</span> <span class="n">mark</span><span class="p">,</span> <span class="n">name</span> 
<span class="k">FROM</span> <span class="n">student</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">course</span><span class="p">,</span> <span class="n">mark</span> <span class="k">DESC</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------------+---------+---------+------+---------+</span>
<span class="o">|</span> <span class="n">rank</span> <span class="o">|</span> <span class="n">dense_rank</span> <span class="o">|</span> <span class="n">row_num</span> <span class="o">|</span> <span class="n">course</span>  <span class="o">|</span> <span class="n">mark</span> <span class="o">|</span> <span class="n">name</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------+---------+---------+------+---------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span>       <span class="mi">1</span> <span class="o">|</span> <span class="n">Biology</span> <span class="o">|</span>   <span class="mi">70</span> <span class="o">|</span> <span class="n">Roger</span>   <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>          <span class="mi">2</span> <span class="o">|</span>       <span class="mi">2</span> <span class="o">|</span> <span class="n">Biology</span> <span class="o">|</span>   <span class="mi">60</span> <span class="o">|</span> <span class="n">Bilal</span>   <span class="o">|</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span>       <span class="mi">1</span> <span class="o">|</span> <span class="n">Maths</span>   <span class="o">|</span>   <span class="mi">70</span> <span class="o">|</span> <span class="n">Voitto</span>  <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>          <span class="mi">2</span> <span class="o">|</span>       <span class="mi">2</span> <span class="o">|</span> <span class="n">Maths</span>   <span class="o">|</span>   <span class="mi">60</span> <span class="o">|</span> <span class="n">Thulile</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>          <span class="mi">2</span> <span class="o">|</span>       <span class="mi">3</span> <span class="o">|</span> <span class="n">Maths</span>   <span class="o">|</span>   <span class="mi">60</span> <span class="o">|</span> <span class="n">Pritha</span>  <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>          <span class="mi">3</span> <span class="o">|</span>       <span class="mi">4</span> <span class="o">|</span> <span class="n">Maths</span>   <span class="o">|</span>   <span class="mi">55</span> <span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------+---------+---------+------+---------+</span>
</pre><h2 class="anchored_heading" id="dense_ranksee-also">See Also</h2>
<ul start="1"><li><a href="#rank">RANK()</a>
</li><li><a href="#row_number">ROW_NUMBER()</a>
</li><li><a href="#order-by">ORDER BY</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="first_value">FIRST_VALUE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_2 mariadb from_10_2_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">10.2.2</a></h5><p>The FIRST_VALUE() function was first introduced with other <a href="https://mariadb.com/kb/en/window-functions/">window functions</a> in <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">MariaDB 10.2</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_2"><a href="#first_valuesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2_2"><a href="#first_valuedescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2_2"><a href="#first_valueexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_2_2"><a href="#first_valuesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="first_valuesyntax">Syntax</h2>
<pre class="fixed">FIRST_VALUE(expr) OVER (
  [ PARTITION BY partition_expression ]
  [ ORDER BY order_list ]
) 
</pre><h2 class="anchored_heading" id="first_valuedescription">Description</h2>
<p><code>FIRST_VALUE</code> returns the first result from an ordered set, or NULL if no such result exists.</p>
<h2 class="anchored_heading" id="first_valueexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span>
  <span class="n">pk</span> <span class="nb">int</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span>
  <span class="n">a</span> <span class="nb">int</span><span class="p">,</span>
  <span class="n">b</span> <span class="nb">int</span><span class="p">,</span>
  <span class="k">c</span> <span class="nb">char</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
  <span class="n">d</span> <span class="nb">decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
  <span class="n">e</span> <span class="nb">real</span>
<span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span>
<span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>    <span class="s1">'one'</span><span class="p">,</span>    <span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">001</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>    <span class="s1">'two'</span><span class="p">,</span>    <span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">002</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span>    <span class="s1">'three'</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">3</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">003</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>    <span class="s1">'three'</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">004</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>    <span class="s1">'two'</span><span class="p">,</span>    <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">005</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>    <span class="s1">'one'</span><span class="p">,</span>    <span class="mi">0</span><span class="p">.</span><span class="mi">6</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">006</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="s1">'n_one'</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">007</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>    <span class="s1">'n_two'</span><span class="p">,</span>  <span class="k">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">008</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>    <span class="k">NULL</span><span class="p">,</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">7</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">009</span><span class="p">),</span>
<span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>    <span class="s1">'n_four'</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">010</span><span class="p">),</span>
<span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span>   <span class="k">NULL</span><span class="p">,</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">9</span><span class="p">,</span>  <span class="k">NULL</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">pk</span><span class="p">,</span> <span class="n">FIRST_VALUE</span><span class="p">(</span><span class="n">pk</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span><span class="p">)</span> <span class="k">AS</span> <span class="n">first_asc</span><span class="p">,</span>
           <span class="n">LAST_VALUE</span><span class="p">(</span><span class="n">pk</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span><span class="p">)</span> <span class="k">AS</span> <span class="n">last_asc</span><span class="p">,</span>
           <span class="n">FIRST_VALUE</span><span class="p">(</span><span class="n">pk</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span> <span class="k">DESC</span><span class="p">)</span> <span class="k">AS</span> <span class="n">first_desc</span><span class="p">,</span>
           <span class="n">LAST_VALUE</span><span class="p">(</span><span class="n">pk</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span> <span class="k">DESC</span><span class="p">)</span> <span class="k">AS</span> <span class="n">last_desc</span>
<span class="k">FROM</span> <span class="n">t1</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span> <span class="k">DESC</span><span class="p">;</span>

<span class="o">+</span><span class="c1">----+-----------+----------+------------+-----------+</span>
<span class="o">|</span> <span class="n">pk</span> <span class="o">|</span> <span class="n">first_asc</span> <span class="o">|</span> <span class="n">last_asc</span> <span class="o">|</span> <span class="n">first_desc</span> <span class="o">|</span> <span class="n">last_desc</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------+----------+------------+-----------+</span>
<span class="o">|</span> <span class="mi">11</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>       <span class="mi">11</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>        <span class="mi">11</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">10</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>       <span class="mi">10</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>        <span class="mi">10</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">9</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">9</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">9</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">8</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">8</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">7</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">7</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">6</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">6</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">5</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>         <span class="mi">11</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------+----------+------------+-----------+</span>
</pre><pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">i</span> <span class="nb">int</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">),(</span><span class="mi">5</span><span class="p">),(</span><span class="mi">6</span><span class="p">),(</span><span class="mi">7</span><span class="p">),(</span><span class="mi">8</span><span class="p">),(</span><span class="mi">9</span><span class="p">),(</span><span class="mi">10</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">i</span><span class="p">,</span>
  <span class="n">FIRST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="k">CURRENT</span> <span class="k">ROW</span> <span class="k">and</span> <span class="mi">1</span> <span class="n">FOLLOWING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">f_1f</span><span class="p">,</span>
  <span class="n">LAST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="k">CURRENT</span> <span class="k">ROW</span> <span class="k">and</span> <span class="mi">1</span> <span class="n">FOLLOWING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">l_1f</span><span class="p">,</span>
  <span class="n">FIRST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="mi">1</span> <span class="n">PRECEDING</span> <span class="k">AND</span> <span class="mi">1</span> <span class="n">FOLLOWING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">f_1p1f</span><span class="p">,</span>
  <span class="n">LAST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="mi">1</span> <span class="n">PRECEDING</span> <span class="k">AND</span> <span class="mi">1</span> <span class="n">FOLLOWING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">f_1p1f</span><span class="p">,</span>
  <span class="n">FIRST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="mi">2</span> <span class="n">PRECEDING</span> <span class="k">AND</span> <span class="mi">1</span> <span class="n">PRECEDING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">f_2p1p</span><span class="p">,</span>
  <span class="n">LAST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="mi">2</span> <span class="n">PRECEDING</span> <span class="k">AND</span> <span class="mi">1</span> <span class="n">PRECEDING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">f_2p1p</span><span class="p">,</span>
  <span class="n">FIRST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="mi">1</span> <span class="n">FOLLOWING</span> <span class="k">AND</span> <span class="mi">2</span> <span class="n">FOLLOWING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">f_1f2f</span><span class="p">,</span>
  <span class="n">LAST_VALUE</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="mi">1</span> <span class="n">FOLLOWING</span> <span class="k">AND</span> <span class="mi">2</span> <span class="n">FOLLOWING</span><span class="p">)</span> <span class="k">AS</span> <span class="n">f_1f2f</span>
<span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>

<span class="o">+</span><span class="c1">------+------+------+--------+--------+--------+--------+--------+--------+</span>
<span class="o">|</span> <span class="n">i</span>    <span class="o">|</span> <span class="n">f_1f</span> <span class="o">|</span> <span class="n">l_1f</span> <span class="o">|</span> <span class="n">f_1p1f</span> <span class="o">|</span> <span class="n">f_1p1f</span> <span class="o">|</span> <span class="n">f_2p1p</span> <span class="o">|</span> <span class="n">f_2p1p</span> <span class="o">|</span> <span class="n">f_1f2f</span> <span class="o">|</span> <span class="n">f_1f2f</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+--------+--------+--------+--------+--------+--------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>      <span class="mi">2</span> <span class="o">|</span>   <span class="k">NULL</span> <span class="o">|</span>   <span class="k">NULL</span> <span class="o">|</span>      <span class="mi">2</span> <span class="o">|</span>      <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>      <span class="mi">3</span> <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>      <span class="mi">3</span> <span class="o">|</span>      <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>      <span class="mi">2</span> <span class="o">|</span>      <span class="mi">4</span> <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>      <span class="mi">2</span> <span class="o">|</span>      <span class="mi">4</span> <span class="o">|</span>      <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>      <span class="mi">3</span> <span class="o">|</span>      <span class="mi">5</span> <span class="o">|</span>      <span class="mi">2</span> <span class="o">|</span>      <span class="mi">3</span> <span class="o">|</span>      <span class="mi">5</span> <span class="o">|</span>      <span class="mi">6</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>      <span class="mi">4</span> <span class="o">|</span>      <span class="mi">6</span> <span class="o">|</span>      <span class="mi">3</span> <span class="o">|</span>      <span class="mi">4</span> <span class="o">|</span>      <span class="mi">6</span> <span class="o">|</span>      <span class="mi">7</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>      <span class="mi">5</span> <span class="o">|</span>      <span class="mi">7</span> <span class="o">|</span>      <span class="mi">4</span> <span class="o">|</span>      <span class="mi">5</span> <span class="o">|</span>      <span class="mi">7</span> <span class="o">|</span>      <span class="mi">8</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>      <span class="mi">6</span> <span class="o">|</span>      <span class="mi">8</span> <span class="o">|</span>      <span class="mi">5</span> <span class="o">|</span>      <span class="mi">6</span> <span class="o">|</span>      <span class="mi">8</span> <span class="o">|</span>      <span class="mi">9</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span>      <span class="mi">7</span> <span class="o">|</span>      <span class="mi">9</span> <span class="o">|</span>      <span class="mi">6</span> <span class="o">|</span>      <span class="mi">7</span> <span class="o">|</span>      <span class="mi">9</span> <span class="o">|</span>     <span class="mi">10</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>      <span class="mi">8</span> <span class="o">|</span>     <span class="mi">10</span> <span class="o">|</span>      <span class="mi">7</span> <span class="o">|</span>      <span class="mi">8</span> <span class="o">|</span>     <span class="mi">10</span> <span class="o">|</span>     <span class="mi">10</span> <span class="o">|</span>
<span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>      <span class="mi">9</span> <span class="o">|</span>     <span class="mi">10</span> <span class="o">|</span>      <span class="mi">8</span> <span class="o">|</span>      <span class="mi">9</span> <span class="o">|</span>   <span class="k">NULL</span> <span class="o">|</span>   <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+--------+--------+--------+--------+--------+--------+</span>
</pre><h2 class="anchored_heading" id="first_valuesee-also">See Also</h2>
<ul start="1"><li><a href="#last_value">LAST_VALUE</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="lag">LAG</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2_2 mariadb from_10_2_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1022-release-notes/">10.2.2</a></h5><p>The LAG() function was first introduced with other <a href="https://mariadb.com/kb/en/window-functions/">window functions</a> in <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">MariaDB 10.2</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2_2"><a href="#lagsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2_2"><a href="#lagdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2_2"><a href="#lagexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_2_2"><a href="#lagsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="lagsyntax">Syntax</h2>
<pre class="fixed">LAG (expr[, offset]) OVER ( 
  [ PARTITION BY partition_expression ] 
  &lt; ORDER BY order_list &gt;
)
</pre><h2 class="anchored_heading" id="lagdescription">Description</h2>
<p>The <em>LAG</em> function accesses data from a previous row according to the ORDER BY clause without the need for a self-join. The specific row is determined by the <em>offset</em> (default <em>1</em>), which specifies the number of rows behind the current row to use. An offset of <em>0</em> is the current row.</p>
<h2 class="anchored_heading" id="lagexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">pk</span> <span class="nb">int</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span> <span class="n">a</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span> <span class="nb">int</span><span class="p">,</span> <span class="k">c</span> <span class="nb">char</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">d</span> <span class="nb">decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">e</span> <span class="nb">real</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span>
 <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>    <span class="s1">'one'</span><span class="p">,</span>    <span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">001</span><span class="p">),</span>
 <span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>    <span class="s1">'two'</span><span class="p">,</span>    <span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">002</span><span class="p">),</span>
 <span class="p">(</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span>    <span class="s1">'three'</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">3</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">003</span><span class="p">),</span>
 <span class="p">(</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>    <span class="s1">'three'</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">004</span><span class="p">),</span>
 <span class="p">(</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>    <span class="s1">'two'</span><span class="p">,</span>    <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">005</span><span class="p">),</span>
 <span class="p">(</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>    <span class="s1">'one'</span><span class="p">,</span>    <span class="mi">0</span><span class="p">.</span><span class="mi">6</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">006</span><span class="p">),</span>
 <span class="p">(</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="s1">'n_one'</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">007</span><span class="p">),</span>
 <span class="p">(</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>    <span class="s1">'n_two'</span><span class="p">,</span>  <span class="k">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">008</span><span class="p">),</span>
 <span class="p">(</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>    <span class="k">NULL</span><span class="p">,</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">7</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">009</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>    <span class="s1">'n_four'</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">010</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span>   <span class="k">NULL</span><span class="p">,</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">9</span><span class="p">,</span>  <span class="k">NULL</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">pk</span><span class="p">,</span> <span class="n">LAG</span><span class="p">(</span><span class="n">pk</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span><span class="p">)</span> <span class="k">AS</span> <span class="n">l</span><span class="p">,</span>
  <span class="n">LAG</span><span class="p">(</span><span class="n">pk</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span><span class="p">)</span> <span class="k">AS</span> <span class="n">l1</span><span class="p">,</span>
  <span class="n">LAG</span><span class="p">(</span><span class="n">pk</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span><span class="p">)</span> <span class="k">AS</span> <span class="n">l2</span><span class="p">,</span>
  <span class="n">LAG</span><span class="p">(</span><span class="n">pk</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span><span class="p">)</span> <span class="k">AS</span> <span class="n">l0</span><span class="p">,</span>
  <span class="n">LAG</span><span class="p">(</span><span class="n">pk</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span><span class="p">)</span> <span class="k">AS</span> <span class="n">lm1</span><span class="p">,</span>
  <span class="n">LAG</span><span class="p">(</span><span class="n">pk</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pk</span><span class="p">)</span> <span class="k">AS</span> <span class="n">lm2</span> 
<span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+------+------+------+------+------+------+</span>
<span class="o">|</span> <span class="n">pk</span> <span class="o">|</span> <span class="n">l</span>    <span class="o">|</span> <span class="n">l1</span>   <span class="o">|</span> <span class="n">l2</span>   <span class="o">|</span> <span class="n">l0</span>   <span class="o">|</span> <span class="n">lm1</span>  <span class="o">|</span> <span class="n">lm2</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+------+------+------+------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>    <span class="mi">6</span> <span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">9</span> <span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>    <span class="mi">7</span> <span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>   <span class="mi">11</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">10</span> <span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span>    <span class="mi">8</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>   <span class="mi">11</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">11</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span>   <span class="mi">11</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+------+------+------+------+</span>
</pre><h2 class="anchored_heading" id="lagsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/lead/">LEAD</a>  - Window function to access a following row</li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="median">MEDIAN</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_3 mariadb from_10_3_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">10.3.3</a></h5><p>The MEDIAN() <a href="https://mariadb.com/kb/en/window-functions/">window function</a> was first introduced with in <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">MariaDB 10.3.3</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_3"><a href="#mediansyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_3"><a href="#mediandescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_3"><a href="#medianexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3_3"><a href="#mediansee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="mediansyntax">Syntax</h2>
<pre class="fixed">MEDIAN(median expression) OVER (
  [ PARTITION BY partition_expression ] 
)
</pre><h2 class="anchored_heading" id="mediandescription">Description</h2>
<p>MEDIAN() is a <a href="https://mariadb.com/kb/en/window-functions/">window function</a> that returns the median value of a range of values.</p>
<p>It is a specific case of <a href="#percentile_cont">PERCENTILE_CONT</a>, with an argument of 0.5 and the <a href="#order-by">ORDER BY</a> column the one in <code>MEDIAN</code>'s argument. <br/></p>
<pre class="fixed"><span class="n">MEDIAN</span><span class="p">(</span><span class="o">&lt;</span><span class="n">median</span><span class="o">-</span><span class="n">arg</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span> <span class="p">[</span> <span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">partition_expression</span><span class="p">]</span> <span class="p">)</span>
</pre><p>Is equivalent to:<br/></p>
<pre class="fixed"><span class="n">PERCENTILE_CONT</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span> <span class="n">WITHIN</span> 
  <span class="k">GROUP</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="o">&lt;</span><span class="n">median</span><span class="o">-</span><span class="n">arg</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span> <span class="p">[</span> <span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">partition_expression</span> <span class="p">])</span>
</pre><h2 class="anchored_heading" id="medianexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">book_rating</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">star_rating</span> <span class="n">TINYINT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">book_rating</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Lord of the Ladybirds'</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">book_rating</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Lord of the Ladybirds'</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">book_rating</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Lady of the Flies'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">book_rating</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Lady of the Flies'</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">book_rating</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Lady of the Flies'</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">median</span><span class="p">(</span><span class="n">star_rating</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">name</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">book_rating</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+----------------------------------------------+</span>
<span class="o">|</span> <span class="n">name</span>                  <span class="o">|</span> <span class="n">median</span><span class="p">(</span><span class="n">star_rating</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">name</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+----------------------------------------------+</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span>                                 <span class="mi">4</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span>                                 <span class="mi">4</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span>                                 <span class="mi">2</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span>                                 <span class="mi">2</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span>                                 <span class="mi">2</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+----------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="mediansee-also">See Also</h2>
<ul start="1"><li><a href="#percentile_cont">PERCENTILE_CONT</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="ntile">NTILE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2 mariadb from_10_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">10.2</a></h5><p>The NTILE() function was first introduced with <a href="https://mariadb.com/kb/en/window-functions/">window functions</a> in <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2"><a href="#ntilesyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2"><a href="#ntiledescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2"><a href="#ntileexamples" title="Examples">Examples</a> </li></ol>

</div>
<h2 class="anchored_heading" id="ntilesyntax">Syntax</h2>
<pre class="fixed">NTILE (expr) OVER ( 
  [ PARTITION BY partition_expression ] 
  [ ORDER BY order_list ]
)
</pre><h2 class="anchored_heading" id="ntiledescription">Description</h2>
<p>NTILE() is a <a href="https://mariadb.com/kb/en/window-functions/">window function</a> that returns an integer indicating which group a given row falls into. The number of groups is specified in the argument (<em>expr</em>), starting at one. Ordered rows in the partition are divided into the specified number of groups with as equal a size as possible. </p>
<h2 class="anchored_heading" id="ntileexamples">Examples</h2>
<pre class="fixed"><span class="k">create</span> <span class="k">table</span> <span class="n">t1</span> <span class="p">(</span>
    <span class="n">pk</span> <span class="nb">int</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span>
    <span class="n">a</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">b</span> <span class="nb">int</span>
  <span class="p">);</span>

<span class="k">insert</span> <span class="k">into</span> <span class="n">t1</span> <span class="k">values</span>
    <span class="p">(</span><span class="mi">11</span> <span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">12</span> <span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">13</span> <span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">14</span> <span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">18</span> <span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">15</span> <span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">16</span> <span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">17</span> <span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">19</span> <span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">20</span> <span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>

<span class="k">select</span> <span class="n">pk</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span>
    <span class="n">ntile</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">over</span> <span class="p">(</span><span class="k">order</span> <span class="k">by</span> <span class="n">pk</span><span class="p">)</span>
  <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+------+------+-----------------------------+</span>
<span class="o">|</span> <span class="n">pk</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span> <span class="n">ntile</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">over</span> <span class="p">(</span><span class="k">order</span> <span class="k">by</span> <span class="n">pk</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+-----------------------------+</span>
<span class="o">|</span> <span class="mi">11</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>                           <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">12</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>                           <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">13</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>                           <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">14</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>                           <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">15</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>                           <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">16</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>                           <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">17</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>                           <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">18</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>                           <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">19</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>                           <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">20</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>                           <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+-----------------------------+</span>

<span class="k">select</span> <span class="n">pk</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span>
    <span class="n">ntile</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="n">over</span> <span class="p">(</span><span class="k">order</span> <span class="k">by</span> <span class="n">pk</span><span class="p">)</span>
 <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+------+------+-----------------------------+</span>
<span class="o">|</span> <span class="n">pk</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span> <span class="n">ntile</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="n">over</span> <span class="p">(</span><span class="k">order</span> <span class="k">by</span> <span class="n">pk</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+-----------------------------+</span>
<span class="o">|</span> <span class="mi">11</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>                           <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">12</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>                           <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">13</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>                           <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">14</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>                           <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">15</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>                           <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">16</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>                           <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">17</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>                           <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">18</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>                           <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">19</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>                           <span class="mi">4</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">20</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>                           <span class="mi">4</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+-----------------------------+</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="percent_rank">PERCENT_RANK</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2 mariadb from_10_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">10.2</a></h5><p>The PERCENT_RANK() function was first introduced with <a href="https://mariadb.com/kb/en/window-functions/">window functions</a> in <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2"><a href="#percent_ranksyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2"><a href="#percent_rankdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2"><a href="#percent_rankexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_2"><a href="#percent_ranksee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="percent_ranksyntax">Syntax</h2>
<pre class="fixed">PERCENT_RANK() OVER (
  [ PARTITION BY partition_expression ] 
  [ ORDER BY order_list ]
)
</pre><h2 class="anchored_heading" id="percent_rankdescription">Description</h2>
<p>PERCENT_RANK() is a <a href="https://mariadb.com/kb/en/window-functions/">window function</a> that returns the relative percent rank of a given row. The following formula is used to calculate the percent rank:</p>
<pre class="fixed">(rank - 1) / (number of rows in the window or partition - 1)
</pre><h2 class="anchored_heading" id="percent_rankexamples">Examples</h2>
<pre class="fixed"><span class="k">create</span> <span class="k">table</span> <span class="n">t1</span> <span class="p">(</span>
  <span class="n">pk</span> <span class="nb">int</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span>
  <span class="n">a</span> <span class="nb">int</span><span class="p">,</span>
  <span class="n">b</span> <span class="nb">int</span>
<span class="p">);</span>


<span class="k">insert</span> <span class="k">into</span> <span class="n">t1</span> <span class="k">values</span>
<span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">3</span> <span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">4</span> <span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">8</span> <span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">5</span> <span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">6</span> <span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">7</span> <span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<span class="p">(</span> <span class="mi">9</span> <span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<span class="p">(</span><span class="mi">10</span> <span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>

<span class="k">select</span> <span class="n">pk</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span>
    <span class="n">rank</span><span class="p">()</span> <span class="n">over</span> <span class="p">(</span><span class="k">order</span> <span class="k">by</span> <span class="n">a</span><span class="p">)</span> <span class="k">as</span> <span class="n">rank</span><span class="p">,</span>
    <span class="n">percent_rank</span><span class="p">()</span> <span class="n">over</span> <span class="p">(</span><span class="k">order</span> <span class="k">by</span> <span class="n">a</span><span class="p">)</span> <span class="k">as</span> <span class="n">pct_rank</span><span class="p">,</span>
    <span class="n">cume_dist</span><span class="p">()</span> <span class="n">over</span> <span class="p">(</span><span class="k">order</span> <span class="k">by</span> <span class="n">a</span><span class="p">)</span> <span class="k">as</span> <span class="n">cume_dist</span>
<span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+------+------+------+--------------+--------------+</span>
<span class="o">|</span> <span class="n">pk</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span> <span class="n">rank</span> <span class="o">|</span> <span class="n">pct_rank</span>     <span class="o">|</span> <span class="n">cume_dist</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+------+--------------+--------------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2222222222</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2222222222</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4444444444</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4444444444</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4444444444</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4444444444</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">9</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8888888889</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">10</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span>    <span class="mi">9</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8888888889</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+------+--------------+--------------+</span>

<span class="k">select</span> <span class="n">pk</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span>
       <span class="n">percent_rank</span><span class="p">()</span> <span class="n">over</span> <span class="p">(</span><span class="k">order</span> <span class="k">by</span> <span class="n">pk</span><span class="p">)</span> <span class="k">as</span> <span class="n">pct_rank</span><span class="p">,</span>
       <span class="n">cume_dist</span><span class="p">()</span> <span class="n">over</span> <span class="p">(</span><span class="k">order</span> <span class="k">by</span> <span class="n">pk</span><span class="p">)</span> <span class="k">as</span> <span class="n">cume_dist</span>
<span class="k">from</span> <span class="n">t1</span> <span class="k">order</span> <span class="k">by</span> <span class="n">pk</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+------+------+--------------+--------------+</span>
<span class="o">|</span> <span class="n">pk</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span> <span class="n">pct_rank</span>     <span class="o">|</span> <span class="n">cume_dist</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+--------------+--------------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1111111111</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2222222222</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">3000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">3333333333</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">4444444444</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5555555556</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">6000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">6666666667</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">7000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">7777777778</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">9</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8888888889</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">9000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">10</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+--------------+--------------+</span>

<span class="k">select</span> <span class="n">pk</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span>
        <span class="n">percent_rank</span><span class="p">()</span> <span class="n">over</span> <span class="p">(</span><span class="n">partition</span> <span class="k">by</span> <span class="n">a</span> <span class="k">order</span> <span class="k">by</span> <span class="n">a</span><span class="p">)</span> <span class="k">as</span> <span class="n">pct_rank</span><span class="p">,</span>
        <span class="n">cume_dist</span><span class="p">()</span> <span class="n">over</span> <span class="p">(</span><span class="n">partition</span> <span class="k">by</span> <span class="n">a</span> <span class="k">order</span> <span class="k">by</span> <span class="n">a</span><span class="p">)</span> <span class="k">as</span> <span class="n">cume_dist</span>
<span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+------+------+--------------+--------------+</span>
<span class="o">|</span> <span class="n">pk</span> <span class="o">|</span> <span class="n">a</span>    <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span> <span class="n">pct_rank</span>     <span class="o">|</span> <span class="n">cume_dist</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+--------------+--------------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">9</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">10</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>   <span class="mi">20</span> <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+------+------+--------------+--------------+</span>

</pre><h2 class="anchored_heading" id="percent_ranksee-also">See Also</h2>
<ul start="1"><li><a href="#cume_dist">CUME_DIST()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="percentile_disc">PERCENTILE_DISC</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_3 mariadb from_10_3_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">10.3.3</a></h5><p>The PERCENTILE_DISC() <a href="https://mariadb.com/kb/en/window-functions/">window function</a> was first introduced with in <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">MariaDB 10.3.3</a>.</p>
</div><h2 class="anchored_heading" id="percentile_discsyntax">Syntax</h2>
<div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_3"><a href="#percentile_discsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_3"><a href="#percentile_discdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_3"><a href="#percentile_discexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3_3"><a href="#percentile_discsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="percentile_discdescription">Description</h2>
<p><code>PERCENTILE_DISC()</code> (standing for discrete percentile) is a <a href="https://mariadb.com/kb/en/window-functions/">window function</a> which returns the first value in the set whose ordered position is the same or more than the specified fraction.</p>
<p>Essentially, the following process is followed to find the value to return:</p>
<ul start="1"><li>Get the number of rows in the partition.
</li><li>Walk through the partition, in order, until finding the the first row with <a href="#cume_dist">CUME_DIST()</a> &gt;= function_argument.
</li></ul>
<h2 class="anchored_heading" id="percentile_discexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">book_rating</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">star_rating</span> <span class="n">TINYINT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">book_rating</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Lord of the Ladybirds'</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">book_rating</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Lord of the Ladybirds'</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">book_rating</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Lady of the Flies'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">book_rating</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Lady of the Flies'</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">book_rating</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Lady of the Flies'</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">PERCENTILE_DISC</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span> <span class="n">WITHIN</span> <span class="k">GROUP</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">star_rating</span><span class="p">)</span>
  <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">name</span><span class="p">)</span> <span class="k">AS</span> <span class="n">pc</span> <span class="k">FROM</span> <span class="n">book_rating</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+------+</span>
<span class="o">|</span> <span class="n">name</span>                  <span class="o">|</span> <span class="n">pc</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+------+</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+------+</span>
<span class="mi">5</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">PERCENTILE_DISC</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="n">WITHIN</span> <span class="k">GROUP</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">star_rating</span><span class="p">)</span> 
 <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">name</span><span class="p">)</span> <span class="k">AS</span> <span class="n">pc</span> <span class="k">FROM</span> <span class="n">book_rating</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+------+</span>
<span class="o">|</span> <span class="n">name</span>                  <span class="o">|</span> <span class="n">pc</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+------+</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+------+</span>
<span class="mi">5</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">PERCENTILE_DISC</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">WITHIN</span> <span class="k">GROUP</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">star_rating</span><span class="p">)</span> 
  <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">name</span><span class="p">)</span> <span class="k">AS</span> <span class="n">pc</span> <span class="k">FROM</span> <span class="n">book_rating</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+------+</span>
<span class="o">|</span> <span class="n">name</span>                  <span class="o">|</span> <span class="n">pc</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+------+</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+------+</span>
<span class="mi">5</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">PERCENTILE_DISC</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">6</span><span class="p">)</span> <span class="n">WITHIN</span> <span class="k">GROUP</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">star_rating</span><span class="p">)</span> 
  <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">name</span><span class="p">)</span> <span class="k">AS</span> <span class="n">pc</span> <span class="k">FROM</span> <span class="n">book_rating</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+------+</span>
<span class="o">|</span> <span class="n">name</span>                  <span class="o">|</span> <span class="n">pc</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+------+</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span>    <span class="mi">5</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+------</span>
</pre><h2 class="anchored_heading" id="percentile_discsee-also">See Also</h2>
<ul start="1"><li><a href="#cume_dist">CUME_DIST()</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="percentile_cont">PERCENTILE_CONT</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_3_3 mariadb from_10_3_3 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">10.3.3</a></h5><p>The PERCENTILE_CONT() <a href="https://mariadb.com/kb/en/window-functions/">window function</a> was first introduced with in <a href="https://mariadb.com/kb/en/mariadb-1033-release-notes/">MariaDB 10.3.3</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_3_3"><a href="#percentile_contsyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_3_3"><a href="#percentile_contdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_3_3"><a href="#percentile_contexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_3_3"><a href="#percentile_contsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="percentile_contsyntax">Syntax</h2>
<h2 class="anchored_heading" id="percentile_contdescription">Description</h2>
<p><code>PERCENTILE_CONT()</code> (standing for continuous percentile) is a <a href="https://mariadb.com/kb/en/window-functions/">window function</a> which returns a value which corresponds to the given fraction in the sort order. If required, it will interpolate between adjacent input items.</p>
<p>Essentially, the following process is followed to find the value to return:</p>
<ul start="1"><li>Get the number of rows in the partition, denoted by N
</li><li>RN = p*(N-1), where p denotes the argument to the PERCENTILE_CONT function
</li><li>calculate the FRN(floor row number) and CRN(column row number for the group( FRN= floor(RN) and CRN = ceil(RN))
</li><li>look up rows FRN and CRN
</li><li>If (CRN = FRN = RN) then the result is (value of expression from row at RN)
</li><li>Otherwise the result is
</li><li>(CRN - RN) * (value of expression for row at FRN) +
</li><li>(RN - FRN) * (value of expression for row at CRN)
</li></ul>
<p>The <a href="#median">MEDIAN function</a> is a specific case of <code>PERCENTILE_CONT</code>, equivalent to <code>PERCENTILE_CONT(0.5)</code>.</p>
<h2 class="anchored_heading" id="percentile_contexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">book_rating</span> <span class="p">(</span><span class="n">name</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">star_rating</span> <span class="n">TINYINT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">book_rating</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Lord of the Ladybirds'</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">book_rating</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Lord of the Ladybirds'</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">book_rating</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Lady of the Flies'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">book_rating</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Lady of the Flies'</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">book_rating</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Lady of the Flies'</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">PERCENTILE_CONT</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span> <span class="n">WITHIN</span> <span class="k">GROUP</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">star_rating</span><span class="p">)</span> 
  <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">name</span><span class="p">)</span> <span class="k">AS</span> <span class="n">pc</span> 
  <span class="k">FROM</span> <span class="n">book_rating</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+--------------+</span>
<span class="o">|</span> <span class="n">name</span>                  <span class="o">|</span> <span class="n">pc</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+--------------+</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span> <span class="mi">4</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span> <span class="mi">4</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+--------------+</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">PERCENTILE_CONT</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">WITHIN</span> <span class="k">GROUP</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">star_rating</span><span class="p">)</span> 
  <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">name</span><span class="p">)</span> <span class="k">AS</span> <span class="n">pc</span> 
  <span class="k">FROM</span> <span class="n">book_rating</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+--------------+</span>
<span class="o">|</span> <span class="n">name</span>                  <span class="o">|</span> <span class="n">pc</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+--------------+</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span> <span class="mi">5</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span> <span class="mi">5</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span> <span class="mi">5</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span> <span class="mi">5</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span> <span class="mi">5</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+--------------+</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">PERCENTILE_CONT</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="n">WITHIN</span> <span class="k">GROUP</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">star_rating</span><span class="p">)</span> 
  <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">name</span><span class="p">)</span> <span class="k">AS</span> <span class="n">pc</span> 
  <span class="k">FROM</span> <span class="n">book_rating</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+--------------+</span>
<span class="o">|</span> <span class="n">name</span>                  <span class="o">|</span> <span class="n">pc</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+--------------+</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span> <span class="mi">3</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span> <span class="mi">3</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0000000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+--------------+</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">PERCENTILE_CONT</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">6</span><span class="p">)</span> <span class="n">WITHIN</span> <span class="k">GROUP</span> <span class="p">(</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">star_rating</span><span class="p">)</span> 
  <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">name</span><span class="p">)</span> <span class="k">AS</span> <span class="n">pc</span> 
  <span class="k">FROM</span> <span class="n">book_rating</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------+--------------+</span>
<span class="o">|</span> <span class="n">name</span>                  <span class="o">|</span> <span class="n">pc</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+--------------+</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span> <span class="mi">4</span><span class="p">.</span><span class="mi">2000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lord</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Ladybirds</span> <span class="o">|</span> <span class="mi">4</span><span class="p">.</span><span class="mi">2000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span> <span class="mi">2</span><span class="p">.</span><span class="mi">6000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span> <span class="mi">2</span><span class="p">.</span><span class="mi">6000000000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Lady</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Flies</span>     <span class="o">|</span> <span class="mi">2</span><span class="p">.</span><span class="mi">6000000000</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+--------------+</span>
</pre><h2 class="anchored_heading" id="percentile_contsee-also">See Also</h2>
<ul start="1"><li><a href="#median">MEDIAN()</a> - a special case of <code>PERCENTILE_CONT</code> equivalent to <code>PERCENTILE_CONT(0.5)</code></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="rank">RANK</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2 mariadb from_10_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">10.2</a></h5><p>The RANK() function was first introduced with <a href="https://mariadb.com/kb/en/window-functions/">window functions</a> in <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2"><a href="#ranksyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2"><a href="#rankdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2"><a href="#rankexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_2"><a href="#ranksee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="ranksyntax">Syntax</h2>
<pre class="fixed">RANK() OVER (
  [ PARTITION BY partition_expression ]
  [ ORDER BY order_list ]
) 
</pre><h2 class="anchored_heading" id="rankdescription">Description</h2>
<p>RANK() is a <a href="https://mariadb.com/kb/en/window-functions/">window function</a> that displays the number of a given row, starting at one and following the <a href="#order-by">ORDER BY</a> sequence of the window function, with identical values receiving the same result. It is similar to the <a href="#row_number">ROW_NUMBER()</a> function except that in that function, identical values will receive a different row number for each result.</p>
<h2 class="anchored_heading" id="rankexamples">Examples</h2>
<p>The distinction between <a href="#dense_rank">DENSE_RANK()</a>, RANK() and <a href="#row_number">ROW_NUMBER()</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">student</span><span class="p">(</span><span class="n">course</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">mark</span> <span class="nb">int</span><span class="p">,</span> <span class="n">name</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="s1">'Maths'</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="s1">'Thulile'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Maths'</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="s1">'Pritha'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Maths'</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="s1">'Voitto'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Maths'</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="s1">'Chun'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Biology'</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="s1">'Bilal'</span><span class="p">),</span>
   <span class="p">(</span><span class="s1">'Biology'</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="s1">'Roger'</span><span class="p">);</span>

<span class="k">SELECT</span> 
  <span class="n">RANK</span><span class="p">()</span> <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">course</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">mark</span> <span class="k">DESC</span><span class="p">)</span> <span class="k">AS</span> <span class="n">rank</span><span class="p">,</span> 
  <span class="n">DENSE_RANK</span><span class="p">()</span> <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">course</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">mark</span> <span class="k">DESC</span><span class="p">)</span> <span class="k">AS</span> <span class="n">dense_rank</span><span class="p">,</span> 
  <span class="n">ROW_NUMBER</span><span class="p">()</span> <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">course</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">mark</span> <span class="k">DESC</span><span class="p">)</span> <span class="k">AS</span> <span class="n">row_num</span><span class="p">,</span> 
  <span class="n">course</span><span class="p">,</span> <span class="n">mark</span><span class="p">,</span> <span class="n">name</span> 
<span class="k">FROM</span> <span class="n">student</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">course</span><span class="p">,</span> <span class="n">mark</span> <span class="k">DESC</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------------+---------+---------+------+---------+</span>
<span class="o">|</span> <span class="n">rank</span> <span class="o">|</span> <span class="n">dense_rank</span> <span class="o">|</span> <span class="n">row_num</span> <span class="o">|</span> <span class="n">course</span>  <span class="o">|</span> <span class="n">mark</span> <span class="o">|</span> <span class="n">name</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------+---------+---------+------+---------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span>       <span class="mi">1</span> <span class="o">|</span> <span class="n">Biology</span> <span class="o">|</span>   <span class="mi">70</span> <span class="o">|</span> <span class="n">Roger</span>   <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>          <span class="mi">2</span> <span class="o">|</span>       <span class="mi">2</span> <span class="o">|</span> <span class="n">Biology</span> <span class="o">|</span>   <span class="mi">60</span> <span class="o">|</span> <span class="n">Bilal</span>   <span class="o">|</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span>       <span class="mi">1</span> <span class="o">|</span> <span class="n">Maths</span>   <span class="o">|</span>   <span class="mi">70</span> <span class="o">|</span> <span class="n">Voitto</span>  <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>          <span class="mi">2</span> <span class="o">|</span>       <span class="mi">2</span> <span class="o">|</span> <span class="n">Maths</span>   <span class="o">|</span>   <span class="mi">60</span> <span class="o">|</span> <span class="n">Thulile</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>          <span class="mi">2</span> <span class="o">|</span>       <span class="mi">3</span> <span class="o">|</span> <span class="n">Maths</span>   <span class="o">|</span>   <span class="mi">60</span> <span class="o">|</span> <span class="n">Pritha</span>  <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>          <span class="mi">3</span> <span class="o">|</span>       <span class="mi">4</span> <span class="o">|</span> <span class="n">Maths</span>   <span class="o">|</span>   <span class="mi">55</span> <span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------+---------+---------+------+---------+</span>
</pre><h2 class="anchored_heading" id="ranksee-also">See Also</h2>
<ul start="1"><li><a href="#dense_rank">DENSE_RANK()</a>
</li><li><a href="#row_number">ROW_NUMBER()</a>
</li><li><a href="#order-by">ORDER BY</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="row_number">ROW_NUMBER</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<div class="mariadb_from_10_2 mariadb from_10_2 product"><h5 class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">10.2</a></h5><p>ROW_NUMBER() was first introduced with <a href="https://mariadb.com/kb/en/window-functions/">window functions</a> in <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a>.</p>
</div><div class="table_of_contents well well-small">
<h3>Contents</h3>
<ol class="toc">
<li class="mariadb_from_10_2"><a href="#row_numbersyntax" title="Syntax">Syntax</a></li>
<li class="mariadb_from_10_2"><a href="#row_numberdescription" title="Description">Description</a></li>
<li class="mariadb_from_10_2"><a href="#row_numberexamples" title="Examples">Examples</a></li>
<li class="mariadb_from_10_2"><a href="#row_numbersee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="row_numbersyntax">Syntax</h2>
<pre class="fixed">ROW_NUMBER() OVER (
  [ PARTITION BY partition_expression ]
  [ ORDER BY order_list ]
) 
</pre><h2 class="anchored_heading" id="row_numberdescription">Description</h2>
<p>ROW_NUMBER() is a <a href="https://mariadb.com/kb/en/window-functions/">window function</a> that displays the number of a given row, starting at one and following the <a href="#order-by">ORDER BY</a> sequence of the window function, with identical values receiving different row numbers. It is similar to the <a href="#rank">RANK()</a> and <a href="#dense_rank">DENSE_RANK()</a> functions except that in that function, identical values will receive the same rank for each result.</p>
<h2 class="anchored_heading" id="row_numberexamples">Examples</h2>
<p>The distinction between <a href="#dense_rank">DENSE_RANK()</a>, <a href="#rank">RANK()</a> and ROW_NUMBER():</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">student</span><span class="p">(</span><span class="n">course</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">mark</span> <span class="nb">int</span><span class="p">,</span> <span class="n">name</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">student</span> <span class="k">VALUES</span> 
  <span class="p">(</span><span class="s1">'Maths'</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="s1">'Thulile'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Maths'</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="s1">'Pritha'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Maths'</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="s1">'Voitto'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Maths'</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="s1">'Chun'</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">'Biology'</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="s1">'Bilal'</span><span class="p">),</span>
   <span class="p">(</span><span class="s1">'Biology'</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="s1">'Roger'</span><span class="p">);</span>

<span class="k">SELECT</span> 
  <span class="n">RANK</span><span class="p">()</span> <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">course</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">mark</span> <span class="k">DESC</span><span class="p">)</span> <span class="k">AS</span> <span class="n">rank</span><span class="p">,</span> 
  <span class="n">DENSE_RANK</span><span class="p">()</span> <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">course</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">mark</span> <span class="k">DESC</span><span class="p">)</span> <span class="k">AS</span> <span class="n">dense_rank</span><span class="p">,</span> 
  <span class="n">ROW_NUMBER</span><span class="p">()</span> <span class="n">OVER</span> <span class="p">(</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">course</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">mark</span> <span class="k">DESC</span><span class="p">)</span> <span class="k">AS</span> <span class="n">row_num</span><span class="p">,</span> 
  <span class="n">course</span><span class="p">,</span> <span class="n">mark</span><span class="p">,</span> <span class="n">name</span> 
<span class="k">FROM</span> <span class="n">student</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">course</span><span class="p">,</span> <span class="n">mark</span> <span class="k">DESC</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------------+---------+---------+------+---------+</span>
<span class="o">|</span> <span class="n">rank</span> <span class="o">|</span> <span class="n">dense_rank</span> <span class="o">|</span> <span class="n">row_num</span> <span class="o">|</span> <span class="n">course</span>  <span class="o">|</span> <span class="n">mark</span> <span class="o">|</span> <span class="n">name</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------+---------+---------+------+---------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span>       <span class="mi">1</span> <span class="o">|</span> <span class="n">Biology</span> <span class="o">|</span>   <span class="mi">70</span> <span class="o">|</span> <span class="n">Roger</span>   <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>          <span class="mi">2</span> <span class="o">|</span>       <span class="mi">2</span> <span class="o">|</span> <span class="n">Biology</span> <span class="o">|</span>   <span class="mi">60</span> <span class="o">|</span> <span class="n">Bilal</span>   <span class="o">|</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span>       <span class="mi">1</span> <span class="o">|</span> <span class="n">Maths</span>   <span class="o">|</span>   <span class="mi">70</span> <span class="o">|</span> <span class="n">Voitto</span>  <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>          <span class="mi">2</span> <span class="o">|</span>       <span class="mi">2</span> <span class="o">|</span> <span class="n">Maths</span>   <span class="o">|</span>   <span class="mi">60</span> <span class="o">|</span> <span class="n">Thulile</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>          <span class="mi">2</span> <span class="o">|</span>       <span class="mi">3</span> <span class="o">|</span> <span class="n">Maths</span>   <span class="o">|</span>   <span class="mi">60</span> <span class="o">|</span> <span class="n">Pritha</span>  <span class="o">|</span>
<span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>          <span class="mi">3</span> <span class="o">|</span>       <span class="mi">4</span> <span class="o">|</span> <span class="n">Maths</span>   <span class="o">|</span>   <span class="mi">55</span> <span class="o">|</span> <span class="n">Chun</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------------+---------+---------+------+---------+</span>
</pre><h2 class="anchored_heading" id="row_numbersee-also">See Also</h2>
<ul start="1"><li><a href="#rank">RANK()</a>
</li><li><a href="#dense_rank">DENSE_RANK()</a>
</li><li><a href="#order-by">ORDER BY</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="spider_bg_direct_sql">SPIDER_BG_DIRECT_SQL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SPIDER_BG_DIRECT_SQL('sql', 'tmp_table_list', 'parameters')
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Executes the given SQL statement in the background on the remote server, as defined in the parameters listing.  If the query returns a result-set, it sttores the results in the given temporary table.  When the given SQL statement executes successfully, this function returns the number of called UDF's.  It returns <code>0</code> when the given SQL statement fails.</p>
<p>This function is a <a href="https://mariadb.com/kb/en/user-defined-functions/">UDF</a> installed with the <a href="https://mariadb.com/kb/en/spider/">Spider</a> storage engine.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT SPIDER_BG_DIRECT_SQL('SELECT * FROM example_table',  '', 
   'srv "node1", port "8607"') AS "Direct Query";
+--------------+
| Direct Query | 
+--------------+
|            1 |
+--------------+
</pre><h2 class="anchored_heading" id="parameters">Parameters</h2>
<h4 class="anchored_heading" id="error_rw_mode"><code>error_rw_mode</code></h4>
<ul start="1"><li><strong>Description:</strong> Returns empty results on network error.
<ul start="1"><li><code>0</code> : Return error on getting network error.
</li><li><code>1</code>: Return 0 records on getting network error.
</li></ul>
</li><li><strong>Default Table Value:</strong> <code>0</code>
</li><li><strong>DSN Parameter Name:</strong> <code>erwm</code>
</li></ul>
<h2 class="anchored_heading" id="see-also">See also</h2>
<ul start="1"><li><a href="#spider_direct_sql">SPIDER_DIRECT_SQL</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="spider_copy_tables">SPIDER_COPY_TABLES</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SPIDER_COPY_TABLES(spider_table_name, 
  source_link_id, destination_link_id_list [,parameters])
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A <a href="https://mariadb.com/kb/en/user-defined-functions/">UDF</a> installed with the <a href="https://mariadb.com/kb/en/spider/">Spider Storage Engine</a>, this function copies table data from <code>source_link_id</code> to <code>destination_link_id_list</code>. The service does not need to be stopped in order to copy.</p>
<p>If the Spider table is partitioned, the name must be of the format <code>table_name#P#partition_name</code>. The partition name can be viewed in the <code>mysql.spider_tables</code> table, for example:</p>
<pre class="fixed">SELECT table_name FROM mysql.spider_tables;
+-------------+
| table_name  |
+-------------+
| spt_a#P#pt1 |
| spt_a#P#pt2 |
| spt_a#P#pt3 |
+-------------+
</pre><p>Returns <code>1</code> if the data was copied successfully, or <code>0</code> if copying the data failed.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="spider_direct_sql">SPIDER_DIRECT_SQL</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">SPIDER_DIRECT_SQL('sql', 'tmp_table_list', 'parameters')
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>A <a href="https://mariadb.com/kb/en/user-defined-functions/">UDF</a> installed with the <a href="https://mariadb.com/kb/en/spider/">Spider Storage Engine</a>, this function is used to execute the SQL string <code>sql</code> on the remote server, as defined in <code>parameters</code>. If any resultsets are returned, they are stored in the <code>tmp_table_list</code>.</p>
<p>The function returns <code>1</code> if the SQL executes successfully, or <code>0</code> if it fails.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed">SELECT SPIDER_DIRECT_SQL('SELECT * FROM s', '', 'srv "node1", port "8607"');
+----------------------------------------------------------------------+
| SPIDER_DIRECT_SQL('SELECT * FROM s', '', 'srv "node1", port "8607"') |
+----------------------------------------------------------------------+
|                                                                    1 |
+----------------------------------------------------------------------+
</pre><h2 class="anchored_heading" id="see-also">See also</h2>
<ul start="1"><li><a href="#spider_bg_direct_sql">SPIDER_BG_DIRECT_SQL</a></li></ul>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="column_add">COLUMN_ADD</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">COLUMN_ADD(dyncol_blob, column_nr, value [as type], [column_nr, value [as type]]...);
COLUMN_ADD(dyncol_blob, column_name, value [as type], [column_name, value [as type]]...);
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Adds or updates <a href="https://mariadb.com/kb/en/dynamic-columns/">dynamic columns</a>.</p>
<ul start="1"><li><strong><code>dyncol_blob</code></strong> must be either a valid dynamic columns blob (for example, <code>COLUMN_CREATE</code> returns such blob), or an empty string.
</li><li><strong><code>column_name</code></strong> specifies the name of the column to be added. If <code>dyncol_blob</code> already has a column with this name, it will be overwritten.
</li><li><strong><code>value</code></strong> specifies the new value for the column.  Passing a NULL value will cause the column to be deleted.
</li><li><strong><code>as type</code></strong> is optional. See <a href="#column_adddatatypes">#datatypes</a> section for a discussion about types.
</li></ul>
<p>The return value is a dynamic column blob after the modifications.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed indent1"><span class="k">UPDATE</span> <span class="n">t1</span> <span class="k">SET</span> <span class="n">dyncol_blob</span><span class="o">=</span><span class="n">COLUMN_ADD</span><span class="p">(</span><span class="n">dyncol_blob</span><span class="p">,</span> <span class="ss">"column_name"</span><span class="p">,</span> <span class="ss">"value"</span><span class="p">)</span> <span class="k">WHERE</span> <span class="n">id</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</pre><p>Note: <code>COLUMN_ADD()</code> is a regular function (just like
<code><a href="#concat">CONCAT()</a></code>), hence, in order to update the value in the table
you have to use the <code>UPDATE ... SET dynamic_col=COLUMN_ADD(dynamic_col,
....) </code> pattern.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="column_create">COLUMN_CREATE</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">COLUMN_CREATE(column_nr, value [as type], [column_nr, value [as type]]...);
COLUMN_CREATE(column_name, value [as type], [column_name, value [as type]]...);
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a <a href="https://mariadb.com/kb/en/dynamic-columns/">dynamic columns</a> blob that stores the specified columns with values.</p>
<p>The return value is suitable for </p>
<ul start="1"><li>storing in a table
</li><li>further modification with other dynamic columns functions
</li></ul>
<p>The <strong><code>as type</code></strong> part allows one to specify the value type. In most cases,
this is redundant because MariaDB will be able to deduce the type of the
value. Explicit type specification may be needed when the type of the value is
not apparent. For example, a literal <code>'2012-12-01'</code> has a CHAR type by
default, one will need to specify <code>'2012-12-01' AS DATE</code> to have it stored as
a date. See <a href="https://mariadb.com/kb/en/dynamic-columns/#datatypes">Dynamic Columns:Datatypes</a> for further details.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tbl</span> <span class="k">SET</span> <span class="n">dyncol_blob</span><span class="o">=</span><span class="n">COLUMN_CREATE</span><span class="p">(</span><span class="ss">"column_name"</span><span class="p">,</span> <span class="ss">"value"</span><span class="p">);</span>
</pre>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="column_get">COLUMN_GET</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">COLUMN_GET(dyncol_blob, column_nr as type);
COLUMN_GET(dyncol_blob, column_name as type);
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Gets the value of a <a href="https://mariadb.com/kb/en/dynamic-columns/">dynamic column</a> by its name. If no column with the given name exists, <code>NULL</code> will be returned.</p>
<p><strong><code>column_name as type</code></strong> requires that one specify the datatype of the dynamic column they are reading. </p>
<p>This may seem counter-intuitive: why would one need to specify which datatype they're retrieving? Can't the dynamic columns system figure the datatype from the data being stored?</p>
<p>The answer is: SQL is a statically-typed language. The SQL interpreter needs to know the datatypes of all expressions before the query is run (for example, when one is using prepared statements and runs <code>"select COLUMN_GET(...)"</code>, the prepared statement API requires the server to inform the client about the datatype of the column being read before the query is executed and the server can see what datatype the column actually has).</p>
<h3 class="anchored_heading" id="lengths">Lengths</h3>
<p>If you're running queries like:</p>
<pre class="fixed">SELECT COLUMN_GET(blob, 'colname' as CHAR) ...
</pre><p>without specifying a maximum length (i.e. using <code>as CHAR</code>, not <code>as CHAR(n)</code>), MariaDB will report the maximum length of the resultset column to be 53,6870,911 for <a href="https://mariadb.com/kb/en/what-is-mariadb-53/">MariaDB 5.3</a>-10.0.0 and 16,777,216 for <a href="https://mariadb.com/kb/en/mariadb-1001-release-notes/">MariaDB 10.0.1</a>+. This may cause excessive memory usage in some client libraries, because they try to pre-allocate a buffer of maximum resultset width. To avoid this problem, use CHAR(n) whenever you're using COLUMN_GET in the select list.</p>
<p>See <a href="https://mariadb.com/kb/en/dynamic-columns/#datatypes">Dynamic Columns:Datatypes</a> for more information about datatypes.</p>
</div>




</div>

</div>
</section><section class="limited_width col-md-8 clearfix" id="content">
<h1 id="column_json">COLUMN_JSON</h1>
<div>
<div class="node creole">
<div class="answer formatted">
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">COLUMN_JSON(dyncol_blob)
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>Returns a JSON representation of data in <code>dyncol_blob</code>. Can also be used to display nested columns. See <a href="https://mariadb.com/kb/en/dynamic-columns/">dynamic columns</a> for more information.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<pre class="fixed"><span class="code_highlight">select item_name, COLUMN_JSON(dynamic_cols) from assets;</span>
+-----------------+----------------------------------------+
| item_name       | COLUMN_JSON(dynamic_cols)              |
+-----------------+----------------------------------------+
| MariaDB T-shirt | {"size":"XL","color":"blue"}           |
| Thinkpad Laptop | {"color":"black","warranty":"3 years"} |
+-----------------+----------------------------------------+
</pre><p>Limitation: <code>COLUMN_JSON</code> will decode nested dynamic columns at a nesting level of not more than 10 levels deep. Dynamic columns that are nested deeper than 10 levels will be shown as BINARY string, without encoding.</p>
</div>




</div>

</div>
</section>    </body>
</html>