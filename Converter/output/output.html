<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>MariaDB Server Documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="https://mariadb.com/kb/static/css/main.9a0d7dcebefd.css" rel="stylesheet" type="text/css" />
        <style>
            body {
                font-family: "Helvetica-Neue"; /* Changes PDF Font */
            }
            .pdfhorizontal_dotted_line {
                position: relative;
            }
            .pdfhorizontal_dotted_line span {
                display: inline-block;
                background: #fff;
                position: relative;
                z-index: 1;
            }
            .pdfhorizontal_dotted_line:after {
                content: '';
                position: absolute;
                margin-right: 0;
                top: 70%;
                left: 0;
                right: 0;
                z-index: -1;
                border-top: 2px dotted black;
            }
    
            a[href ^= "http"]:after {
                content: " " url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAVklEQVR4Xn3PgQkAMQhDUXfqTu7kTtkpd5RA8AInfArtQ2iRXFWT2QedAfttj2FsPIOE1eCOlEuoWWjgzYaB/IkeGOrxXhqB+uA9Bfcm0lAZuh+YIeAD+cAqSz4kCMUAAAAASUVORK5CYII=);    
            }
            a[class=""]:after {
                content: ""
            }   
        </style>
    </head>
    <body class = "mpkb nodes products nodes_view jqui">
<img style="margin-top: 250;" src="C:\Users\dorje\git_repos\mariadb-pdf\Converter\cover_images\2022-04.png"><div style = "page-break-after:always;"></div>


<h3>Licence</h1>
<br>
<p>The Knowledge Base content from which this pdf is generated is either licensed under the terms of the  <a href="gnu-general-public-license-version-2">GPL, version 2</a>, originally generated from the server fill_help_tables.sql file, or both of the following two licenses:</p>
<ul start="1"><li>The <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution/ShareAlike 3.0 Unported</a> license (CC-BY-SA).
</li><li>The <a href="http://www.gnu.org/copyleft/fdl.html">Gnu FDL</a> license (GFDL or FDL).
</li></ul>
<p>Please seek proper legal advice if you are in any doubt about what you are and are not allowed to do with material released under these licenses.</p>

<p class="front_page_small">If you find any errors, please see <a href="https://mariadb.com/kb/en/reporting-documentation-bugs/">Reporting Documentation Bugs</a></p>

<p class="front_page_small">Generated from the <a href="https://mariadb.com/kb/en/documentation/">MariaDB Knowledge Base</a> on 2022-04-11</p>

<!--"https://mariadb.com/kb/en/mariadb-community-bug-reporting/"
"#mariadb-community-bug-reporting"-->
<div style = "page-break-after:always;"></div>
<h3>Preface</h3>
<p>If you’re contemplating whether to devote some time to this book, read this:</p>
<ul>
<li>MariaDB Server is a general-purpose, open source, relational database management system, optimised for performance and easy usabiility; it has its roots in MySQL Server, and is an alternative to Postgres, Oracle Database and other relational and NoSQL databases</li>
<li>This book is the full documentation on MariaDB Server, a “Reference Manual Plus” which includes aspects of a User’s Guide; it is based on the contents of the MariaDB Knowledge base (<a href="https://mariadb.com/kb/">https://mariadb.com/kb/</a>), an open, community-edited site contributed to since the inception of MariaDB in 2009</li>
<li>This edition is not specific to any version of MariaDB Server, but includes functionality up to MariaDB 10.9</li>
</ul>
</p>
<p>
This preface describes the goals, structure and contents of the documentation. Reading it is intended as a helpful step in understanding how to best use the manual to improve productivity in using MariaDB Server.
</p>
<h4>This Book’s “Prehistory”</h4>
<p>
As noted, MariaDB Server has its roots in MySQL Server. It started as a fork of MySQL Server, using the same GPLv2 license. However, although the MySQL Server documentation was always publicly available, it was never released using a free documentation license. This means that the documentation of MariaDB Server was created from scratch. Or rather, from the online help texts, which had a compatible open licence that made them usable as a starting point.
</p>
<p>
The place to which documentation was written was labelled the “Knowledge Base”, by MySQL and MariaDB creator Michael “Monty” Widenius. The Knowledge Base was – and remains – a community effort. As with many community efforts, there are core contributors around whom the work is centered. This is where Daniel Bartholomew loaded the online help text, as a first seed. For roughly the last ten years, the core editor of the MariaDB Knowledge Base has been Ian Gilfillan, working for MariaDB Foundation and based in South Africa. Hence, his name is on the cover of the book. However, there are a large number of other contributors, many of whom come from MariaDB Corporation – both as developers of code and as documentation writers. They are listed on <a href="https://mariadb.com/kb/stats/users/">https://mariadb.com/kb/stats/users/</a>.
</p>
<p>
With now some 3000 pages in this book, most of the initial holes in the documentation have been filled. There should now be no reason to do as in the very early days of MariaDB Server – namely look up MariaDB features in the MySQL documentation. On the contrary, the functionality of the two databases have diverged considerably, so you would be ill advised not to use this MariaDB Server specific documentation.
</p>
 
<h4>About This First Edition</h4>
<p>
This is the first edition of the MariaDB Server Documentation as a PDF file. Prior to this, the contents were accessible as individual Knowledge Base (KB) articles. But already in 2014 – over seven years ago – the user base requested a PDF version, as seen by MariaDB’s Jira entry <a href="https://jira.mariadb.org/browse/MDEV-6881">https://jira.mariadb.org/browse/MDEV-6881</a> MariaDB Documentation improvements. There, user Stoykov points out that MariaDB documentation already has search capabilities and a way to mirror the KB in an offline version – but lacks downloadable PDF and EPUB versions,
</p>
<p>
Fast forward some seven years and a number of upvotes and watchers, we decided to devote resources to it. Creating a PDF from an HTML file is something Python is good at, and Dorje Gilfillan did all the tweaking necessary to merge the individual KB pages into one huge HTML file for PDF conversion.
</p>
<h4>This Book’s Structure</h4>

<p>With this being the first PDF edition, we had to impose a chapter structure on the book which is only indirectly visible from a collection of KB articles on the web. This means that the work in compiling the PDF wasn’t just about merging many KB pages in an order that could be derived from the hierarchical pointers between the articles. It also involved cleaning up that structure.</p>

<p>As a result, you will see two tables of contents. One is a one-pager overview with just the two top levels of hierarchy. The other is over 30 pages long. True to the Open Source mantra of “release early, release often”, we believe that the structure can still be improved upon – but it is a good starting point. We have seven overall chapters, and the structures below them all make sense at some level.</p>

<p>To get the most out of the book, we recommend you to spend time making yourself familiar with the table of contents. It will give you an idea of existing functionality. Just browsing it through may give you ideas of commands you didn't know existed.</p>

<h4>This Book’s Format</h4>

<p>There is currently just one version of the book. It’s delivered in the PDF format, and in the Golden Ratio aspect ratio – meaning, A4. As we envision it to be read mostly on-screen anyway, we wanted to avoid the additional complexity of also providing a US Letter format. If we meet demand for further versions, doing US Letter is of course an option; however, given there are many ways to improve the documentation, we would also like to understand how adding another aspect ratio of the PDF would benefit the users in practice.</p>

<p>We don’t yet provide the ePub format. Again, if you desire ePub, please educate us as to what added benefits you expect of ePub on top of PDF.</p>

 
<h4>Use Cases For This Book</h4>

<p>We expect the main use case for the PDF version of the book to be offline access. Offline may be imposed by a flaky or non-existent internet, but also by self-imposed abstinence from the many distractions of being online.</p>

<p>We expect that browsing the PDF will enable concentrated time to be spent on learning about MariaDB Server. The search functionality of PDF browsers helps in finding out about commands and syntax you already know of; browsing through a PDF – in particular the clickable Table of Contents – will hopefully provide you with an educational overview better than the online KB does.</p>

<p>We expect downloading the manual into laptops, tablets and phones will make sense. If you have the MariaDB Server Documentation on your phone, you can turn waiting time into something productive, perhaps even fun.</p>

<h4>What we should work on</h4>

<p>This being the First Edition of the MariaDB Server Documentation in PDF format, we have lots of room for improvement. That said, our foremost goal now is to get the book out, to get it used. Only when we start getting user feedback will we know the right priority for our already existing ideas for improvements. We will likely get other requests beyond what we currently have in mind.</p>

<p>In the area of basic usability, an index has been spoken about. Looking up commands through searches or through browsing the table of contents is ok, but an index also has use cases. Our plan here starts from automatic indexing based on keywords of the headers of individual articles.</p>

<p>In the area of layout, we are looking at finding icons that make the PDF look more like a book, and less like a web page. We already solved the first issue, which was to find a clearer visual distinction between links within the PDF and links to the web.</p>

<p>In the area of structure, the length of individual chapters varies a lot. It may make sense to move around chapters in the TOC tree, to be more balanced. It may be that the reader expects another ordering based on experiences from other databases. It may even be that we lack entire topics, even if they are available in the KB. For instance, we eliminated the Release Notes for now.</p>

<p>In the area of accessibility, there may be places we should publish the PDF to make it easier to find, download, and use.</p>

<p>The common denominator for all of the above is that we need your feedback on what makes sense for you as a user of MariaDB Server.</p>

<h4>Give Us Feedback</h4>

<p>We would like to pick the brains of individual users. At conferences, asking open-ended questions is easy and feels productive for both parties, when meeting in the corridors between talks. Replicating the same productive discussion on-line is much harder. It takes effort from both parties. It feels like work.</p>

<p>We are still looking for the best way for you to give us meaningful feedback. Feel free to approach us over Zulip (<a href="https://mariadb.zulipchat.com/">https://mariadb.zulipchat.com/</a> – the Documentation topic). Also email to foundation@mariadb.org will find its way to us.</p>

<p>When you find individual bugs, please enter them into Jira using the guidelines mentioned in the KB article <a href="https://mariadb.com/kb/en/reporting-documentation-bugs/">https://mariadb.com/kb/en/reporting-documentation-bugs/</a>.</p>

<h4>Acknowledgements</h4>

<p>Compiling any book requires more effort than expected by the authors, and more than visible to the readers. This book is no exception. It has been over ten years in the making.</p>

<p>The primary thanks go to Ian Gilfillan, as the overall editor of the book and as the individually most productive author.</p>

<p>Close to Ian, we have Daniel Bartholomew. Daniel even beats Ian when it comes to articles created, and comes second on articles edited.</p>

<p>Among the community contributors, we want to highlight Federico Razzoli. He has two accounts, totalling 4488, at the time of writing – making him rank third amongst personal contributors.</p>

<p>When it comes to organisational contributors, the largest one is MariaDB Corporation. With them coding most of the features, they also stand for the lion’s share of their documentation. As writers, besides Daniel Bartholomew whom we already mentioned several times, we want to highlight Russell Dyer, Kenneth Dyer, Geoff Montee, and Jacob Moorman.</p>

<p>As the developer of the KB software itself, Bryan Alsdorf deserves special acknowledgement.</p>

<p>A special  thanks goes to Michael “Monty” Widenius, the creator of MariaDB. Monty has always understood the importance of documentation. He is leading by example, with a large number of personal edits. In fact, Monty has the second highest number of edits amongst developers, after Sergei Golubchik and followed by Sergey Petrunia – all of which have over a thousand edits.</p>

<p>Amongst the prolific contributors within the MariaDB Corporation Engineering team, the Connectors team stands out, with Diego Dupin, Georg Richter, and Lawrin Novitzky ranking near the top. However, we have decided not to include Connectors documentation in this first edition; we are contemplating whether it should be a separate PDF manual.</p>

<p>Other past and present Engineering team members, in decreasing order of number of edits, are David Hill, Dipti Joshi, David Thompson, Massimiliano Pinto, Kolbe Kegel, Vladislav Vaintroub, Ralf Gebhardt, Markus Mäkelä, Sunanda Menon, the late Rasmus Johansson, Todd Stoffel, Elena Stepanova, Julien Fritsch, and Alexander Barkov. They all have more than one hundred edits, which is a lot.</p>

<p>As a true Open Source project, MariaDB Server documentation attracts attention and plentiful contributions also from outside the MariaDB Corporation Documentation and Engineering teams. We want to highlight those with over a hundred edits: Colin Charles and Stephane Varoqui, both of MariaDB Corporation, and Daniel Black, of MariaDB Foundation.</p>

<p>Amongst community contributors in the over-a-hundred-edits category, we want to mention especially Alena Subotina, with edits related to the dbforge documentation tool, and Juan Telleria, with edits often related to R Statistical Programming. Prolific contributors whose contributions are not visible in this English manual are Esper Ecyan (Japanese) and Hector Stredel (French); Federico Razzoli (Italian) has many edits also in English.</p>

<p>We also want to extend a thank you to the code developers who make work easy for the documentation team through thoroughly prepared, reusable texts in Jira; in this category, Marko Mäkelä and Oleksandr Byelkin come to mind.</p>

<p>As for the PDF manual, it has been teamwork between Ian and his son Dorje Gilfillan. Ian has done what editors do, Dorje has coded the Python code that compiles the KB pages into one.</p>

<p>All in all, thank you to everyone who has contributed to this book! We hope compiling it into one volume is of use for you, and we would love to hear what you think about the end result.</p>

<p>Munich, Germany, April 2022</p>

<p>Kaj Arnö, CEO, MariaDB Foundation</p>

<div style = "page-break-after:always;"></div>

<h1 class="col-md-8" style="font-size: 60px; text-align: center; margin-bottom: 60px; float: none; clear: right;">Chapter Contents</h1>
<ol style="margin-left: 0.0em;">
            <li style="margin-top: 0px; margin-bottom: 0px; list-style-type: none; clear: right;">
                <div class="pdfhorizontal_dotted_line">
                    <span><a href="#using-mariadb-server" style="color: #222222; text-decoration: none;font-size: 24px; font-weight: bold;">Chapter 1 
        Using MariaDB Server</a></span>
                    <a href="#using-mariadb-server" style="color: #222222; text-decoration: none;font-size: 24px; float: right; background: #fff"> </a>
                </div>
            </li>
                <ol style="margin-left: 0.0em;">
            <li style="margin-top: 0px; margin-bottom: 0px; list-style-type: none; clear: right;">
                <div class="pdfhorizontal_dotted_line">
                    <span><a href="#sql-statements-structure" style="color: #222222; text-decoration: none;font-size: 24px;">1.1 
        SQL Statements & Structure</a></span>
                    <a href="#sql-statements-structure" style="color: #222222; text-decoration: none;font-size: 24px; float: right; background: #fff"> </a>
                </div>
            </li>
                </ol></ol></ol></ol></ol><div style = "page-break-after:always;"></div>

<h1 class="col-md-8" style="font-size: 60px; text-align: center; margin-bottom: 60px; float: none; clear: right;">Table of Contents</h1>
<ol style="margin-left: -2.0em;">
            <li style="margin-top: 0px; margin-bottom: 0px; list-style-type: none; clear: right;">
                <div class="pdfhorizontal_dotted_line">
                    <span><a href="#using-mariadb-server" style="color: #222222; text-decoration: none;font-size: 16px; font-weight: bold;">Chapter 1 
        Using MariaDB Server</a></span>
                    <a href="#using-mariadb-server" style="color: #222222; text-decoration: none;font-size: 16px; float: right; background: #fff"> </a>
                </div>
            </li>
                <ol style="margin-left: -2.0em;">
            <li style="margin-top: 0px; margin-bottom: 0px; list-style-type: none; clear: right;">
                <div class="pdfhorizontal_dotted_line">
                    <span><a href="#sql-statements-structure" style="color: #222222; text-decoration: none;font-size: 16px;">1.1 
        SQL Statements & Structure</a></span>
                    <a href="#sql-statements-structure" style="color: #222222; text-decoration: none;font-size: 16px; float: right; background: #fff"> </a>
                </div>
            </li>
                <ol style="margin-left: -2.0em;">
            <li style="margin-top: 0px; margin-bottom: 0px; list-style-type: none; clear: right;">
                <div class="pdfhorizontal_dotted_line">
                    <span><a href="#sql-statements" style="color: #222222; text-decoration: none;font-size: 16px;">1.1.1 
        SQL Statements</a></span>
                    <a href="#sql-statements" style="color: #222222; text-decoration: none;font-size: 16px; float: right; background: #fff"> </a>
                </div>
            </li>
                <ol style="margin-left: -2.0em;">
            <li style="margin-top: 0px; margin-bottom: 0px; list-style-type: none; clear: right;">
                <div class="pdfhorizontal_dotted_line">
                    <span><a href="#account-management-sql-commands" style="color: #222222; text-decoration: none;font-size: 16px;">1.1.1.1 
        Account Management SQL Commands</a></span>
                    <a href="#account-management-sql-commands" style="color: #222222; text-decoration: none;font-size: 16px; float: right; background: #fff"> </a>
                </div>
            </li>
                <ol style="margin-left: -2.0em;">
            <li style="margin-top: 0px; margin-bottom: 0px; list-style-type: none; clear: right;">
                <div class="pdfhorizontal_dotted_line">
                    <span><a href="#create-user" style="color: #222222; text-decoration: none;font-size: 16px;">1.1.1.1.1 CREATE USER</a></span>
                    <a href="#create-user" style="color: #222222; text-decoration: none;font-size: 16px; float: right; background: #fff"> </a>
                </div>
            </li>
                
            <li style="margin-top: 0px; margin-bottom: 0px; list-style-type: none; clear: right;">
                <div class="pdfhorizontal_dotted_line">
                    <span><a href="#alter-user" style="color: #222222; text-decoration: none;font-size: 16px;">1.1.1.1.2 ALTER USER</a></span>
                    <a href="#alter-user" style="color: #222222; text-decoration: none;font-size: 16px; float: right; background: #fff"> </a>
                </div>
            </li>
                
            <li style="margin-top: 0px; margin-bottom: 0px; list-style-type: none; clear: right;">
                <div class="pdfhorizontal_dotted_line">
                    <span><a href="#drop-user" style="color: #222222; text-decoration: none;font-size: 16px;">1.1.1.1.3 DROP USER</a></span>
                    <a href="#drop-user" style="color: #222222; text-decoration: none;font-size: 16px; float: right; background: #fff"> </a>
                </div>
            </li>
                
            <li style="margin-top: 0px; margin-bottom: 0px; list-style-type: none; clear: right;">
                <div class="pdfhorizontal_dotted_line">
                    <span><a href="#grant" style="color: #222222; text-decoration: none;font-size: 16px;">1.1.1.1.4 GRANT</a></span>
                    <a href="#grant" style="color: #222222; text-decoration: none;font-size: 16px; float: right; background: #fff"> </a>
                </div>
            </li>
                
            <li style="margin-top: 0px; margin-bottom: 0px; list-style-type: none; clear: right;">
                <div class="pdfhorizontal_dotted_line">
                    <span><a href="#rename-user" style="color: #222222; text-decoration: none;font-size: 16px;">1.1.1.1.5 RENAME USER</a></span>
                    <a href="#rename-user" style="color: #222222; text-decoration: none;font-size: 16px; float: right; background: #fff"> </a>
                </div>
            </li>
                
            <li style="margin-top: 0px; margin-bottom: 0px; list-style-type: none; clear: right;">
                <div class="pdfhorizontal_dotted_line">
                    <span><a href="#revoke" style="color: #222222; text-decoration: none;font-size: 16px;">1.1.1.1.6 REVOKE</a></span>
                    <a href="#revoke" style="color: #222222; text-decoration: none;font-size: 16px; float: right; background: #fff"> </a>
                </div>
            </li>
                
            <li style="margin-top: 0px; margin-bottom: 0px; list-style-type: none; clear: right;">
                <div class="pdfhorizontal_dotted_line">
                    <span><a href="#set-password" style="color: #222222; text-decoration: none;font-size: 16px;">1.1.1.1.7 SET PASSWORD</a></span>
                    <a href="#set-password" style="color: #222222; text-decoration: none;font-size: 16px; float: right; background: #fff"> </a>
                </div>
            </li>
                
            <li style="margin-top: 0px; margin-bottom: 0px; list-style-type: none; clear: right;">
                <div class="pdfhorizontal_dotted_line">
                    <span><a href="#create-role" style="color: #222222; text-decoration: none;font-size: 16px;">1.1.1.1.8 CREATE ROLE</a></span>
                    <a href="#create-role" style="color: #222222; text-decoration: none;font-size: 16px; float: right; background: #fff"> </a>
                </div>
            </li>
                </ol></ol></ol></ol></ol><div style = "page-break-after:always;"></div>
<section class="limited_width col-md-8 clearfix" id="content">
                
                    <h1 style="margin-top: 20px;;" id="using-mariadb-server">1 
        Using MariaDB Server
    
</h1>
                

                



                <div>
                    
    
    

    

    

    

    

    
        <div class="creole">
            <p>Documentation on using MariaDB Server.</p>

        </div>
    

    

        
            
    
    <ul class="media-list listing" data-order-url="/kb/en/using-mariadb-server/+change_order">
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="4799" id="node_4799">
        <div class="media-left left-box">
        <a class="" href="#sql-statements-structure">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="#sql-statements-structure">
            <h4 class="media-heading">
                SQL Statements &amp; Structure</h4>
            
            <span class="blurb">
                SQL statements, structure, and rules.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class not_primary" data-node-id="51" id="node_51">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/built-in-functions/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/built-in-functions/">
            <h4 class="media-heading">
                Built-in Functions</h4>
            
            <div class="node-breadcrumb breadcrumbs">
                under:
                


    
    » <span class="crumb">MariaDB Server Documentation</span>
    

    
    » <span class="crumb">Using MariaDB Server</span>
    

    
    » <span class="crumb">SQL Statements &amp; Structure</span>
    

    
    » <span class="crumb">SQL Statements</span>
    



            </div>
            
            <span class="blurb">
                Functions and procedures in MariaDB.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="542" id="node_542">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/clients-utilities/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/clients-utilities/">
            <h4 class="media-heading">
                Clients &amp; Utilities</h4>
            
            <span class="blurb">
                Client and utility programs for MariaDB.

            </span>
        </a>
    </li>

            
            </ul>
        

        

        

        
    

    
    
        
    



                    
                </div>
            </section><section class="limited_width col-md-8 clearfix" id="content">
                
                    <h1 style="margin-top: 20px;;" id="sql-statements-structure">1.1 
        SQL Statements &amp; Structure
    
</h1>
                

                



                <div>
                    
    
    

    

    

    

    

    
        <div class="creole">
            <p>The letters <em>SQL</em> stand for Structured Query Language.  As with all languages<span>—</span>even computer languages<span>—</span>there are grammar rules.  This includes a certain structure to statements, acceptable punctuation (i.e., operators and delimiters), and a vocabulary (i.e., reserve words).</p>

        </div>
    

    

        
            
    
    <ul class="media-list listing" data-order-url="/kb/en/sql-statements-structure/+change_order">
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="40" id="node_40">
        <div class="media-left left-box">
        <a class="" href="#sql-statements">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="#sql-statements">
            <h4 class="media-heading">
                SQL Statements</h4>
            
            <span class="blurb">
                Explanations of all of the MariaDB SQL statements.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="3553" id="node_3553">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/sql-language-structure/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/sql-language-structure/">
            <h4 class="media-heading">
                SQL Language Structure</h4>
            
            <span class="blurb">
                Explanation of SQL grammar rules, including reserved words and literals.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="422" id="node_422">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/geographic-geometric-features/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/geographic-geometric-features/">
            <h4 class="media-heading">
                Geographic &amp; Geometric Features</h4>
            
            <span class="blurb">
                Spatial extensions for geographic and geometric features.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="1595" id="node_1595">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/nosql/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/nosql/">
            <h4 class="media-heading">
                NoSQL</h4>
            
            <span class="blurb">
                NoSQL-related commands and interfaces

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="3785" id="node_3785">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/operators/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/operators/">
            <h4 class="media-heading">
                Operators</h4>
            
            <span class="blurb">
                Operators for comparing and assigning values.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product mariadb_from_10_3 mariadb from_10_3" data-node-id="6673" id="node_6673">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/sequences/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/sequences/">
            <h4 class="media-heading">
                Sequences</h4>
            
            <span class="blurb">
                Sequence objects, an alternative to AUTO_INCREMENT.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="10290" id="node_10290">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/temporal-tables/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/temporal-tables/">
            <h4 class="media-heading">
                Temporal Tables</h4>
            
            <span class="blurb">
                MariaDB supports system-versioning, application-time periods and bitemporal tables.

            </span>
        </a>
    </li>

            
            </ul>
        

        

        

        
            <div class="related_questions alert">
                There are <a href="https://mariadb.com/kb/en/sql-statements-structure/+questions/">9 related questions</a>.
            </div>
        
    

    
    
        
    



                    
                </div>
            </section><section class="limited_width col-md-8 clearfix" id="content">
                
                    <h1 style="margin-top: 20px;;" id="sql-statements">1.1.1 
        SQL Statements
    
</h1>
                

                



                <div>
                    
    
    

    

    

    

    

    
        <div class="creole">
            <p>Complete list of SQL statements for data definition, data manipulation, etc.</p>

        </div>
    

    

        
            
    
    <ul class="media-list listing" data-order-url="/kb/en/sql-statements/+change_order">
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="548" id="node_548">
        <div class="media-left left-box">
        <a class="" href="#account-management-sql-commands">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="#account-management-sql-commands">
            <h4 class="media-heading">
                Account Management SQL Commands</h4>
            
            <span class="blurb">
                CREATE/DROP USER, GRANT, REVOKE, SET PASSWORD etc.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="555" id="node_555">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/administrative-sql-statements/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/administrative-sql-statements/">
            <h4 class="media-heading">
                Administrative SQL Statements</h4>
            
            <span class="blurb">
                SQL statements for setting, flushing and displaying server variables and resources.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="948" id="node_948">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/data-definition/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/data-definition/">
            <h4 class="media-heading">
                Data Definition</h4>
            
            <span class="blurb">
                SQL commands for defining data, such as ALTER, CREATE, DROP, RENAME etc.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="949" id="node_949">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/data-manipulation/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/data-manipulation/">
            <h4 class="media-heading">
                Data Manipulation</h4>
            
            <span class="blurb">
                SQL commands for querying and manipulating data, such as SELECT, UPDATE, DELETE etc.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="648" id="node_648">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/prepared-statements/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/prepared-statements/">
            <h4 class="media-heading">
                Prepared Statements</h4>
            
            <span class="blurb">
                Prepared statements from any client using the text based prepared statement interface.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class not_primary" data-node-id="558" id="node_558">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/programmatic-compound-statements/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/programmatic-compound-statements/">
            <h4 class="media-heading">
                Programmatic &amp; Compound Statements</h4>
            
            <div class="node-breadcrumb breadcrumbs">
                under:
                


    
    » <span class="crumb">MariaDB Server Documentation</span>
    

    
    » <span class="crumb">Programming &amp; Customizing MariaDB</span>
    



            </div>
            
            <span class="blurb">
                Compound SQL statements for stored routines and in general.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="6990" id="node_6990">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/stored-routine-statements/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/stored-routine-statements/">
            <h4 class="media-heading">
                Stored Routine Statements</h4>
            
            <span class="blurb">
                SQL statements related to creating and using stored routines.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="770" id="node_770">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/table-statements/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/table-statements/">
            <h4 class="media-heading">
                Table Statements</h4>
            
            <span class="blurb">
                Documentation on creating, altering, analyzing and maintaining tables.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="773" id="node_773">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/transactions/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/transactions/">
            <h4 class="media-heading">
                Transactions</h4>
            
            <span class="blurb">
                Sequence of statements that are either completely successful, or have no effect on any schemas

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node article product no_product_class not_primary" data-node-id="557" id="node_557">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/help-command/">
            <div class="article print-background">
                
                    
                    
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/help-command/">
            <h4 class="media-heading">
                HELP Command</h4>
            
            <div class="node-breadcrumb breadcrumbs">
                under:
                


    
    » <span class="crumb">MariaDB Server Documentation</span>
    

    
    » <span class="crumb">Using MariaDB Server</span>
    

    
    » <span class="crumb">SQL Statements &amp; Structure</span>
    

    
    » <span class="crumb">SQL Statements</span>
    

    
    » <span class="crumb">Administrative SQL Statements</span>
    



            </div>
            
            <span class="blurb">
                The HELP command will retrieve syntax and help within the mysql client.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node article product no_product_class" data-node-id="1739" id="node_1739">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/comment-syntax/">
            <div class="article print-background">
                
                    
                    
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/comment-syntax/">
            <h4 class="media-heading">
                Comment Syntax</h4>
            
            <span class="blurb">
                Comment syntax and style.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node category product no_product_class" data-node-id="51" id="node_51">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/built-in-functions/">
            <div class="category print-background">
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/built-in-functions/">
            <h4 class="media-heading">
                Built-in Functions</h4>
            
            <span class="blurb">
                Functions and procedures in MariaDB.

            </span>
        </a>
    </li>

            
            </ul>
        

        

        

        
            <div class="related_questions alert">
                There are <a href="https://mariadb.com/kb/en/sql-statements/+questions/">16 related questions</a>.
            </div>
        
    

    
    
        
    



                    
                </div>
            </section><section class="limited_width col-md-8 clearfix" id="content">
                
                    <h1 style="margin-top: 20px;;" id="account-management-sql-commands">1.1.1.1 
        Account Management SQL Commands
    
</h1>
                

                



                <div>
                    
    
    

    

    

    

    

    
        <div class="creole">
            <p>CREATE/DROP USER, GRANT, REVOKE, SET PASSWORD etc.</p>

        </div>
    

    

        
            
    
    <ul class="media-list listing" data-order-url="/kb/en/account-management-sql-commands/+change_order">
                
                
    
        
    
    <li class="media node article product mariadb_from_10_4_0 mariadb from_10_4_0 mariadb_from_10_4_3 mariadb from_10_4_3 mariadb_from_10_2_0 mariadb from_10_2_0 mariadb_from_10_4_3 mariadb from_10_4_3 mariadb_from_10_4_2 mariadb from_10_4_2 mariadb_from_10_4_0 mariadb from_10_4_0 mariadb_from_10_4_3 mariadb from_10_4_3 mariadb_from_10_2_0 mariadb from_10_2_0 mariadb_from_10_4_3 mariadb from_10_4_3 mariadb_from_10_4_2 mariadb from_10_4_2" data-node-id="549" id="node_549">
        <div class="media-left left-box">
        <a class="" href="#create-user">
            <div class="article print-background">
                
                    
                    
                        <div class="node_comments" title="8comments">8</div>
                    
                
            </div>
        </a>
        </div>
        <a class="media-body" href="#create-user">
            <h4 class="media-heading">
                CREATE USER</h4>
            
            <span class="blurb">
                Create new MariaDB accounts.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node article product mariadb_from_10_2_0 mariadb from_10_2_0 mariadb_from_10_2_0 mariadb from_10_2_0 mariadb_from_10_4 mariadb from_10_4 mariadb_from_10_2_0 mariadb from_10_2_0 mariadb_from_10_4_3 mariadb from_10_4_3 mariadb_from_10_4_2 mariadb from_10_4_2 mariadb_from_10_4 mariadb from_10_4 mariadb_from_10_2_0 mariadb from_10_2_0 mariadb_from_10_4_3 mariadb from_10_4_3 mariadb_from_10_4_2 mariadb from_10_4_2" data-node-id="5456" id="node_5456">
        <div class="media-left left-box">
        <a class="" href="#alter-user">
            <div class="article print-background">
                
                    
                    
                        <div class="node_comments" title="1comment">1</div>
                    
                
            </div>
        </a>
        </div>
        <a class="media-body" href="#alter-user">
            <h4 class="media-heading">
                ALTER USER</h4>
            
            <span class="blurb">
                Modify an existing MariaDB account.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node article product no_product_class" data-node-id="550" id="node_550">
        <div class="media-left left-box">
        <a class="" href="#drop-user">
            <div class="article print-background">
                
                    
                    
                        <div class="node_comments" title="1comment">1</div>
                    
                
            </div>
        </a>
        </div>
        <a class="media-body" href="#drop-user">
            <h4 class="media-heading">
                DROP USER</h4>
            
            <span class="blurb">
                Remove one or more MariaDB accounts.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node article product mariadb_from_10_4_0 mariadb from_10_4_0 mariadb_from_10_4_3 mariadb from_10_4_3 mariadb_from_10_2_0 mariadb from_10_2_0 mariadb_from_10_4_0 mariadb from_10_4_0 mariadb_from_10_4_3 mariadb from_10_4_3 mariadb_from_10_2_0 mariadb from_10_2_0" data-node-id="551" id="node_551">
        <div class="media-left left-box">
        <a class="" href="#grant">
            <div class="article print-background">
                
                    
                    
                        <div class="node_comments" title="2comments">2</div>
                    
                
            </div>
        </a>
        </div>
        <a class="media-body" href="#grant">
            <h4 class="media-heading">
                GRANT</h4>
            
            <span class="blurb">
                Create accounts and set privileges or roles.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node article product no_product_class" data-node-id="552" id="node_552">
        <div class="media-left left-box">
        <a class="" href="#rename-user">
            <div class="article print-background">
                
                    
                    
                
            </div>
        </a>
        </div>
        <a class="media-body" href="#rename-user">
            <h4 class="media-heading">
                RENAME USER</h4>
            
            <span class="blurb">
                Rename user account.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node article product no_product_class" data-node-id="553" id="node_553">
        <div class="media-left left-box">
        <a class="" href="#revoke">
            <div class="article print-background">
                
                    
                    
                        <div class="node_comments" title="4comments">4</div>
                    
                
            </div>
        </a>
        </div>
        <a class="media-body" href="#revoke">
            <h4 class="media-heading">
                REVOKE</h4>
            
            <span class="blurb">
                Remove privileges or roles.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node article product mariadb_from_10_4 mariadb from_10_4 mariadb_from_10_4 mariadb from_10_4 mariadb_to_10_3 mariadb to_10_3 mariadb_from_10_4 mariadb from_10_4 mariadb_to_10_3 mariadb to_10_3 mariadb_from_10_4 mariadb from_10_4" data-node-id="554" id="node_554">
        <div class="media-left left-box">
        <a class="" href="#set-password">
            <div class="article print-background">
                
                    
                    
                
            </div>
        </a>
        </div>
        <a class="media-body" href="#set-password">
            <h4 class="media-heading">
                SET PASSWORD</h4>
            
            <span class="blurb">
                Assign password to an existing MariaDB user.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node article product no_product_class" data-node-id="4017" id="node_4017">
        <div class="media-left left-box">
        <a class="" href="#create-role">
            <div class="article print-background">
                
                    
                    
                
            </div>
        </a>
        </div>
        <a class="media-body" href="#create-role">
            <h4 class="media-heading">
                CREATE ROLE</h4>
            
            <span class="blurb">
                Add new roles.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node article product no_product_class" data-node-id="4016" id="node_4016">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/drop-role/">
            <div class="article print-background">
                
                    
                    
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/drop-role/">
            <h4 class="media-heading">
                DROP ROLE</h4>
            
            <span class="blurb">
                Drop a role.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node article product no_product_class" data-node-id="4019" id="node_4019">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/set-role/">
            <div class="article print-background">
                
                    
                    
                        <div class="node_comments" title="1comment">1</div>
                    
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/set-role/">
            <h4 class="media-heading">
                SET ROLE</h4>
            
            <span class="blurb">
                Enable a role.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node article product no_product_class" data-node-id="4655" id="node_4655">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/set-default-role/">
            <div class="article print-background">
                
                    
                    
                        <div class="node_comments" title="5comments">5</div>
                    
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/set-default-role/">
            <h4 class="media-heading">
                SET DEFAULT ROLE</h4>
            
            <span class="blurb">
                Sets a default role for a specified (or current) user.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node article product no_product_class not_primary" data-node-id="671" id="node_671">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/show-grants/">
            <div class="article print-background">
                
                    
                    
                        <div class="node_comments" title="9comments">9</div>
                    
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/show-grants/">
            <h4 class="media-heading">
                SHOW GRANTS</h4>
            
            <div class="node-breadcrumb breadcrumbs">
                under:
                


    
    » <span class="crumb">MariaDB Server Documentation</span>
    

    
    » <span class="crumb">Using MariaDB Server</span>
    

    
    » <span class="crumb">SQL Statements &amp; Structure</span>
    

    
    » <span class="crumb">SQL Statements</span>
    

    
    » <span class="crumb">Administrative SQL Statements</span>
    

    
    » <span class="crumb">SHOW</span>
    



            </div>
            
            <span class="blurb">
                View GRANT statements.

            </span>
        </a>
    </li>

            
                
                
    
        
    
    <li class="media node article product mariadb_from_10_2_0 mariadb from_10_2_0 not_primary" data-node-id="5439" id="node_5439">
        <div class="media-left left-box">
        <a class="" href="https://mariadb.com/kb/en/show-create-user/">
            <div class="article print-background">
                
                    
                    
                
            </div>
        </a>
        </div>
        <a class="media-body" href="https://mariadb.com/kb/en/show-create-user/">
            <h4 class="media-heading">
                SHOW CREATE USER</h4>
            
            <div class="node-breadcrumb breadcrumbs">
                under:
                


    
    » <span class="crumb">MariaDB Server Documentation</span>
    

    
    » <span class="crumb">Using MariaDB Server</span>
    

    
    » <span class="crumb">SQL Statements &amp; Structure</span>
    

    
    » <span class="crumb">SQL Statements</span>
    

    
    » <span class="crumb">Administrative SQL Statements</span>
    

    
    » <span class="crumb">SHOW</span>
    



            </div>
            
            <span class="blurb">
                Show the CREATE USER statement for a specified user.

            </span>
        </a>
    </li>

            
            </ul>
        

        

        

        
            <div class="related_questions alert">
                There are <a href="https://mariadb.com/kb/en/account-management-sql-commands/+questions/">2 related questions</a>.
            </div>
        
    

    
    
        
    



                    
                </div>
            </section>
<div style = "display:block; clear:both; page-break-after:always;"></div>
<section class="limited_width col-md-8 clearfix" id="content">
                
                    <h1 style="margin-top: 20px;;" id="create-user">1.1.1.1.1 CREATE USER</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <h2 class="anchored_heading" id="create-usersyntax">Syntax</h2>
<pre class="fixed">CREATE [OR REPLACE] USER [IF NOT EXISTS] 
 <em>user_specification</em> [,<em>user_specification</em> ...] 
  [REQUIRE {NONE | <em>tls_option</em> [[AND] <em>tls_option</em> ...] }]
  [WITH <em>resource_option</em> [<em>resource_option</em> ...] ]
  [<em>lock_option</em>] [<em>password_option</em>] 

<em>user_specification</em>:
  username [<em>authentication_option</em>]

<em>authentication_option</em>:
  IDENTIFIED BY 'password' 
  | IDENTIFIED BY PASSWORD 'password_hash'
  | IDENTIFIED {VIA|WITH} <em>authentication_rule</em> [OR <em>authentication_rule</em>  ...]

<em>authentication_rule</em>:
    authentication_plugin
  | authentication_plugin {USING|AS} 'authentication_string'
  | authentication_plugin {USING|AS} PASSWORD('password')

<em>tls_option</em>:
  SSL 
  | X509
  | CIPHER 'cipher'
  | ISSUER 'issuer'
  | SUBJECT 'subject'

<em>resource_option</em>:
  MAX_QUERIES_PER_HOUR count
  | MAX_UPDATES_PER_HOUR count
  | MAX_CONNECTIONS_PER_HOUR count
  | MAX_USER_CONNECTIONS count
  | MAX_STATEMENT_TIME time

<em>password_option</em>:
  PASSWORD EXPIRE
  | PASSWORD EXPIRE DEFAULT
  | PASSWORD EXPIRE NEVER
  | PASSWORD EXPIRE INTERVAL N DAY

<em>lock_option</em>:
    ACCOUNT LOCK
  | ACCOUNT UNLOCK
}
</pre><div style="float: none;" class="table_of_contents well well-small">
<h3>Contents</h3>
<div style = "display:block; clear:both; page-break-after:always;"></div>

 <ol class="toc">

    <li class=""><a href="#create-usersyntax" title="Syntax">Syntax</a></li>

    <li class=""><a href="#create-userdescription" title="Description">Description</a></li>

    <li class=""><a href="#create-useror-replace" title="OR REPLACE">OR REPLACE</a></li>

    <li class=""><a href="#create-userif-not-exists" title="IF NOT EXISTS">IF NOT EXISTS</a></li>

    <li class=""><a href="#create-userauthentication-options" title="Authentication Options">Authentication Options</a>    <ol class="toc">

        <li class=""><a href="#create-useridentified-by-password" title="IDENTIFIED BY 'password'">IDENTIFIED BY 'password'</a></li>

        <li class=""><a href="#create-useridentified-by-password-password_hash" title="IDENTIFIED BY PASSWORD 'password_hash'">IDENTIFIED BY PASSWORD 'password_hash'</a></li>

        <li class=""><a href="#create-useridentified-viawith-authentication_plugin" title="IDENTIFIED {VIA|WITH} authentication_plugin">IDENTIFIED {VIA|WITH} authentication_plugin</a>    </li></ol>
</li>

    <li class=""><a href="#create-usertls-options" title="TLS Options">TLS Options</a></li>

    <li class=""><a href="#create-userresource-limit-options" title="Resource Limit Options">Resource Limit Options</a></li>

    <li class=""><a href="#create-useraccount-names" title="Account Names">Account Names</a>    <ol class="toc">

        <li class=""><a href="#create-userhost-name-component" title="Host Name Component">Host Name Component</a></li>

        <li class=""><a href="#create-useruser-name-component" title="User Name Component">User Name Component</a></li>

        <li class=""><a href="#create-useranonymous-accounts" title="Anonymous Accounts">Anonymous Accounts</a>        <ol class="toc">

            <li class=""><a href="#create-userfixing-a-legacy-default-anonymous-account" title="Fixing a Legacy Default Anonymous Account">Fixing a Legacy Default Anonymous Account</a>        </li></ol>
    </li></ol>
</li>

    <li class=""><a href="#create-userpassword-expiry" title="Password Expiry">Password Expiry</a></li>

    <li class=""><a href="#create-useraccount-locking" title="Account Locking">Account Locking</a></li>

    <li class=""><a href="#create-usersee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-userdescription">Description</h2>
<p>The <code>CREATE USER</code> statement creates new MariaDB accounts. To use it, you must have the global <a href="#grantcreate-user">CREATE USER</a> privilege or the <a href="#granttable-privileges">INSERT</a> privilege for the <a href="https://mariadb.com/kb/en/the-mysql-database-tables/">mysql</a> database. For each account, <code>CREATE USER</code> creates a new row in <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> (until <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> this is a table, from <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> it's a view) or <a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv_table</a> (from <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>) that has no privileges.</p>
<p>If any of the specified accounts, or any permissions for the specified accounts, already exist, then the server returns <code>ERROR 1396 (HY000)</code>. If an error occurs, <code>CREATE USER</code> will still create the accounts that do not result in an error. Only one error is produced for all users which have not been created:</p>
<pre class="fixed">ERROR 1396 (HY000): 
  Operation CREATE USER failed for 'u1'@'%','u2'@'%'
</pre><p><code>CREATE USER</code>, <a href="#drop-user">DROP USER</a>, <a href="#create-role">CREATE ROLE</a>, and <a href="https://mariadb.com/kb/en/drop-role/">DROP ROLE</a>  all produce the same error code when they fail.</p>
<p>See <a href="#create-useraccount-names">Account Names</a> below for details on how account names are specified. </p>
<h2 class="anchored_heading" id="create-useror-replace">OR REPLACE</h2>
<p>If the optional <code>OR REPLACE</code> clause is used, it is basically a shortcut for:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="n">USER</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">name</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="n">USER</span> <span class="n">name</span> <span class="p">...;</span>
</pre><p>For example:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'password'</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1396</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="n">Operation</span> <span class="k">CREATE</span> <span class="n">USER</span> <span class="n">failed</span> <span class="k">for</span> <span class="s1">'foo2'</span><span class="o">@</span><span class="s1">'test'</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="n">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'password'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><h2 class="anchored_heading" id="create-userif-not-exists">IF NOT EXISTS</h2>
<p>When the <code>IF NOT EXISTS</code> clause is used, MariaDB will return a warning instead of an error if the specified user already exists.</p>
<p>For example:</p>
<pre class="fixed">CREATE USER foo2@test IDENTIFIED BY 'password';
ERROR 1396 (HY000): Operation CREATE USER failed for 'foo2'@'test'

CREATE USER IF NOT EXISTS foo2@test IDENTIFIED BY 'password';
Query OK, 0 rows affected, 1 warning (0.00 sec)

SHOW WARNINGS;
+-------+------+----------------------------------------------------+
| Level | Code | Message                                            |
+-------+------+----------------------------------------------------+
| Note  | 1973 | Can't create user 'foo2'@'test'; it already exists |
+-------+------+----------------------------------------------------+
</pre><h2 class="anchored_heading" id="create-userauthentication-options">Authentication Options</h2>
<h3 class="anchored_heading" id="create-useridentified-by-password">IDENTIFIED BY 'password'</h3>
<p>The optional <code>IDENTIFIED BY</code> clause can be used to provide an account with a password. The password should be specified in plain text. It will be hashed by the <a href="https://mariadb.com/kb/en/password/">PASSWORD</a> function prior to being stored in the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a>/<a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv_table</a> table.</p>
<p>For example, if our password is <code>mariadb</code>, then we can create the user with:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'mariadb'</span><span class="p">;</span>
</pre><p>If you do not specify a password with the <code>IDENTIFIED BY</code> clause, the user
will be able to connect without a password. A blank password is not a wildcard
to match any password. The user must connect without providing a password if no
password is set.</p>
<p>The only <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that this clause supports are <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> and <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a>.</p>
<h3 class="anchored_heading" id="create-useridentified-by-password-password_hash">IDENTIFIED BY PASSWORD 'password_hash'</h3>
<p>The optional <code>IDENTIFIED BY PASSWORD</code> clause can be used to provide an account with a password that has already been hashed. The password should be specified as a hash that was provided by the <a href="https://mariadb.com/kb/en/password/">PASSWORD</a> function. It will be stored in the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a>/<a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv_table</a> table as-is.</p>
<p>For example, if our password is <code>mariadb</code>, then we can find the hash with:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'mariadb'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'mariadb'</span><span class="p">)</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="o">*</span><span class="mi">54958</span><span class="n">E764CE10E50764C2EECBB71D01F08549980</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>And then we can create a user with the hash:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*54958E764CE10E50764C2EECBB71D01F08549980'</span><span class="p">;</span>
</pre><p>If you do not specify a password with the <code>IDENTIFIED BY</code> clause, the user
will be able to connect without a password. A blank password is not a wildcard
to match any password. The user must connect without providing a password if no
password is set.</p>
<p>The only <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that this clause supports are <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> and <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a>.</p>
<h3 class="anchored_heading" id="create-useridentified-viawith-authentication_plugin">IDENTIFIED {VIA|WITH} authentication_plugin</h3>
<p>The optional <code>IDENTIFIED VIA authentication_plugin</code> allows you to specify that the account should be authenticated by a specific <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugin</a>. The plugin name must be an active authentication plugin as per <a href="https://mariadb.com/kb/en/show-plugins/">SHOW PLUGINS</a>. If it doesn't show up in that output, then you will need to install it with <a href="https://mariadb.com/kb/en/install-plugin/">INSTALL PLUGIN</a> or <a href="https://mariadb.com/kb/en/install-soname/">INSTALL SONAME</a>.</p>
<p>For example, this could be used with the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">PAM authentication plugin</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span><span class="p">;</span>
</pre><p>Some authentication plugins allow additional arguments to be specified after a <code>USING</code> or <code>AS</code> keyword. For example, the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">PAM authentication plugin</a> accepts a <a href="https://mariadb.com/kb/en/authentication-plugin-pam/#configuring-the-pam-service">service name</a>:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span> <span class="k">USING</span> <span class="s1">'mariadb'</span><span class="p">;</span>
</pre><p>The exact meaning of the additional argument would depend on the specific authentication plugin.</p>
<div class="mariadb_from_10_4_0 mariadb from_10_4_0 product"><h5 >MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">10.4.0</a></h5><p>The <code>USING</code> or <code>AS</code> keyword can also be used to provide a plain-text password to a plugin if it's provided as an argument to the <a href="https://mariadb.com/kb/en/password/">PASSWORD()</a> function. This is only valid for <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that have implemented a hook for the <a href="https://mariadb.com/kb/en/password/">PASSWORD()</a> function. For example, the <a href="https://mariadb.com/kb/en/authentication-plugin-ed25519/">ed25519</a> authentication plugin supports this:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">safe</span><span class="o">@</span><span class="s1">'%'</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">ed25519</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'secret'</span><span class="p">);</span>
</pre></div><div class="mariadb_from_10_4_3 mariadb from_10_4_3 product"><h5 >MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">10.4.3</a></h5><p>One can specify many authentication plugins, they all work as alternatives ways of authenticating a user:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">safe</span><span class="o">@</span><span class="s1">'%'</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">ed25519</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'secret'</span><span class="p">)</span> <span class="k">OR</span> <span class="n">unix_socket</span><span class="p">;</span>
</pre></div><p>By default, when you create a user without specifying an authentication plugin, MariaDB uses the <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> plugin.</p>
<h2 class="anchored_heading" id="create-usertls-options">TLS Options</h2>
<p>By default, MariaDB transmits data between the server and clients without encrypting it. This is generally acceptable when the server and client run on the same host or in networks where security is guaranteed through other means. However, in cases where the server and client exist on separate networks or they are in a high-risk network, the lack of encryption does introduce security concerns as a malicious actor could potentially eavesdrop on the traffic as it is sent over the network between them.</p>
<p>To mitigate this concern, MariaDB allows you to encrypt data in transit between the server and clients using the Transport Layer Security (TLS) protocol. TLS was formerly known as Secure Socket Layer (SSL), but strictly speaking the SSL protocol is a predecessor to TLS and, that version of the protocol is now considered insecure. The documentation still uses the term SSL often and for compatibility reasons TLS-related server system and status variables still use the prefix ssl_, but internally, MariaDB only supports its secure successors.</p>
<p>See <a href="https://mariadb.com/kb/en/secure-connections-overview/">Secure Connections Overview</a> for more information about how to determine whether your MariaDB server has TLS support.</p>
<p>You can set certain TLS-related restrictions for specific user accounts. For instance, you might use this with user accounts that require access to sensitive data while sending it across networks that you do not control. These restrictions can be enabled for a user account with the <a href="#create-user">CREATE USER</a>, <a href="#alter-user">ALTER USER</a>, or <a href="#grant">GRANT</a> statements. The following options are available:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tbody><tr><th>Option</th><th>Description</th></tr>
<tr><td><code>REQUIRE NONE</code></td><td>TLS is not required for this account, but can still be used.</td></tr>
<tr><td><code>REQUIRE SSL</code></td><td>The account must use TLS, but no valid X509 certificate is required. This option cannot be combined with other TLS options.</td></tr>
<tr><td><code>REQUIRE X509</code></td><td>The account must use TLS and must have a valid X509 certificate. This option implies <code>REQUIRE SSL</code>. This option cannot be combined with other TLS options.</td></tr>
<tr><td><code>REQUIRE ISSUER 'issuer'</code></td><td>The account must use TLS and must have a valid X509 certificate. Also, the Certificate Authority must be the one specified via the string <code>issuer</code>. This option implies <code>REQUIRE X509</code>. This option can be combined with the <code>SUBJECT</code>, and <code>CIPHER</code> options in any order.</td></tr>
<tr><td><code>REQUIRE SUBJECT 'subject'</code></td><td>The account must use TLS and must have a valid X509 certificate. Also, the certificate's Subject must be the one specified via the string <code>subject</code>. This option implies <code>REQUIRE X509</code>. This option can be combined with the <code>ISSUER</code>, and <code>CIPHER</code> options in any order.</td></tr>
<tr><td><code>REQUIRE CIPHER 'cipher'</code></td><td>The account must use TLS, but no valid X509 certificate is required. Also, the encryption used for the connection must use a specific cipher method specified in the string <code>cipher</code>. This option implies <code>REQUIRE SSL</code>. This option can be combined with the <code>ISSUER</code>, and <code>SUBJECT</code> options in any order.</td></tr>
</tbody></table>
</div><p>The <code>REQUIRE</code> keyword must be used only once for all specified options, and the <code>AND</code> keyword can be used to separate individual options, but it is not required.</p>
<p>For example, you can create a user account that requires these TLS options with the following:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'%'</span>
    <span class="n">REQUIRE</span> <span class="n">SUBJECT</span> <span class="s1">'/CN=alice/O=My Dom, Inc./C=US/ST=Oregon/L=Portland'</span>
    <span class="k">AND</span> <span class="n">ISSUER</span> <span class="s1">'/C=FI/ST=Somewhere/L=City/ O=Some Company/CN=Peter Parker/emailAddress=p.parker@marvel.com'</span>
    <span class="k">AND</span> <span class="n">CIPHER</span> <span class="s1">'SHA-DES-CBC3-EDH-RSA'</span><span class="p">;</span>
</pre><p>If any of these options are set for a specific user account, then any client who tries to connect with that user account will have to be configured to connect with TLS.</p>
<p>See <a href="https://mariadb.com/kb/en/securing-connections-for-client-and-server/">Securing Connections for Client and Server</a> for information on how to enable TLS on the client and server.</p>
<h2 class="anchored_heading" id="create-userresource-limit-options">Resource Limit Options</h2>
<div class="mariadb_from_10_2_0 mariadb from_10_2_0 product"><h5 >MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">10.2.0</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a> introduced a number of resource limit options.</p>
</div><p>It is possible to set per-account limits for certain server resources. The following table shows the values that can be set per account:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tbody><tr><th>Limit Type</th><th>Decription</th></tr>
<tr><td><code>MAX_QUERIES_PER_HOUR</code></td><td>Number of statements that the account can issue per hour (including updates)</td></tr>
<tr><td><code>MAX_UPDATES_PER_HOUR</code></td><td>Number of updates (not queries) that the account can issue per hour</td></tr>
<tr><td><code>MAX_CONNECTIONS_PER_HOUR</code></td><td>Number of connections that the account can start per hour</td></tr>
<tr><td><code>MAX_USER_CONNECTIONS</code></td><td>Number of simultaneous connections that can be accepted from the same account; if it is 0, <code>max_connections</code> will be used instead; if <code>max_connections</code> is 0, there is no limit for this account's simultaneous connections.</td></tr>
<tr><td><code>MAX_STATEMENT_TIME</code></td><td>Timeout, in seconds, for statements executed by the user. See also <a href="https://mariadb.com/kb/en/aborting-statements/">Aborting Statements that Exceed a Certain Time to Execute</a>.</td></tr>
</tbody></table>
</div><p>If any of these limits are set to <code>0</code>, then there is no limit for that resource for that user.</p>
<p>Here is an example showing how to create a user with resource limits:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'someone'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span>
    <span class="n">MAX_USER_CONNECTIONS</span> <span class="mi">10</span>
    <span class="n">MAX_QUERIES_PER_HOUR</span> <span class="mi">200</span><span class="p">;</span>
</pre><p>The resources are tracked per account, which means <code>'user'@'server'</code>; not per user name or per connection.</p>
<p>The count can be reset for all users using <a href="https://mariadb.com/kb/en/flush/">FLUSH USER_RESOURCES</a>, <a href="https://mariadb.com/kb/en/flush/">FLUSH PRIVILEGES</a> or <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin reload</a>.</p>
<p>Per account resource limits are stored in the <a href="https://mariadb.com/kb/en/mysqluser-table/">user</a> table, in the <a href="https://mariadb.com/kb/en/the-mysql-database-tables/">mysql</a> database. Columns used for resources limits are named <code>max_questions</code>, <code>max_updates</code>, <code>max_connections</code> (for <code>MAX_CONNECTIONS_PER_HOUR</code>), and <code>max_user_connections</code> (for <code>MAX_USER_CONNECTIONS</code>).</p>
<h2 class="anchored_heading" id="create-useraccount-names">Account Names</h2>
<p>Account names have both a user name component and a host name component, and are specified as <code>'user_name'@'host_name'</code>.</p>
<p>The user name and host name may be unquoted, quoted as strings using double quotes (<code>"</code>) or
single quotes (<code>'</code>), or quoted as identifiers using backticks (<code>`</code>). You must use quotes
when using special characters (such as a hyphen) or wildcard characters. If you quote, you 
must quote the user name and host name separately (for example <code>'user_name'@'host_name'</code>).</p>
<h3 class="anchored_heading" id="create-userhost-name-component">Host Name Component</h3>
<p>If the host name is not provided, it is assumed to be <code>'%'</code>.</p>
<p>Host names may contain the wildcard characters <code>%</code> and <code>_</code>. They are matched as if by
the <a href="https://mariadb.com/kb/en/like/">LIKE</a> clause. If you need to use a wildcard character literally (for example, to
match a domain name with an underscore), prefix the character with a backslash. See <code>LIKE</code>
for more information on escaping wildcard characters.</p>
<p>Host name matches are case-insensitive. Host names can match either domain names or IP
addresses. Use <code>'localhost'</code> as the host name to allow only local client connections.</p>
<p>You can use a netmask to match a range of IP addresses using <code>'base_ip/netmask'</code> as the
host name. A user with an IP address <em>ip_addr</em> will be allowed to connect if the following
condition is true:</p>
<pre class="fixed">ip_addr &amp; netmask = base_ip
</pre><p>For example, given a user:</p>
<pre class="fixed">CREATE USER 'maria'@'247.150.130.0/255.255.255.0';
</pre><p>the IP addresses satisfying this condition range from 247.150.130.0 to 247.150.130.255. </p>
<p>Using <code>255.255.255.255</code> is equivalent to not using a netmask at all. Netmasks cannot be used for IPv6 addresses. </p>
<p>Note that the credentials added when creating a user with the <code>'%'</code> wildcard host will not grant access in all cases. For example, some systems come with an anonymous localhost user, and when connecting from localhost this will take precedence.</p>
<p>Before <a href="https://mariadb.com/kb/en/what-is-mariadb-106/">MariaDB 10.6</a>, the host name component could be up to 60 characters in length. Starting from <a href="https://mariadb.com/kb/en/what-is-mariadb-106/">MariaDB 10.6</a>, it can be up to 255 characters.</p>
<h3 class="anchored_heading" id="create-useruser-name-component">User Name Component</h3>
<p>User names must match exactly, including case. A user name that is empty is known as an anonymous account and is allowed to match a login attempt with any user name component. These are described more in the next section.</p>
<p>For valid identifiers to use as user names, see <a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>.</p>
<p>It is possible for more than one account to match when a user connects. MariaDB selects
the first matching account after sorting according to the following criteria:</p>
<ul start="1"><li>Accounts with an exact host name are sorted before accounts using a wildcard in the
host name. Host names using a netmask are considered to be exact for sorting.
</li><li>Accounts with a wildcard in the host name are sorted according to the position of
the first wildcard character. Those with a wildcard character later in the host name
sort before those with a wildcard character earlier in the host name.
</li><li>Accounts with a non-empty user name sort before accounts with an empty user name.
</li><li>Accounts with an empty user name are sorted last. As mentioned previously, these are known as anonymous accounts. These are described more in the next section.
</li></ul>
<p>The following table shows a list of example account as sorted by these criteria:</p>
<pre class="fixed">+---------+-------------+
| User    | Host        |
+---------+-------------+
| joffrey | 192.168.0.3 |
|         | 192.168.0.% |
| joffrey | 192.168.%   |
|         | 192.168.%   |
+---------+-------------+
</pre><p>Once connected, you only have the privileges granted to the account that matched,
not all accounts that could have matched. For example, consider the following
commands:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'joffrey'</span><span class="o">@</span><span class="s1">'192.168.0.3'</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'joffrey'</span><span class="o">@</span><span class="s1">'%'</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="n">test</span><span class="p">.</span><span class="n">t1</span> <span class="k">to</span> <span class="s1">'joffrey'</span><span class="o">@</span><span class="s1">'192.168.0.3'</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="n">test</span><span class="p">.</span><span class="n">t2</span> <span class="k">to</span> <span class="s1">'joffrey'</span><span class="o">@</span><span class="s1">'%'</span><span class="p">;</span>
</pre><p>If you connect as joffrey from <code class="fixed" style="white-space:pre-wrap">192.168.0.3</code>, you will have the <code>SELECT</code>
privilege on the table <code>test.t1</code>, but not on the table <code>test.t2</code>. If you connect as joffrey from any other IP address, you will have the <code>SELECT</code> privilege on the table <code>test.t2</code>, but not
on the table <code>test.t1</code>.</p>
<p>Usernames can be up to 80 characters long before 10.6 and starting from 10.6 it can be 128 characters long.</p>
<h3 class="anchored_heading" id="create-useranonymous-accounts">Anonymous Accounts</h3>
<p>Anonymous accounts are accounts where the user name portion of the account name is empty. These accounts act as special catch-all accounts. If a user attempts to log into the system from a host, and an anonymous account exists with a host name portion that matches the user's host, then the user will log in as the anonymous account if there is no more specific account match for the user name that the user entered.</p>
<p>For example, here are some anonymous accounts:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'192.168.0.3'</span><span class="p">;</span>
</pre><h4 class="anchored_heading" id="create-userfixing-a-legacy-default-anonymous-account">Fixing a Legacy Default Anonymous Account</h4>
<p>On some systems, the <a href="https://mariadb.com/kb/en/mysqldb-table/">mysql.db</a> table has some entries for the <code>''@'%'</code> anonymous account by default. Unfortunately, there is no matching entry in the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a>/<a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv_table</a> table, which means that this anonymous account doesn't exactly exist, but it does have privileges--usually on the default <code>test</code> database created by <a href="https://mariadb.com/kb/en/mysql_install_db/">mysql_install_db</a>. These account-less privileges are a legacy that is leftover from a time when MySQL's privilege system was less advanced.</p>
<p>This situation means that you will run into errors if you try to create a <code>''@'%'</code> account. For example:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1396</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="k">Operation</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="n">failed</span> <span class="k">for</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span>
</pre><p>The fix is to <a href="https://mariadb.com/kb/en/delete/">DELETE</a> the row in the <a href="https://mariadb.com/kb/en/mysqldb-table/">mysql.db</a> table and then execute <a href="https://mariadb.com/kb/en/flush/">FLUSH PRIVILEGES</a>:</p>
<pre class="fixed"><span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">mysql</span><span class="p">.</span><span class="n">db</span> <span class="k">WHERE</span> <span class="k">User</span><span class="o">=</span><span class="s1">''</span> <span class="k">AND</span> <span class="k">Host</span><span class="o">=</span><span class="s1">'%'</span><span class="p">;</span>
<span class="n">FLUSH</span> <span class="k">PRIVILEGES</span><span class="p">;</span>
</pre><p>And then the account can be created:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>See <a href="https://jira.mariadb.org/browse/MDEV-13486">MDEV-13486</a> for more information.</p>
<h2 class="anchored_heading" id="create-userpassword-expiry">Password Expiry</h2>
<div class="mariadb_from_10_4_3 mariadb from_10_4_3 product"><h5 >MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">10.4.3</a></h5><p>Besides automatic password expiry, as determined by <a href="https://mariadb.com/kb/en/server-system-variables/#default_password_lifetime">default_password_lifetime</a>, password expiry times can be set on an individual user basis, overriding the global setting, for example:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="nb">INTERVAL</span> <span class="mi">120</span> <span class="k">DAY</span><span class="p">;</span>
</pre><p>See <a href="https://mariadb.com/kb/en/user-password-expiry/">User Password Expiry</a> for more details.</p>
</div><h2 class="anchored_heading" id="create-useraccount-locking">Account Locking</h2>
<div class="mariadb_from_10_4_2 mariadb from_10_4_2 product"><h5 >MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1042-release-notes/">10.4.2</a></h5><p>Account locking permits privileged administrators to lock/unlock user accounts. No new client connections will be permitted if an account is locked (existing connections are not affected). For example:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'marijn'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">ACCOUNT</span> <span class="k">LOCK</span><span class="p">;</span>
</pre><p>See <a href="https://mariadb.com/kb/en/account-locking/">Account Locking</a> for more details.</p>
</div><p>From <a href="https://mariadb.com/kb/en/mariadb-1047-release-notes/">MariaDB 10.4.7</a> and <a href="https://mariadb.com/kb/en/mariadb-1058-release-notes/">MariaDB 10.5.8</a>, the <em>lock_option</em> and <em>password_option</em> clauses can occur in either order.</p>
<h2 class="anchored_heading" id="create-usersee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/troubleshooting-connection-issues/">Troubleshooting Connection Issues</a>
</li><li><a href="https://mariadb.com/kb/en/authentication-from-mariadb-104/">Authentication from MariaDB 10.4</a>
</li><li><a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>
</li><li><a href="#grant">GRANT</a>
</li><li><a href="#alter-user">ALTER USER</a>
</li><li><a href="#drop-user">DROP USER</a>
</li><li><a href="#set-password">SET PASSWORD</a>
</li><li><a href="https://mariadb.com/kb/en/show-create-user/">SHOW CREATE USER</a>
</li><li><a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user table</a>
</li><li><a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv_table</a>
</li><li><a href="https://mariadb.com/kb/en/password-validation-plugins/">Password Validation Plugins</a> - permits the setting of basic criteria for passwords
</li><li><a href="https://mariadb.com/kb/en/authentication-plugins/">Authentication Plugins</a> - allow various authentication methods to be used, and new ones to be developed.</li></ul>

    </div>


        
            
        

        
        
    
        
    

        

        
        
        
    
    

        

    </div>


                    
                </div>
            </section>
<div style = "display:block; clear:both; page-break-after:always;"></div>
<section class="limited_width col-md-8 clearfix" id="content">
                
                    <h1 style="margin-top: 20px;;" id="alter-user">1.1.1.1.2 ALTER USER</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="mariadb_from_10_2_0 mariadb from_10_2_0 product"><h5 >MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">10.2.0</a></h5><p>The ALTER USER statement was introduced in <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a>.</p>
</div><h2 class="anchored_heading" id="alter-usersyntax">Syntax</h2>
<pre class="fixed">ALTER USER [IF EXISTS] 
 <em>user_specification</em> [,<em>user_specification</em>] ...
  [REQUIRE {NONE | <em>tls_option</em> [[AND] <em>tls_option</em>] ...}]
  [WITH <em>resource_option</em> [<em>resource_option</em>] ...]
  [<em>lock_option</em>] [<em>password_option</em>] 

<em>user_specification</em>:
  username [<em>authentication_option</em>]

<em>authentication_option</em>:
  IDENTIFIED BY 'password' 
  | IDENTIFIED BY PASSWORD 'password_hash'
  | IDENTIFIED {VIA|WITH} <em>authentication_rule</em> [OR <em>authentication_rule</em>] ... 
 
<em>authentication_rule</em>:
  authentication_plugin
  | authentication_plugin {USING|AS} 'authentication_string'
  | authentication_plugin {USING|AS} PASSWORD('password')

<em>tls_option</em>
  SSL 
  | X509
  | CIPHER 'cipher'
  | ISSUER 'issuer'
  | SUBJECT 'subject'

<em>resource_option</em>
  MAX_QUERIES_PER_HOUR count
  | MAX_UPDATES_PER_HOUR count
  | MAX_CONNECTIONS_PER_HOUR count
  | MAX_USER_CONNECTIONS count
  | MAX_STATEMENT_TIME time

<em>password_option</em>:
  PASSWORD EXPIRE
  | PASSWORD EXPIRE DEFAULT
  | PASSWORD EXPIRE NEVER
  | PASSWORD EXPIRE INTERVAL N DAY

<em>lock_option</em>:
    ACCOUNT LOCK
  | ACCOUNT UNLOCK
}
</pre><div style="float: none;" class="table_of_contents well well-small">
<h3>Contents</h3>
<div style = "display:block; clear:both; page-break-after:always;"></div>

 <ol class="toc">

    <li class="mariadb_from_10_2_0"><a href="#alter-usersyntax" title="Syntax">Syntax</a></li>

    <li class="mariadb_from_10_2_0"><a href="#alter-userdescription" title="Description">Description</a></li>

    <li class="mariadb_from_10_2_0"><a href="#alter-userif-exists" title="IF EXISTS">IF EXISTS</a></li>

    <li class="mariadb_from_10_2_0"><a href="#alter-useraccount-names" title="Account Names">Account Names</a></li>

    <li class="mariadb_from_10_2_0"><a href="#alter-userauthentication-options" title="Authentication Options">Authentication Options</a>    <ol class="toc">

        <li class="mariadb_from_10_2_0"><a href="#alter-useridentified-by-password" title="IDENTIFIED BY 'password'">IDENTIFIED BY 'password'</a></li>

        <li class="mariadb_from_10_2_0"><a href="#alter-useridentified-by-password-password_hash" title="IDENTIFIED BY PASSWORD 'password_hash'">IDENTIFIED BY PASSWORD 'password_hash'</a></li>

        <li class="mariadb_from_10_2_0"><a href="#alter-useridentified-viawith-authentication_plugin" title="IDENTIFIED {VIA|WITH} authentication_plugin">IDENTIFIED {VIA|WITH} authentication_plugin</a>    </li></ol>
</li>

    <li class="mariadb_from_10_2_0"><a href="#alter-usertls-options" title="TLS Options">TLS Options</a></li>

    <li class="mariadb_from_10_2_0"><a href="#alter-userresource-limit-options" title="Resource Limit Options">Resource Limit Options</a></li>

    <li class="mariadb_from_10_2_0"><a href="#alter-userpassword-expiry" title="Password Expiry">Password Expiry</a></li>

    <li class="mariadb_from_10_2_0"><a href="#alter-useraccount-locking" title="Account Locking">Account Locking</a></li>

    <li class="mariadb_from_10_2_0"><a href="#alter-usersee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="alter-userdescription">Description</h2>
<p>The <code>ALTER USER</code> statement modifies existing MariaDB accounts. To use it, you must have the global <a href="#grantglobal-privileges">CREATE USER</a> privilege or the <a href="#granttable-privileges">UPDATE</a> privilege for the <a href="https://mariadb.com/kb/en/the-mysql-database-tables/">mysql</a> database. The global <a href="#grantglobal-privileges">SUPER</a> privilege is also required if the <a href="https://mariadb.com/kb/en/server-system-variables/#read_only">read_only</a> system variable is enabled.</p>
<p>If any of the specified user accounts do not yet exist, an error results. If an error occurs, <code>ALTER USER</code> will still modify the accounts that do not result in an error. Only one error is produced for all users which have not been modified.</p>
<h2 class="anchored_heading" id="alter-userif-exists">IF EXISTS</h2>
<p>When the <code>IF EXISTS</code> clause is used, MariaDB will return a warning instead of an error for each specified user that does not exist.</p>
<h2 class="anchored_heading" id="alter-useraccount-names">Account Names</h2>
<p>For <code>ALTER USER</code> statements, account names are specified as the <code>username</code> argument in the same way as they are for <a href="#create-user">CREATE USER</a> statements. See <a href="#create-useraccount-names">account names</a> from the <code>CREATE USER</code> page for details on how account names are specified.</p>
<p><a href="https://mariadb.com/kb/en/current_user/">CURRENT_USER</a> or <code>CURRENT_USER()</code> can also be used to alter the account logged into the current session. For example, to change the current user's password to <code>mariadb</code>:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="k">CURRENT_USER</span><span class="p">()</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'mariadb'</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="alter-userauthentication-options">Authentication Options</h2>
<div class="mariadb_from_10_4 mariadb from_10_4 product"><h5 >MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">10.4</a></h5><p>From <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>, it is possible to use more than one authentication plugin for each user account. For example, this can be useful to slowly migrate users to the more secure ed25519 authentication plugin over time, while allowing the old mysql_native_password authentication plugin as an alternative for the transitional period. See <a href="https://mariadb.com/kb/en/authentication-from-mariadb-104/">Authentication from MariaDB 10.4</a> for more.</p>
<p>When running <code>ALTER USER</code>, not specifying an authentication option in the IDENTIFIED VIA clause will remove that authentication method. (However this was not the case before <a href="https://mariadb.com/kb/en/mariadb-10413-release-notes/">MariaDB 10.4.13</a>, see <a href="https://jira.mariadb.org/browse/MDEV-21928">MDEV-21928</a>)</p>
<p>For example, a user is created with the ability to authenticate via both a password and unix_socket:</p>
<pre class="fixed">CREATE USER 'bob'@'localhost' 
  IDENTIFIED VIA mysql_native_password USING PASSWORD('pwd') 
  OR unix_socket;

SHOW CREATE USER 'bob'@'localhost'\G
*************************** 1. row ***************************
CREATE USER for bob@localhost: CREATE USER `bob`@`localhost` 
  IDENTIFIED VIA mysql_native_password 
  USING '*975B2CD4FF9AE554FE8AD33168FBFC326D2021DD' 
  OR unix_socket
</pre><p>If the user's password is updated, but unix_socket authentication is not specified in the <code>IDENTIFIED VIA</code> clause, unix_socket authentication will no longer be permitted.</p>
<pre class="fixed">ALTER USER 'bob'@'localhost' IDENTIFIED VIA mysql_native_password 
  USING PASSWORD('pwd2');

SHOW CREATE USER 'bob'@'localhost'\G
*************************** 1. row ***************************
CREATE USER for bob@localhost: CREATE USER `bob`@`localhost` 
  IDENTIFIED BY PASSWORD '*38366FDA01695B6A5A9DD4E428D9FB8F7EB75512'
</pre></div><h3 class="anchored_heading" id="alter-useridentified-by-password">IDENTIFIED BY 'password'</h3>
<p>The optional <code>IDENTIFIED BY</code> clause can be used to provide an account with a password. The password should be specified in plain text. It will be hashed by the <a href="https://mariadb.com/kb/en/password/">PASSWORD</a> function prior to being stored to the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table.</p>
<p>For example, if our password is <code>mariadb</code>, then we can set the account's password with:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'mariadb'</span><span class="p">;</span>
</pre><p>If you do not specify a password with the <code>IDENTIFIED BY</code> clause, the user
will be able to connect without a password. A blank password is not a wildcard
to match any password. The user must connect without providing a password if no
password is set.</p>
<p>The only <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that this clause supports are <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> and <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a>.</p>
<h3 class="anchored_heading" id="alter-useridentified-by-password-password_hash">IDENTIFIED BY PASSWORD 'password_hash'</h3>
<p>The optional <code>IDENTIFIED BY PASSWORD</code> clause can be used to provide an account with a password that has already been hashed. The password should be specified as a hash that was provided by the <a href="https://mariadb.com/kb/en/password/">PASSWORD</a>#function. It will be stored to the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table as-is.</p>
<p>For example, if our password is <code>mariadb</code>, then we can find the hash with:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'mariadb'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'mariadb'</span><span class="p">)</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="o">*</span><span class="mi">54958</span><span class="n">E764CE10E50764C2EECBB71D01F08549980</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
</pre><p>And then we can set an account's password with the hash:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> 
  <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*54958E764CE10E50764C2EECBB71D01F08549980'</span><span class="p">;</span>
</pre><p>If you do not specify a password with the <code>IDENTIFIED BY</code> clause, the user
will be able to connect without a password. A blank password is not a wildcard
to match any password. The user must connect without providing a password if no
password is set.</p>
<p>The only <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that this clause supports are <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> and <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a>.</p>
<h3 class="anchored_heading" id="alter-useridentified-viawith-authentication_plugin">IDENTIFIED {VIA|WITH} authentication_plugin</h3>
<p>The optional <code>IDENTIFIED VIA authentication_plugin</code> allows you to specify that the account should be authenticated by a specific <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugin</a>. The plugin name must be an active authentication plugin as per <a href="https://mariadb.com/kb/en/show-plugins/">SHOW PLUGINS</a>. If it doesn't show up in that output, then you will need to install it with <a href="https://mariadb.com/kb/en/install-plugin/">INSTALL PLUGIN</a> or <a href="https://mariadb.com/kb/en/install-soname/">INSTALL SONAME</a>.</p>
<p>For example, this could be used with the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">PAM authentication plugin</a>:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span><span class="p">;</span>
</pre><p>Some authentication plugins allow additional arguments to be specified after a <code>USING</code> or <code>AS</code> keyword. For example, the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">PAM authentication plugin</a> accepts a <a href="https://mariadb.com/kb/en/authentication-plugin-pam/#configuring-the-pam-service">service name</a>:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span> <span class="k">USING</span> <span class="s1">'mariadb'</span><span class="p">;</span>
</pre><p>The exact meaning of the additional argument would depend on the specific authentication plugin.</p>
<p>In <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> and later, the <code>USING</code> or <code>AS</code> keyword can also be used to provide a plain-text password to a plugin if it's provided as an argument to the <a href="https://mariadb.com/kb/en/password/">PASSWORD()</a> function. This is only valid for <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that have implemented a hook for the <a href="https://mariadb.com/kb/en/password/">PASSWORD()</a> function. For example, the <a href="https://mariadb.com/kb/en/authentication-plugin-ed25519/">ed25519</a> authentication plugin supports this:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="n">safe</span><span class="o">@</span><span class="s1">'%'</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">ed25519</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'secret'</span><span class="p">);</span>
</pre><h2 class="anchored_heading" id="alter-usertls-options">TLS Options</h2>
<p>By default, MariaDB transmits data between the server and clients without encrypting it. This is generally acceptable when the server and client run on the same host or in networks where security is guaranteed through other means. However, in cases where the server and client exist on separate networks or they are in a high-risk network, the lack of encryption does introduce security concerns as a malicious actor could potentially eavesdrop on the traffic as it is sent over the network between them.</p>
<p>To mitigate this concern, MariaDB allows you to encrypt data in transit between the server and clients using the Transport Layer Security (TLS) protocol. TLS was formerly known as Secure Socket Layer (SSL), but strictly speaking the SSL protocol is a predecessor to TLS and, that version of the protocol is now considered insecure. The documentation still uses the term SSL often and for compatibility reasons TLS-related server system and status variables still use the prefix ssl_, but internally, MariaDB only supports its secure successors.</p>
<p>See <a href="https://mariadb.com/kb/en/secure-connections-overview/">Secure Connections Overview</a> for more information about how to determine whether your MariaDB server has TLS support.</p>
<p>You can set certain TLS-related restrictions for specific user accounts. For instance, you might use this with user accounts that require access to sensitive data while sending it across networks that you do not control. These restrictions can be enabled for a user account with the <a href="#create-user">CREATE USER</a>, <a href="#alter-user">ALTER USER</a>, or <a href="#grant">GRANT</a> statements. The following options are available:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tbody><tr><th>Option</th><th>Description</th></tr>
<tr><td><code>REQUIRE NONE</code></td><td>TLS is not required for this account, but can still be used.</td></tr>
<tr><td><code>REQUIRE SSL</code></td><td>The account must use TLS, but no valid X509 certificate is required. This option cannot be combined with other TLS options.</td></tr>
<tr><td><code>REQUIRE X509</code></td><td>The account must use TLS and must have a valid X509 certificate. This option implies <code>REQUIRE SSL</code>. This option cannot be combined with other TLS options.</td></tr>
<tr><td><code>REQUIRE ISSUER 'issuer'</code></td><td>The account must use TLS and must have a valid X509 certificate. Also, the Certificate Authority must be the one specified via the string <code>issuer</code>. This option implies <code>REQUIRE X509</code>. This option can be combined with the <code>SUBJECT</code>, and <code>CIPHER</code> options in any order.</td></tr>
<tr><td><code>REQUIRE SUBJECT 'subject'</code></td><td>The account must use TLS and must have a valid X509 certificate. Also, the certificate's Subject must be the one specified via the string <code>subject</code>. This option implies <code>REQUIRE X509</code>. This option can be combined with the <code>ISSUER</code>, and <code>CIPHER</code> options in any order.</td></tr>
<tr><td><code>REQUIRE CIPHER 'cipher'</code></td><td>The account must use TLS, but no valid X509 certificate is required. Also, the encryption used for the connection must use a specific cipher method specified in the string <code>cipher</code>. This option implies <code>REQUIRE SSL</code>. This option can be combined with the <code>ISSUER</code>, and <code>SUBJECT</code> options in any order.</td></tr>
</tbody></table>
</div><p>The <code>REQUIRE</code> keyword must be used only once for all specified options, and the <code>AND</code> keyword can be used to separate individual options, but it is not required.</p>
<p>For example, you can alter a user account to require these TLS options with the following:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'%'</span>
    <span class="n">REQUIRE</span> <span class="n">SUBJECT</span> <span class="s1">'/CN=alice/O=My Dom, Inc./C=US/ST=Oregon/L=Portland'</span>
    <span class="k">AND</span> <span class="n">ISSUER</span> <span class="s1">'/C=FI/ST=Somewhere/L=City/ O=Some Company/CN=Peter Parker/emailAddress=p.parker@marvel.com'</span>
    <span class="k">AND</span> <span class="n">CIPHER</span> <span class="s1">'SHA-DES-CBC3-EDH-RSA'</span><span class="p">;</span>
</pre><p>If any of these options are set for a specific user account, then any client who tries to connect with that user account will have to be configured to connect with TLS.</p>
<p>See <a href="https://mariadb.com/kb/en/securing-connections-for-client-and-server/">Securing Connections for Client and Server</a> for information on how to enable TLS on the client and server.</p>
<h2 class="anchored_heading" id="alter-userresource-limit-options">Resource Limit Options</h2>
<div class="mariadb_from_10_2_0 mariadb from_10_2_0 product"><h5 >MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">10.2.0</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a> introduced a number of resource limit options.</p>
</div><p>It is possible to set per-account limits for certain server resources. The following table shows the values that can be set per account:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tbody><tr><th>Limit Type</th><th>Decription</th></tr>
<tr><td><code>MAX_QUERIES_PER_HOUR</code></td><td>Number of statements that the account can issue per hour (including updates)</td></tr>
<tr><td><code>MAX_UPDATES_PER_HOUR</code></td><td>Number of updates (not queries) that the account can issue per hour</td></tr>
<tr><td><code>MAX_CONNECTIONS_PER_HOUR</code></td><td>Number of connections that the account can start per hour</td></tr>
<tr><td><code>MAX_USER_CONNECTIONS</code></td><td>Number of simultaneous connections that can be accepted from the same account; if it is 0, <code>max_connections</code> will be used instead; if <code>max_connections</code> is 0, there is no limit for this account's simultaneous connections.</td></tr>
<tr><td><code>MAX_STATEMENT_TIME</code></td><td>Timeout, in seconds, for statements executed by the user. See also <a href="https://mariadb.com/kb/en/aborting-statements/">Aborting Statements that Exceed a Certain Time to Execute</a>.</td></tr>
</tbody></table>
</div><p>If any of these limits are set to <code>0</code>, then there is no limit for that resource for that user.</p>
<p>Here is an example showing how to set an account's resource limits:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'someone'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span>
    <span class="n">MAX_USER_CONNECTIONS</span> <span class="mi">10</span>
    <span class="n">MAX_QUERIES_PER_HOUR</span> <span class="mi">200</span><span class="p">;</span>
</pre><p>The resources are tracked per account, which means <code>'user'@'server'</code>; not per user name or per connection.</p>
<p>The count can be reset for all users using <a href="https://mariadb.com/kb/en/flush/">FLUSH USER_RESOURCES</a>, <a href="https://mariadb.com/kb/en/flush/">FLUSH PRIVILEGES</a> or <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin reload</a>.</p>
<p>Per account resource limits are stored in the <a href="https://mariadb.com/kb/en/mysqluser-table/">user</a> table, in the <a href="https://mariadb.com/kb/en/the-mysql-database-tables/">mysql</a> database. Columns used for resources limits are named <code>max_questions</code>, <code>max_updates</code>, <code>max_connections</code> (for <code>MAX_CONNECTIONS_PER_HOUR</code>), and <code>max_user_connections</code> (for <code>MAX_USER_CONNECTIONS</code>).</p>
<h2 class="anchored_heading" id="alter-userpassword-expiry">Password Expiry</h2>
<div class="mariadb_from_10_4_3 mariadb from_10_4_3 product"><h5 >MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">10.4.3</a></h5><p>Besides automatic password expiry, as determined by <a href="https://mariadb.com/kb/en/server-system-variables/#default_password_lifetime">default_password_lifetime</a>, password expiry times can be set on an individual user basis, overriding the global setting, for example:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="nb">INTERVAL</span> <span class="mi">120</span> <span class="k">DAY</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="n">NEVER</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'monty'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="k">DEFAULT</span><span class="p">;</span>
</pre><p>See <a href="https://mariadb.com/kb/en/user-password-expiry/">User Password Expiry</a> for more details.</p>
</div><h2 class="anchored_heading" id="alter-useraccount-locking">Account Locking</h2>
<div class="mariadb_from_10_4_2 mariadb from_10_4_2 product"><h5 >MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1042-release-notes/">10.4.2</a></h5><p>Account locking permits privileged administrators to lock/unlock user accounts. No new client connections will be permitted if an account is locked (existing connections are not affected). For example:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'marijn'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">ACCOUNT</span> <span class="k">LOCK</span><span class="p">;</span>
</pre><p>See <a href="https://mariadb.com/kb/en/account-locking/">Account Locking</a> for more details.</p>
</div><p>From <a href="https://mariadb.com/kb/en/mariadb-1047-release-notes/">MariaDB 10.4.7</a> and <a href="https://mariadb.com/kb/en/mariadb-1058-release-notes/">MariaDB 10.5.8</a>, the <em>lock_option</em> and <em>password_option</em> clauses can occur in either order.</p>
<h2 class="anchored_heading" id="alter-usersee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/authentication-from-mariadb-104/">Authentication from MariaDB 10.4</a>
</li><li><a href="#grant">GRANT</a>
</li><li><a href="#create-user">CREATE USER</a>
</li><li><a href="#drop-user">DROP USER</a>
</li><li><a href="#set-password">SET PASSWORD</a>
</li><li><a href="https://mariadb.com/kb/en/show-create-user/">SHOW CREATE USER</a>
</li><li><a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user table</a>
</li><li><a href="https://mariadb.com/kb/en/password-validation-plugins/">Password Validation Plugins</a> - permits the setting of basic criteria for passwords
</li><li><a href="https://mariadb.com/kb/en/authentication-plugins/">Authentication Plugins</a> - allow various authentication methods to be used, and new ones to be developed.</li></ul>

    </div>


        
            
        

        
        
    
        
    

        

        
        
        
    
    

        

    </div>


                    
                </div>
            </section><section class="limited_width col-md-8 clearfix" id="content">
                
                    <h1 style="margin-top: 20px;;" id="drop-user">1.1.1.1.3 DROP USER</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <h2 class="anchored_heading" id="drop-usersyntax">Syntax</h2>
<pre class="fixed">DROP USER [IF EXISTS] user_name [, user_name] ...
</pre><div style="float: none;" class="table_of_contents well well-small">
<h3>Contents</h3>
<div style = "display:block; clear:both; page-break-after:always;"></div>

 <ol class="toc">

    <li class=""><a href="#drop-usersyntax" title="Syntax">Syntax</a></li>

    <li class=""><a href="#drop-userdescription" title="Description">Description</a>    <ol class="toc">

        <li class=""><a href="#drop-userif-exists" title="IF EXISTS">IF EXISTS</a>    </li></ol>
</li>

    <li class=""><a href="#drop-userexamples" title="Examples">Examples</a></li>

    <li class=""><a href="#drop-usersee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="drop-userdescription">Description</h2>
<p>The <code>DROP USER</code> statement removes one or more MariaDB accounts. It removes
privilege rows for the account from all grant tables. To use this statement,
you must have the global <a href="#grantcreate-user">CREATE USER</a> privilege
or the <a href="#granttable-privileges">DELETE</a> privilege for the mysql database.
Each account is named using the same format as for the <code>CREATE USER</code>
statement; for example, <code class="fixed" style="white-space:pre-wrap">'jeffrey'@'localhost'</code>.  If you specify
only the user name part of the account name, a host name part of <code>'%'</code> is
used. For additional information about specifying account names, see
<a href="#create-user">CREATE USER</a>.</p>
<p>Note that, if you specify an account that is currently connected, it will not
be deleted until the connection is closed. The connection will not be
automatically closed.</p>
<p>If any of the specified user accounts do not exist, <code>ERROR 1396 (HY000)</code>
results. If an error occurs, <code>DROP USER</code> will still drop the accounts that do
not result in an error. Only one error is produced for all users which have not
been dropped:</p>
<pre class="fixed">ERROR 1396 (HY000): Operation DROP USER failed for 'u1'@'%','u2'@'%'
</pre><p>Failed <code>CREATE</code> or <code>DROP</code> operations, for both users and roles, produce the
same error code.</p>
<h4 class="anchored_heading" id="drop-userif-exists">IF EXISTS</h4>
<p>If the <code>IF EXISTS</code> clause is used, MariaDB will return a note instead of an error if the user does not exist.</p>
<h2 class="anchored_heading" id="drop-userexamples">Examples</h2>
<pre class="fixed"><span class="k">DROP</span> <span class="k">USER</span> <span class="n">bob</span><span class="p">;</span>
</pre><p><code>IF EXISTS</code>:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="k">USER</span> <span class="n">bob</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1396</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="k">Operation</span> <span class="k">DROP</span> <span class="k">USER</span> <span class="n">failed</span> <span class="k">for</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'%'</span>

<span class="k">DROP</span> <span class="k">USER</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">bob</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">SHOW</span> <span class="n">WARNINGS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+---------------------------------------------+</span>
<span class="o">|</span> <span class="k">Level</span> <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                     <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+---------------------------------------------+</span>
<span class="o">|</span> <span class="n">Note</span>  <span class="o">|</span> <span class="mi">1974</span> <span class="o">|</span> <span class="n">Can</span><span class="s1">'t drop user '</span><span class="n">bob</span><span class="s1">'@'</span><span class="o">%</span><span class="s1">'; it doesn'</span><span class="n">t</span> <span class="n">exist</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+---------------------------------------------+</span>
</pre><h2 class="anchored_heading" id="drop-usersee-also">See Also</h2>
<ul start="1"><li><a href="#create-user">CREATE USER</a>
</li><li><a href="#alter-user">ALTER USER</a>
</li><li><a href="#grant">GRANT</a>
</li><li><a href="https://mariadb.com/kb/en/show-create-user/">SHOW CREATE USER</a>
</li><li><a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user table</a></li></ul>

    </div>


        
            
        

        
        
    
        
    

        

        
        
        
    
    

        

    </div>


                    
                </div>
            </section>
<div style = "display:block; clear:both; page-break-after:always;"></div>
<section class="limited_width col-md-8 clearfix" id="content">
                
                    <h1 style="margin-top: 20px;;" id="grant">1.1.1.1.4 GRANT</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div style="float: none;" class="table_of_contents standalone">
<h3>Contents</h3>
<div style = "display:block; clear:both; page-break-after:always;"></div>

 <ol class="toc">

    <li class=""><a href="#grantsyntax" title="Syntax">Syntax</a></li>

    <li class=""><a href="#grantdescription" title="Description">Description</a></li>

    <li class=""><a href="#grantaccount-names" title="Account Names">Account Names</a></li>

    <li class=""><a href="#grantimplicit-account-creation" title="Implicit Account Creation">Implicit Account Creation</a></li>

    <li class=""><a href="#grantprivilege-levels" title="Privilege Levels">Privilege Levels</a>    <ol class="toc">

        <li class=""><a href="#grantthe-usage-privilege" title="The USAGE Privilege">The USAGE Privilege</a></li>

        <li class=""><a href="#grantthe-all-privileges-privilege" title="The ALL PRIVILEGES Privilege">The ALL PRIVILEGES Privilege</a></li>

        <li class=""><a href="#grantthe-grant-option-privilege" title="The GRANT OPTION Privilege">The GRANT OPTION Privilege</a></li>

        <li class=""><a href="#grantglobal-privileges" title="Global Privileges">Global Privileges</a>        <ol class="toc">

            <li class=""><a href="#grantbinlog-admin" title="BINLOG ADMIN">BINLOG ADMIN</a></li>

            <li class=""><a href="#grantbinlog-monitor" title="BINLOG MONITOR">BINLOG MONITOR</a></li>

            <li class=""><a href="#grantbinlog-replay" title="BINLOG REPLAY">BINLOG REPLAY</a></li>

            <li class=""><a href="#grantconnection-admin" title="CONNECTION ADMIN">CONNECTION ADMIN</a></li>

            <li class=""><a href="#grantcreate-user" title="CREATE USER">CREATE USER</a></li>

            <li class=""><a href="#grantfederated-admin" title="FEDERATED ADMIN">FEDERATED ADMIN</a></li>

            <li class=""><a href="#grantfile" title="FILE">FILE</a></li>

            <li class=""><a href="#grantgrant-option" title="GRANT OPTION">GRANT OPTION</a></li>

            <li class=""><a href="#grantprocess" title="PROCESS">PROCESS</a></li>

            <li class=""><a href="#grantread_only-admin" title="READ_ONLY ADMIN">READ_ONLY ADMIN</a></li>

            <li class=""><a href="#grantreload" title="RELOAD">RELOAD</a></li>

            <li class=""><a href="#grantreplication-client" title="REPLICATION CLIENT">REPLICATION CLIENT</a></li>

            <li class=""><a href="#grantreplication-master-admin" title="REPLICATION MASTER ADMIN">REPLICATION MASTER ADMIN</a></li>

            <li class=""><a href="#grantreplica-monitor" title="REPLICA MONITOR">REPLICA MONITOR</a></li>

            <li class=""><a href="#grantreplication-replica" title="REPLICATION REPLICA">REPLICATION REPLICA</a></li>

            <li class=""><a href="#grantreplication-slave" title="REPLICATION SLAVE">REPLICATION SLAVE</a></li>

            <li class=""><a href="#grantreplication-slave-admin" title="REPLICATION SLAVE ADMIN">REPLICATION SLAVE ADMIN</a></li>

            <li class=""><a href="#grantset-user" title="SET USER">SET USER</a></li>

            <li class=""><a href="#grantshow-databases" title="SHOW DATABASES">SHOW DATABASES</a></li>

            <li class=""><a href="#grantshutdown" title="SHUTDOWN">SHUTDOWN</a></li>

            <li class=""><a href="#grantsuper" title="SUPER">SUPER</a>        </li></ol>
</li>

        <li class=""><a href="#grantdatabase-privileges" title="Database Privileges">Database Privileges</a></li>

        <li class=""><a href="#granttable-privileges" title="Table Privileges">Table Privileges</a></li>

        <li class=""><a href="#grantcolumn-privileges" title="Column Privileges">Column Privileges</a></li>

        <li class=""><a href="#grantfunction-privileges" title="Function Privileges">Function Privileges</a></li>

        <li class=""><a href="#grantprocedure-privileges" title="Procedure Privileges">Procedure Privileges</a></li>

        <li class=""><a href="#grantproxy-privileges" title="Proxy Privileges">Proxy Privileges</a>    </li></ol>
</li>

    <li class=""><a href="#grantauthentication-options" title="Authentication Options">Authentication Options</a>    <ol class="toc">

        <li class=""><a href="#grantidentified-by-password" title="IDENTIFIED BY 'password'">IDENTIFIED BY 'password'</a></li>

        <li class=""><a href="#grantidentified-by-password-password_hash" title="IDENTIFIED BY PASSWORD 'password_hash'">IDENTIFIED BY PASSWORD 'password_hash'</a></li>

        <li class=""><a href="#grantidentified-viawith-authentication_plugin" title="IDENTIFIED {VIA|WITH} authentication_plugin">IDENTIFIED {VIA|WITH} authentication_plugin</a>    </li></ol>
</li>

    <li class=""><a href="#grantresource-limit-options" title="Resource Limit Options">Resource Limit Options</a></li>

    <li class=""><a href="#granttls-options" title="TLS Options">TLS Options</a></li>

    <li class=""><a href="#grantroles" title="Roles">Roles</a>    <ol class="toc">

        <li class=""><a href="#grantsyntax" title="Syntax">Syntax</a>    </li></ol>
</li>

    <li class=""><a href="#grantgrant-examples" title="Grant Examples">Grant Examples</a>    <ol class="toc">

        <li class=""><a href="#grantgranting-root-like-privileges" title="Granting Root-like Privileges">Granting Root-like Privileges</a>    </li></ol>
</li>

    <li class=""><a href="#grantsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="grantsyntax">Syntax</h2>
<pre class="fixed">GRANT
    <em>priv_type</em> [(<em>column_list</em>)]
      [, <em>priv_type</em> [(<em>column_list</em>)]] ...
    ON [<em>object_type</em>] <em>priv_level</em>
    TO <em>user_specification</em> [ <em>user_options</em> ...]

<em>user_specification</em>:
  username [<em>authentication_option</em>]

<em>authentication_option</em>:
  IDENTIFIED BY 'password' 
  | IDENTIFIED BY PASSWORD 'password_hash'
  | IDENTIFIED {VIA|WITH} <em>authentication_rule</em> [OR <em>authentication_rule</em>  ...]

<em>authentication_rule</em>:
    authentication_plugin
  | authentication_plugin {USING|AS} 'authentication_string'
  | authentication_plugin {USING|AS} PASSWORD('password')

GRANT PROXY ON username
    TO user_specification [, user_specification ...]
    [WITH GRANT OPTION]

GRANT rolename TO grantee [, grantee ...]
    [WITH ADMIN OPTION]

<em>grantee</em>:
    rolename
    username [<em>authentication_option</em>]

<em>user_options</em>:
    [REQUIRE {NONE | <em>tls_option</em> [[AND] <em>tls_option</em>] ...}]
    [WITH <em>with_option</em> [<em>with_option</em>] ...]

<em>object_type</em>:
    TABLE
  | FUNCTION
  | PROCEDURE
  | PACKAGE

<em>priv_level</em>:
    *
  | *.*
  | db_name.*
  | db_name.tbl_name
  | tbl_name
  | db_name.routine_name

<em>with_option</em>:
    GRANT OPTION
  | <em>resource_option</em>

<em>resource_option</em>:
  MAX_QUERIES_PER_HOUR count
  | MAX_UPDATES_PER_HOUR count
  | MAX_CONNECTIONS_PER_HOUR count
  | MAX_USER_CONNECTIONS count
  | MAX_STATEMENT_TIME time

<em>tls_option</em>:
  SSL 
  | X509
  | CIPHER 'cipher'
  | ISSUER 'issuer'
  | SUBJECT 'subject'
</pre><h2 class="anchored_heading" id="grantdescription">Description</h2>
<p>The <code>GRANT</code> statement allows you to grant privileges or <a href="#grantroles">roles</a> to accounts. To use <code>GRANT</code>, you must have the <code>GRANT OPTION</code> privilege, and you must have the privileges that you are granting.</p>
<p>Use the <a href="#revoke">REVOKE</a> statement to revoke privileges granted with the <code>GRANT</code> statement.</p>
<p>Use the <a href="https://mariadb.com/kb/en/show-grants/">SHOW GRANTS</a> statement to determine what privileges an account has.</p>
<h2 class="anchored_heading" id="grantaccount-names">Account Names</h2>
<p>For <code>GRANT</code> statements, account names are specified as the <code>username</code> argument in the same way as they are for <a href="#create-user">CREATE USER</a> statements. See <a href="#create-useraccount-names">account names</a> from the <code>CREATE USER</code> page for details on how account names are specified.</p>
<h2 class="anchored_heading" id="grantimplicit-account-creation">Implicit Account Creation</h2>
<p>The <code>GRANT</code> statement also allows you to implicitly create accounts in some cases.</p>
<p>If the account does not yet exist, then <code>GRANT</code> can implicitly create it. To implicitly create an account with <code>GRANT</code>, a user is required to have the same privileges that would be required to explicitly create the account with the <code>CREATE USER</code> statement.</p>
<p>If the <code>NO_AUTO_CREATE_USER</code> <a href="https://mariadb.com/kb/en/sql-mode/">SQL_MODE</a> is set, then accounts can only be created if authentication information is specified, or with a <a href="#create-user">CREATE USER</a> statement. If no authentication information is provided, <code>GRANT</code> will produce an error when the specified account does not exist, for example:</p>
<pre class="fixed">show variables like '%sql_mode%' ;
+---------------+--------------------------------------------+
| Variable_name | Value                                      |
+---------------+--------------------------------------------+
| sql_mode      | NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION |
+---------------+--------------------------------------------+

GRANT USAGE ON *.* TO 'user123'@'%' IDENTIFIED BY '';
ERROR 1133 (28000): Can't find any matching row in the user table

GRANT USAGE ON *.* TO 'user123'@'%' IDENTIFIED VIA PAM using 'mariadb' require ssl ;
Query OK, 0 rows affected (0.00 sec)
 
select host, user from mysql.user where user='user123' ;

+------+----------+
| host | user     |
+------+----------+
| %    | user123 |
+------+----------+
</pre><h2 class="anchored_heading" id="grantprivilege-levels">Privilege Levels</h2>
<p>Privileges can be set globally, for an entire database, for a table or routine,
or for individual columns in a table. Certain privileges can only be set at
certain levels.</p>
<ul start="1"><li><a href="#grantglobal-privileges">Global privileges <em>priv_type</em></a> are granted using <code>*.*</code> for
<em>priv_level</em>. Global privileges include privileges to administer the database
and manage user accounts, as well as privileges for all tables, functions, and
procedures. Global privileges are stored in the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user table</a>.
</li><li><a href="#grantdatabase-privileges">Database privileges <em>priv_type</em></a> are granted using <code>db_name.*</code>
for <em>priv_level</em>, or using just <code>*</code> to use default database. Database
privileges include privileges to create tables and functions, as well as
privileges for all tables, functions, and procedures in the database. Database privileges are stored in the <a href="https://mariadb.com/kb/en/mysqldb-table/">mysql.db table</a>.
</li><li><a href="#granttable-privileges">Table privileges <em>priv_type</em></a> are granted using <code>db_name.tbl_name</code>
for <em>priv_level</em>, or using just <code>tbl_name</code> to specify a table in the default
database. The <code>TABLE</code> keyword is optional. Table privileges include the
ability to select and change data in the table. Certain table privileges can
be granted for individual columns.
</li><li><a href="#grantcolumn-privileges">Column privileges <em>priv_type</em></a> are granted by specifying a table for
<em>priv_level</em> and providing a column list after the privilege type. They allow
you to control exactly which columns in a table users can select and change.
</li><li><a href="#grantfunction-privileges">Function privileges <em>priv_type</em></a> are granted using <code>FUNCTION db_name.routine_name</code>
for <em>priv_level</em>, or using just  <code>FUNCTION routine_name</code> to specify a function
in the default database.
</li><li><a href="#grantprocedure-privileges">Procedure privileges <em>priv_type</em></a> are granted using <code>PROCEDURE db_name.routine_name</code>
for <em>priv_level</em>, or using just <code>PROCEDURE routine_name</code> to specify a procedure
in the default database.
</li></ul>
<h3 class="anchored_heading" id="grantthe-usage-privilege">The <code>USAGE</code> Privilege</h3>
<p>The <code>USAGE</code> privilege grants no real privileges. The <a href="https://mariadb.com/kb/en/show-grants/">SHOW GRANTS</a>
statement will show a global <code>USAGE</code> privilege for a newly-created user. You
can use <code>USAGE</code> with the <code>GRANT</code> statement to change options like <code>GRANT OPTION</code>
and <code>MAX_USER_CONNECTIONS</code> without changing any account privileges.</p>
<h3 class="anchored_heading" id="grantthe-all-privileges-privilege">The <code>ALL PRIVILEGES</code> Privilege</h3>
<p>The <code>ALL PRIVILEGES</code> privilege grants all available privileges. Granting all
privileges only affects the given privilege level. For example, granting all
privileges on a table does not grant any privileges on the database or globally.</p>
<p>Using <code>ALL PRIVILEGES</code> does not grant the special <code>GRANT OPTION</code> privilege.</p>
<p>You can use <code>ALL</code> instead of <code>ALL PRIVILEGES</code>.</p>
<h3 class="anchored_heading" id="grantthe-grant-option-privilege">The <code>GRANT OPTION</code> Privilege</h3>
<p>Use the <code>WITH GRANT OPTION</code> clause to give users the ability to grant privileges
to other users at the given privilege level. Users with the <code>GRANT OPTION</code> privilege can
only grant privileges they have. They cannot grant privileges at a higher privilege level than
they have the <code>GRANT OPTION</code> privilege.</p>
<p>The <code>GRANT OPTION</code> privilege cannot be set for individual columns.
If you use <code>WITH GRANT OPTION</code> when specifying <a href="#grantcolumn-privileges">column privileges</a>,
the <code>GRANT OPTION</code> privilege will be granted for the entire table.</p>
<p>Using the <code>WITH GRANT OPTION</code> clause is equivalent to listing <code>GRANT OPTION</code>
as a privilege.</p>
<h3 class="anchored_heading" id="grantglobal-privileges">Global Privileges</h3>
<p>The following table lists the privileges that can be granted globally. You can
also grant all database, table, and function privileges globally. When granted
globally, these privileges apply to all databases, tables, or functions,
including those created later.</p>
<p>To set a global privilege, use <code class="fixed" style="white-space:pre-wrap">*.*</code> for <em>priv_level</em>.</p>
<h4 class="anchored_heading" id="grantbinlog-admin">BINLOG ADMIN</h4>
<p>Enables administration of the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>, including the <a href="https://mariadb.com/kb/en/purge-binary-logs/">PURGE BINARY LOGS</a> statement and setting the <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_annotate_row_events">binlog_annotate_row_events</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_cache_size">binlog_cache_size</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_commit_wait_count">binlog_commit_wait_count</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_commit_wait_usec">binlog_commit_wait_usec</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_direct_non_transactional_updates">binlog_direct_non_transactional_updates</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_expire_logs_seconds">binlog_expire_logs_seconds</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_file_cache_size">binlog_file_cache_size</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_format">binlog_format</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_row_image">binlog_row_image</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_row_metadata">binlog_row_metadata</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#binlog_stmt_cache_size">binlog_stmt_cache_size</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#expire_logs_days">expire_logs_days</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#log_bin_compress">log_bin_compress</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#log_bin_compress_min_len">log_bin_compress_min_len</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#log_bin_trust_function_creators">log_bin_trust_function_creators</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#max_binlog_cache_size">max_binlog_cache_size</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#max_binlog_size">max_binlog_size</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#max_binlog_stmt_cache_size">max_binlog_stmt_cache_size</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#sql_log_bin">sql_log_bin</a> and <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#sync_binlog">sync_binlog</a> system variables. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>. </p>
<h4 class="anchored_heading" id="grantbinlog-monitor">BINLOG MONITOR</h4>
<p>New name for <a href="#grantreplication-client">REPLICATION CLIENT</a> from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, (<code>REPLICATION CLIENT</code> still supported as an alias for compatibility purposes). Permits running SHOW commands related to the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a>, in particular the <a href="https://mariadb.com/kb/en/show-binlog-status/">SHOW BINLOG STATUS</a>, <a href="https://mariadb.com/kb/en/show-replica-status/">SHOW REPLICA STATUS</a> and <a href="https://mariadb.com/kb/en/show-binary-logs/">SHOW BINARY LOGS</a> statements.</p>
<h4 class="anchored_heading" id="grantbinlog-replay">BINLOG REPLAY</h4>
<p>Enables replaying the binary log with the <a href="https://mariadb.com/kb/en/binlog/">BINLOG</a> statement (generated by <a href="https://mariadb.com/kb/en/mysqlbinlog/">mariadb-binlog</a>), executing <a href="https://mariadb.com/kb/en/server-system-variables/#timestamp">SET timestamp</a> when <a href="https://mariadb.com/kb/en/server-system-variables/#secure_timestamp">secure_timestamp</a> is set to <code>replication</code>, and setting the session values of system variables usually included in BINLOG output, in particular <a href="https://mariadb.com/kb/en/gtid/#gtid_domain_id">gtid_domain_id</a>, <a href="https://mariadb.com/kb/en/gtid/#gtid_seq_no">gtid_seq_no</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#pseudo_thread_id">pseudo_thread_id</a> and <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#server_id">server_id</a>. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a></p>
<h4 class="anchored_heading" id="grantconnection-admin">CONNECTION ADMIN</h4>
<p>Enables administering connection resource limit options. This includes ignoring the limits specified by <a href="https://mariadb.com/kb/en/server-system-variables/#max_connections">max_connections</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#max_user_connections">max_user_connections</a> and <a href="https://mariadb.com/kb/en/server-system-variables/#max_password_errors">max_password_errors</a>, not executing the statements specified in <a href="https://mariadb.com/kb/en/server-system-variables/#init_connect">init_connect</a>, <a href="https://mariadb.com/kb/en/kill/">killing connections and queries</a> owned by other users as well as setting the following connection-related system variables: <a href="https://mariadb.com/kb/en/server-system-variables/#connect_timeout">connect_timeout</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#disconnect_on_expired_password">disconnect_on_expired_password</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#extra_max_connections">extra_max_connections</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#init_connect">init_connect</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#max_connections">max_connections</a>, 
<a href="https://mariadb.com/kb/en/server-system-variables/#max_connect_errors">max_connect_errors</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#max_password_errors">max_password_errors</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#proxy_protocol_networks">proxy_protocol_networks</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#secure_auth">secure_auth</a>, <a href="https://mariadb.com/kb/en/server-system-variables/#slow_launch_time">slow_launch_time</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_exact_stats">thread_pool_exact_stats</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_dedicated_listener">thread_pool_dedicated_listener</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_idle_timeout">thread_pool_idle_timeout</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_max_threads">thread_pool_max_threads</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_min_threads">thread_pool_min_threads</a>, thread_pool_mode, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_oversubscribe">thread_pool_oversubscribe</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_prio_kickup_timer">thread_pool_prio_kickup_timer</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_priority">thread_pool_priority</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_size">thread_pool_size</a>, <a href="https://mariadb.com/kb/en/thread-pool-system-status-variables/#thread_pool_stall_limit">thread_pool_stall_limit</a>. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>.</p>
<h4 class="anchored_heading" id="grantcreate-user">CREATE USER</h4>
<p>Create a user using the <a href="#create-user">CREATE USER</a> statement, or implicitly create a user with the <code>GRANT</code> statement.</p>
<h4 class="anchored_heading" id="grantfederated-admin">FEDERATED ADMIN</h4>
<p>Execute <a href="https://mariadb.com/kb/en/create-server/">CREATE SERVER</a>, <a href="https://mariadb.com/kb/en/alter-server/">ALTER SERVER</a>, and <a href="https://mariadb.com/kb/en/drop-server/">DROP SERVER</a> statements. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>.</p>
<h4 class="anchored_heading" id="grantfile">FILE</h4>
<p>Read and write files on the server, using statements like <a href="https://mariadb.com/kb/en/load-data-infile/">LOAD DATA INFILE</a> or functions like <a href="https://mariadb.com/kb/en/load_file/">LOAD_FILE()</a>. Also needed to create <a href="https://mariadb.com/kb/en/connect/">CONNECT</a> outward tables. MariaDB server must have the permissions to access those files.</p>
<h4 class="anchored_heading" id="grantgrant-option">GRANT OPTION</h4>
<p>Grant global privileges. You can only grant privileges that you have.</p>
<h4 class="anchored_heading" id="grantprocess">PROCESS</h4>
<p>Show information about the active processes, for example via <a href="https://mariadb.com/kb/en/show-processlist/">SHOW PROCESSLIST</a> or <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin processlist</a>. If you have the PROCESS privilege, you can see all threads. Otherwise, you can see only your own threads (that is, threads associated with the MariaDB account that you are using).</p>
<h4 class="anchored_heading" id="grantread_only-admin">READ_ONLY ADMIN</h4>
<p>User can set the <a href="https://mariadb.com/kb/en/server-system-variables/#read_only">read_only</a> system variable and allows the user to perform write operations, even when the <code>read_only</code> option is active. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>.</p>
<h4 class="anchored_heading" id="grantreload">RELOAD</h4>
<p>Execute <a href="https://mariadb.com/kb/en/flush/">FLUSH</a> statements or equivalent <a href="https://mariadb.com/kb/en/mysqladmin/">mariadb-admin/mysqladmin</a> commands.</p>
<h4 class="anchored_heading" id="grantreplication-client">REPLICATION CLIENT</h4>
<p>Execute <a href="https://mariadb.com/kb/en/show-master-status/">SHOW MASTER STATUS</a>, <a href="https://mariadb.com/kb/en/show-slave-status/">SHOW SLAVE STATUS</a> and <a href="https://mariadb.com/kb/en/show-binary-logs/">SHOW BINARY LOGS</a> informative statements. Renamed to <a href="#grantbinlog-monitor">BINLOG MONITOR</a> in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a> (but still supported as an alias for compatibility reasons).</p>
<h4 class="anchored_heading" id="grantreplication-master-admin">REPLICATION MASTER ADMIN</h4>
<p>Permits administration of primary servers, including the <a href="https://mariadb.com/kb/en/show-replica-hosts/">SHOW REPLICA HOSTS</a> statement, and setting the <a href="https://mariadb.com/kb/en/gtid/#gtid_binlog_state">gtid_binlog_state</a>, <a href="https://mariadb.com/kb/en/gtid/#gtid_domain_id">gtid_domain_id</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#master_verify_checksum">master_verify_checksum</a> and <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#server_id">server_id</a> system variables. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>.</p>
<h4 class="anchored_heading" id="grantreplica-monitor">REPLICA MONITOR</h4>
<p>Permit <a href="https://mariadb.com/kb/en/show-replica-status/">SHOW REPLICA STATUS</a> and <a href="https://mariadb.com/kb/en/show-relaylog-events/">SHOW RELAYLOG EVENTS</a>. From <a href="https://mariadb.com/kb/en/mariadb-1059-release-notes/">MariaDB 10.5.9</a>.</p>
<p>When a user would upgrade from an older major release to a <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a> minor release prior to <a href="https://mariadb.com/kb/en/mariadb-1059-release-notes/">MariaDB 10.5.9</a>, certain user accounts would lose capabilities. For example, a user account that had the REPLICATION CLIENT privilege in older major releases could run <a href="https://mariadb.com/kb/en/show-replica-status/">SHOW REPLICA STATUS</a>, but after upgrading to a <a href="https://mariadb.com/kb/en/what-is-mariadb-105/">MariaDB 10.5</a> minor release prior to <a href="https://mariadb.com/kb/en/mariadb-1059-release-notes/">MariaDB 10.5.9</a>, they could no longer run <a href="https://mariadb.com/kb/en/show-replica-status/">SHOW REPLICA STATUS</a>, because that statement was changed to require the REPLICATION REPLICA ADMIN privilege.</p>
<p>This issue is fixed in <a href="https://mariadb.com/kb/en/mariadb-1059-release-notes/">MariaDB 10.5.9</a> with this new privilege, which now grants the user the ability to execute SHOW [ALL] (SLAVE | REPLICA) STATUS.</p>
<p>When a database is upgraded from an older major release to MariaDB Server 10.5.9 or later, any user accounts with the REPLICATION CLIENT or REPLICATION SLAVE privileges will automatically be granted the new REPLICA MONITOR privilege. The privilege fix occurs when the server is started up, not when mariadb-upgrade is performed.</p>
<p>However, when a database is upgraded from an early 10.5 minor release to 10.5.9 and later, the user will have to fix any user account privileges manually.</p>
<h4 class="anchored_heading" id="grantreplication-replica">REPLICATION REPLICA</h4>
<p>Synonym for <a href="#grantreplication-slave">REPLICATION SLAVE</a>. From <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>.</p>
<h4 class="anchored_heading" id="grantreplication-slave">REPLICATION SLAVE</h4>
<p>Accounts used by replica servers on the primary need this privilege. This is needed to get the updates made on the master. From <a href="https://mariadb.com/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>, <a href="#grantreplication-replica">REPLICATION REPLICA</a> is an alias for <code>REPLICATION SLAVE</code>.</p>
<h4 class="anchored_heading" id="grantreplication-slave-admin">REPLICATION SLAVE ADMIN</h4>
<p>Permits administering replica servers, including <a href="https://mariadb.com/kb/en/start-replica/">START REPLICA/SLAVE</a>, <a href="https://mariadb.com/kb/en/stop-replica/">STOP REPLICA/SLAVE</a>, <a href="https://mariadb.com/kb/en/change-master-to/">CHANGE MASTER</a>, <a href="https://mariadb.com/kb/en/show-replica-status/">SHOW REPLICA/SLAVE STATUS</a>, <a href="https://mariadb.com/kb/en/show-relaylog-events/">SHOW RELAYLOG EVENTS</a> statements, replaying the binary log with the <a href="https://mariadb.com/kb/en/binlog/">BINLOG</a> statement (generated by <a href="https://mariadb.com/kb/en/mysqlbinlog/">mariadb-binlog</a>), and setting the <a href="https://mariadb.com/kb/en/gtid/#gtid_cleanup_batch_size">gtid_cleanup_batch_size</a>, <a href="https://mariadb.com/kb/en/gtid/#gtid_ignore_duplicates">gtid_ignore_duplicates</a>, <a href="https://mariadb.com/kb/en/gtid/#gtid_pos_auto_engines">gtid_pos_auto_engines</a>, <a href="https://mariadb.com/kb/en/gtid/#gtid_slave_pos">gtid_slave_pos</a>, <a href="https://mariadb.com/kb/en/gtid/#gtid_strict_mode">gtid_strict_mode</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#init_slave">init_slave</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#read_binlog_speed_limit">read_binlog_speed_limit</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#relay_log_purge">relay_log_purge</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#relay_log_recovery">relay_log_recovery</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#replicate_do_db">replicate_do_db</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#replicate_do_table">replicate_do_table</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#replicate_events_marked_for_skip">replicate_events_marked_for_skip</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#replicate_ignore_db">replicate_ignore_db</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#replicate_ignore_table">replicate_ignore_table</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#replicate_wild_do_table">replicate_wild_do_table</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#replicate_wild_ignore_table">replicate_wild_ignore_table</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_compressed_protocol">slave_compressed_protocol</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_ddl_exec_mode">slave_ddl_exec_mode</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_domain_parallel_threads">slave_domain_parallel_threads</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_exec_mode">slave_exec_mode</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_max_allowed_packet">slave_max_allowed_packet</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_net_timeout">slave_net_timeout</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_parallel_max_queued">slave_parallel_max_queued</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_parallel_mode">slave_parallel_mode</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_parallel_threads">slave_parallel_threads</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_parallel_workers">slave_parallel_workers</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_run_triggers_for_rbr">slave_run_triggers_for_rbr</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_sql_verify_checksum">slave_sql_verify_checksum</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_transaction_retry_interval">slave_transaction_retry_interval</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#slave_type_conversions">slave_type_conversions</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#sync_master_info">sync_master_info</a>, <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#sync_relay_log">sync_relay_log</a> and <a href="https://mariadb.com/kb/en/replication-and-binary-log-system-variables/#sync_relay_log_info">sync_relay_log_info</a> system variables. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>.</p>
<h4 class="anchored_heading" id="grantset-user">SET USER</h4>
<p>Enables setting the <code>DEFINER</code> when creating <a href="https://mariadb.com/kb/en/triggers/">triggers</a>, <a href="https://mariadb.com/kb/en/views/">views</a>, <a href="https://mariadb.com/kb/en/stored-functions/">stored functions</a> and <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedures</a>. Added in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>.</p>
<h4 class="anchored_heading" id="grantshow-databases">SHOW DATABASES</h4>
<p>List all databases using the <a href="https://mariadb.com/kb/en/show-databases/">SHOW DATABASES</a> statement. Without the <code>SHOW DATABASES</code> privilege, you can still issue the <code>SHOW DATABASES</code> statement, but it will only list databases containing tables on which you have privileges.</p>
<h4 class="anchored_heading" id="grantshutdown">SHUTDOWN</h4>
<p>Shut down the server using <a href="https://mariadb.com/kb/en/shutdown/">SHUTDOWN</a> or the <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin shutdown</a> command.</p>
<h4 class="anchored_heading" id="grantsuper">SUPER</h4>
<p>Execute superuser statements: <a href="https://mariadb.com/kb/en/change-master-to/">CHANGE MASTER TO</a>, <a href="https://mariadb.com/kb/en/data-manipulation-kill-connection-query/">KILL</a> (users who do not have this privilege can only <code>KILL</code> their own threads), <a href="https://mariadb.com/kb/en/sql-commands-purge-logs/">PURGE LOGS</a>, <a href="https://mariadb.com/kb/en/set/">SET global system variables</a>, or the <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin debug</a> command. Also, this permission allows the user to write data even if the <a href="https://mariadb.com/kb/en/server-system-variables/#read_only">read_only</a> startup option is set, enable or disable logging, enable or disable replication on replica, specify a <code>DEFINER</code> for statements that support that clause, connect once after reaching the <code>MAX_CONNECTIONS</code>. If a statement has been specified for the <a href="https://mariadb.com/kb/en/server-system-variables/#init_connect">init-connect</a> <code>mysqld</code> option, that command will not be executed when a user with <code>SUPER</code> privileges connects to the server.</p>
<p>The SUPER privilege has been split into multiple smaller privileges from <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a> to allow for more fine-grained privileges, although it remains an alias for these smaller privileges.</p>
<h3 class="anchored_heading" id="grantdatabase-privileges">Database Privileges</h3>
<p>The following table lists the privileges that can be granted at the database
level. You can also grant all table and function privileges at the database
level. Table and function privileges on a database apply to all tables or
functions in that database, including those created later.</p>
<p>To set a privilege for a database, specify the database using
<code class="fixed" style="white-space:pre-wrap">db_name.*</code> for <em>priv_level</em>, or just use <code class="fixed" style="white-space:pre-wrap">*</code>
to specify the default database.</p>
<div class="cstm-style darkheader-nospace-borders"><table><tbody><tr><th>Privilege</th><th>Description</th></tr>
<tr><td><code>CREATE</code></td><td>Create a database using the <a href="https://mariadb.com/kb/en/create-database/">CREATE DATABASE</a> statement, when the privilege is granted for a database. You can grant the <code>CREATE</code> privilege on databases that do not yet exist. This also grants the <code>CREATE</code> privilege on all tables in the database.</td></tr>
<tr><td><code>CREATE ROUTINE</code></td><td>Create Stored Programs using the <a href="https://mariadb.com/kb/en/create-procedure/">CREATE PROCEDURE</a> and <a href="https://mariadb.com/kb/en/create-function/">CREATE FUNCTION</a> statements.</td></tr>
<tr><td><code>CREATE TEMPORARY TABLES</code></td><td>Create temporary tables with the <a href="https://mariadb.com/kb/en/create-table/">CREATE TEMPORARY TABLE</a> statement. This privilege enable writing and dropping those temporary tables</td></tr>
<tr><td><code>DROP</code></td><td>Drop a database using the <a href="https://mariadb.com/kb/en/drop-database/">DROP DATABASE</a> statement, when the privilege is granted for a database. This also grants the <code>DROP</code> privilege on all tables in the database.</td></tr>
<tr><td><code>EVENT</code></td><td>Create, drop and alter <code>EVENT</code>s.</td></tr>
<tr><td><code>GRANT OPTION</code></td><td>Grant database privileges. You can only grant privileges that you have.</td></tr>
<tr><td><code>LOCK TABLES</code></td><td>Acquire explicit locks using the <a href="https://mariadb.com/kb/en/transactions-lock/">LOCK TABLES</a> statement; you also need to have the <code>SELECT</code> privilege on a table, in order to lock it.</td></tr>
</tbody></table>
</div><h3 class="anchored_heading" id="granttable-privileges">Table Privileges</h3>
<div class="cstm-style darkheader-nospace-borders"><table><tbody><tr><th>Privilege</th><th>Description</th></tr>
<tr><td><code>ALTER</code></td><td>Change the structure of an existing table using the <a href="https://mariadb.com/kb/en/alter-table/">ALTER TABLE</a> statement.</td></tr>
<tr><td><code>CREATE</code></td><td>Create a table using the <a href="https://mariadb.com/kb/en/create-table/">CREATE TABLE</a> statement.  You can grant the <code>CREATE</code> privilege on tables that do not yet exist.</td></tr>
<tr><td><code>CREATE VIEW</code></td><td>Create a view using the <a href="https://mariadb.com/kb/en/create-view/">CREATE_VIEW</a> statement.</td></tr>
<tr><td><code>DELETE</code></td><td>Remove rows from a table using the <a href="https://mariadb.com/kb/en/delete/">DELETE</a> statement.</td></tr>
<tr><td><code>DELETE HISTORY</code></td><td>Remove <a href="https://mariadb.com/kb/en/system-versioned-tables/">historical rows</a> from a table using the <a href="https://mariadb.com/kb/en/delete/">DELETE HISTORY</a> statement. Displays as <code>DELETE VERSIONING ROWS</code> when running <a href="https://mariadb.com/kb/en/show-grants/">SHOW GRANTS</a> until <a href="https://mariadb.com/kb/en/mariadb-10315-release-notes/">MariaDB 10.3.15</a> and until <a href="https://mariadb.com/kb/en/mariadb-1045-release-notes/">MariaDB 10.4.5</a> (<a href="https://jira.mariadb.org/browse/MDEV-17655">MDEV-17655</a>), or when running SHOW PRIVILEGES until <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a>, <a href="https://mariadb.com/kb/en/mariadb-10413-release-notes/">MariaDB 10.4.13</a> and <a href="https://mariadb.com/kb/en/mariadb-10323-release-notes/">MariaDB 10.3.23</a> (<a href="https://jira.mariadb.org/browse/MDEV-20382">MDEV-20382</a>). From <a href="https://mariadb.com/kb/en/mariadb-1034-release-notes/">MariaDB 10.3.4</a>. From <a href="https://mariadb.com/kb/en/mariadb-1035-release-notes/">MariaDB 10.3.5</a>, if a user has the <code>SUPER</code> privilege but not this privilege, running <a href="https://mariadb.com/kb/en/mysql_upgrade/">mysql_upgrade</a> will grant this privilege as well.</td></tr>
<tr><td><code>DROP</code></td><td>Drop a table using the <a href="https://mariadb.com/kb/en/drop-table/">DROP TABLE</a> statement or a view using the <a href="https://mariadb.com/kb/en/drop-view/">DROP VIEW</a> statement. Also required to execute the <a href="https://mariadb.com/kb/en/truncate-table/">TRUNCATE TABLE</a> statement.</td></tr>
<tr><td><code>GRANT OPTION</code></td><td>Grant table privileges. You can only grant privileges that you have.</td></tr>
<tr><td><code>INDEX</code></td><td>Create an index on a table using the <a href="https://mariadb.com/kb/en/create-index/">CREATE INDEX</a> statement. Without the <code>INDEX</code> privilege, you can still create indexes when creating a table using the <a href="https://mariadb.com/kb/en/create-table/">CREATE TABLE</a> statement if the you have the <code>CREATE</code> privilege, and you can create indexes using the <a href="https://mariadb.com/kb/en/alter-table/">ALTER TABLE</a> statement if you have the <code>ALTER</code> privilege.</td></tr>
<tr><td><code>INSERT</code></td><td>Add rows to a table using the <a href="https://mariadb.com/kb/en/insert/">INSERT</a> statement.  The <code>INSERT</code> privilege can also be set on individual columns; see <a href="#grantcolumn-privileges">Column Privileges</a> below for details.</td></tr>
<tr><td><code>REFERENCES</code></td><td>Unused.</td></tr>
<tr><td><code>SELECT</code></td><td>Read data from a table using the <a href="https://mariadb.com/kb/en/select/">SELECT</a> statement. The <code>SELECT</code> privilege can also be set on individual columns; see <a href="#grantcolumn-privileges">Column Privileges</a> below for details.</td></tr>
<tr><td><code>SHOW VIEW</code></td><td>Show the <a href="https://mariadb.com/kb/en/create-view/">CREATE VIEW</a> statement to create a view using the <a href="https://mariadb.com/kb/en/show-create-view/">SHOW CREATE VIEW</a> statement.</td></tr>
<tr><td><code>TRIGGER</code></td><td>Execute triggers associated to tables you update, execute the <a href="https://mariadb.com/kb/en/create-trigger/">CREATE TRIGGER</a> and <a href="https://mariadb.com/kb/en/drop-trigger/">DROP TRIGGER</a> statements. You will still be able to see triggers.</td></tr>
<tr><td><code>UPDATE</code></td><td>Update existing rows in a table using the <a href="https://mariadb.com/kb/en/update/">UPDATE</a> statement. <code>UPDATE</code> statements usually include a <code>WHERE</code> clause to update only certain rows. You must have <code>SELECT</code> privileges on the table or the appropriate columns for the <code>WHERE</code> clause. The <code>UPDATE</code> privilege can also be set on individual columns; see <a href="#grantcolumn-privileges">Column Privileges</a> below for details.</td></tr>
</tbody></table>
</div><h3 class="anchored_heading" id="grantcolumn-privileges">Column Privileges</h3>
<p>Some table privileges can be set for individual columns of a table. To use
column privileges, specify the table explicitly and provide a list of column
names after the privilege type. For example, the following statement would allow
the user to read the names and positions of employees, but not other information
from the same table, such as salaries.</p>
<pre class="fixed">GRANT SELECT (name, position) on Employee to 'jeffrey'@'localhost';
</pre><div class="cstm-style darkheader-nospace-borders"><table><tbody><tr><th>Privilege</th><th>Description</th></tr>
<tr><td><code>INSERT (column_list)</code></td><td>Add rows specifying values in columns using the <a href="https://mariadb.com/kb/en/insert/">INSERT</a> statement. If you only have column-level <code>INSERT</code> privileges, you must specify the columns you are setting in the <code>INSERT</code> statement. All other columns will be set to their default values, or <code>NULL</code>.</td></tr>
<tr><td><code>REFERENCES (column_list)</code></td><td>Unused.</td></tr>
<tr><td><code>SELECT (column_list)</code></td><td>Read values in columns using the <a href="https://mariadb.com/kb/en/select/">SELECT</a> statement. You cannot access or query any columns for which you do not have <code>SELECT</code> privileges, including in <code>WHERE</code>, <code>ON</code>, <code>GROUP BY</code>, and <code>ORDER BY</code> clauses.</td></tr>
<tr><td><code>UPDATE (column_list)</code></td><td>Update values in columns of existing rows using the <a href="https://mariadb.com/kb/en/update/">UPDATE</a> statement. <code>UPDATE</code> statements usually include a <code>WHERE</code> clause to update only certain rows. You must have <code>SELECT</code> privileges on the table or the appropriate columns for the <code>WHERE</code> clause.</td></tr>
</tbody></table>
</div><h3 class="anchored_heading" id="grantfunction-privileges">Function Privileges</h3>
<div class="cstm-style darkheader-nospace-borders"><table><tbody><tr><th>Privilege</th><th>Description</th></tr>
<tr><td><code>ALTER ROUTINE</code></td><td>Change the characteristics of a stored function using the <a href="https://mariadb.com/kb/en/alter-function/">ALTER FUNCTION</a> statement.</td></tr>
<tr><td><code>EXECUTE</code></td><td>Use a stored function. You need <code>SELECT</code> privileges for any tables or columns accessed by the function.</td></tr>
<tr><td><code>GRANT OPTION</code></td><td>Grant function privileges. You can only grant privileges that you have.</td></tr>
</tbody></table>
</div><h3 class="anchored_heading" id="grantprocedure-privileges">Procedure Privileges</h3>
<div class="cstm-style darkheader-nospace-borders"><table><tbody><tr><th>Privilege</th><th>Description</th></tr>
<tr><td><code>ALTER ROUTINE</code></td><td>Change the characteristics of a stored procedure using the <a href="https://mariadb.com/kb/en/alter-procedure/">ALTER PROCEDURE</a> statement.</td></tr>
<tr><td><code>EXECUTE</code></td><td>Execute a <a href="https://mariadb.com/kb/en/stored-procedures/">stored procedure</a> using the <a href="https://mariadb.com/kb/en/call/">CALL</a> statement. The privilege to call a procedure may allow you to perform actions you wouldn't otherwise be able to do, such as insert rows into a table.</td></tr>
<tr><td><code>GRANT OPTION</code></td><td>Grant procedure privileges. You can only grant privileges that you have.</td></tr>
</tbody></table>
</div><h3 class="anchored_heading" id="grantproxy-privileges">Proxy Privileges</h3>
<div class="cstm-style darkheader-nospace-borders"><table><tbody><tr><th>Privilege</th><th>Description</th></tr>
<tr><td><code>PROXY</code></td><td>Permits one user to be a proxy for another.</td></tr>
</tbody></table>
</div><p>The <code>PROXY</code> privilege allows one user to proxy as another user, which means their privileges change to that of the proxy user, and the <a href="https://mariadb.com/kb/en/current_user/">CURRENT_USER()</a> function returns the user name of the proxy user.</p>
<p>The <code>PROXY</code> privilege only works with authentication plugins that support it. The default <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> authentication plugin does not support proxy users.</p>
<p>The <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">pam</a> authentication plugin is the only plugin included with MariaDB that currently supports proxy users. The <code>PROXY</code> privilege is commonly used with the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">pam</a> authentication plugin to enable <a href="https://mariadb.com/kb/en/user-and-group-mapping-with-pam/">user and group mapping with PAM</a>.</p>
<p>For example, to grant the <code>PROXY</code> privilege to an <a href="#create-useranonymous-accounts">anonymous account</a> that authenticates with the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">pam</a> authentication plugin, you could execute the following:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'%'</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'strongpassword'</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'%'</span> <span class="p">;</span>

<span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span> <span class="k">USING</span> <span class="s1">'mariadb'</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'%'</span> <span class="k">TO</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span><span class="p">;</span>
</pre><p>A user account can only grant the <code>PROXY</code> privilege for a specific user account if the granter also has the <code>PROXY</code> privilege for that specific user account, and if that privilege is defined <code>WITH GRANT OPTION</code>. For example, the following example fails because the granter does not have the <code>PROXY</code> privilege for that specific user account at all:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">USER</span><span class="p">(),</span> <span class="k">CURRENT_USER</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="k">USER</span><span class="p">()</span>          <span class="o">|</span> <span class="k">CURRENT_USER</span><span class="p">()</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>

<span class="k">SHOW</span> <span class="n">GRANTS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Grants</span> <span class="k">for</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span>                                                                                            <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------+</span>

<span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">TO</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1698</span> <span class="p">(</span><span class="mi">28000</span><span class="p">):</span> <span class="k">Access</span> <span class="n">denied</span> <span class="k">for</span> <span class="k">user</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span>
</pre><p>And the following example fails because the granter does have the <code>PROXY</code> privilege for that specific user account, but it is not defined <code>WITH GRANT OPTION</code>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">USER</span><span class="p">(),</span> <span class="k">CURRENT_USER</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="k">USER</span><span class="p">()</span>          <span class="o">|</span> <span class="k">CURRENT_USER</span><span class="p">()</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>

<span class="k">SHOW</span> <span class="n">GRANTS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Grants</span> <span class="k">for</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span>                                                                                            <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19'</span> <span class="o">|</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span>                                                               <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------+</span>

<span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">TO</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1698</span> <span class="p">(</span><span class="mi">28000</span><span class="p">):</span> <span class="k">Access</span> <span class="n">denied</span> <span class="k">for</span> <span class="k">user</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span>
</pre><p>But the following example succeeds because the granter does have the <code>PROXY</code> privilege for that specific user account, and it is defined <code>WITH GRANT OPTION</code>:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">USER</span><span class="p">(),</span> <span class="k">CURRENT_USER</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="k">USER</span><span class="p">()</span>          <span class="o">|</span> <span class="k">CURRENT_USER</span><span class="p">()</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>

<span class="k">SHOW</span> <span class="n">GRANTS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Grants</span> <span class="k">for</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span>                                                                                                              <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span> <span class="o">|</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span>                                                               <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------------------------+</span>

<span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">TO</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
</pre><p>A user account can grant the <code>PROXY</code> privilege for any other user account if the granter has the <code>PROXY</code> privilege for the <code>''@'%'</code> anonymous user account, like this:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span> <span class="k">TO</span> <span class="s1">'dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span><span class="p">;</span>
</pre><p>For example, the following example succeeds because the user can grant the <code>PROXY</code> privilege for any other user account:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">USER</span><span class="p">(),</span> <span class="k">CURRENT_USER</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="k">USER</span><span class="p">()</span>          <span class="o">|</span> <span class="k">CURRENT_USER</span><span class="p">()</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>
<span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------+-----------------+</span>

<span class="k">SHOW</span> <span class="n">GRANTS</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Grants</span> <span class="k">for</span> <span class="n">alice</span><span class="o">@</span><span class="n">localhost</span>                                                                                                              <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span> <span class="o">|</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span>                                                                          <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------------------------------------------------------------------+</span>

<span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'app1_dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">TO</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">004</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">'app2_dba'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">TO</span> <span class="s1">'carol'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">004</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>The default <code>root</code> user accounts created by <a href="https://mariadb.com/kb/en/mysql_install_db/">mysql_install_db</a> have this privilege. For example:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'root'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="n">PROXY</span> <span class="k">ON</span> <span class="s1">''</span><span class="o">@</span><span class="s1">'%'</span> <span class="k">TO</span> <span class="s1">'root'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span><span class="p">;</span>
</pre><p>This allows the default <code>root</code> user accounts to grant the <code>PROXY</code> privilege for any other user account, and it also allows the default <code>root</code> user accounts to grant others the privilege to do the same.</p>
<h2 class="anchored_heading" id="grantauthentication-options">Authentication Options</h2>
<p>The authentication options for the <code>GRANT</code> statement are the same as those for the <a href="#create-user">CREATE USER</a> statement.</p>
<h3 class="anchored_heading" id="grantidentified-by-password">IDENTIFIED BY 'password'</h3>
<p>The optional <code>IDENTIFIED BY</code> clause can be used to provide an account with a password. The password should be specified in plain text. It will be hashed by the <a href="https://mariadb.com/kb/en/password/">PASSWORD</a> function prior to being stored to the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table.</p>
<p>For example, if our password is <code>mariadb</code>, then we can create the user with:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'mariadb'</span><span class="p">;</span>
</pre><p>If you do not specify a password with the <code>IDENTIFIED BY</code> clause, the user
will be able to connect without a password. A blank password is not a wildcard
to match any password. The user must connect without providing a password if no
password is set.</p>
<p>If the user account already exists and if you provide the <code>IDENTIFIED BY</code> clause, then the user's password will be changed. You must have the privileges needed for the <a href="#set-password">SET PASSWORD</a>
statement to change a user's password with <code>GRANT</code>.</p>
<p>The only <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that this clause supports are <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> and <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a>.</p>
<h3 class="anchored_heading" id="grantidentified-by-password-password_hash">IDENTIFIED BY PASSWORD 'password_hash'</h3>
<p>The optional <code>IDENTIFIED BY PASSWORD</code> clause can be used to provide an account with a password that has already been hashed. The password should be specified as a hash that was provided by the <a href="https://mariadb.com/kb/en/password/">PASSWORD</a> function. It will be stored to the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table as-is.</p>
<p>For example, if our password is <code>mariadb</code>, then we can find the hash with:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'mariadb'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'mariadb'</span><span class="p">)</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="o">*</span><span class="mi">54958</span><span class="n">E764CE10E50764C2EECBB71D01F08549980</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>And then we can create a user with the hash:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*54958E764CE10E50764C2EECBB71D01F08549980'</span><span class="p">;</span>
</pre><p>If you do not specify a password with the <code>IDENTIFIED BY</code> clause, the user
will be able to connect without a password. A blank password is not a wildcard
to match any password. The user must connect without providing a password if no
password is set.</p>
<p>If the user account already exists and if you provide the <code>IDENTIFIED BY</code> clause, then the user's password will be changed. You must have the privileges needed for the <a href="#set-password">SET PASSWORD</a>
statement to change a user's password with <code>GRANT</code>.</p>
<p>The only <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that this clause supports are <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> and <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a>.</p>
<h3 class="anchored_heading" id="grantidentified-viawith-authentication_plugin">IDENTIFIED {VIA|WITH} authentication_plugin</h3>
<p>The optional <code>IDENTIFIED VIA authentication_plugin</code> allows you to specify that the account should be authenticated by a specific <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugin</a>. The plugin name must be an active authentication plugin as per <a href="https://mariadb.com/kb/en/show-plugins/">SHOW PLUGINS</a>. If it doesn't show up in that output, then you will need to install it with <a href="https://mariadb.com/kb/en/install-plugin/">INSTALL PLUGIN</a> or <a href="https://mariadb.com/kb/en/install-soname/">INSTALL SONAME</a>.</p>
<p>For example, this could be used with the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">PAM authentication plugin</a>:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span><span class="p">;</span>
</pre><p>Some authentication plugins allow additional arguments to be specified after a <code>USING</code> or <code>AS</code> keyword. For example, the <a href="https://mariadb.com/kb/en/authentication-plugin-pam/">PAM authentication plugin</a> accepts a <a href="https://mariadb.com/kb/en/authentication-plugin-pam/#configuring-the-pam-service">service name</a>:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span> <span class="k">USING</span> <span class="s1">'mariadb'</span><span class="p">;</span>
</pre><p>The exact meaning of the additional argument would depend on the specific authentication plugin.</p>
<div class="mariadb_from_10_4_0 mariadb from_10_4_0 product"><h5 >MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1040-release-notes/">10.4.0</a></h5><p>The <code>USING</code> or <code>AS</code> keyword can also be used to provide a plain-text password to a plugin if it's provided as an argument to the <a href="https://mariadb.com/kb/en/password/">PASSWORD()</a> function. This is only valid for <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugins</a> that have implemented a hook for the <a href="https://mariadb.com/kb/en/password/">PASSWORD()</a> function. For example, the <a href="https://mariadb.com/kb/en/authentication-plugin-ed25519/">ed25519</a> authentication plugin supports this:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">safe</span><span class="o">@</span><span class="s1">'%'</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">ed25519</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'secret'</span><span class="p">);</span>
</pre></div><div class="mariadb_from_10_4_3 mariadb from_10_4_3 product"><h5 >MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1043-release-notes/">10.4.3</a></h5><p>One can specify many authentication plugins, they all work as alternatives ways of authenticating a user:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">safe</span><span class="o">@</span><span class="s1">'%'</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">ed25519</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'secret'</span><span class="p">)</span> <span class="k">OR</span> <span class="n">unix_socket</span><span class="p">;</span>
</pre></div><p>By default, when you create a user without specifying an authentication plugin, MariaDB uses the <a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> plugin.</p>
<h2 class="anchored_heading" id="grantresource-limit-options">Resource Limit Options</h2>
<div class="mariadb_from_10_2_0 mariadb from_10_2_0 product"><h5 >MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">10.2.0</a></h5><p><a href="https://mariadb.com/kb/en/mariadb-1020-release-notes/">MariaDB 10.2.0</a> introduced a number of resource limit options.</p>
</div><p>It is possible to set per-account limits for certain server resources. The following table shows the values that can be set per account:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tbody><tr><th>Limit Type</th><th>Decription</th></tr>
<tr><td><code>MAX_QUERIES_PER_HOUR</code></td><td>Number of statements that the account can issue per hour (including updates)</td></tr>
<tr><td><code>MAX_UPDATES_PER_HOUR</code></td><td>Number of updates (not queries) that the account can issue per hour</td></tr>
<tr><td><code>MAX_CONNECTIONS_PER_HOUR</code></td><td>Number of connections that the account can start per hour</td></tr>
<tr><td><code>MAX_USER_CONNECTIONS</code></td><td>Number of simultaneous connections that can be accepted from the same account; if it is 0, <code>max_connections</code> will be used instead; if <code>max_connections</code> is 0, there is no limit for this account's simultaneous connections.</td></tr>
<tr><td><code>MAX_STATEMENT_TIME</code></td><td>Timeout, in seconds, for statements executed by the user. See also <a href="https://mariadb.com/kb/en/aborting-statements/">Aborting Statements that Exceed a Certain Time to Execute</a>.</td></tr>
</tbody></table>
</div><p>If any of these limits are set to <code>0</code>, then there is no limit for that resource for that user.</p>
<p>To set resource limits for an account, if you do not want to change that account's privileges, you can issue a <code>GRANT</code> statement with the <code>USAGE</code> privilege, which has no meaning. The statement can name some or all limit types, in any order.</p>
<p>Here is an example showing how to set resource limits:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'someone'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span>
    <span class="n">MAX_USER_CONNECTIONS</span> <span class="mi">0</span>
    <span class="n">MAX_QUERIES_PER_HOUR</span> <span class="mi">200</span><span class="p">;</span>
</pre><p>The resources are tracked per account, which means <code>'user'@'server'</code>; not per user name or per connection.</p>
<p>The count can be reset for all users using <a href="https://mariadb.com/kb/en/flush/">FLUSH USER_RESOURCES</a>, <a href="https://mariadb.com/kb/en/flush/">FLUSH PRIVILEGES</a> or <a href="https://mariadb.com/kb/en/mysqladmin/">mysqladmin reload</a>.</p>
<p>Users with the <code>CONNECTION ADMIN</code> privilege (in <a href="https://mariadb.com/kb/en/mariadb-1052-release-notes/">MariaDB 10.5.2</a> and later) or the <code>SUPER</code> privilege are not restricted by <code>max_user_connections</code>, <code>max_connections</code>, or <code>max_password_errors</code>.</p>
<p>Per account resource limits are stored in the <a href="https://mariadb.com/kb/en/mysqluser-table/">user</a> table, in the <a href="https://mariadb.com/kb/en/the-mysql-database-tables/">mysql</a> database. Columns used for resources limits are named <code>max_questions</code>, <code>max_updates</code>, <code>max_connections</code> (for <code>MAX_CONNECTIONS_PER_HOUR</code>), and <code>max_user_connections</code> (for <code>MAX_USER_CONNECTIONS</code>).</p>
<h2 class="anchored_heading" id="granttls-options">TLS Options</h2>
<p>By default, MariaDB transmits data between the server and clients without encrypting it. This is generally acceptable when the server and client run on the same host or in networks where security is guaranteed through other means. However, in cases where the server and client exist on separate networks or they are in a high-risk network, the lack of encryption does introduce security concerns as a malicious actor could potentially eavesdrop on the traffic as it is sent over the network between them.</p>
<p>To mitigate this concern, MariaDB allows you to encrypt data in transit between the server and clients using the Transport Layer Security (TLS) protocol. TLS was formerly known as Secure Socket Layer (SSL), but strictly speaking the SSL protocol is a predecessor to TLS and, that version of the protocol is now considered insecure. The documentation still uses the term SSL often and for compatibility reasons TLS-related server system and status variables still use the prefix ssl_, but internally, MariaDB only supports its secure successors.</p>
<p>See <a href="https://mariadb.com/kb/en/secure-connections-overview/">Secure Connections Overview</a> for more information about how to determine whether your MariaDB server has TLS support.</p>
<p>You can set certain TLS-related restrictions for specific user accounts. For instance, you might use this with user accounts that require access to sensitive data while sending it across networks that you do not control. These restrictions can be enabled for a user account with the <a href="#create-user">CREATE USER</a>, <a href="#alter-user">ALTER USER</a>, or <a href="#grant">GRANT</a> statements. The following options are available:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tbody><tr><th>Option</th><th>Description</th></tr>
<tr><td><code>REQUIRE NONE</code></td><td>TLS is not required for this account, but can still be used.</td></tr>
<tr><td><code>REQUIRE SSL</code></td><td>The account must use TLS, but no valid X509 certificate is required. This option cannot be combined with other TLS options.</td></tr>
<tr><td><code>REQUIRE X509</code></td><td>The account must use TLS and must have a valid X509 certificate. This option implies <code>REQUIRE SSL</code>. This option cannot be combined with other TLS options.</td></tr>
<tr><td><code>REQUIRE ISSUER 'issuer'</code></td><td>The account must use TLS and must have a valid X509 certificate. Also, the Certificate Authority must be the one specified via the string <code>issuer</code>. This option implies <code>REQUIRE X509</code>. This option can be combined with the <code>SUBJECT</code>, and <code>CIPHER</code> options in any order.</td></tr>
<tr><td><code>REQUIRE SUBJECT 'subject'</code></td><td>The account must use TLS and must have a valid X509 certificate. Also, the certificate's Subject must be the one specified via the string <code>subject</code>. This option implies <code>REQUIRE X509</code>. This option can be combined with the <code>ISSUER</code>, and <code>CIPHER</code> options in any order.</td></tr>
<tr><td><code>REQUIRE CIPHER 'cipher'</code></td><td>The account must use TLS, but no valid X509 certificate is required. Also, the encryption used for the connection must use a specific cipher method specified in the string <code>cipher</code>. This option implies <code>REQUIRE SSL</code>. This option can be combined with the <code>ISSUER</code>, and <code>SUBJECT</code> options in any order.</td></tr>
</tbody></table>
</div><p>The <code>REQUIRE</code> keyword must be used only once for all specified options, and the <code>AND</code> keyword can be used to separate individual options, but it is not required.</p>
<p>For example, you can create a user account that requires these TLS options with the following:</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'alice'</span><span class="o">@</span><span class="s1">'%'</span>
    <span class="n">REQUIRE</span> <span class="n">SUBJECT</span> <span class="s1">'/CN=alice/O=My Dom, Inc./C=US/ST=Oregon/L=Portland'</span>
    <span class="k">AND</span> <span class="n">ISSUER</span> <span class="s1">'/C=FI/ST=Somewhere/L=City/ O=Some Company/CN=Peter Parker/emailAddress=p.parker@marvel.com'</span>
    <span class="k">AND</span> <span class="n">CIPHER</span> <span class="s1">'SHA-DES-CBC3-EDH-RSA'</span><span class="p">;</span>
</pre><p>If any of these options are set for a specific user account, then any client who tries to connect with that user account will have to be configured to connect with TLS.</p>
<p>See <a href="https://mariadb.com/kb/en/securing-connections-for-client-and-server/">Securing Connections for Client and Server</a> for information on how to enable TLS on the client and server.</p>
<h2 class="anchored_heading" id="grantroles">Roles</h2>
<h3 class="anchored_heading" id="grantsyntax">Syntax</h3>
<pre class="fixed">GRANT role TO grantee [, grantee ... ]
[ WITH ADMIN OPTION ]

<em>grantee</em>:
    rolename
    username [<em>authentication_option</em>]
</pre><p>The GRANT statement is also used to grant the use a <a href="https://mariadb.com/kb/en/roles/">role</a> to one or more users or other roles. In order to be able to grant a role, the grantor doing so must have permission to do so (see WITH ADMIN in the <a href="#create-role">CREATE ROLE</a> article).</p>
<p>Specifying the <code>WITH ADMIN OPTION</code> permits the grantee to in turn grant the role to another.</p>
<p>For example, the following commands show how to grant the same role to a couple different users.</p>
<pre class="fixed"><span class="k">GRANT</span> <span class="n">journalist</span> <span class="k">TO</span> <span class="n">hulda</span><span class="p">;</span>

<span class="k">GRANT</span> <span class="n">journalist</span> <span class="k">TO</span> <span class="n">berengar</span> <span class="k">WITH</span> <span class="k">ADMIN</span> <span class="k">OPTION</span><span class="p">;</span>
</pre><p>If a user has been granted a role, they do not automatically obtain all permissions associated with that role. These permissions are only in use when the user activates the role with the <a href="https://mariadb.com/kb/en/set-role/">SET ROLE</a> statement.</p>
<h2 class="anchored_heading" id="grantgrant-examples">Grant Examples</h2>
<h3 class="anchored_heading" id="grantgranting-root-like-privileges">Granting Root-like Privileges</h3>
<p>You can create a user that has privileges similar to the default <code>root</code> accounts by executing the following:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'alexander'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span>  <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">to</span> <span class="s1">'alexander'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="grantsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/troubleshooting-connection-issues/">Troubleshooting Connection Issues</a>
</li><li><a href="https://mariadb.com/kb/en/mysqld-options/#-skip-grant-tables">--skip-grant-tables</a> allows you to start MariaDB without <code>GRANT</code>.  This is useful if you lost your root password.
</li><li><a href="#create-user">CREATE USER</a>
</li><li><a href="#alter-user">ALTER USER</a>
</li><li><a href="#drop-user">DROP USER</a>
</li><li><a href="#set-password">SET PASSWORD</a>
</li><li><a href="https://mariadb.com/kb/en/show-create-user/">SHOW CREATE USER</a>
</li><li><a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user table</a>
</li><li><a href="https://mariadb.com/kb/en/password-validation-plugins/">Password Validation Plugins</a> - permits the setting of basic criteria for passwords
</li><li><a href="https://mariadb.com/kb/en/authentication-plugins/">Authentication Plugins</a> - allow various authentication methods to be used, and new ones to be developed.</li></ul>

    </div>


        
            
        

        
        
    
        
    

        

        
        
        
    
    

        

    </div>


                    
                </div>
            </section><section class="limited_width col-md-8 clearfix" id="content">
                
                    <h1 style="margin-top: 20px;;" id="rename-user">1.1.1.1.5 RENAME USER</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">RENAME USER old_user TO new_user
    [, old_user TO new_user] ...
</pre><h2 class="anchored_heading" id="description">Description</h2>
<p>The RENAME USER statement renames existing MariaDB accounts. To use it,
you must have the global <code><a href="#grantglobal-privileges">CREATE USER</a></code> privilege
or the <code><a href="#granttable-privileges">UPDATE</a></code> privilege for the <code>mysql</code> database.
Each account is named using the same format as for the <code><a href="#create-user">CREATE USER</a></code>
statement; for example, <code>'jeffrey'@'localhost'</code>.
If you specify only the user name part of the account name, a host
name part of <code>'%'</code> is used.</p>
<p>If any of the old user accounts do not exist or any of the new user accounts already
exist, <code>ERROR 1396 (HY000)</code> results. If an error occurs, <code>RENAME USER</code>
will still rename the accounts that do not result in an error.</p>
<h2 class="anchored_heading" id="examples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'donald'</span><span class="p">,</span> <span class="s1">'mickey'</span><span class="p">;</span>
<span class="k">RENAME</span> <span class="k">USER</span> <span class="s1">'donald'</span> <span class="k">TO</span> <span class="s1">'duck'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">,</span> <span class="s1">'mickey'</span> <span class="k">TO</span> <span class="s1">'mouse'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
</pre>
    </div>


        
            
        

        
        
    
        
    

        

        
        
        
    
    

        

    </div>


                    
                </div>
            </section><section class="limited_width col-md-8 clearfix" id="content">
                
                    <h1 style="margin-top: 20px;;" id="revoke">1.1.1.1.6 REVOKE</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div style="float: none;" class="table_of_contents well well-small">
<h3>Contents</h3>
<div style = "display:block; clear:both; page-break-after:always;"></div>

 <ol class="toc">

    <li class=""><a href="#revokeprivileges" title="Privileges">Privileges</a>    <ol class="toc">

        <li class=""><a href="#revokesyntax" title="Syntax">Syntax</a></li>

        <li class=""><a href="#revokedescription" title="Description">Description</a></li>

        <li class=""><a href="#revokeexamples" title="Examples">Examples</a>    </li></ol>
</li>

    <li class=""><a href="#revokeroles" title="Roles">Roles</a>    <ol class="toc">

        <li class=""><a href="#revokesyntax" title="Syntax">Syntax</a></li>

        <li class=""><a href="#revokedescription" title="Description">Description</a></li>

        <li class=""><a href="#revokeexample" title="Example">Example</a>    </li></ol>
 </li></ol>

</div>
<h2 class="anchored_heading" id="revokeprivileges">Privileges</h2>
<h3 class="anchored_heading" id="revokesyntax">Syntax</h3>
<pre class="fixed">REVOKE 
    priv_type [(column_list)]
      [, priv_type [(column_list)]] ...
    ON [object_type] priv_level
    FROM user [, user] ...

REVOKE ALL PRIVILEGES, GRANT OPTION
    FROM user [, user] ...
</pre><h3 class="anchored_heading" id="revokedescription">Description</h3>
<p>The <code>REVOKE</code> statement enables system administrators to revoke
privileges (or roles - see <a href="#revokeroles">section below</a>) from MariaDB accounts. Each account is named using the same format
as for the <code>GRANT</code> statement; for example,
'<code>jeffrey'@'localhost</code>'. If you specify only the user name part
of the account name, a host name part of '<code><code>%</code></code>' is used. For
details on the levels at which privileges exist, the allowable
<code>priv_type</code> and <code>priv_level</code> values, and the
syntax for specifying users and passwords, see <a href="#grant">GRANT</a>.</p>
<p>To use the first <code>REVOKE</code> syntax, you must have the
<code>GRANT OPTION</code> privilege, and you must have the privileges that
you are revoking.</p>
<p>To revoke all privileges, use the second syntax, which drops all
global, database, table, column, and routine privileges for the named
user or users:</p>
<pre class="fixed"><span class="k">REVOKE</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span><span class="p">,</span> <span class="k">GRANT</span> <span class="k">OPTION</span> <span class="k">FROM</span> <span class="k">user</span> <span class="p">[,</span> <span class="k">user</span><span class="p">]</span> <span class="p">...</span>
</pre><p>To use this <code>REVOKE</code> syntax, you must have the global
<a href="#create-user">CREATE USER</a> privilege or the
<a href="https://mariadb.com/kb/en/update/">UPDATE</a> privilege for the mysql database. See
<a href="#grant">GRANT</a>.</p>
<h3 class="anchored_heading" id="revokeexamples">Examples</h3>
<pre class="fixed"><span class="k">REVOKE</span> <span class="n">SUPER</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">FROM</span> <span class="s1">'alexander'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="revokeroles">Roles</h2>
<h3 class="anchored_heading" id="revokesyntax">Syntax</h3>
<pre class="fixed">REVOKE role  [, role ...]
    FROM grantee [, grantee2 ... ]

REVOKE ADMIN OPTION FOR role FROM grantee [, grantee2]
</pre><h3 class="anchored_heading" id="revokedescription">Description</h3>
<p><code>REVOKE</code> is also used to remove a <a href="https://mariadb.com/kb/en/roles/">role</a> from a user or another role that it's previously been assigned to. If a role has previously been set as a <a href="https://mariadb.com/kb/en/set-default-role/">default role</a>, <code>REVOKE</code> does not remove the record of the default role from the <a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table. If the role is subsequently granted again, it will again be the user's default. Use <a href="https://mariadb.com/kb/en/set-default-role/">SET DEFAULT ROLE NONE</a> to explicitly remove this.</p>
<p>Before <a href="https://mariadb.com/kb/en/mariadb-10113-release-notes/">MariaDB 10.1.13</a>, the <code>REVOKE role</code> statement was not permitted in <a href="https://mariadb.com/kb/en/prepared-statements/">prepared statements</a>.</p>
<h3 class="anchored_heading" id="revokeexample">Example</h3>
<pre class="fixed"><span class="k">REVOKE</span> <span class="n">journalist</span> <span class="k">FROM</span> <span class="n">hulda</span>
</pre>
    </div>


        
            
        

        
        
    
        
    

        

        
        
        
    
    

        

    </div>


                    
                </div>
            </section><section class="limited_width col-md-8 clearfix" id="content">
                
                    <h1 style="margin-top: 20px;;" id="set-password">1.1.1.1.7 SET PASSWORD</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <h2 class="anchored_heading" id="set-passwordsyntax">Syntax</h2>
<pre class="fixed">SET PASSWORD [FOR user] =
    {
        PASSWORD('some password')
      | OLD_PASSWORD('some password')
      | 'encrypted password'
    }
</pre><div style="float: none;" class="table_of_contents well well-small">
<h3>Contents</h3>
<div style = "display:block; clear:both; page-break-after:always;"></div>

 <ol class="toc">

    <li class="mariadb_from_10_4"><a href="#set-passwordsyntax" title="Syntax">Syntax</a></li>

    <li class="mariadb_from_10_4"><a href="#set-passworddescription" title="Description">Description</a></li>

    <li class="mariadb_from_10_4"><a href="#set-passwordauthentication-plugin-support" title="Authentication Plugin Support">Authentication Plugin Support</a></li>

    <li class="mariadb_from_10_4"><a href="#set-passwordpasswordless-user-accounts" title="Passwordless User Accounts">Passwordless User Accounts</a></li>

    <li class="mariadb_from_10_4"><a href="#set-passwordexample" title="Example">Example</a></li>

    <li class="mariadb_from_10_4"><a href="#set-passwordsee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="set-passworddescription">Description</h2>
<p>The <code>SET PASSWORD</code> statement assigns a password to an existing MariaDB user
account.</p>
<p>If the password is specified using the <code><a href="https://mariadb.com/kb/en/password/">PASSWORD()</a></code> or <code><a href="https://mariadb.com/kb/en/old_password/">OLD_PASSWORD()</a></code>
function, the literal text of the password should be given. If the
password is specified without using either function, the password
should be the already-encrypted password value as returned by
<code><a href="https://mariadb.com/kb/en/password/">PASSWORD()</a></code>.</p>
<p><code><a href="https://mariadb.com/kb/en/old_password/">OLD_PASSWORD()</a></code> should only be used if your MariaDB/MySQL clients are very old (&lt; 4.0.0).</p>
<p>With no <code>FOR</code> clause, this statement sets the password for the current
user. Any client that has connected to the server using a non-anonymous
account can change the password for that account.</p>
<p>With a <code>FOR</code> clause, this statement sets the password for a specific
account on the current server host. Only clients that have the <code>UPDATE</code>
privilege for the <code>mysql</code> database can do this. The user value should be
given in <code class="fixed" style="white-space:pre-wrap">user_name@host_name</code> format, where <code>user_name</code> and <code>host_name</code> are
exactly as they are listed in the User and Host columns of the
<code><a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a></code> table entry. </p>
<p>The argument to <code><a href="https://mariadb.com/kb/en/password/">PASSWORD()</a></code> and the password given to MariaDB clients can be of arbitrary length.</p>
<h2 class="anchored_heading" id="set-passwordauthentication-plugin-support">Authentication Plugin Support</h2>
<div class="mariadb_from_10_4 mariadb from_10_4 product"><h5 >MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">10.4</a></h5><p>In <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> and later, <code>SET PASSWORD</code> (with or without <code>PASSWORD()</code>) works for accounts authenticated via any <a href="https://mariadb.com/kb/en/authentication-plugins/">authentication plugin</a> that supports passwords stored in the <code><a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv</a></code> table.</p>
<p>The <code><a href="https://mariadb.com/kb/en/authentication-plugin-ed25519/">ed25519</a></code>, <code><a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a></code>, and <code><a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a></code> authentication plugins store passwords in the <code><a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv</a></code> table.</p>
<p>If you run <code>SET PASSWORD</code> on an account that authenticates with one of these authentication plugins that stores passwords in the <code><a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv</a></code> table, then the <code>PASSWORD()</code> function is evaluated by the specific authentication plugin used by the account. The authentication plugin hashes the password with a method that is compatible with that specific authentication plugin.</p>
<p>The <code><a href="https://mariadb.com/kb/en/authentication-plugin-unix-socket/">unix_socket</a></code>, <code><a href="https://mariadb.com/kb/en/authentication-plugin-named-pipe/">named_pipe</a></code>, <code><a href="https://mariadb.com/kb/en/authentication-plugin-gssapi/">gssapi</a></code>, and <code><a href="https://mariadb.com/kb/en/authentication-plugin-pam/">pam</a></code> authentication plugins do <strong>not</strong> store passwords in the <code><a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv</a></code> table. These authentication plugins rely on other methods to authenticate the user.</p>
<p>If you attempt to run <code>SET PASSWORD</code> on an account that authenticates with one of these authentication plugins that doesn't store a password in the <code><a href="https://mariadb.com/kb/en/mysqlglobal_priv-table/">mysql.global_priv</a></code> table, then MariaDB Server will raise a warning like the following:</p>
<pre class="fixed">SET PASSWORD is ignored for users authenticating via unix_socket plugin
</pre><p>See <a href="https://mariadb.com/kb/en/authentication-from-mariadb-104/">Authentication from MariaDB 10.4</a> for an overview of authentication changes in <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>.</p>
</div><div class="mariadb_to_10_3 mariadb to_10_3 product"><h5 >MariaDB until <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">10.3</a></h5><p>In <a href="https://mariadb.com/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> and before, <code>SET PASSWORD</code> (with or without <code>PASSWORD()</code>) only works for accounts authenticated via <code><a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a></code> or <code><a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a></code> authentication plugins</p>
</div><h2 class="anchored_heading" id="set-passwordpasswordless-user-accounts">Passwordless User Accounts</h2>
<p>User accounts do not always require passwords to login.</p>
<p>The <code><a href="https://mariadb.com/kb/en/authentication-plugin-unix-socket/">unix_socket</a></code> ,  <code><a href="https://mariadb.com/kb/en/authentication-plugin-named-pipe/">named_pipe</a></code> and <code><a href="https://mariadb.com/kb/en/authentication-plugin-gssapi/">gssapi</a></code> authentication plugins do not require a password to authenticate the user.</p>
<p>The <code><a href="https://mariadb.com/kb/en/authentication-plugin-pam/">pam</a></code> authentication plugin may or may not require a password to authenticate the user, depending on the specific configuration.</p>
<p>The <code><a href="https://mariadb.com/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a></code> and <code><a href="https://mariadb.com/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a></code> authentication plugins require passwords for authentication, but the password can be blank. In that case, no password is required.</p>
<p>If you provide a password while attempting to log into the server as an account that doesn't require a password, then MariaDB server will simply ignore the password.</p>
<div class="mariadb_from_10_4 mariadb from_10_4 product"><h5 >MariaDB starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">10.4</a></h5><p>In <a href="https://mariadb.com/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> and later, a user account can be defined to use multiple authentication plugins in a specific order of preference. This specific scenario may be more noticeable in these versions, since an account could be associated with some authentication plugins that require a password, and some that do not.</p>
</div><h2 class="anchored_heading" id="set-passwordexample">Example</h2>
<p>For example, if you had an entry with User and
Host column values of '<code class="fixed" style="white-space:pre-wrap">bob</code>' and 
'<code class="fixed" style="white-space:pre-wrap">%.loc.gov</code>', you would write the
statement like this:</p>
<pre class="fixed"><span class="k">SET</span> <span class="n">PASSWORD</span> <span class="k">FOR</span> <span class="s1">'bob'</span><span class="o">@</span><span class="s1">'%.loc.gov'</span> <span class="o">=</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">'newpass'</span><span class="p">);</span>
</pre><p>If you want to delete a password for a user, you would do:</p>
<pre class="fixed"><span class="k">SET</span> <span class="n">PASSWORD</span> <span class="k">FOR</span> <span class="s1">'bob'</span><span class="o">@</span><span class="n">localhost</span> <span class="o">=</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="ss">""</span><span class="p">);</span>
</pre><h2 class="anchored_heading" id="set-passwordsee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/password-validation-plugins/">Password Validation Plugins</a> - permits the setting of basic criteria for passwords
</li><li><code><a href="#alter-user">ALTER USER</a></code></li></ul>

    </div>


        
            
        

        
        
    
        
    

        

        
        
        
    
    

        

    </div>


                    
                </div>
            </section><section class="limited_width col-md-8 clearfix" id="content">
                
                    <h1 style="margin-top: 20px;;" id="create-role">1.1.1.1.8 CREATE ROLE</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <h2 class="anchored_heading" id="create-rolesyntax">Syntax</h2>
<pre class="fixed">CREATE [OR REPLACE] ROLE [IF NOT EXISTS] role 
  [WITH ADMIN 
    {CURRENT_USER | CURRENT_ROLE | user | role}]
</pre><div style="float: none;" class="table_of_contents well well-small">
<h3>Contents</h3>
<div style = "display:block; clear:both; page-break-after:always;"></div>

 <ol class="toc">

    <li class=""><a href="#create-rolesyntax" title="Syntax">Syntax</a></li>

    <li class=""><a href="#create-roledescription" title="Description">Description</a>    <ol class="toc">

        <li class=""><a href="#create-rolewith-admin" title="WITH ADMIN">WITH ADMIN</a></li>

        <li class=""><a href="#create-roleor-replace" title="OR REPLACE">OR REPLACE</a></li>

        <li class=""><a href="#create-roleif-not-exists" title="IF NOT EXISTS">IF NOT EXISTS</a>    </li></ol>
</li>

    <li class=""><a href="#create-roleexamples" title="Examples">Examples</a></li>

    <li class=""><a href="#create-rolesee-also" title="See Also">See Also</a> </li></ol>

</div>
<h2 class="anchored_heading" id="create-roledescription">Description</h2>
<p>The <code>CREATE ROLE</code> statement creates one or more MariaDB <a href="https://mariadb.com/kb/en/roles/">roles</a>. To
use it, you must have the global <a href="#grantcreate-user">CREATE USER</a>
privilege or the <a href="#granttable-privileges">INSERT</a> privilege for the mysql
database. For each account, <code>CREATE ROLE</code> creates a new row in the
<a href="https://mariadb.com/kb/en/mysqluser-table/">mysql.user</a> table that has no privileges, and with the
corresponding <code>is_role</code> field set to <code>Y</code>. It also creates a record in the
<a href="https://mariadb.com/kb/en/mysqlroles_mapping-table/">mysql.roles_mapping</a> table.</p>
<p>If any of the specified roles already exist, <code>ERROR 1396 (HY000)</code> results. If
an error occurs, <code>CREATE ROLE</code> will still create the roles that do not result
in an error. The maximum length for a role is 128 characters. Role names can be
quoted, as explained in the <a href="https://mariadb.com/kb/en/identifier-names/">Identifier names</a> page. Only
one error is produced for all roles which have not been created:</p>
<pre class="fixed">ERROR 1396 (HY000): Operation CREATE ROLE failed for 'a','b','c'
</pre><p>Failed <code>CREATE</code> or <code>DROP</code> operations, for both users and roles, produce the
same error code.</p>
<p><code>PUBLIC</code> and <code>NONE</code> are reserved, and cannot be used as role names. <code>NONE</code> is used to <a href="https://mariadb.com/kb/en/set-role/">unset a role</a> and <code>PUBLIC</code> has a special use in other systems, such as Oracle, so is reserved for compatibility purposes.</p>
<p>Before <a href="https://mariadb.com/kb/en/mariadb-10113-release-notes/">MariaDB 10.1.13</a>, the <code>CREATE ROLE</code> statement was not permitted in <a href="https://mariadb.com/kb/en/prepared-statements/">prepared statements</a>.</p>
<p>For valid identifiers to use as role names, see <a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>.</p>
<h4 class="anchored_heading" id="create-rolewith-admin">WITH ADMIN</h4>
<p>The optional <code>WITH ADMIN</code> clause determines whether the current user, the
current role or another user or role has use of the newly created role. If the
clause is omitted, <code>WITH ADMIN CURRENT_USER</code> is treated as the default, which
means that the current user will be able to <a href="#grantroles">GRANT</a> this role to
users.</p>
<h4 class="anchored_heading" id="create-roleor-replace">OR REPLACE</h4>
<p>If the optional <code>OR REPLACE</code> clause is used, it acts as a shortcut for:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="n">ROLE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">name</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="n">ROLE</span> <span class="n">name</span> <span class="p">...;</span>
</pre><h4 class="anchored_heading" id="create-roleif-not-exists">IF NOT EXISTS</h4>
<p>When the <code>IF NOT EXISTS</code> clause is used, MariaDB will return a warning instead of an error if the specified role already exists. Cannot be used together with the <code>OR REPLACE</code> clause.</p>
<h2 class="anchored_heading" id="create-roleexamples">Examples</h2>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">ROLE</span> <span class="n">journalist</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">ROLE</span> <span class="n">developer</span> <span class="k">WITH</span> <span class="k">ADMIN</span> <span class="n">lorinda</span><span class="o">@</span><span class="n">localhost</span><span class="p">;</span>
</pre><p>Granting the role to another user. Only user <code>lorinda@localhost</code> has permission to grant the <code>developer</code> role:</p>
<pre class="fixed"> <span class="k">SELECT</span> <span class="k">USER</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="k">USER</span><span class="p">()</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">henning</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="p">...</span>
<span class="k">GRANT</span> <span class="n">developer</span> <span class="k">TO</span> <span class="n">ian</span><span class="o">@</span><span class="n">localhost</span><span class="p">;</span>
<span class="k">Access</span> <span class="n">denied</span> <span class="k">for</span> <span class="k">user</span> <span class="s1">'henning'</span><span class="o">@</span><span class="s1">'localhost'</span>

 <span class="k">SELECT</span> <span class="k">USER</span><span class="p">();</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="k">USER</span><span class="p">()</span>            <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">lorinda</span><span class="o">@</span><span class="n">localhost</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>

<span class="k">GRANT</span> <span class="n">m_role</span> <span class="k">TO</span> <span class="n">ian</span><span class="o">@</span><span class="n">localhost</span><span class="p">;</span>
</pre><p>The <code>OR REPLACE</code> and <code>IF NOT EXISTS</code> clauses. The <code>journalist</code> role already exists:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">ROLE</span> <span class="n">journalist</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1396</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="k">Operation</span> <span class="k">CREATE</span> <span class="k">ROLE</span> <span class="n">failed</span> <span class="k">for</span> <span class="s1">'journalist'</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">ROLE</span> <span class="n">journalist</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="k">CREATE</span> <span class="k">ROLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">journalist</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><pre class="fixed">SHOW WARNINGS;
+-------+------+---------------------------------------------------+
| Level | Code | Message                                           |
+-------+------+---------------------------------------------------+
| Note  | 1975 | Can't create role 'journalist'; it already exists |
+-------+------+---------------------------------------------------+

</pre><h2 class="anchored_heading" id="create-rolesee-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/identifier-names/">Identifier Names</a>
</li><li><a href="https://mariadb.com/kb/en/roles-overview/">Roles Overview</a>
</li><li><a href="https://mariadb.com/kb/en/drop-role/">DROP ROLE</a></li></ul>

    </div>


        
            
        

        
        
    
        
    

        

        
        
        
    
    

        

    </div>


                    
                </div>
            </section>    </body>
</html>